(()=>{var e,t,s,n,i,a={1581:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});const n={container:"GtWz6DBoskS84f0Pggus",disabled:"b9Ifv0pLh9CRe58oFHc3",imageContainer:"oBCZQFuv15YE1qV0Fpph",circleImage:"WAW145CSKVszsgMfiNsc",radius:"Cr5NDaLY2q0ZiNcwZTvi",title:"bAoMcNJrNmKnmCl3rsYX",twoLineTitle:"vrTKoltMyrKQhgGHsjEd",subtitle:"NUIYLDG1fxo4fduLNM4C"}},2056:(e,t,s)=>{"use strict";s.d(t,{KY:()=>o,O$:()=>l,mb:()=>r});s(16961),s(89370),s(73385),s(82324),s(54303);var n=s(70659),i=s(58811);const a=(e,t,s)=>(s&&e.searchParams.set("t",s.toString()),t&&(e.searchParams.has("utm_source")||e.searchParams.set("utm_source",t)),e.searchParams.has("utm_medium")||e.searchParams.set("utm_medium","mobile"),e);function o(e){const t=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=new URL("undefined"!=typeof location&&location.href?location.href:"https://open.spotify.com");let o=null;e?(o=new URL(e.toURL()),t&&s.searchParams.forEach(((e,t)=>{o.searchParams.set(t,e)}))):(o=s,t||(o.search="")),o.searchParams.delete("nd"),o.searchParams.delete("fallback"),o.searchParams.set("go","1");const r=(0,n.x)(i.I4);return"string"==typeof(null==r?void 0:r.correlationId)&&o.searchParams.append("sp_cid",r.correlationId),a(o,"spotify_web_player")}(e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]);return t.searchParams.set("fallback","getapp"),a(t,"spotify_web_player")}function r(){const e=new URL(`https://www.spotify.com/download${window.location.search}`);return e.searchParams.set("referrer","mwp"),e}function l(){return new URL(`https://spotify.link/RlzQUXrWCxb${window.location.search}`)}},3248:(e,t,s)=>{"use strict";s.d(t,{L:()=>i});var n=s(98116);s(90879);const i=new n.l("episodeOrChapter","query","b1ddc4c5f55ade7cbcefe838dcbe6bf489a45b103c09aeabdde0557dcc631804",null)},5104:(e,t,s)=>{"use strict";s.d(t,{P:()=>o,h:()=>a});var n=s(20260);let i;const a=()=>({type:n.qF}),o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.Ck.default,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r=>{r({type:n.YN,message:e,toastType:t,toastAction:o}),s&&(clearTimeout(i),i=setTimeout((()=>r(a())),3e3))}}},6323:(e,t,s)=>{"use strict";s.d(t,{n0:()=>o,v8:()=>r});s(16961),s(32807),s(88747);class n{createCookie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;const{name:s,value:n,days:i,domain:a,secure:o=!0,samesite:r="none"}=e;let l="";if(i){const e=new Date;e.setTime(Date.now()+24*i*60*60*1e3),l=`; expires=${e.toUTCString()}`}else l="";let d=`${s}=${n}${l}; path=/`;a&&a.length&&(d+=`;domain=${a}`),n&&(!0===o&&(d+=";secure"),d+=`;samesite=${r}`),t.cookie=d}readCookie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;try{const s=t.cookie;return s.split(";").map((e=>e.trim().split("="))).reduce(((e,t)=>(e.set(t[0],t[1]),e)),new Map).get(e)}catch(s){return}}deleteCookie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,s=arguments.length>2?arguments[2]:void 0;this.createCookie({name:e,value:"",days:-1,domain:s},t)}}let i=null;const a=()=>(i||(i=new n),i);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;a().createCookie(e,t)}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return a().readCookie(e,t)}},6458:(e,t,s)=>{"use strict";s.d(t,{N:()=>i,V:()=>a});s(7130);let n=null;function i(e){n=e}function a(){if(null===n)throw new Error("Missing `instance`. Have you called `setTransportInstance` yet?");return n}},7648:(e,t,s)=>{"use strict";s.d(t,{a:()=>p});var n=s(54317),i=s(16803),a=s(86075),o=s(53182),r=s(90135),l=s(25165),d=s(9807),c=s(86136),u=s(86070);const p=e=>{let{sources:t,name:s,uri:p,isRich:m=!1}=e;const h=(0,d.s9)();return p?(0,u.jsx)(n.Z,{children:(0,u.jsxs)(c.N,{to:p,children:[(0,u.jsx)(i.M,{circular:!0,sources:t,Placeholder:(0,u.jsx)(o.s,{title:s,type:r.c.ARTIST})}),(0,u.jsx)(a.Z,{children:s}),m&&(0,u.jsx)(l.v,{children:h.get("artist")})]})}):null}},7769:(e,t,s)=>{"use strict";s.d(t,{W:()=>c});var n=s(30758),i=s(62411),a=s(82418),o=s(73679),r=s(72330),l=s(85387);const d=(e,t,s)=>(0,r.c)(e,t)(s);function c(){const e=(0,n.useContext)(o.zz),t=(0,i.wA)(),{pathname:s}=(0,l.zy)();return(0,n.useCallback)(((n,i)=>{t((0,a.dN)(d(s,e,n),i))}),[t,s,e])}},7882:(e,t,s)=>{"use strict";function n(e){return!!e&&"User"===e.__typename}s.d(t,{q:()=>n})},8085:(e,t,s)=>{"use strict";s.d(t,{h:()=>r});var n=s(48397),i=s(97500),a=s.n(i),o=s(86070);const r=e=>{let{children:t,testId:s,className:i}=e;return(0,o.jsx)("div",{"data-testid":s,className:a()(n.A.entityView,i),children:t})}},9214:(e,t,s)=>{"use strict";s.d(t,{n:()=>w});s(7130),s(8200),s(36886),s(56831),s(4118),s(5981),s(63074),s(39724);var n=s(41350),i=s(42398),a=s(66362),o=s(91712),r=s(98108);function l(e){return`${e.method}::${e.host}${e.path}::${JSON.stringify(e.queryParameters)}`}function d(e,t,s){try{(0,i.fE)({metric_type:n.MetricTypes.COUNTER,what:"request-rate",value:1,tags:{endpoint:e,statusCode:t,isFatal:s}}).catch((()=>({})))}catch(a){}}class c extends o.t{constructor(e){super(e),this.pendingRequests=new Set}resetPendingRequests(){this.pendingRequests=new Set}build(){const e=super.build();let t;return e.onBeforeSend=()=>{if(t=l(e),this.pendingRequests.has(t)){const e=new Error(`DUPLICATE_REQUEST_ERROR: Already sent this request (${t})`);throw e.name="DUPLICATE_REQUEST_ERROR",e}"GET"===e.method.toUpperCase()&&this.pendingRequests.add(t)},e.onAfterSend=s=>{t=l(e);let o="unknown",c=!1;if(null!==e.endpointIdentifier&&(c=!0,o=`${e.method} ${e.hostIdentifier||"unknown-host"}::${e.endpointIdentifier}`),this.pendingRequests.delete(t),s){c&&d(o,JSON.stringify(s.status||0),JSON.stringify(0===(e.endpointIdentifier||"").indexOf("/me")));if(("code"in s?s.code:void 0)!==r.TransportErrors.HTTP_REQUEST_ABORTED)throw a.O.fromResponse(s,e.method)}else if(c){d(o,"200","false");const t=Date.now()-(e.startTimestamp||0);!function(e,t,s){try{(0,i.fE)({metric_type:n.MetricTypes.TIMER,what:"request-duration",value:s,tags:{endpoint:e,statusCode:t}}).catch((()=>({})))}catch(a){}}(o,"200",n.Time.fromMillis(t).asNanos())}},e}}var u=s(25203),p=(s(73385),s(82324),s(54303),s(93709)),m=s(72817),h=s.n(m),_=s(59208),y=s.n(_);const b=h()(p.fetch);async function g(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;const n=new(y()),i=n.signal,o=setTimeout((()=>n.abort()),s),r=function(e){return e&&void 0!==e.retries&&e.retries>0?b:p.fetch}(t);return r(e,{...t,signal:i}).then((e=>(clearTimeout(o),e))).catch((n=>{if("AbortError"===n.name)throw new a.J({timeout:s,url:e,method:(null==t?void 0:t.method)??"get"});throw clearTimeout(o),n}))}class f{constructor(e,t){return this.method=e,this.url=t,this.postData=null,this.queryParameters=void 0,this.responseType="json",this._headers={},this._includeCredentials=!1,this._endpointIdentifier=null,this._abortSignal=null,this}withQueryParameters(e){this.queryParameters=e}withResponseType(e){this.responseType=e}withPostData(e){this.postData=e}withEndpointIdentifier(e){this._endpointIdentifier=e}addHeader(e,t){return this._headers[e]=t,this}includeCredentials(){return this._includeCredentials=!0,this}withAbortSignal(e){return this._abortSignal=e,this}async send(){let e;var t;this.postData&&(e=null!==(t=this._headers["Content-Type"])&&void 0!==t&&t.startsWith("application/json;charset=UTF-8")?JSON.stringify(this.postData):this.postData);const s=new URLSearchParams(this.queryParameters).toString();(0,i.fE)({metric_type:n.MetricTypes.COUNTER,what:"isomorphic-request",value:1,tags:{endpoint:this._endpointIdentifier??"unknown"}});const o=n.Timer.start(),r=await g(`${this.url}${s?`?${s}`:""}`,{method:this.method,body:e,credentials:this._includeCredentials?"include":void 0,signal:this._abortSignal,headers:{"User-Agent":{}.SERVER_UA,"Content-Type":v(this.responseType),...this._headers}},1e4);if((0,i.fE)({metric_type:n.MetricTypes.TIMER,what:"isomorphic-request-time",value:o.end().nanoseconds,tags:{endpoint:this._endpointIdentifier??"unknown"}}),!r.ok)throw(0,i.fE)({metric_type:n.MetricTypes.COUNTER,what:"isomorphic-request-error",value:1,tags:{endpoint:this._endpointIdentifier??"unknown"}}),a.O.fromResponse(r,this.method||"GET");return{body:"text"===this.responseType?await r.text():await r.json(),status:r.status}}}function v(e){return"text"===e?"text/plain":"application/json"}let E=null;class w{static setSession(e){if(!e)return;const{accessToken:t}=e,s=this.getInstance();s.accessToken=t,t||s.resetPendingRequests()}static setLocale(e){this.getInstance().locale=e}static setGlobalRequestHeaders(e){this.getInstance().globalRequestHeaders=e}static setMarket(e){this.getInstance().market=e}static resetInstance(){E=null}static getInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E||(E=this.createNew(e)),E}static createNew(e){const{Constructor:t=c,fromServer:s=!1}=e;return new t(s?f:u.H)}}},9702:(e,t,s)=>{"use strict";s.d(t,{BZ:()=>f,DG:()=>S,ER:()=>w,Nm:()=>_,Sx:()=>d,Yi:()=>r,Ym:()=>h,ab:()=>o,d5:()=>c,jF:()=>y,lJ:()=>m,lp:()=>a,pv:()=>v,q3:()=>E,qd:()=>u,tl:()=>p,vn:()=>g,xK:()=>l,xN:()=>b});var n=s(22158),i=s(97526);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.dL.none;return{type:i.Qu,trigger:e}}function o(){return{type:i.Dc}}function r(e){return{type:i.Tn,err:e}}function l(e){return{type:i.gn,err:e}}function d(e){return{type:i.b7,state:e}}function c(e){return{type:i.CU,label:e}}function u(){return{type:i.EA}}function p(){return{type:i.Mz}}function m(){return{type:i.qw}}function h(){return{type:i.XU}}function _(){return{type:i.V4}}function y(e){return{type:i.NI,position:e}}function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.b.SMARTPHONE,o=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0;return{type:i.E6,uri:e,deviceId:t,options:s,deviceType:a,audioFileMetadata:o,label:r,pages:l}}function g(){return{type:i.SD}}function f(){return{type:i.aV}}function v(){return{type:i.OP}}function E(e){return{type:i.r2,time:e}}function w(e){return{type:i.Fb,time:e}}function S(){return{type:i.se,hasSkippedThisSession:!0}}},9708:(e,t,s)=>{"use strict";s.d(t,{R:()=>i,g:()=>n});s(16961),s(54615),s(32807);const n=function(e){let{desiredSize:t=Number.MAX_SAFE_INTEGER,desiredHeight:s=t,desiredWidth:n=t,desiredLabel:i=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||e.length<=0)return;if(1===e.length)return e[0];if(i){const[t]=e.filter((e=>e.label===i));if(t)return t}const[a]=e.map((e=>{const t=[(e.width||0)*(e.height||0),s*n];return{ratio:Math.max(...t)/Math.min(...t),image:e}})).sort(((e,t)=>e.ratio-t.ratio));return null==a?void 0:a.image},i=e=>({url:e.url,width:e.maxWidth,height:e.maxHeight})},9807:(e,t,s)=>{"use strict";s.d(t,{CY:()=>l,gJ:()=>r,s9:()=>d});var n=s(53229),i=s(30758),a=s(86070);const o=new n.F2,r=(0,i.createContext)(o),l=e=>{let{instance:t,children:s}=e;return(0,a.jsx)(r.Provider,{value:t,children:s})},d=()=>(0,i.useContext)(r)},10229:(e,t,s)=>{"use strict";s.d(t,{Fe:()=>a,ej:()=>i,kL:()=>o});var n=s(92591);const i=()=>({type:n.pV}),a=e=>({type:n.T,data:e}),o=()=>({type:n.KZ})},10514:(e,t,s)=>{"use strict";s.d(t,{q:()=>y});var n=s(30758),i=s(6936),a=s.n(i),o=s(84567);s(16961),s(32807);const r=/(\((?:[0-9]{1,3}:){1,2}[0-9]{2}\))/g;var l=s(42054),d=s(86136);const c="WXHi6MZMKUcXnoLln5uD",u="G_f5DJd2sgHWeto5cwbi",p="pOo5SXb2mDN3gsYCvXll",m="HHCshwejARoH8BKHIS3s",h="VcaRT3xceXBMfe1scW9M";var _=s(86070);const y=(0,n.memo)((function(e){let{html:t,onTimeStampClick:s,as:i="span",semanticColor:l="textSubdued",enableTimestamps:d=!1}=e;const c=(0,n.useMemo)((()=>{const e=d?t.split(r).map((e=>e.match(r)?`(<time>${e.replace("(","").replace(")","")}</time>)`:e)).join(""):t;return a()(e,{transform:b(s,l),dangerouslySetChildren:[]})}),[d,t,s,l]);return(0,_.jsx)(o.E,{as:i,variant:"bodySmall",semanticColor:"textSubdued",className:u,children:c})}));function b(e,t){let s=0;return{p:e=>{let{children:s}=e;return(0,_.jsx)(o.E,{as:"p",variant:"bodySmall",semanticColor:t,className:h,children:s})},a:t=>{let{href:s,rel:n,children:i}=t;return null!=s&&s.startsWith("#t=")?(0,_.jsx)(l.D,{onClick:e,children:i}):s?(0,_.jsx)(d.N,{to:s,rel:n,children:i}):(0,_.jsx)(_.Fragment,{children:i})},ul:e=>{let{children:t}=e;return(0,_.jsx)("ul",{className:p,children:t})},ol:e=>{let{children:t}=e;return(0,_.jsx)("ol",{className:p,children:t})},li:e=>{let{children:s}=e;return(0,_.jsx)(o.E,{as:"li",variant:"bodySmall",semanticColor:t,className:m,children:s})},br:()=>(0,_.jsx)("br",{}),h1:e=>{let{children:s}=e;return(0,_.jsx)(o.E,{as:"h1",variant:"bodySmallBold",semanticColor:t,className:c,children:s})},h2:e=>{let{children:s}=e;return(0,_.jsx)(o.E,{as:"h2",variant:"bodySmallBold",semanticColor:t,className:c,children:s})},h3:e=>{let{children:s}=e;return(0,_.jsx)(o.E,{as:"h3",variant:"bodySmallBold",semanticColor:t,className:c,children:s})},h4:e=>{let{children:s}=e;return(0,_.jsx)(o.E,{as:"h4",variant:"bodySmallBold",semanticColor:t,className:c,children:s})},h5:e=>{let{children:s}=e;return(0,_.jsx)(o.E,{as:"h5",variant:"bodySmallBold",semanticColor:t,className:c,children:s})},h6:e=>{let{children:s}=e;return(0,_.jsx)(o.E,{as:"h6",variant:"bodySmallBold",semanticColor:t,className:c,children:s})},time:t=>{let{children:s}=t;return(0,_.jsx)(l.D,{onClick:e,children:s})},_:(e,t,i)=>{const a=void 0===t?e:i;return(0,_.jsx)(n.Fragment,{children:a},"fragment"+s++)}}}},10548:(e,t,s)=>{"use strict";s.d(t,{B4:()=>d,BZ:()=>i,JT:()=>l,Qe:()=>n,fn:()=>a,pM:()=>r,zr:()=>o});let n=function(e){return e[e.SIZE_16=0]="SIZE_16",e[e.SIZE_20=1]="SIZE_20",e[e.SIZE_24=2]="SIZE_24",e[e.SIZE_32=3]="SIZE_32",e[e.SIZE_40=4]="SIZE_40",e[e.SIZE_48=5]="SIZE_48",e[e.SIZE_56=6]="SIZE_56",e[e.SIZE_64=7]="SIZE_64",e[e.SIZE_72=8]="SIZE_72",e[e.SIZE_80=9]="SIZE_80",e[e.SIZE_88=10]="SIZE_88",e[e.SIZE_96=11]="SIZE_96",e[e.SIZE_104=12]="SIZE_104",e[e.SIZE_112=13]="SIZE_112",e[e.SIZE_120=14]="SIZE_120",e[e.SIZE_128=15]="SIZE_128",e[e.SIZE_136=16]="SIZE_136",e[e.SIZE_144=17]="SIZE_144",e[e.SIZE_152=18]="SIZE_152",e[e.SIZE_160=19]="SIZE_160",e[e.SIZE_168=20]="SIZE_168",e[e.SIZE_176=21]="SIZE_176",e[e.SIZE_184=22]="SIZE_184",e[e.SIZE_200=23]="SIZE_200",e[e.SIZE_232=24]="SIZE_232",e}({});const i={[n.SIZE_16]:16,[n.SIZE_20]:20,[n.SIZE_24]:24,[n.SIZE_32]:32,[n.SIZE_40]:40,[n.SIZE_48]:48,[n.SIZE_56]:56,[n.SIZE_64]:64,[n.SIZE_72]:72,[n.SIZE_80]:80,[n.SIZE_88]:88,[n.SIZE_96]:96,[n.SIZE_104]:104,[n.SIZE_112]:112,[n.SIZE_120]:120,[n.SIZE_128]:128,[n.SIZE_136]:136,[n.SIZE_144]:144,[n.SIZE_152]:152,[n.SIZE_160]:160,[n.SIZE_168]:168,[n.SIZE_176]:176,[n.SIZE_184]:184,[n.SIZE_200]:200,[n.SIZE_232]:232},a=[n.SIZE_16,n.SIZE_20,n.SIZE_24],o=[n.SIZE_32,n.SIZE_40,n.SIZE_48,n.SIZE_56,n.SIZE_64],r=[n.SIZE_72,n.SIZE_80,n.SIZE_88,n.SIZE_96,n.SIZE_104,n.SIZE_112,n.SIZE_120,n.SIZE_128],l=[n.SIZE_136,n.SIZE_144,n.SIZE_152,n.SIZE_160,n.SIZE_168,n.SIZE_176],d=[n.SIZE_184,n.SIZE_200,n.SIZE_232]},10700:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});let n=function(e){return e.artists="artist",e.songs="song",e.audiobook="audiobook",e.playlists="playlist",e.albums="album",e.podcasts="show",e.episodes="episode",e.genre="genre",e.basic="results",e.recent="recent",e.users="user",e}({})},11145:(e,t,s)=>{"use strict";s.d(t,{z:()=>l});var n=s(48397),i=s(66590),a=s(97500),o=s.n(a),r=s(86070);const l=e=>{let{children:t,backgroundColor:s=i.vh3,"data-testid":a,condensed:l=!1}=e;return(0,r.jsx)("div",{"data-testid":a,className:o()(n.A.header,{[n.A.condensed]:l}),style:{background:`linear-gradient(${s} 0%, transparent 100%)`},children:t})}},11162:(e,t,s)=>{"use strict";s.d(t,{Bb:()=>h,Bl:()=>r,D0:()=>c,ID:()=>b,NY:()=>i,OO:()=>_,Pp:()=>p,V5:()=>y,Xq:()=>a,am:()=>l,oW:()=>m,pm:()=>u,sq:()=>n,tU:()=>d,vE:()=>o});const n=e=>!!e&&"__typename"in e&&"ConcertV2"===(null==e?void 0:e.__typename),i=e=>!!e&&"LiveEventsFeed"===e.__typename,a=e=>"LiveEventSection"===e.__typename,o=e=>"AllEvents"===e.__typename,r=e=>"ConcertCarousel"===e.__typename,l=e=>"ConcertGroup"===(null==e?void 0:e.__typename),d=e=>"PlaylistResponseWrapper"===(null==e?void 0:e.__typename),c=e=>!!e&&"__typename"in e&&"Playlist"===(null==e?void 0:e.__typename),u=e=>!!e&&"__typename"in e&&"ConcertV2ResponseWrapper"===e.__typename,p=e=>!!e&&"__typename"in e&&"ConcertV2"===e.__typename,m=e=>!!e&&"__typename"in e&&"Artist"===e.__typename,h=e=>"ConcertLocationPage"===(null==e?void 0:e.__typename),_=e=>"Venue"===e.__typename,y=e=>Object.keys(e).includes("data"),b=e=>void 0!==e&&Object.keys(e).includes("items")},11232:(e,t,s)=>{"use strict";s.d(t,{V:()=>n});s(73385),s(82324),s(54303);const n=()=>(()=>{if("undefined"!=typeof window){const{searchParams:e}=new URL(window.location.href);return"1"===e.get("noInput")}return!1})()||(()=>{const e=new RegExp(/noInput/i);return"undefined"!=typeof window&&e.test(window.navigator.userAgent)})()?("undefined"!=typeof window&&window.sessionStorage.setItem("noInput","1"),!0):"undefined"!=typeof window&&"1"===window.sessionStorage.getItem("noInput")},11704:(e,t,s)=>{"use strict";s.d(t,{c:()=>a});var n=s(35746),i=s(90135);const a=e=>{var t;switch(null===(t=(0,n.o_h)(e))||void 0===t?void 0:t.type){case"artist":return i.c.ARTIST;case"track":return i.c.TRACK;case"playlist":case"playlist-v2":return i.c.PLAYLIST;case"album":return i.c.ALBUM;case"show":return i.c.SHOW;case"episode":return i.c.EPISODE;case"genre":return i.c.GENRE;case"profile":return i.c.USER;default:return i.c.UNKNOWN}}},11876:(e,t,s)=>{"use strict";s.d(t,{DX:()=>i,IY:()=>f,Ii:()=>S,K9:()=>c,KX:()=>r,LA:()=>w,O6:()=>a,Or:()=>b,VW:()=>v,Xi:()=>m,_U:()=>R,ah:()=>_,cl:()=>T,g4:()=>o,g7:()=>h,hi:()=>g,lr:()=>l,mI:()=>A,nC:()=>E,rS:()=>u,v6:()=>y});var n=s(3206);s(21053);(0,n.m9)({name:"enableReinventFree",description:"Enable enable Reinvent Free",default:!1}),(0,n.m9)({name:"enableMobileWebPlayerTestProperty",description:"Dummy property for Experimentation Platform testing and PI",default:!1}),(0,n.m9)({name:"enableEntityReport",description:"Enable the report action on the context menu",default:!0}),(0,n.m9)({name:"enableAlbumReport",description:"Enable the report action on the context menu just for Albums",default:!1}),(0,n.m9)({name:"enableTrackReport",description:"Enable the report action on the context menu just for Tracks",default:!1}),(0,n.m9)({name:"enablePodcastEpisodeReport",description:"Enable the report action on the context menu just for Podcast Episodes",default:!1}),(0,n.m9)({name:"enablePodcastShowReport",description:"Enable the report action on the context menu just for Podcast Shows",default:!1});const i=(0,n.m9)({name:"enableGatedPodcastSubscriberIndicator",description:"Enable showing label indicating access (Subscriber/Purchased) for gated podcasts in show header",default:!0}),a=(0,n.m9)({name:"enableConcertsInterestedMobile",description:"Enable the interested button on concert pages",default:!1}),o=(0,n.m9)({name:"enableConcertsTicketPriceMobileWeb",description:"Display ticket price and sale type on Event page",default:!1}),r=(0,n.m9)({name:"enableVenuePageMWP",description:"Enable the venue page on MWP",default:!1}),l=(0,n.m9)({name:"audiobooksUpsell",description:"Enable Audiobooks Upsell in MWP",default:!1});(0,n.m9)({name:"EnableKoreanFreeExperience",description:"Enable Korean Free Experience",default:!1});let d=function(e){return e.Default="default",e.Control="control",e.Enabled="enabled",e}({});(0,n.BL)({name:"SSRMastheadFooterAndLanguageModalMWP",description:"Enable treatment group for Server Side Rendering of the Masthead footer and language modal",values:d,default:d.Default});let c=function(e){return e.Default="default",e.Control="control",e.Enabled="enabled",e}({});const u=(0,n.BL)({name:"enablePlaylistArtistInternalLinks",description:"Add artist internal links in Playlist entity pages",values:c,default:c.Default});let p=function(e){return e.Default="default",e.Control="control",e.ArtistOnlyEnabled="artistOnlyEnabled",e.TrackAndArtistEnabled="trackAndArtistEnabled",e}({});(0,n.BL)({name:"enablePlaylistTrackCloudInternalLinks",description:"Add artist and/or track internal links in Playlist entity track clouds",values:p,default:p.Default});let m=function(e){return e.Default="default",e.Control="control",e.Enabled="enabled",e}({});const h=(0,n.BL)({name:"enableCountryHubsMWP",description:"Add country hub pages",values:m,default:m.Default});let _=function(e){return e.Default="default",e.DoubleStickyBar="doubleStickyBar",e.BottomStickyBar="bottomStickyBar",e}({});const y=(0,n.BL)({name:"enableTabNavigation",description:"Enable sticky tab navigation bar",values:_,default:_.Default});(0,n.m9)({name:"enableSectionPagesMWP",description:"Enable section pages",default:!1});let b=function(e){return e.Default="default",e.Control="control",e.Enable20="enable20",e.Enable50="enable50",e.Enable100="enable100",e}({});const g=(0,n.BL)({name:"enableSectionPageTileCountOverride",description:"Override the number of tiles shown on section pages",values:b,default:b.Default});let f=function(e){return e.Default="default",e.Control="control",e.Enabled="enabled",e}({});const v=(0,n.BL)({name:"enableSimilarAudiobooksMWP",description:"Add a similar audiobooks component for audiobook pages",values:f,default:f.Default});let E=function(e){return e.Default="default",e.Control="control",e.Enabled="enabled",e}({});const w=(0,n.BL)({name:"enableMoreAlbumsByArtistShelf",description:"Add shelf with more albums by artist on album page",values:E,default:E.Default});let S=function(e){return e.Default="default",e.Control="control",e.Enabled="enabled",e}({});const R=(0,n.BL)({name:"enableDiscographyPage",description:"Enable the discography page",values:S,default:S.Default});let T=function(e){return e.Default="default",e.Control="control",e.AboveRecommendedBasedOnThisSong="above-recommended-based-on-this-song",e.AbovePopularReleases="above-popular-releases",e.AboveFansAlsoLike="above-fans-also-like",e}({});const A=(0,n.BL)({name:"enableTrackPagePlaylistsWithThisSongMwp",description:"Enable shelf showing playlists containing this track",values:T,default:T.Default})},12231:(e,t,s)=>{"use strict";s.d(t,{C:()=>a});var n=s(53229),i=s(88493);function a(e){switch(e){case i.s.SINGLE:return n.Ru.get("single");case i.s.EP:return n.Ru.get("ep");case i.s.COMPILATION:return n.Ru.get("compilation");case i.s.ALBUM:default:return n.Ru.get("album")}}},13747:(e,t,s)=>{"use strict";s.d(t,{$:()=>g});var n=s(30758),i=s(97500),a=s.n(i);const o="qirFczpKFgQDsNuuzLHP";var r=s(86070);const l=e=>{let{children:t,gap:s,fullbleedMargin:n,onScrollLog:i}=e;return(0,r.jsx)("div",{className:o,"data-testid":"carousel-mwp",style:{"--gap":s,"--fullbleed-margin":n},onScroll:i,children:t})};var d=s(54282),c=s(74836),u=s(33769);const p="JMgUTIyId0RuU9k6aQaz",m="Tkbghg6KSm2TwjaaewC0",h=e=>{let{title:t,pretitle:s,media:n}=e;return(0,r.jsx)(d.v,{"data-testid":"list-row-shelf-header",id:"header-only",padding:"0",pretitle:(0,r.jsx)(c.d,{variant:"bodySmall",semanticColor:"textSubdued",children:s}),title:(0,r.jsx)(c.d,{variant:"titleSmall",semanticColor:"textBase",children:t}),media:(0,r.jsx)(u.C,{className:m,src:n,circle:!0})})};var _=s(84567),y=s(15911);const b=(e,t,s,n)=>n?(0,r.jsx)(h,{...n}):(0,r.jsx)(_.E,{as:"h2",variant:"titleSmall",dir:"auto",onClick:s,children:t?(0,r.jsx)(y.Y,{href:t,standalone:!0,hasInheritColor:!0,children:e}):e}),g=n.forwardRef((function(e,t){let{title:s,titleHref:i,titleOnClick:o,gap:d,fullbleedMargin:c,children:u,"data-testid":m,listRowHeaderProps:h,headerClassName:_,className:y,onScrollLog:g}=e;return 0===n.Children.count(u)?null:(0,r.jsxs)("div",{"data-testid":m,ref:t,className:y,children:[(0,r.jsx)("div",{className:a()(p,_),children:b(s,i,o,h)}),(0,r.jsx)(l,{gap:d,fullbleedMargin:c,onScrollLog:g,children:u})]})}))},16532:(e,t,s)=>{"use strict";s.d(t,{g:()=>i,y:()=>a});s(16961),s(32807),s(88747);var n=s(9708);const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:320,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:320;if(null==e||!e.length)return"";const n=e.map((e=>{let{url:n,height:i,width:a}=e;const o=[(a??0)*(i??0),s*t];return{ratio:o[0]/o[1],url:n}})).sort(((e,t)=>e.ratio-t.ratio));return n.reduce(((e,t)=>e.ratio<1?t:e),n[0]).url},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:320,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:320;const a=null==e?void 0:e.map(n.R);return i(a,t,s)}},16803:(e,t,s)=>{"use strict";s.d(t,{M:()=>d});var n=s(97500),i=s.n(n),a=s(38470),o=s(91890),r=s(1581),l=s(86070);function d(e){let{Placeholder:t,sources:s=[],loading:n="lazy",circular:d=!1,radius:c=!1}=e;const u=(0,o.m)(s,160);return(0,l.jsx)("div",{className:i()(r.A.imageContainer,{[r.A.circleImage]:d,[r.A.radius]:c}),children:u?(0,l.jsx)(a._,{loading:n,src:u,height:"100%",width:"100%"}):t})}},17132:(e,t,s)=>{"use strict";s.d(t,{Dk:()=>p,JQ:()=>u,Jq:()=>i,WD:()=>r,d6:()=>m,hU:()=>a,jd:()=>l,rS:()=>c,ut:()=>d,zY:()=>o});var n=s(10700);const i=e=>(null==e?void 0:e.type)===n.I.songs,a=e=>(null==e?void 0:e.type)===n.I.audiobook,o=e=>(null==e?void 0:e.type)===n.I.artists,r=e=>(null==e?void 0:e.type)===n.I.playlists,l=e=>(null==e?void 0:e.type)===n.I.albums,d=e=>(null==e?void 0:e.type)===n.I.podcasts,c=e=>(null==e?void 0:e.type)===n.I.episodes,u=e=>(null==e?void 0:e.type)===n.I.genre,p=e=>(null==e?void 0:e.type)===n.I.users,m=e=>i(e)||a(e)||o(e)||r(e)||l(e)||d(e)||c(e)||u(e)||p(e)},17362:(e,t,s)=>{"use strict";s.d(t,{p:()=>o});var n=s(95505),i=s(53229),a=s(86070);function o(e){return(0,a.jsx)(n.H,{"aria-label":i.Ru.get("a11y.externalLink"),...e})}},18448:(e,t,s)=>{"use strict";s.d(t,{u:()=>w,c:()=>v});s(16961),s(32807);const n="yCrCHeckTV1u4taQ4_iA",i="UyQiaNpRWAFeZAEKh6vP",a="cPODnId5hQ0TWCil7eA1",o="JmAAOV57nqLdnvqrbcqb",r="ZVlLZFdgQKOy1Kd61zVK",l="jczpvx6zR59pITZcQntM";var d=s(84567),c=s(33769),u=s(54282),p=s(86136),m=s(90135),h=s(53182),_=s(11704),y=s(97500),b=s.n(y),g=s(65126),f=s(86070);const v=e=>{let{children:t}=e;return(0,f.jsx)(d.E,{variant:"bodySmallBold",className:a,children:t})},E=e=>{let{uri:t,title:s,imageUrl:i,activeElement:a}=e;if(a)return(0,f.jsx)(f.Fragment,{children:a});const o=(0,_.c)(t),l=o===m.c.ARTIST||o===m.c.USER;return i?(0,f.jsx)(c.C,{alt:s,size:"lg",src:i,circle:l}):(0,f.jsx)(h.s,{title:s??"",type:o,className:b()(n,{[r]:l})})},w=e=>{let{actions:t,activeElement:s,disabled:n,imageUrl:a,isActiveRow:r,id:d,onClick:c,internalLink:m,subtitle:h,title:_,uri:y,verifiedBadge:v,"data-testid":w,noMedia:S,preTitle:R}=e;return(0,f.jsx)(u.v,{pretitle:R,className:b()({[l]:n}),title:m?(0,f.jsx)(p.N,{to:y,className:i,children:(0,f.jsx)(g.o,{title:_,isActiveRow:r??!1,showVerifiedBadge:v})}):(0,f.jsx)("span",{className:i,children:(0,f.jsx)(g.o,{title:_,isActiveRow:r??!1,showVerifiedBadge:v})}),subtitle:h,id:d,media:!S&&(0,f.jsx)(E,{uri:y,imageUrl:a,activeElement:s}),onClick:c,"aria-label":_,disabled:n,variant:"naked",contentAlign:!0,borderRadius:"0",hasFocus:!1,trailing:(0,f.jsx)("div",{className:o,children:null==t?void 0:t.map((e=>e))}),isRedundantOnClick:!0,"data-testid":w},`entity-list-row-${d}`)}},18686:(e,t,s)=>{"use strict";s.d(t,{m:()=>l});var n=s(30758);const i="JmV8FMNND0hJM4fCS9E4",a="V4vPzzVtMpFh2ZLTRD6H";var o=s(84567),r=s(86070);const l=(0,n.memo)((e=>{const{children:t,testId:s,small:n=!1}=e;return(0,r.jsx)("div",{dir:"auto",className:i,children:(0,r.jsx)(o.E,{className:a,"data-testid":s,variant:n?"titleMedium":"titleLarge",as:"h1",children:t})})}))},19873:(e,t,s)=>{"use strict";s.d(t,{H:()=>d});var n=s(26481);const i="oM9LvUg_eLgwfMoNy4xW";var a=s(39237),o=s(44272),r=s(9807),l=s(86070);const d=e=>{let{uri:t,onLibraryUpdated:s}=e;const d=(0,r.s9)();return(0,l.jsx)(n.h,{uri:t,onLibraryUpdated:s,inLibraryComponent:e=>(0,l.jsx)(a.H,{className:i,onClick:e,iconOnly:o.F,semanticColor:"textBrightAccent","aria-label":d.get("mwp.context.liked")})})}},20260:(e,t,s)=>{"use strict";s.d(t,{Ck:()=>a,YN:()=>i,_h:()=>o,kQ:()=>r,qF:()=>n});const n="CLEAR_TOAST",i="SHOW_TOAST";let a=function(e){return e.default="default",e.error="error",e}({}),o=function(e){return e.unlikedSong="unlikedSong",e.likedSong="likedSong",e}({});const r={DEFAULT:a.default,ERROR:a.error}},20656:(e,t,s)=>{"use strict";s.d(t,{p:()=>I,s:()=>C});s(16961),s(14126),s(7354),s(32807);var n=s(9807),i=s(98607),a=s(32537),o=s(84567),r=s(46938),l=s(11162),d=s(73593),c=(s(21321),s(73213),s(10699),s(53182)),u=s(90135),p=s(16803),m=s(86136),h=s(46320),_=s(53229);const y="ae00FL_vr7c5Q99VbMtc",b="NpwIll1FCx4_nVeAYQ1I",g="nSDNZqsXd4Xag9c15AOv",f="td5PjbBEMwV2Lk4E9DKM";var v=s(28924),E=s(39835),w=s(86070);const S=e=>(0,l.D0)(e.data)?(0,w.jsx)(E.B,{name:e.data.name,uri:e.data.uri,sources:e.data.images.items.flatMap((e=>e.sources))}):null,R=e=>{var t;let{loading:s,oneOrManyConcerts:n,onOpenGroupedEvent:i}=e;const a=(0,v.L)(n);if(!a)return null;const r=a.title??"",d=(e=>{const t=(0,v.DX)(e).sort(((e,t)=>e.startDateIsoString.localeCompare(t.startDateIsoString))),s=t[0],n=t.at(-1);if(!s||!n)return"";const i=(0,h.l4)(s.startDateIsoString),a=(0,h.l4)(n.startDateIsoString);return i.toDateString()===a.toDateString()?_.Ru.formatDate(i,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):`${_.Ru.formatDate(i,{day:"numeric",month:"short"})}–${_.Ru.formatDate(a,{day:"numeric",month:"short"})}`})(n),E=(e=>{const t=(0,v.L)(e),s=(0,v.DX)(e);return s.length>1?_.Ru.get("concerts.count",s.length):[null==t?void 0:t.location.name,null==t?void 0:t.location.city].join(_.Ru.getSeparator())})(n),R=(0,v.gh)(a),T=(null==R||null===(t=R.visuals.avatarImage)||void 0===t?void 0:t.sources)||[],A=(0,w.jsxs)("div",{children:[(0,w.jsx)(p.M,{sources:T,loading:s,Placeholder:(0,w.jsx)(c.s,{title:r,type:u.c.ARTIST}),radius:!0}),(0,w.jsxs)("div",{className:b,children:[(0,w.jsx)(o.E,{as:(0,l.pm)(n)?"time":"div",...(0,l.pm)(n)&&{dateTime:a.startDateIsoString},variant:"marginal",className:f,dir:"auto",semanticColor:"textSubdued",children:d}),(0,w.jsx)(o.E,{as:"h3",variant:"bodySmallBold",className:g,paddingBottom:"0",children:r}),(0,w.jsx)(o.E,{as:"div",variant:"marginal",className:f,dir:"auto",semanticColor:"textSubdued",children:E})]})]});return(0,l.am)(n)?(0,w.jsx)("button",{className:y,onClick:()=>i(n),children:A}):(0,l.tU)(n)?(0,w.jsx)(S,{data:n.data}):(0,w.jsx)(m.N,{className:y,to:a.uri,children:(0,w.jsx)("time",{dateTime:a.startDateIsoString,children:A})})},T=e=>{const t={"recommended-events":_.Ru.get("concerts_recommended_for_you"),"popular-events":_.Ru.get("concerts_popular")};return e in t?t[e]:null!=e&&e.match(/^(\d{4})-(\d{2})-(\d{2})$/)?(0,h.Fn)(_.Ru,new Date(e)):_.Ru.get("live_events.all_events_tab")},A=e=>{let{section:t,onOpenGroupedEvent:s}=e;return 0===t.concerts.length?null:(0,w.jsxs)("section",{className:a.A.concertsHubSection,children:[(0,w.jsx)("div",{className:a.A.concertsHubSectionHeader,children:(0,w.jsx)(o.E,{as:"h2",variant:"bodyMediumBold",children:T(t.key)})}),(0,w.jsx)("div",{className:a.A.concertsGrid,children:t.concerts.map(((e,t)=>"__typename"in e?(0,w.jsx)(R,{oneOrManyConcerts:e,onOpenGroupedEvent:s},`concert-card-${t}`):null))})]})};var x=s(11232);const C=e=>null!=e,I=e=>{let{sectionsData:t,onOpenGroupedEvent:s,location:c}=e;const u=(0,i.V)(),p=(0,n.s9)();if(t.map((e=>(0,l.Xq)(e)?e.concerts.length>0:!!(0,l.vE)(e)&&e.sections.length>0)).every((e=>!e)))return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(o.E,{className:a.A.concertsHubNoConcertsTitle,variant:"bodyMediumBold",children:p.get("concerts.error.no_concerts_found_title")}),(0,w.jsx)(o.E,{className:a.A.concertsHubNoConcertsTitle,variant:"bodySmall",children:p.get("concerts.error.no_concerts_found_message",c.name)})]});const m=t.find(l.Xq),h=t.find(l.vE),_=[m,t.find(l.Bl),...(null==h?void 0:h.sections)||[]].filter(C);return(0,w.jsxs)(w.Fragment,{children:[u&&!(0,x.V)()&&(0,w.jsxs)("div",{className:a.A.forYouAnonHeadingContainer,children:[(0,w.jsx)(o.E,{variant:"titleSmall",semanticColor:"textBase",children:p.get("live_events.for_you_anonymous_heading")}),(0,w.jsx)(o.E,{variant:"bodySmall",className:a.A.forYouSignupMsg,semanticColor:"textSubdued",children:p.get("live_events.for_you_anonymous_subheading")}),(0,w.jsx)(r.$,{colorSet:"invertedLight",onClick:()=>(0,d.ie)(),children:p.get("live_events.sign_up_free")})]}),_.map((e=>(0,w.jsx)(A,{section:e,onOpenGroupedEvent:s},e.key)))]})}},21053:(e,t,s)=>{"use strict";s.d(t,{BG:()=>a,Wl:()=>l,eh:()=>r});var n=s(3206);let i=function(e){return e.DEFAULT="default",e.CONTROL="control",e.VARIANT="variant",e}({});(0,n.m9)({name:"exampleOfSharedPropertyThatDoesNotExist",description:"Example of enabling a propoerty that is shared between Desktop, Mobile and Embed",default:!1}),(0,n.m9)({name:"enableOfflineVideoDev",description:"Enables Spotify videos to be offlined on DesktopX. Used during feature development",default:!1}),(0,n.m9)({name:"betamaxWidevineVersionSupported",description:"true if the version of widevine used is still supported.",default:!0}),(0,n.m9)({name:"betamaxBoomboxAudioSync",description:"true if video/audio sync is enabled (experimental).",default:!1}),(0,n.HW)({name:"betamaxOfflineTargetBitrate",description:"targetBitrate to use when offlining. The closest to this bitrate to this is used.",default:12e5,lower:1e3,upper:1e9}),(0,n.m9)({name:"enableBetamaxSdkSubtitlesDesktopX",description:"Enables subtitles setting and rendering subtitles on the betamax SDK on DesktopX",default:!0}),(0,n.m9)({name:"enableBetamaxSdkVmp",description:"Enables client-side widevine VMP (verified media path) on betamax SDK.",default:!0}),(0,n.m9)({name:"enableBetamaxSdkVideoOnVideoSai",description:"Enables video-on-video SAI on videos Desktop X",default:!1}),(0,n.HW)({name:"betamaxSdkMinimumBuffer",description:"Sets the minimum buffer goal (in seconds) required before starting or resuming playback video on betamax SDK",default:2,upper:8,lower:0}),(0,n.HW)({name:"betamaxSdkRetryAttempts",description:"The number of times to retry on network",default:2,upper:100,lower:1}),(0,n.m9)({name:"betamaxSdkDataSaverV2",description:"Enables the data saver feature on betamax SDK (linked to the video show/hide controls and close video window)",default:!0}),(0,n.HW)({name:"betamaxSdkDataSaverBufferMargin",description:"Sets the amount of buffer in seconds to be kept when disabling data saver (lower = faster variant change)",default:4,upper:100,lower:0}),(0,n.m9)({name:"betamaxVideoAutoplay",description:"Enables an alternative method for video autoplay to address Mux metrics",default:!1}),(0,n.m9)({name:"enableBetamaxSdkInitialLowBitrateV2",description:"Optimize startup time by choosing the lowest quality for the first segment",default:!0}),(0,n.m9)({name:"enableBetamaxSdkSurfaceBasedResolutionCapV2",description:"Enables surface-based resolution cap for adaptive video on betamax SDK",default:!0}),(0,n.HW)({name:"betamaxSdkMaxBitrate",description:"Sets the max bitrate cap for adaptive video on betamax SDK (0=disabled)",default:0,upper:1e8,lower:0}),(0,n.m9)({name:"enableBetamaxSdkPlayerPool",description:"Enables player pool for betamax SDK",default:!1}),(0,n.HW)({name:"betamaxSdkPlayerPoolSize",description:"Sets the player pool size, should it be enabled",default:20,upper:100,lower:0}),(0,n.m9)({name:"enableVideoPip",description:"Enables desktop picture-in-picture surface using betamax SDK.",default:!1}),(0,n.m9)({name:"betamaxUsePendingStorage",description:"true if pending storage is used to generate BetamaxPlaybackSession messages, false if using only the normal event sender.",default:!0}),(0,n.m9)({name:"betamaxAutoSeekToAdPosition",description:"If true, the player will seek to the ad position when an stop position is registered. Usefull for debugging ads.",default:!1}),(0,n.m9)({name:"enableAutoSeekToVideoBufferedStartPosition",description:"Automatically seek to the video buffered start position on load to avoid initial seek if the initial position is not buffered",default:!1}),(0,n.m9)({name:"enableVideoDebugOverlay",description:"Show debug overlay on video player with information about the current video",default:!1}),(0,n.m9)({name:"enableStreamReportingTracker3",description:"Enables use of the StreamReporting module for video playback",default:!0}),(0,n.m9)({name:"enableStreamReportingTrackerStopVideoPlaybackOnError",description:"The StreamReportingTracker module stop video playback when an error in reporting occurs",default:!1}),(0,n.m9)({name:"enableSubtitlesUsingHarmony",description:"Enable subtitles using Harmony",default:!1}),(0,n.m9)({name:"enableCastConnect",description:"Enable Google's new Cast Connect feature for Android TV from Web Player's Cast Sender implementation",default:!1}),(0,n.m9)({name:"enableNewDevicePicker",description:"Enables the new device picker design",default:!1}),(0,n.m9)({name:"enableNearbyJams",description:"Enable the support for Nearby Jams feature in the Device Picker",default:!1}),(0,n.m9)({name:"enableEqualizer",description:"Enable audio equalizer for Desktop and Web Player",default:!1}),(0,n.m9)({name:"betamaxFilterNegativeDuration",description:"Remove updates to esperanto for duration that is negative",default:!0});const a=(0,n.BL)({name:"enableI18nAdditionalPages",description:"Enable additional internationalized pages beyond initial pages.",values:i,default:i.DEFAULT});(0,n.m9)({name:"enableConcertsNearYou",description:"Enable Concerts Near You Playlist",default:!1}),(0,n.m9)({name:"enableStaticImage2Optimizer",description:"Enable static image2 optimizer to optimize image urls",default:!1}),(0,n.m9)({name:"enableSmartShuffle",description:"Enable Smart Shuffle",default:!1}),(0,n.m9)({name:"enableSmartShuffleSignals",description:"Enable Smart Shuffle Signals",default:!0});let o=function(e){return e.CONTROL="CONTROL",e.SYSTEM_LANGUAGE="SYSTEM_LANGUAGE",e.ALL_LANGUAGES="ALL_LANGUAGES",e}({});(0,n.BL)({name:"enableLyricsTranslations",description:"Enable Lyrics Translations",values:o,default:o.CONTROL}),(0,n.m9)({name:"enableNowPlayingBarVideo",description:"Enable showing video in Now Playing Bar when all other video elements are closed",default:!1}),(0,n.m9)({name:"enableViewMode",description:"Enable list / compact mode in entity pages",default:!1}),(0,n.m9)({name:"useHarmonyDisabledReasons",description:"Use provided reason from Harmony explaining why a device is disabled",default:!1}),(0,n.m9)({name:"enablePlaybackBarAnimation",description:"Enable the animation of the playback bar",default:!1}),(0,n.m9)({name:"enableNewShuffleModeOrder",description:"Enable new Shuffle Mode order where Smart Shuffle comes before normal Shuffle",default:!1}),(0,n.m9)({name:"enableCentralisedSmartShuffle",description:"Enable centralised Smart Shuffle",default:!1}),(0,n.m9)({name:"enableCentralisedSmartShuffleToggle",description:"Enable centralised Smart Shuffle settings toggle",default:!1}),(0,n.m9)({name:"useHarmonyCoreExtension",description:"Uses Harmony Core Extension module.",default:!1}),(0,n.m9)({name:"enableJamNearbyJoining",description:"Enable Jam Nearby Joining Connect devices in Connect Picker",default:!1});const r=(0,n.m9)({name:"enableVenuePageGenres",description:"Enable genres on individual venue pages",default:!1}),l=((0,n.m9)({name:"enableAdaptiveTitleEntities",description:"Enable Encore Adaptive Title implementation",default:!1}),(0,n.m9)({name:"enableContextualTrackBans",description:"Enable ability to ban/hide tracks from eligible contexts",default:!1}),(0,n.m9)({name:"enableBuyOptionInAudiobookContextMenu",description:"Enable the option to buy an audiobook via the audiobook context menu to permit purchase for premium users",default:!1}),(0,n.m9)({name:"enableConcertDistanceRadius",description:"Enables users to set a distance in km for the concerts in the live events feed.",default:!1}),(0,n.m9)({name:"enableRestorePanelWidthPerScreen",description:"Enable restoring the panel width per screen",default:!1}),(0,n.m9)({name:"enableAutoPlayOnLoad",description:"Enable autoplay in web-player entity pages",default:!1}),(0,n.m9)({name:"enableNavigateToGalleryFromConceptPill",description:"Enable navigation to concert gallery from concept pill",default:!1}),(0,n.m9)({name:"enableVenuePageFollow",description:"Enable following venues on venue pages",default:!1}),(0,n.m9)({name:"enableTOTPVersionValidation",description:"Enables checking TOTP version sent from the client with the current one in the server",default:!1}))},22122:(e,t,s)=>{"use strict";s.d(t,{ZY:()=>o,ox:()=>a});var n=s(30758);s(13320),s(86070);const i=(0,n.createContext)(null);function a(){const e=(0,n.useContext)(i);return"undefined"==typeof window?null:e??window}function o(){const e=a();return(null==e?void 0:e.document)??null}},22158:(e,t)=>{"use strict";var s;t.b=void 0,function(e){e.UNKNOWN="unknown",e.COMPUTER="computer",e.TABLET="tablet",e.SMARTPHONE="smartphone",e.SPEAKER="speaker",e.TV="tv",e.AVR="avr",e.STB="stb",e.AUDIO_DONGLE="audio_dongle",e.GAME_CONSOLE="game_console",e.CAST_VIDEO="cast_video",e.CAST_AUDIO="cast_audio",e.AUTOMOBILE="automobile",e.SMARTWATCH="smartwatch",e.CHROMEBOOK="chromebook"}(s||(t.b=s={}))},23889:(e,t,s)=>{"use strict";s.d(t,{t:()=>i});var n=s(98607);const i=()=>(0,n.V)()},23953:(e,t,s)=>{"use strict";s.d(t,{a:()=>a});s(16961),s(32807);var n=s(30758),i=s(55453);const a=e=>{const{entities:t,skipCheck:s=!1}=e,[a,o]=(0,n.useState)([]),[r,l]=(0,n.useState)([]),{instance:d}=(0,n.useContext)(i.Z);return(0,n.useEffect)((()=>{s&&o([])}),[s]),(0,n.useEffect)((()=>{l((e=>{if(s)return e;let n=!1;e.length!==t.length&&(n=!0);for(let s=0,a=e.length;s<a;s+=1){var i;if(e[s]!==(null===(i=t[s])||void 0===i?void 0:i.uri)){n=!0;break}}return n?(o([]),t.map((e=>{let{uri:t}=e;return t}))):e}))}),[s,t]),(0,n.useEffect)((()=>{r.length&&(null==d||d.checkIsInLibrary(r).then((e=>{e&&e.length>0&&o(e)})))}),[d,r]),(0,n.useEffect)((()=>{const e=null==d?void 0:d.getEvents();return e?e.addListener("update",(e=>{let{data:s}=e,n=!1;const i="remove"!==s.type;for(const o of s.uris){const e=t.findIndex((e=>{let{uri:t}=e;return t===o}));-1!==e&&(a[e]=i,n=!0)}n&&o([...a])})):()=>{}}),[d,a,t]),a}},24117:(e,t,s)=>{"use strict";function n(e){return e.sort(((e,t)=>(t.width||0)-(e.width||0)))}s.d(t,{X:()=>n})},24162:(e,t)=>{"use strict";var s;t.Q=void 0,function(e){e.USER_INFO_REQUEST_EMPTY_RESPONSE="USER_INFO_REQUEST_EMPTY_RESPONSE",e.USER_INFO_REQUEST_FAILED_WITH_STATUS="USER_INFO_REQUEST_FAILED_WITH_STATUS",e.HARMONY_NO_TRACKS_LOADED="HARMONY_NO_TRACKS_LOADED",e.HARMONY_OPERATION_FORBIDDEN="HARMONY_OPERATION_FORBIDDEN",e.HARMONY_LOCAL_PLAYER_DISABLED="HARMONY_LOCAL_PLAYER_DISABLED",e.HARMONY_INVALID_DESCRIPTOR_ID="HARMONY_INVALID_DESCRIPTOR_ID",e.HARMONY_INVALID_MEDIA_TYPE="HARMONY_INVALID_MEDIA_TYPE",e.CONNECTAPI_CLIENT_INVALID_ARGUMENTS="CONNECTAPI_CLIENT_INVALID_ARGUMENTS",e.CONNECTAPI_CLIENT_MISSING_DEVICE_ID="CONNECTAPI_CLIENT_MISSING_DEVICE_ID",e.CONNECTAPI_CLIENT_NO_CONNECTION_ID="CONNECT_API_CLIENT_NO_CONNECTION_ID",e.CONNECTAPI_CLIENT_NO_DEVICE="CONNECTAPI_CLIENT_NO_DEVICE",e.CONNECTAPI_CLIENT_NO_SESSION_ID="CONNECTAPI_CLIENT_NO_SESSION_ID",e.CONNECTAPI_CLIENT_NO_STATE="CONNECTAPI_CLIENT_NO_STATE",e.CONNECTAPI_CLIENT_INVALID_POSITION="CONNECT_API_CLIENT_INVALID_POSITION",e.CONNECTAPI_CLIENT_INVALID_VOLUME="CONNECT_API_CLIENT_INVALID_VOLUME",e.CONNECTAPI_MAX_SUBSCRIPTIONS_REACHED="CONNECTAPI_MAX_SUBSCRIPTIONS_REACHED",e.CONNECTAPI_REGISTRATION_FAILED_WITH_STATUS="CONNECTAPI_REGISTRATION_FAILED_WITH_STATUS",e.CONNECTAPI_CLIENT_ACK_TIMEOUT="CONNECTAPI_CLIENT_ACK_TIMEOUT",e.CP_NO_DEVICE_DESCRIPTOR="CP_NO_DEVICE_DESCRIPTOR",e.CP_NO_CONNECTION_ID="CP_NO_CONNECTION_ID",e.CP_REGISTRATION_FAILED_WITH_STATUS="CP_REGISTRATION_FAILED_WITH_STATUS",e.CP_REGISTRATION_FAILED_NON_PREMIUM="CP_REGISTRATION_FAILED_NON_PREMIUM",e.CP_REQUEST_FAILED_WITH_STATUS="CP_REQUEST_FAILED_WITH_STATUS",e.CP_NO_DEVICE_ID="CP_NO_DEVICE_ID",e.CP_NO_RESPONSE_BODY="CP_NO_RESPONSE_BODY",e.CP_NO_TRACKING_DATA="CP_NO_TRACKING_DATA",e.CP_INVALID_STATE="CP_INVALID_STATE",e.CP_NO_PLAYBACK_ID="CP_NO_PLAYBACK_ID",e.QUEUE_MANAGER_NO_STATE="QUEUE_MANAGER_NO_STATE",e.QUEUE_OPERATION_FORBIDDEN="QUEUE_OPERATION_FORBIDDEN",e.QUEUE_OPERATION_STALE_REVISION="QUEUE_OPERATION_STALE_REVISION",e.TP_NO_RESPONSE_BODY="TP_NO_RESPONSE_BODY",e.TP_REGISTRATION_FAILED_NON_PREMIUM="TP_REGISTRATION_FAILED_NON_PREMIUM",e.TP_REGISTRATION_FAILED_WITH_STATUS="TP_REGISTRATION_FAILED_WITH_STATUS",e.TP_STATE_UPDATE_FAILED="TP_STATE_UPDATE_FAILED",e.TP_MAX_SUBSCRIPTIONS_REACHED="TP_MAX_SUBSCRIPTIONS_REACHED",e.TP_UPDATE_REQUEST_EMPTY_RESPONSE="TP_UPDATE_REQUEST_EMPTY_RESPONSE",e.TP_PARSE_STATE_UPDATE_FAILED_WITH_STATUS="TP_PARSE_STATE_UPDATE_FAILED_WITH_STATUS",e.TP_SET_OPTIONS_FAILED_WITH_STATUS="TP_SET_OPTIONS_FAILED_WITH_STATUS",e.TP_UNKNOWN_COMMAND="TP_UNKNOWN_COMMAND",e.TP_CANNOT_CREATE_STATE_REF="TP_CANNOT_CREATE_STATE_REF",e.TP_MISSING_INITIAL_STATE="TP_MISSING_INITIAL_STATE",e.TP_INVALID_STATE_REFERENCE="TP_INVALID_STATE_REFERENCE",e.TP_CONFLICT_REQUEST_FAILED_WITH_STATUS="TP_CONFLICT_REQUEST_FAILED_WITH_STATUS"}(s||(t.Q=s={}))},24484:(e,t,s)=>{"use strict";s.d(t,{Oj:()=>d,SF:()=>u,fd:()=>r});s(7130);var n=s(30758),i=s(86070);const a={isOpen:!1,modifierKeyHeld:!1,isTouching:!1,menu:null,event:null,triggerElement:null},o=(0,n.createContext)(a);function r(){const e=n.useContext(o);if(void 0===e)throw new Error("useContextMenuState must be used within a ContextMenuProvider");return e}const l=(0,n.createContext)((()=>{}));function d(){const e=n.useContext(l);if(void 0===e)throw new Error("useContextMenuDispatch must be used within a ContextMenuProvider");return e}function c(e,t){switch(t.type){case"open":return{...e,menu:t.menu,isOpen:!0,event:t.event,triggerElement:t.triggerElement};case"toggle":return{...e,isOpen:!e.isOpen,menu:e.isOpen?null:t.menu,event:t.event,triggerElement:t.triggerElement};case"modifierKeyHeld":return{...e,modifierKeyHeld:t.value};case"touch":return{...e,isTouching:t.value};case"close":return{...a};case"update":return{...e,menu:t.menu};default:throw new Error("Unknown action recieved!")}}const u=e=>{let{children:t}=e;const[s,r]=(0,n.useReducer)(c,a);return(0,i.jsx)(l.Provider,{value:r,children:(0,i.jsx)(o.Provider,{value:s,children:t})})}},25165:(e,t,s)=>{"use strict";s.d(t,{v:()=>o});var n=s(1581),i=s(84567),a=s(86070);function o(e){let{children:t}=e;return(0,a.jsx)(i.E,{as:"div",variant:"marginal",className:n.A.subtitle,dir:"auto",semanticColor:"textSubdued",children:t})}},25203:(e,t,s)=>{"use strict";s.d(t,{H:()=>i});s(73385),s(82324),s(54303);var n=s(6458);class i{constructor(e,t,s){return this.method=e,this.url=t,this.postData=null,this.queryParameters=void 0,this.responseType="json",this._headers={},this._authorize=s,this._includeCredentials=!1,this._abortSignal=void 0,this}withQueryParameters(e){this.queryParameters=e}withPostData(e){this.postData=e}withResponseType(e){this.responseType=e}withEndpointIdentifier(){}addHeader(e,t){return this._headers[e]=t,this}includeCredentials(){return this._includeCredentials=!0,this}withAbortSignal(e){return this._abortSignal=e,this}async send(){const e=(0,n.V)(),t=new URLSearchParams(this.queryParameters).toString(),s=`${this.url}${t?`?${t}`:""}`,i={method:this.method,responseType:this.responseType,headers:this._headers,authorize:this._authorize,rejectNotOk:!0,signal:this._abortSignal};var a;(this._includeCredentials&&(i.credentials="include"),this.postData)&&(null!==(a=this._headers["Content-Type"])&&void 0!==a&&a.startsWith("application/json;charset=UTF-8")?i.payload=JSON.stringify(this.postData):i.payload=this.postData);return e.request(s,i).then((e=>e)).catch((e=>{throw e}))}}},26031:(e,t,s)=>{"use strict";s.d(t,{j:()=>a});var n=s(37503),i=s(62411);const a=()=>(0,i.d4)((e=>e.session.browserOS))===n.n.iOS},26481:(e,t,s)=>{"use strict";s.d(t,{h:()=>l});var n=s(62411),i=s(23953),a=s(69813),o=s(30758),r=s(86070);const l=e=>{let{uri:t,inLibraryComponent:s,notInLibraryComponent:l,onLibraryUpdated:d}=e;const c=(0,n.d4)((e=>{let{session:t}=e;return t.isAnonymous})),{removeFromLibrary:u,addToLibrary:p,toggleFromLibrary:m}=(0,a.M)(),h=(0,o.useMemo)((()=>[{uri:t}]),[t]),[_]=(0,i.a)({entities:h,skipCheck:!Boolean(t)}),y=()=>{if(c)m(t);else{if(_)return u(t),void(null==d||d("removed"));p(t),null==d||d("added")}};return(0,r.jsx)(r.Fragment,{children:_?s(y):null==l?void 0:l(y)})}},27700:(e,t,s)=>{"use strict";s.d(t,{q:()=>p});var n=s(62411),i=s(5104),a=s(20260),o=s(9807);s(7130);var r=s(42587);const l=async(e,t)=>{const s=await(async(e,t,s)=>{let{utmParameters:n,customData:i,linkPreview:a}=s;const o=await e.build().withHost(r.vL).withPath("/generate-url").withMethod("POST").withJsonContentType().withoutMarket().withEndpointIdentifier("/v1/generate-url").withBody({spotify_uri:t,custom_data:i,link_preview:a,utm_parameters:n}).send();if(201===o.status)return o.body;throw new Error(`Failed to get short link for uri ${t}`)})(e,t,{});return s.shareable_url};var d=s(90813),c=s(71767),u=s(35746);const p=()=>{const e=(0,o.s9)(),t=(0,n.wA)();return async(s,n)=>{var o,r;let p;if(p=n?(0,c.AY)((0,u.o_h)(s)):await l(d.n.getInstance(),s).catch((()=>{var e;return null===(e=(0,u.o_h)(s))||void 0===e?void 0:e.toURL()})),!p)return;if(null!==(o=(r=navigator).canShare)&&void 0!==o&&o.call(r,{url:p}))return void navigator.share({url:p});!async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;if("clipboard"in navigator)try{if("string"==typeof e)return await navigator.clipboard.writeText(e);if("undefined"!=typeof ClipboardItem&&navigator.clipboard.write)return await navigator.clipboard.write([new ClipboardItem({"text/plain":e.then((e=>new Blob([e],{type:"text/plain"})))})]);const t=await e;return await navigator.clipboard.writeText(t)}catch(i){}if(null===t)throw new Error("Node is null, copy cannot be performed.");let s="";s="string"==typeof e?e:await e;const n=document.createElement("textarea");n.value=s,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",t.appendChild(n),n.select(),document.execCommand("copy"),t.removeChild(n),Promise.resolve()}(p);const m=e.get("feedback.link-copied");t((0,i.P)(m,a.Ck.default,!0))}}},28924:(e,t,s)=>{"use strict";s.d(t,{DX:()=>i,L:()=>o,gh:()=>a});s(16961),s(54615),s(32807);var n=s(11162);const i=e=>(0,n.pm)(e)&&(0,n.Pp)(e.data)?[e.data]:(0,n.am)(e)?e.concerts.map((e=>e.data)).filter(n.Pp):[],a=e=>e.artists.items.map((e=>e.data)).filter(n.oW).shift(),o=e=>i(e).sort(((e,t)=>e.startDateIsoString.localeCompare(t.startDateIsoString))).shift()},29377:(e,t,s)=>{"use strict";s.d(t,{R:()=>i});var n=s(62411);const i=()=>(0,n.d4)((e=>e.session.referrer))},29812:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});let n=function(e){return e.XSMALL="XSMALL",e.SMALL="SMALL",e.MEDIUM="MEDIUM",e.LARGE="LARGE",e.XLARGE="XLARGE",e}({})},29922:(e,t,s)=>{"use strict";s.d(t,{I:()=>u});var n=s(30758),i=s(84567),a=s(9807),o=s(46320),r=s(86136),l=s(38927),d=s(86070);function c(e,t,s,n){return"ONLINE"===n&&null!==t?t:[t,s].filter(Boolean).join(e.getSeparator())}const u=n.memo((function(e){let{category:t,venueName:s,venueLocation:n,date:u,uri:p,artistNames:m}=e;const h=(0,a.s9)(),_=(0,o.l4)(u);return(0,d.jsxs)(r.N,{to:p,className:l.A.item,children:[(0,d.jsxs)("time",{className:l.A.date,dateTime:u,children:[(0,d.jsx)(i.E,{as:"div",variant:"marginalBold",className:l.A.dateMonth,children:(0,o.tj)(h,_)}),(0,d.jsx)(i.E,{as:"div",variant:"titleSmall",className:l.A.dateDay,children:(0,o.Py)(h,_)})]}),(0,d.jsxs)("div",{className:l.A.info,children:[(0,d.jsx)(i.E,{as:"div",variant:"bodyMediumBold",semanticColor:"textBase",className:l.A.title,children:(0,o.b0)(h,m)}),(0,d.jsxs)(i.E,{as:"p",variant:"bodySmall",className:l.A.timeAndVenue,children:[(0,d.jsx)("time",{className:l.A.time,children:(0,o.Y)(h,_)}),c(h,s,n,t)]})]})]})}))},31926:(e,t,s)=>{"use strict";s.d(t,{j:()=>n});s(7130);const n=(0,s(30758).createContext)({request:()=>{throw new Error("GraphQL Context not initialized with Request object")}})},32537:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});const n={TOP_BAR_HEIGHT:"56px",entityView:"EmPyYSLB0GzLG3npyj0i",navLink:"nEj4yiVYEyDYRk1xHR4s",logoButton:"lrTuOVldX3mOw3uXH4co",iconSearchLink:"Jluzw6W6H33aYx5CJb2v",fixedTopBar:"B3FZEuJmAr_xqf2zl6oI",stickyTopBar:"BYrsIUXgBLFsEluAR3Zb",topBarSectionVariable:"kGEiRIi5wRTx2rX0S9Lx",topBarSectionStart:"y_1y1QIwHj94BSMT8XXE",topBarSectionEnd:"JMlcYVAX2wt4TRnWIBjd",header:"Qro3ta2LEb8hw0AV3M6V",condensed:"wiykuJewGrpK_OYFDRD8",title:"tO7o5iVf2INwGBvDAHti",copyright:"vevLpRJEc4bD9GLTEjkG",headerBottomSection:"VDb7iNBd2ywlzvHei7G0",headerImageAndTextWrapper:"MYm985RyOlwQzgznVaRq",row:"FNGL_8UjuihKAXIOzSxg",column:"_XFtAtmCIMb4QmZAmvTk",titleAndSubtitleWrapper:"T5403RVkX67MpVeXOoDS",actions:"aDsMqBQv1BRvG5reWxtV",moreButton:"razC1oWsRd7vPEojll4o",playButton:"OPYUc2kYiszPjPpWCiXO",bottomAligned:"glJ4sg0qOn7qulvvF613",playButtonInner:"sDIsPFLmVPBu2tcjc8Da",description:"gKD4FT5lLt7aPsBUSCxw",entityHeaderMetadata:"jJu_dn86EBRLtUdmDHZO",bulletSeparated:"BnyWsivVqykr7q49ka5Q",mainContent:"Lr8c2pSDKusW0TW8PUHT",loadingState:"LKaZeDA5qBND0w8vTR9s",errorContainer:"M3j2ohdpdDkMb6IvDJKS",headerWrapper:"Q2OIKLapdCsZHX389IVv",loginTopBarSpacer:"bwN2Fnwr4p6wZNv8LJ2L",headerBackgroundContainer:"WfzyroOHeNVbr2U8ez_D",genreFilterChipContainer:"Sc9p_a_pVLuLJQrUA6Bk",headerTitle:"NXmFzmcxx810EMAtD60A",headerFilters:"lEpA0iRFi6iUcMbPjHjW",backButton:"nHbkPB51Vxk206niEHD8",locationButtonIcon:"Jj22emOQmRnyn5Hmqovb",concertsHubContainer:"GvnrcqC8prDN5eGXQ85Q",concertsHubNoConcertsTitle:"fV_AWH16USnVlpP9iXwJ",concertsGrid:"kgKf6z_DwQnL7K3azt7h",concertsHubSection:"u0Yf7kTH6JpTrbQB2H2n",concertsHubSectionRow:"zHwjSfy6Z0gDcID_bUxk",concertsHubSectionHeader:"schCX26mkvQRwWG4c4rI",concertsHubSectionRowImage:"uX3giPh75Oe1AbDpkVMQ",concertsHubSectionRowTitleAndVenue:"uXi_VKq3howLFK_M7G4T",concertsHubSectionRowTitle:"STzJ_Gpwp_8Q_TtQOmG8",concertsHubSectionRowWeekdayMonthDayAndVenue:"cbSLdMxs5hie6fovpNZj",artistChevronRight:"XdP8TuEVaLEdSmdep8DD",overlay:"cMysoSvdFpbALRgMLRvs",overlayEnter:"n1jzKP3G8qTHwpzvZkwZ",overlayEnterActive:"bHxLYhqyf585qJd2uaPv",overlayExit:"aepisJG9G6u5TnEJBhWd",overlayExitActive:"fX0cjqkLCk117Ymz5O3G",groupConcert:"sqazpRcRMHQW6iUB7DwD",locationSelector:"CjxhGfKHIJkrmhnktioj",stickyLocationSearchBar:"J3dcG0Eu0ECSlOL0hhfg",inputAndBackButtonWrapper:"QdB1UPEVtzm6_XN3heeo",locationSelectorResult:"XM30g5z41rn0FNqE32Ga",changeLocationError:"lfAYzdort408pZZJIyHm",changeLocationErrorIcon:"iFaxktHzFDeGaj9nRG5Y",locationSelectorResultRow:"pPTzGMkPlmJIG5QsG9nj",closeButton:"U0KSIxz5spkH4YSBmjlN",closeButtonText:"LXpdK49RfGaBNsS6e5NB",artistContainer:"rMmobCOIgzCEorsTTX4A",artistImage:"RLgQNC5VUcUp5fwvfgq2",artistInfoContainer:"X5cWMH2JXfQs6fE_GaQ4",concertsCount:"OHndc2u0d5mbVy1MbEO2",artistName:"cgSg2eeoLBXJsE_j5Cll",groupedConcertRow:"hdFWtQ6oufiA1PJz6Cym",groupedConcertCalendar:"tUyOCRyt5tnPbD0X7jPr",groupedConcertInfo:"OxRM9ElZfALFKWBf2u01",groupedConcertWeekdayTimeAndVenue:"urvfZvdaSuaSP29JzrZA",groupedConcertCalendarMonth:"l0G1ulp0V8nTNnsRHVi1",groupedConcertCalendarDate:"_XZ3vmCJkVTtVWGRHD_C",groupedConcertTitle:"yb3foqBLmFmzbfhSvAwp",disclaimerContainer:"L6OMwliGknw9duahglQ0",disclaimer:"bk0qHTcFq3OsB3En5Er0",dateSection:"JD05hnNLIQjXNEAmzoWw",loadMore:"kK6IPsMAQ6lHcPFwWUxs",emptyStateWrapper:"TaY9wbNzzzDzmAe2Ijzl",emptyStateTitle:"_KR8yY26m49pjFn79OAb",emptyStateMessage:"Ts38tYgLJf5lJuYqZSSg",navItem:"KJUtOyE0VFDbCUbzxf9G",forYouAnonHeadingContainer:"rOY5VP1tmwDOR7_D_5Uc",forYouSignupMsg:"KGIbquLBVieyuntHze4e",signUpBtn:"nPRN9yBjSAjuvj7rN9Yl",dateModalHeader:"Xpww7eGhmMmJB_Vs8tDP",dateModalButtons:"AwmKqGJ523q4MMU3Ugjh",genreModalButtons:"Ldt83v9IaPvfmtLDLmQn",dateModalFilterChipContainer:"r8DiiFRgcqqRtv_hq3eO",dateModalFilterChip:"TnM1Mz71zmhdQwAmp8ng",cityEnhancement:"KW2KqfwO3fALMd5wVhXr",cityImage:"uIzc3670DUfQnY_sYz0Z",seeAllFirstParty:"LRLybgIkc_4dRLuA9uQh"}},32934:(e,t,s)=>{"use strict";s.d(t,{JI:()=>d,ZZ:()=>u,iL:()=>c});s(7130);var n=s(30758),i=s(34207),a=s(86070);function o(e,t){switch(t.type){case"OPEN":return{...e,isOpen:!0};case"CLOSE":return{...e,isOpen:!1};default:(0,i.d)(t)}}const r=(0,n.createContext)(void 0),l=(0,n.createContext)((()=>{})),d=e=>{let{children:t}=e;const[s,i]=(0,n.useReducer)(o,{isOpen:!1});return(0,a.jsx)(l.Provider,{value:i,children:(0,a.jsx)(r.Provider,{value:s,children:t})})};function c(){const e=(0,n.useContext)(r);if(void 0===e)throw new Error("useLanguageSelectionModalState must be used within a LanguageSelectionModalContextProvider");return e}function u(){const e=(0,n.useContext)(l);if(void 0===e)throw new Error("useLanguageSelectionModalDispatch must be used within a LanguageSelectionModalDispatchContextProvider");return e}},32941:e=>{e.exports={convertPathToURL:function(e,t,s){if("1"==={}.IS_SPOTIFY_DESKTOP_APP)return`/${e}`;if("hot"==={}.WEBPACK_BUILD&&e.startsWith("build/")){return`https://${{}.WEBPACK_HOT_HOST}:${{}.WEBPACK_HOT_PORT}/cdn/${e}`}return s?.enableBrotliCDNExperiment?`${t.brotli_cdn_url}/${e}`:`${t.cdn_url}/${e}`}}},33342:(e,t,s)=>{"use strict";s.d(t,{bj:()=>c});s(7130),s(87953);var n=s(32941);class i{get(e){return{}[e]}}const a=()=>new i;let o=a();function r(){return o}let l={},d=function(e,t){var s;const{enableBrotliCDNExperiment:n}=t||{},i=n?"__BROTLI_CDN_FILE_URLS__":"__CDN_FILE_URLS__",a=n?'{"animations/onboarding_optimize.json":"https://open-exp.spotifycdn.com/cdn/animations/onboarding_optimize.94a0c9e0.json","animations/plus-deselected-confetti-white.json":"https://open-exp.spotifycdn.com/cdn/animations/plus-deselected-confetti-white.18248d54.json","animations/plus-selected-confetti-white.json":"https://open-exp.spotifycdn.com/cdn/animations/plus-selected-confetti-white.c1e7034c.json","animations/watch-feed-entry-point-border.json":"https://open-exp.spotifycdn.com/cdn/animations/watch-feed-entry-point-border.db783168.json","build/desktop-auth/desktop-auth.31d6cfe0.js":"https://open-exp.spotifycdn.com/cdn/build/desktop-auth/desktop-auth.31d6cfe0.js","build/desktop-auth/desktop-auth.c1174423.css":"https://open-exp.spotifycdn.com/cdn/build/desktop-auth/desktop-auth.c1174423.css","build/desktop-auth/desktop-auth.css":"https://open-exp.spotifycdn.com/cdn/build/desktop-auth/desktop-auth.c1174423.css","build/desktop-auth/desktop-auth.js":"https://open-exp.spotifycdn.com/cdn/build/desktop-auth/desktop-auth.31d6cfe0.js","build/desktop-auth/report.json":"https://open-exp.spotifycdn.com/cdn/build/desktop-auth/report.53a65ef3.json","build/desktop-auth/stats.json":"https://open-exp.spotifycdn.com/cdn/build/desktop-auth/stats.3ba8aeed.json","build/error-page/error-page.21584b21.css":"https://open-exp.spotifycdn.com/cdn/build/error-page/error-page.21584b21.css","build/error-page/error-page.31d6cfe0.js":"https://open-exp.spotifycdn.com/cdn/build/error-page/error-page.31d6cfe0.js","build/error-page/error-page.css":"https://open-exp.spotifycdn.com/cdn/build/error-page/error-page.21584b21.css","build/error-page/error-page.js":"https://open-exp.spotifycdn.com/cdn/build/error-page/error-page.31d6cfe0.js","build/error-page/report.json":"https://open-exp.spotifycdn.com/cdn/build/error-page/report.9ef8277b.json","build/error-page/stats.json":"https://open-exp.spotifycdn.com/cdn/build/error-page/stats.abebfc75.json","build/mobile-web-player/760.aba6ebe6.br":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/760.aba6ebe6.br","build/mobile-web-player/760.aba6ebe6.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/760.aba6ebe6.js","build/mobile-web-player/760.br":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/760.aba6ebe6.br","build/mobile-web-player/760.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/760.aba6ebe6.js","build/mobile-web-player/mobile-web-player.974fbbfb.br":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mobile-web-player.974fbbfb.br","build/mobile-web-player/mobile-web-player.974fbbfb.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mobile-web-player.974fbbfb.js","build/mobile-web-player/mobile-web-player.br":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mobile-web-player.974fbbfb.br","build/mobile-web-player/mobile-web-player.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mobile-web-player.fa26d89b.css","build/mobile-web-player/mobile-web-player.fa26d89b.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mobile-web-player.fa26d89b.css","build/mobile-web-player/mobile-web-player.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mobile-web-player.974fbbfb.js","build/mobile-web-player/mwp-artist-page.4f996390.br":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-artist-page.4f996390.br","build/mobile-web-player/mwp-artist-page.4f996390.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-artist-page.4f996390.css","build/mobile-web-player/mwp-artist-page.4f996390.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-artist-page.4f996390.js","build/mobile-web-player/mwp-artist-page.br":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-artist-page.4f996390.br","build/mobile-web-player/mwp-artist-page.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-artist-page.4f996390.css","build/mobile-web-player/mwp-artist-page.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-artist-page.4f996390.js","build/mobile-web-player/mwp-browse-page.073c4ddb.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-browse-page.073c4ddb.css","build/mobile-web-player/mwp-browse-page.073c4ddb.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-browse-page.073c4ddb.js","build/mobile-web-player/mwp-browse-page.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-browse-page.073c4ddb.css","build/mobile-web-player/mwp-browse-page.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-browse-page.073c4ddb.js","build/mobile-web-player/mwp-discography-page.6c1048b0.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-discography-page.6c1048b0.css","build/mobile-web-player/mwp-discography-page.6c1048b0.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-discography-page.6c1048b0.js","build/mobile-web-player/mwp-discography-page.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-discography-page.6c1048b0.css","build/mobile-web-player/mwp-discography-page.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-discography-page.6c1048b0.js","build/mobile-web-player/mwp-download-page.c4d5d354.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-download-page.c4d5d354.css","build/mobile-web-player/mwp-download-page.c4d5d354.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-download-page.c4d5d354.js","build/mobile-web-player/mwp-download-page.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-download-page.c4d5d354.css","build/mobile-web-player/mwp-download-page.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-download-page.c4d5d354.js","build/mobile-web-player/mwp-home-page.34a29d93.br":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-home-page.34a29d93.br","build/mobile-web-player/mwp-home-page.34a29d93.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-home-page.34a29d93.css","build/mobile-web-player/mwp-home-page.34a29d93.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-home-page.34a29d93.js","build/mobile-web-player/mwp-home-page.br":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-home-page.34a29d93.br","build/mobile-web-player/mwp-home-page.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-home-page.34a29d93.css","build/mobile-web-player/mwp-home-page.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-home-page.34a29d93.js","build/mobile-web-player/mwp-search-landing.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-landing.f7b84cd8.css","build/mobile-web-player/mwp-search-landing.f7b84cd8.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-landing.f7b84cd8.css","build/mobile-web-player/mwp-search-landing.f7b84cd8.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-landing.f7b84cd8.js","build/mobile-web-player/mwp-search-landing.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-landing.f7b84cd8.js","build/mobile-web-player/mwp-search-results.aa24a230.br":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-results.aa24a230.br","build/mobile-web-player/mwp-search-results.aa24a230.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-results.aa24a230.css","build/mobile-web-player/mwp-search-results.aa24a230.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-results.aa24a230.js","build/mobile-web-player/mwp-search-results.br":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-results.aa24a230.br","build/mobile-web-player/mwp-search-results.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-results.aa24a230.css","build/mobile-web-player/mwp-search-results.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-results.aa24a230.js","build/mobile-web-player/mwp-section-page.906dedb9.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-section-page.906dedb9.css","build/mobile-web-player/mwp-section-page.906dedb9.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-section-page.906dedb9.js","build/mobile-web-player/mwp-section-page.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-section-page.906dedb9.css","build/mobile-web-player/mwp-section-page.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-section-page.906dedb9.js","build/mobile-web-player/mwp-user-profile.cbbcd8af.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-user-profile.cbbcd8af.css","build/mobile-web-player/mwp-user-profile.cbbcd8af.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-user-profile.cbbcd8af.js","build/mobile-web-player/mwp-user-profile.css":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-user-profile.cbbcd8af.css","build/mobile-web-player/mwp-user-profile.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/mwp-user-profile.cbbcd8af.js","build/mobile-web-player/report.json":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/report.e079f044.json","build/mobile-web-player/stats.json":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/stats.e2655859.json","build/mobile-web-player/vendor~mobile-web-player.76e078d4.br":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/vendor~mobile-web-player.76e078d4.br","build/mobile-web-player/vendor~mobile-web-player.76e078d4.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/vendor~mobile-web-player.76e078d4.js","build/mobile-web-player/vendor~mobile-web-player.br":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/vendor~mobile-web-player.76e078d4.br","build/mobile-web-player/vendor~mobile-web-player.js":"https://open-exp.spotifycdn.com/cdn/build/mobile-web-player/vendor~mobile-web-player.76e078d4.js","build/web-player/1050.29f2a182.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/1050.29f2a182.js","build/web-player/1050.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/1050.29f2a182.js","build/web-player/11.f48217a8.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/11.f48217a8.js","build/web-player/11.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/11.f48217a8.js","build/web-player/1507.99f6e737.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/1507.99f6e737.css","build/web-player/1507.99f6e737.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/1507.99f6e737.js","build/web-player/1507.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/1507.99f6e737.css","build/web-player/1507.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/1507.99f6e737.js","build/web-player/2487.2d27c920.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/2487.2d27c920.css","build/web-player/2487.2d27c920.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/2487.2d27c920.js","build/web-player/2487.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/2487.2d27c920.css","build/web-player/2487.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/2487.2d27c920.js","build/web-player/2615.073d5827.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/2615.073d5827.js","build/web-player/2615.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/2615.073d5827.js","build/web-player/2778.49503c9f.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/2778.49503c9f.js","build/web-player/2778.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/2778.49503c9f.js","build/web-player/2788.f02f1f83.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/2788.f02f1f83.js","build/web-player/2788.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/2788.f02f1f83.js","build/web-player/30.f0c80350.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/30.f0c80350.js","build/web-player/30.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/30.f0c80350.js","build/web-player/3094.efa75660.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/3094.efa75660.js","build/web-player/3094.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/3094.efa75660.js","build/web-player/3365.a1998ff2.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/3365.a1998ff2.js","build/web-player/3365.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/3365.a1998ff2.js","build/web-player/34.84c4dac5.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/34.84c4dac5.js","build/web-player/34.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/34.84c4dac5.js","build/web-player/3504.91ce8ed7.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/3504.91ce8ed7.js","build/web-player/3504.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/3504.91ce8ed7.js","build/web-player/3811.007d2b95.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/3811.007d2b95.css","build/web-player/3811.007d2b95.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/3811.007d2b95.js","build/web-player/3811.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/3811.007d2b95.css","build/web-player/3811.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/3811.007d2b95.js","build/web-player/3858.032ae81b.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/3858.032ae81b.js","build/web-player/3858.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/3858.032ae81b.js","build/web-player/3949.6685dc23.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/3949.6685dc23.js","build/web-player/3949.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/3949.6685dc23.js","build/web-player/4012.2b450182.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/4012.2b450182.css","build/web-player/4012.2b450182.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/4012.2b450182.js","build/web-player/4012.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/4012.2b450182.css","build/web-player/4012.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/4012.2b450182.js","build/web-player/4249.90d13261.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/4249.90d13261.js","build/web-player/4249.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/4249.90d13261.js","build/web-player/4577.2801b87f.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/4577.2801b87f.js","build/web-player/4577.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/4577.2801b87f.js","build/web-player/459.d708d31f.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/459.d708d31f.js","build/web-player/459.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/459.d708d31f.js","build/web-player/4624.5a3aa73b.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/4624.5a3aa73b.css","build/web-player/4624.5a3aa73b.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/4624.5a3aa73b.js","build/web-player/4624.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/4624.5a3aa73b.css","build/web-player/4624.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/4624.5a3aa73b.js","build/web-player/4760.04a71661.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/4760.04a71661.js","build/web-player/4760.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/4760.04a71661.js","build/web-player/4787.d1df1686.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/4787.d1df1686.js","build/web-player/4787.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/4787.d1df1686.js","build/web-player/5480.7401d671.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/5480.7401d671.js","build/web-player/5480.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/5480.7401d671.js","build/web-player/5527.65d4f70d.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/5527.65d4f70d.js","build/web-player/5527.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/5527.65d4f70d.js","build/web-player/5593.3cd060e6.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/5593.3cd060e6.js","build/web-player/5593.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/5593.3cd060e6.js","build/web-player/6070.318aba5a.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/6070.318aba5a.js","build/web-player/6070.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/6070.318aba5a.js","build/web-player/6092.dfa7a6c6.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/6092.dfa7a6c6.js","build/web-player/6092.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/6092.dfa7a6c6.js","build/web-player/6468.ee33935f.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/6468.ee33935f.js","build/web-player/6468.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/6468.ee33935f.js","build/web-player/7500.2c90fc86.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/7500.2c90fc86.js","build/web-player/7500.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/7500.2c90fc86.js","build/web-player/7514.9b8873bb.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/7514.9b8873bb.js","build/web-player/7514.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/7514.9b8873bb.js","build/web-player/7770.afe23622.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/7770.afe23622.js","build/web-player/7770.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/7770.afe23622.js","build/web-player/7864.1a33a9f2.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/7864.1a33a9f2.css","build/web-player/7864.1a33a9f2.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/7864.1a33a9f2.js","build/web-player/7864.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/7864.1a33a9f2.css","build/web-player/7864.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/7864.1a33a9f2.js","build/web-player/7936.236d1091.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/7936.236d1091.js","build/web-player/7936.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/7936.236d1091.js","build/web-player/8182.a1cdcdb9.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/8182.a1cdcdb9.js","build/web-player/8182.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/8182.a1cdcdb9.js","build/web-player/8462.a90dc20b.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/8462.a90dc20b.js","build/web-player/8462.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/8462.a90dc20b.js","build/web-player/869.ad93a7d2.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/869.ad93a7d2.js","build/web-player/869.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/869.ad93a7d2.js","build/web-player/8832.dcbc5d16.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/8832.dcbc5d16.js","build/web-player/8832.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/8832.dcbc5d16.js","build/web-player/8976.4f95ddce.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/8976.4f95ddce.js","build/web-player/8976.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/8976.4f95ddce.js","build/web-player/9268.742978c7.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/9268.742978c7.js","build/web-player/9268.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/9268.742978c7.js","build/web-player/9643.65044125.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/9643.65044125.js","build/web-player/9643.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/9643.65044125.js","build/web-player/9899.521b3c29.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/9899.521b3c29.js","build/web-player/9899.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/9899.521b3c29.js","build/web-player/9990.e30f75f8.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/9990.e30f75f8.js","build/web-player/9990.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/9990.e30f75f8.js","build/web-player/browse-v2.4737e555.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/browse-v2.4737e555.css","build/web-player/browse-v2.4737e555.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/browse-v2.4737e555.js","build/web-player/browse-v2.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/browse-v2.4737e555.css","build/web-player/browse-v2.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/browse-v2.4737e555.js","build/web-player/concerts-on-tour-playlist-card.539a0230.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/concerts-on-tour-playlist-card.539a0230.css","build/web-player/concerts-on-tour-playlist-card.539a0230.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/concerts-on-tour-playlist-card.539a0230.js","build/web-player/concerts-on-tour-playlist-card.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/concerts-on-tour-playlist-card.539a0230.css","build/web-player/concerts-on-tour-playlist-card.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/concerts-on-tour-playlist-card.539a0230.js","build/web-player/dev-playground.397a65d3.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dev-playground.397a65d3.js","build/web-player/dev-playground.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dev-playground.397a65d3.js","build/web-player/dwp-billboard-ad.2307d7c6.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-billboard-ad.2307d7c6.css","build/web-player/dwp-billboard-ad.2307d7c6.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-billboard-ad.2307d7c6.js","build/web-player/dwp-billboard-ad.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-billboard-ad.2307d7c6.css","build/web-player/dwp-billboard-ad.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-billboard-ad.2307d7c6.js","build/web-player/dwp-error-page.96a68221.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-error-page.96a68221.css","build/web-player/dwp-error-page.96a68221.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-error-page.96a68221.js","build/web-player/dwp-error-page.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-error-page.96a68221.css","build/web-player/dwp-error-page.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-error-page.96a68221.js","build/web-player/dwp-feedback-bar.2753ee4d.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-feedback-bar.2753ee4d.css","build/web-player/dwp-feedback-bar.2753ee4d.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-feedback-bar.2753ee4d.js","build/web-player/dwp-feedback-bar.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-feedback-bar.2753ee4d.css","build/web-player/dwp-feedback-bar.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-feedback-bar.2753ee4d.js","build/web-player/dwp-home-chips-row.651398d1.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-home-chips-row.651398d1.css","build/web-player/dwp-home-chips-row.651398d1.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-home-chips-row.651398d1.js","build/web-player/dwp-home-chips-row.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-home-chips-row.651398d1.css","build/web-player/dwp-home-chips-row.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-home-chips-row.651398d1.js","build/web-player/dwp-home-header.4aa06cbd.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-home-header.4aa06cbd.css","build/web-player/dwp-home-header.4aa06cbd.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-home-header.4aa06cbd.js","build/web-player/dwp-home-header.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-home-header.4aa06cbd.css","build/web-player/dwp-home-header.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-home-header.4aa06cbd.js","build/web-player/dwp-leaderboard-component.5b35c0da.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-leaderboard-component.5b35c0da.css","build/web-player/dwp-leaderboard-component.5b35c0da.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-leaderboard-component.5b35c0da.js","build/web-player/dwp-leaderboard-component.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-leaderboard-component.5b35c0da.css","build/web-player/dwp-leaderboard-component.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-leaderboard-component.5b35c0da.js","build/web-player/dwp-now-playing-bar.005d016f.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-now-playing-bar.005d016f.css","build/web-player/dwp-now-playing-bar.005d016f.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-now-playing-bar.005d016f.js","build/web-player/dwp-now-playing-bar.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-now-playing-bar.005d016f.css","build/web-player/dwp-now-playing-bar.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-now-playing-bar.005d016f.js","build/web-player/dwp-offline-empty-state.c6a35bdf.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-offline-empty-state.c6a35bdf.css","build/web-player/dwp-offline-empty-state.c6a35bdf.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-offline-empty-state.c6a35bdf.js","build/web-player/dwp-offline-empty-state.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-offline-empty-state.c6a35bdf.css","build/web-player/dwp-offline-empty-state.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-offline-empty-state.c6a35bdf.js","build/web-player/dwp-page-error-template.3daaed1b.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-page-error-template.3daaed1b.css","build/web-player/dwp-page-error-template.3daaed1b.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-page-error-template.3daaed1b.js","build/web-player/dwp-page-error-template.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-page-error-template.3daaed1b.css","build/web-player/dwp-page-error-template.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-page-error-template.3daaed1b.js","build/web-player/dwp-panel-section.17272552.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-panel-section.17272552.css","build/web-player/dwp-panel-section.17272552.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-panel-section.17272552.js","build/web-player/dwp-panel-section.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-panel-section.17272552.css","build/web-player/dwp-panel-section.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-panel-section.17272552.js","build/web-player/dwp-premium-page.b9a470a8.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-premium-page.b9a470a8.css","build/web-player/dwp-premium-page.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-premium-page.b9a470a8.css","build/web-player/dwp-top-bar.9fdb9b8b.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-top-bar.9fdb9b8b.css","build/web-player/dwp-top-bar.9fdb9b8b.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-top-bar.9fdb9b8b.js","build/web-player/dwp-top-bar.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-top-bar.9fdb9b8b.css","build/web-player/dwp-top-bar.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-top-bar.9fdb9b8b.js","build/web-player/dwp-user-comments.7d843a33.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-user-comments.7d843a33.css","build/web-player/dwp-user-comments.7d843a33.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-user-comments.7d843a33.js","build/web-player/dwp-user-comments.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-user-comments.7d843a33.css","build/web-player/dwp-user-comments.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-user-comments.7d843a33.js","build/web-player/dwp-video-player.137f93c7.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-video-player.137f93c7.css","build/web-player/dwp-video-player.137f93c7.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-video-player.137f93c7.js","build/web-player/dwp-video-player.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-video-player.137f93c7.css","build/web-player/dwp-video-player.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-video-player.137f93c7.js","build/web-player/dwp-watch-feed-view-container.0eb8c1b1.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-watch-feed-view-container.0eb8c1b1.css","build/web-player/dwp-watch-feed-view-container.0eb8c1b1.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-watch-feed-view-container.0eb8c1b1.js","build/web-player/dwp-watch-feed-view-container.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-watch-feed-view-container.0eb8c1b1.css","build/web-player/dwp-watch-feed-view-container.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-watch-feed-view-container.0eb8c1b1.js","build/web-player/dwp-whats-new-feed.1ee6cca3.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-whats-new-feed.1ee6cca3.css","build/web-player/dwp-whats-new-feed.1ee6cca3.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-whats-new-feed.1ee6cca3.js","build/web-player/dwp-whats-new-feed.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-whats-new-feed.1ee6cca3.css","build/web-player/dwp-whats-new-feed.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/dwp-whats-new-feed.1ee6cca3.js","build/web-player/employee-notifications.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/employee-notifications.d35d2f8d.css","build/web-player/employee-notifications.d35d2f8d.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/employee-notifications.d35d2f8d.css","build/web-player/employee-notifications.d35d2f8d.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/employee-notifications.d35d2f8d.js","build/web-player/employee-notifications.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/employee-notifications.d35d2f8d.js","build/web-player/encore~web-player.371af379.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/encore~web-player.371af379.js","build/web-player/encore~web-player.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/encore~web-player.371af379.js","build/web-player/home-ad-card.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-ad-card.ef167012.css","build/web-player/home-ad-card.ef167012.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-ad-card.ef167012.css","build/web-player/home-ad-card.ef167012.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-ad-card.ef167012.js","build/web-player/home-ad-card.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-ad-card.ef167012.js","build/web-player/home-ads-container.cd242b75.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-ads-container.cd242b75.js","build/web-player/home-ads-container.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-ads-container.cd242b75.js","build/web-player/home-ads-fetcher.25c31ee6.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-ads-fetcher.25c31ee6.js","build/web-player/home-ads-fetcher.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-ads-fetcher.25c31ee6.js","build/web-player/home-ads-visibility-logger.6efcb60b.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-ads-visibility-logger.6efcb60b.js","build/web-player/home-ads-visibility-logger.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-ads-visibility-logger.6efcb60b.js","build/web-player/home-hpto.0f8a3f68.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-hpto.0f8a3f68.css","build/web-player/home-hpto.0f8a3f68.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-hpto.0f8a3f68.js","build/web-player/home-hpto.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-hpto.0f8a3f68.css","build/web-player/home-hpto.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-hpto.0f8a3f68.js","build/web-player/home-subfeed.bfc692e5.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-subfeed.bfc692e5.js","build/web-player/home-subfeed.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-subfeed.bfc692e5.js","build/web-player/home-v2-section.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-v2-section.d0898cd4.css","build/web-player/home-v2-section.d0898cd4.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-v2-section.d0898cd4.css","build/web-player/home-v2-section.d0898cd4.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-v2-section.d0898cd4.js","build/web-player/home-v2-section.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-v2-section.d0898cd4.js","build/web-player/home-v2.5fdf6950.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-v2.5fdf6950.css","build/web-player/home-v2.5fdf6950.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-v2.5fdf6950.js","build/web-player/home-v2.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-v2.5fdf6950.css","build/web-player/home-v2.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/home-v2.5fdf6950.js","build/web-player/legacy-hpto-compatibility.90c78db5.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/legacy-hpto-compatibility.90c78db5.css","build/web-player/legacy-hpto-compatibility.90c78db5.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/legacy-hpto-compatibility.90c78db5.js","build/web-player/legacy-hpto-compatibility.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/legacy-hpto-compatibility.90c78db5.css","build/web-player/legacy-hpto-compatibility.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/legacy-hpto-compatibility.90c78db5.js","build/web-player/lottie-animation.12001950.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/lottie-animation.12001950.js","build/web-player/lottie-animation.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/lottie-animation.12001950.js","build/web-player/pip-mini-player.a2d5761e.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/pip-mini-player.a2d5761e.css","build/web-player/pip-mini-player.a6ae812d.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/pip-mini-player.a6ae812d.js","build/web-player/pip-mini-player.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/pip-mini-player.a2d5761e.css","build/web-player/pip-mini-player.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/pip-mini-player.a6ae812d.js","build/web-player/playlist-leavebehinds.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/playlist-leavebehinds.f58871db.css","build/web-player/playlist-leavebehinds.f58871db.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/playlist-leavebehinds.f58871db.css","build/web-player/playlist-leavebehinds.f58871db.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/playlist-leavebehinds.f58871db.js","build/web-player/playlist-leavebehinds.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/playlist-leavebehinds.f58871db.js","build/web-player/report.json":"https://open-exp.spotifycdn.com/cdn/build/web-player/report.d7554ae5.json","build/web-player/service-worker.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/service-worker.cff277ec.js","build/web-player/stats.json":"https://open-exp.spotifycdn.com/cdn/build/web-player/stats.c8263617.json","build/web-player/this-is-playlist-concerts-carousel.791a90a9.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/this-is-playlist-concerts-carousel.791a90a9.css","build/web-player/this-is-playlist-concerts-carousel.791a90a9.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/this-is-playlist-concerts-carousel.791a90a9.js","build/web-player/this-is-playlist-concerts-carousel.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/this-is-playlist-concerts-carousel.791a90a9.css","build/web-player/this-is-playlist-concerts-carousel.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/this-is-playlist-concerts-carousel.791a90a9.js","build/web-player/vendor~web-player.5583ad37.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/vendor~web-player.5583ad37.js","build/web-player/vendor~web-player.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/vendor~web-player.5583ad37.js","build/web-player/web-player.2a65413f.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/web-player.2a65413f.js","build/web-player/web-player.44f8f55e.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/web-player.44f8f55e.css","build/web-player/web-player.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/web-player.44f8f55e.css","build/web-player/web-player.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/web-player.2a65413f.js","build/web-player/xpui-debug-window-contents.44c9a25c.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-debug-window-contents.44c9a25c.css","build/web-player/xpui-debug-window-contents.44c9a25c.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-debug-window-contents.44c9a25c.js","build/web-player/xpui-debug-window-contents.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-debug-window-contents.44c9a25c.css","build/web-player/xpui-debug-window-contents.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-debug-window-contents.44c9a25c.js","build/web-player/xpui-desktop-modals.af38f6bb.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-desktop-modals.af38f6bb.css","build/web-player/xpui-desktop-modals.af38f6bb.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-desktop-modals.af38f6bb.js","build/web-player/xpui-desktop-modals.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-desktop-modals.af38f6bb.css","build/web-player/xpui-desktop-modals.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-desktop-modals.af38f6bb.js","build/web-player/xpui-desktop-routes-settings.f0b1364e.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-desktop-routes-settings.f0b1364e.js","build/web-player/xpui-desktop-routes-settings.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-desktop-routes-settings.f0b1364e.js","build/web-player/xpui-pip-mini-player.1a6e07d9.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-pip-mini-player.1a6e07d9.css","build/web-player/xpui-pip-mini-player.1a6e07d9.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-pip-mini-player.1a6e07d9.js","build/web-player/xpui-pip-mini-player.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-pip-mini-player.1a6e07d9.css","build/web-player/xpui-pip-mini-player.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-pip-mini-player.1a6e07d9.js","build/web-player/xpui-playlist-format-redirect-with-params.d635edff.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-playlist-format-redirect-with-params.d635edff.js","build/web-player/xpui-playlist-format-redirect-with-params.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-playlist-format-redirect-with-params.d635edff.js","build/web-player/xpui-root-dialogs.7c498417.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-root-dialogs.7c498417.css","build/web-player/xpui-root-dialogs.7c498417.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-root-dialogs.7c498417.js","build/web-player/xpui-root-dialogs.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-root-dialogs.7c498417.css","build/web-player/xpui-root-dialogs.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-root-dialogs.7c498417.js","build/web-player/xpui-routes-album-prerelease.00891804.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-album-prerelease.00891804.css","build/web-player/xpui-routes-album-prerelease.00891804.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-album-prerelease.00891804.js","build/web-player/xpui-routes-album-prerelease.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-album-prerelease.00891804.css","build/web-player/xpui-routes-album-prerelease.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-album-prerelease.00891804.js","build/web-player/xpui-routes-album.58f45f83.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-album.58f45f83.css","build/web-player/xpui-routes-album.58f45f83.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-album.58f45f83.js","build/web-player/xpui-routes-album.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-album.58f45f83.css","build/web-player/xpui-routes-album.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-album.58f45f83.js","build/web-player/xpui-routes-all-show-ads.c7517e82.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-all-show-ads.c7517e82.css","build/web-player/xpui-routes-all-show-ads.c7517e82.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-all-show-ads.c7517e82.js","build/web-player/xpui-routes-all-show-ads.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-all-show-ads.c7517e82.css","build/web-player/xpui-routes-all-show-ads.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-all-show-ads.c7517e82.js","build/web-player/xpui-routes-blend.16f57672.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-blend.16f57672.css","build/web-player/xpui-routes-blend.16f57672.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-blend.16f57672.js","build/web-player/xpui-routes-blend.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-blend.16f57672.css","build/web-player/xpui-routes-blend.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-blend.16f57672.js","build/web-player/xpui-routes-buddy-feed.208b3c6a.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-buddy-feed.208b3c6a.css","build/web-player/xpui-routes-buddy-feed.208b3c6a.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-buddy-feed.208b3c6a.js","build/web-player/xpui-routes-buddy-feed.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-buddy-feed.208b3c6a.css","build/web-player/xpui-routes-buddy-feed.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-buddy-feed.208b3c6a.js","build/web-player/xpui-routes-collection-concert-gallery.a6f3b3ff.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concert-gallery.a6f3b3ff.css","build/web-player/xpui-routes-collection-concert-gallery.a6f3b3ff.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concert-gallery.a6f3b3ff.js","build/web-player/xpui-routes-collection-concert-gallery.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concert-gallery.a6f3b3ff.css","build/web-player/xpui-routes-collection-concert-gallery.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concert-gallery.a6f3b3ff.js","build/web-player/xpui-routes-collection-concerts.6fffbab6.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concerts.6fffbab6.css","build/web-player/xpui-routes-collection-concerts.6fffbab6.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concerts.6fffbab6.js","build/web-player/xpui-routes-collection-concerts.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concerts.6fffbab6.css","build/web-player/xpui-routes-collection-concerts.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concerts.6fffbab6.js","build/web-player/xpui-routes-collection-episodes.221f6835.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-episodes.221f6835.css","build/web-player/xpui-routes-collection-episodes.221f6835.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-episodes.221f6835.js","build/web-player/xpui-routes-collection-episodes.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-episodes.221f6835.css","build/web-player/xpui-routes-collection-episodes.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-episodes.221f6835.js","build/web-player/xpui-routes-collection-local-files.9cb92982.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-local-files.9cb92982.css","build/web-player/xpui-routes-collection-local-files.9cb92982.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-local-files.9cb92982.js","build/web-player/xpui-routes-collection-local-files.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-local-files.9cb92982.css","build/web-player/xpui-routes-collection-local-files.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-local-files.9cb92982.js","build/web-player/xpui-routes-collection-songs.5babbd82.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-songs.5babbd82.css","build/web-player/xpui-routes-collection-songs.5babbd82.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-songs.5babbd82.js","build/web-player/xpui-routes-collection-songs.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-songs.5babbd82.css","build/web-player/xpui-routes-collection-songs.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-songs.5babbd82.js","build/web-player/xpui-routes-concert.aca56e64.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-concert.aca56e64.css","build/web-player/xpui-routes-concert.aca56e64.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-concert.aca56e64.js","build/web-player/xpui-routes-concert.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-concert.aca56e64.css","build/web-player/xpui-routes-concert.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-concert.aca56e64.js","build/web-player/xpui-routes-country-hub-section.6faa2fcc.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub-section.6faa2fcc.css","build/web-player/xpui-routes-country-hub-section.6faa2fcc.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub-section.6faa2fcc.js","build/web-player/xpui-routes-country-hub-section.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub-section.6faa2fcc.css","build/web-player/xpui-routes-country-hub-section.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub-section.6faa2fcc.js","build/web-player/xpui-routes-country-hub.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub.d21c0e19.css","build/web-player/xpui-routes-country-hub.d21c0e19.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub.d21c0e19.css","build/web-player/xpui-routes-country-hub.d21c0e19.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub.d21c0e19.js","build/web-player/xpui-routes-country-hub.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub.d21c0e19.js","build/web-player/xpui-routes-create-playlist.c5c1e4be.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-create-playlist.c5c1e4be.js","build/web-player/xpui-routes-create-playlist.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-create-playlist.c5c1e4be.js","build/web-player/xpui-routes-cultural-moment-hub.0c91a9bd.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-cultural-moment-hub.0c91a9bd.css","build/web-player/xpui-routes-cultural-moment-hub.0c91a9bd.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-cultural-moment-hub.0c91a9bd.js","build/web-player/xpui-routes-cultural-moment-hub.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-cultural-moment-hub.0c91a9bd.css","build/web-player/xpui-routes-cultural-moment-hub.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-cultural-moment-hub.0c91a9bd.js","build/web-player/xpui-routes-download-page.709f4c15.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-download-page.709f4c15.js","build/web-player/xpui-routes-download-page.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-download-page.709f4c15.js","build/web-player/xpui-routes-episode-more-like-this.1c8c1b60.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-episode-more-like-this.1c8c1b60.css","build/web-player/xpui-routes-episode-more-like-this.1c8c1b60.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-episode-more-like-this.1c8c1b60.js","build/web-player/xpui-routes-episode-more-like-this.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-episode-more-like-this.1c8c1b60.css","build/web-player/xpui-routes-episode-more-like-this.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-episode-more-like-this.1c8c1b60.js","build/web-player/xpui-routes-episode.7db0aca2.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-episode.7db0aca2.css","build/web-player/xpui-routes-episode.7db0aca2.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-episode.7db0aca2.js","build/web-player/xpui-routes-episode.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-episode.7db0aca2.css","build/web-player/xpui-routes-episode.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-episode.7db0aca2.js","build/web-player/xpui-routes-health-check.152c652c.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-health-check.152c652c.js","build/web-player/xpui-routes-health-check.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-health-check.152c652c.js","build/web-player/xpui-routes-label-artists.119bcd08.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-label-artists.119bcd08.css","build/web-player/xpui-routes-label-artists.119bcd08.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-label-artists.119bcd08.js","build/web-player/xpui-routes-label-artists.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-label-artists.119bcd08.css","build/web-player/xpui-routes-label-artists.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-label-artists.119bcd08.js","build/web-player/xpui-routes-label.1e412d6c.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-label.1e412d6c.css","build/web-player/xpui-routes-label.1e412d6c.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-label.1e412d6c.js","build/web-player/xpui-routes-label.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-label.1e412d6c.css","build/web-player/xpui-routes-label.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-label.1e412d6c.js","build/web-player/xpui-routes-lyrics.03beff94.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-lyrics.03beff94.js","build/web-player/xpui-routes-lyrics.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-lyrics.03beff94.js","build/web-player/xpui-routes-offline-browse.66026a9b.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-offline-browse.66026a9b.css","build/web-player/xpui-routes-offline-browse.66026a9b.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-offline-browse.66026a9b.js","build/web-player/xpui-routes-offline-browse.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-offline-browse.66026a9b.css","build/web-player/xpui-routes-offline-browse.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-offline-browse.66026a9b.js","build/web-player/xpui-routes-playlist.27c36a54.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-playlist.27c36a54.css","build/web-player/xpui-routes-playlist.27c36a54.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-playlist.27c36a54.js","build/web-player/xpui-routes-playlist.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-playlist.27c36a54.css","build/web-player/xpui-routes-playlist.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-playlist.27c36a54.js","build/web-player/xpui-routes-premium-page.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-premium-page.e18b36d3.css","build/web-player/xpui-routes-premium-page.e18b36d3.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-premium-page.e18b36d3.css","build/web-player/xpui-routes-premium-page.e18b36d3.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-premium-page.e18b36d3.js","build/web-player/xpui-routes-premium-page.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-premium-page.e18b36d3.js","build/web-player/xpui-routes-profile.30bdc1fc.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-profile.30bdc1fc.css","build/web-player/xpui-routes-profile.30bdc1fc.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-profile.30bdc1fc.js","build/web-player/xpui-routes-profile.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-profile.30bdc1fc.css","build/web-player/xpui-routes-profile.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-profile.30bdc1fc.js","build/web-player/xpui-routes-recent-searches.47be4348.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-recent-searches.47be4348.css","build/web-player/xpui-routes-recent-searches.47be4348.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-recent-searches.47be4348.js","build/web-player/xpui-routes-recent-searches.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-recent-searches.47be4348.css","build/web-player/xpui-routes-recent-searches.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-recent-searches.47be4348.js","build/web-player/xpui-routes-recently-played.a81e6316.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-recently-played.a81e6316.css","build/web-player/xpui-routes-recently-played.a81e6316.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-recently-played.a81e6316.js","build/web-player/xpui-routes-recently-played.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-recently-played.a81e6316.css","build/web-player/xpui-routes-recently-played.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-recently-played.a81e6316.js","build/web-player/xpui-routes-search.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-search.d56d394c.css","build/web-player/xpui-routes-search.d56d394c.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-search.d56d394c.css","build/web-player/xpui-routes-search.d56d394c.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-search.d56d394c.js","build/web-player/xpui-routes-search.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-search.d56d394c.js","build/web-player/xpui-routes-see-all-playlist-leavebehinds.801b41db.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-see-all-playlist-leavebehinds.801b41db.css","build/web-player/xpui-routes-see-all-playlist-leavebehinds.801b41db.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-see-all-playlist-leavebehinds.801b41db.js","build/web-player/xpui-routes-see-all-playlist-leavebehinds.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-see-all-playlist-leavebehinds.801b41db.css","build/web-player/xpui-routes-see-all-playlist-leavebehinds.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-see-all-playlist-leavebehinds.801b41db.js","build/web-player/xpui-routes-show-more-like-this.39b15296.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-show-more-like-this.39b15296.css","build/web-player/xpui-routes-show-more-like-this.39b15296.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-show-more-like-this.39b15296.js","build/web-player/xpui-routes-show-more-like-this.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-show-more-like-this.39b15296.css","build/web-player/xpui-routes-show-more-like-this.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-show-more-like-this.39b15296.js","build/web-player/xpui-routes-show.0dbcf4cb.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-show.0dbcf4cb.css","build/web-player/xpui-routes-show.0dbcf4cb.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-show.0dbcf4cb.js","build/web-player/xpui-routes-show.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-show.0dbcf4cb.css","build/web-player/xpui-routes-show.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-show.0dbcf4cb.js","build/web-player/xpui-routes-stage-page.07a1d88c.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-stage-page.07a1d88c.css","build/web-player/xpui-routes-stage-page.07a1d88c.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-stage-page.07a1d88c.js","build/web-player/xpui-routes-stage-page.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-stage-page.07a1d88c.css","build/web-player/xpui-routes-stage-page.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-stage-page.07a1d88c.js","build/web-player/xpui-routes-track-v2.11a0446c.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-track-v2.11a0446c.css","build/web-player/xpui-routes-track-v2.11a0446c.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-track-v2.11a0446c.js","build/web-player/xpui-routes-track-v2.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-track-v2.11a0446c.css","build/web-player/xpui-routes-track-v2.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-track-v2.11a0446c.js","build/web-player/xpui-routes-track.4d74ee8a.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-track.4d74ee8a.js","build/web-player/xpui-routes-track.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-track.4d74ee8a.js","build/web-player/xpui-routes-venues.23c2d768.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-venues.23c2d768.css","build/web-player/xpui-routes-venues.23c2d768.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-venues.23c2d768.js","build/web-player/xpui-routes-venues.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-venues.23c2d768.css","build/web-player/xpui-routes-venues.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-venues.23c2d768.js","build/web-player/xpui-routes-web-settings.200b2e8e.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-web-settings.200b2e8e.css","build/web-player/xpui-routes-web-settings.200b2e8e.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-web-settings.200b2e8e.js","build/web-player/xpui-routes-web-settings.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-web-settings.200b2e8e.css","build/web-player/xpui-routes-web-settings.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-web-settings.200b2e8e.js","build/web-player/xpui-routes-your-library-x.a086c344.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-your-library-x.a086c344.css","build/web-player/xpui-routes-your-library-x.a086c344.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-your-library-x.a086c344.js","build/web-player/xpui-routes-your-library-x.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-your-library-x.a086c344.css","build/web-player/xpui-routes-your-library-x.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/xpui-routes-your-library-x.a086c344.js","build/web-player/your-sound-capsule-modal.c803235b.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/your-sound-capsule-modal.c803235b.css","build/web-player/your-sound-capsule-modal.c803235b.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/your-sound-capsule-modal.c803235b.js","build/web-player/your-sound-capsule-modal.css":"https://open-exp.spotifycdn.com/cdn/build/web-player/your-sound-capsule-modal.c803235b.css","build/web-player/your-sound-capsule-modal.js":"https://open-exp.spotifycdn.com/cdn/build/web-player/your-sound-capsule-modal.c803235b.js","fonts/spoticon_regular_2.ttf":"https://open-exp.spotifycdn.com/cdn/fonts/spoticon_regular_2.934a2234.ttf","fonts/spoticon_regular_2.woff":"https://open-exp.spotifycdn.com/cdn/fonts/spoticon_regular_2.aa5f50f5.woff","fonts/spoticon_regular_2.woff2":"https://open-exp.spotifycdn.com/cdn/fonts/spoticon_regular_2.d728648c.woff2","fonts/SpotifyMixUITitleVariable.woff2":"https://open-exp.spotifycdn.com/cdn/fonts/SpotifyMixUITitleVariable.406312aa.woff2","generated-locales/mobile-web-player/__longest.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/__longest.e5368a8b.json","generated-locales/mobile-web-player/__longest.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/__longest.f2700c92.yml","generated-locales/mobile-web-player/af.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/af.642a545a.json","generated-locales/mobile-web-player/af.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/af.9b4ceb4b.yml","generated-locales/mobile-web-player/am.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/am.29ba0123.json","generated-locales/mobile-web-player/am.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/am.990d383c.yml","generated-locales/mobile-web-player/ar-EG.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar-EG.4eb12fb2.json","generated-locales/mobile-web-player/ar-EG.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar-EG.d3024b74.yml","generated-locales/mobile-web-player/ar-MA.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar-MA.6d7d9ce2.json","generated-locales/mobile-web-player/ar-MA.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar-MA.5576d628.yml","generated-locales/mobile-web-player/ar-SA.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar-SA.11be8bbe.json","generated-locales/mobile-web-player/ar-SA.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar-SA.cc625151.yml","generated-locales/mobile-web-player/ar.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar.7cd701b9.json","generated-locales/mobile-web-player/ar.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar.ab7ada28.yml","generated-locales/mobile-web-player/az.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/az.adaedae4.json","generated-locales/mobile-web-player/az.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/az.4a3282ab.yml","generated-locales/mobile-web-player/bg.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/bg.09e3dc08.json","generated-locales/mobile-web-player/bg.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/bg.3944a357.yml","generated-locales/mobile-web-player/bho.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/bho.4825f7e5.json","generated-locales/mobile-web-player/bho.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/bho.f8891e18.yml","generated-locales/mobile-web-player/bn.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/bn.87d0d81a.json","generated-locales/mobile-web-player/bn.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/bn.2a52f5ac.yml","generated-locales/mobile-web-player/bs.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/bs.f478d502.json","generated-locales/mobile-web-player/bs.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/bs.285c3d46.yml","generated-locales/mobile-web-player/ca.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ca.3d0972b8.json","generated-locales/mobile-web-player/ca.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ca.e778ffee.yml","generated-locales/mobile-web-player/cs.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/cs.0e32cd86.json","generated-locales/mobile-web-player/cs.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/cs.6f8de31b.yml","generated-locales/mobile-web-player/da.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/da.12129181.json","generated-locales/mobile-web-player/da.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/da.72ac36e7.yml","generated-locales/mobile-web-player/de.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/de.dca68374.json","generated-locales/mobile-web-player/de.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/de.371592fa.yml","generated-locales/mobile-web-player/el.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/el.257adffb.json","generated-locales/mobile-web-player/el.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/el.83a68e15.yml","generated-locales/mobile-web-player/en-GB.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/en-GB.10b3ad22.json","generated-locales/mobile-web-player/en-GB.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/en-GB.d650d198.yml","generated-locales/mobile-web-player/en.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/en.e6c15df7.json","generated-locales/mobile-web-player/en.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/en.33948c0a.yml","generated-locales/mobile-web-player/es-419.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/es-419.5b72bf32.json","generated-locales/mobile-web-player/es-419.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/es-419.a344c927.yml","generated-locales/mobile-web-player/es-AR.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/es-AR.fd7d62f9.json","generated-locales/mobile-web-player/es-AR.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/es-AR.c48dfd48.yml","generated-locales/mobile-web-player/es-MX.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/es-MX.33fe8e5a.json","generated-locales/mobile-web-player/es-MX.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/es-MX.3405540b.yml","generated-locales/mobile-web-player/es.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/es.60a2da04.json","generated-locales/mobile-web-player/es.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/es.707ef3d6.yml","generated-locales/mobile-web-player/et.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/et.59c0a808.json","generated-locales/mobile-web-player/et.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/et.0d896210.yml","generated-locales/mobile-web-player/eu.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/eu.ec4b8778.json","generated-locales/mobile-web-player/eu.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/eu.554062a2.yml","generated-locales/mobile-web-player/fa.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/fa.ab40a808.json","generated-locales/mobile-web-player/fa.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/fa.d1e27563.yml","generated-locales/mobile-web-player/fi.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/fi.47c6baf0.json","generated-locales/mobile-web-player/fi.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/fi.328dfcc3.yml","generated-locales/mobile-web-player/fil.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/fil.8d57405c.json","generated-locales/mobile-web-player/fil.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/fil.74cd6dc2.yml","generated-locales/mobile-web-player/fr-CA.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/fr-CA.f0f23451.json","generated-locales/mobile-web-player/fr-CA.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/fr-CA.c135a837.yml","generated-locales/mobile-web-player/fr.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/fr.79aca010.json","generated-locales/mobile-web-player/fr.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/fr.d8d88b86.yml","generated-locales/mobile-web-player/gl.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/gl.7c83595d.json","generated-locales/mobile-web-player/gl.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/gl.41cebc15.yml","generated-locales/mobile-web-player/gu.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/gu.f04de5e5.json","generated-locales/mobile-web-player/gu.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/gu.fdfa9ad6.yml","generated-locales/mobile-web-player/he.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/he.88c7cce8.json","generated-locales/mobile-web-player/he.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/he.5bd12def.yml","generated-locales/mobile-web-player/hi.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/hi.55c72c30.json","generated-locales/mobile-web-player/hi.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/hi.606c77d5.yml","generated-locales/mobile-web-player/hr.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/hr.baccd01e.json","generated-locales/mobile-web-player/hr.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/hr.8a8897d9.yml","generated-locales/mobile-web-player/hu.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/hu.a19ecdfe.json","generated-locales/mobile-web-player/hu.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/hu.15ba8f1f.yml","generated-locales/mobile-web-player/id.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/id.a1ec2060.json","generated-locales/mobile-web-player/id.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/id.13872da0.yml","generated-locales/mobile-web-player/is.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/is.89e82830.json","generated-locales/mobile-web-player/is.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/is.c57ba5e4.yml","generated-locales/mobile-web-player/it.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/it.86fec85b.json","generated-locales/mobile-web-player/it.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/it.6fc53ff0.yml","generated-locales/mobile-web-player/ja.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ja.58f833f2.json","generated-locales/mobile-web-player/ja.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ja.99b72602.yml","generated-locales/mobile-web-player/kn.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/kn.6ba482ec.json","generated-locales/mobile-web-player/kn.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/kn.4093a46d.yml","generated-locales/mobile-web-player/ko.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ko.35ac59c4.json","generated-locales/mobile-web-player/ko.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ko.ec3dbb3e.yml","generated-locales/mobile-web-player/lt.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/lt.76ccc8a9.json","generated-locales/mobile-web-player/lt.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/lt.41d57e29.yml","generated-locales/mobile-web-player/lv.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/lv.124ef98c.json","generated-locales/mobile-web-player/lv.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/lv.e463514b.yml","generated-locales/mobile-web-player/mk.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/mk.db886c4e.json","generated-locales/mobile-web-player/mk.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/mk.4f83674f.yml","generated-locales/mobile-web-player/ml.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ml.8e1859c2.json","generated-locales/mobile-web-player/ml.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ml.1c7dd51f.yml","generated-locales/mobile-web-player/mr.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/mr.9d44b020.json","generated-locales/mobile-web-player/mr.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/mr.b4960a60.yml","generated-locales/mobile-web-player/ms.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ms.a5bd6c54.json","generated-locales/mobile-web-player/ms.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ms.dbddb04f.yml","generated-locales/mobile-web-player/nb.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/nb.885637c0.json","generated-locales/mobile-web-player/nb.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/nb.81abc490.yml","generated-locales/mobile-web-player/ne.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ne.bf4a7c1e.json","generated-locales/mobile-web-player/ne.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ne.abb191ff.yml","generated-locales/mobile-web-player/nl.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/nl.e37deef6.json","generated-locales/mobile-web-player/nl.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/nl.9253e738.yml","generated-locales/mobile-web-player/or.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/or.81af0322.json","generated-locales/mobile-web-player/or.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/or.69d9a8e9.yml","generated-locales/mobile-web-player/pa-IN.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/pa-IN.fb75590f.json","generated-locales/mobile-web-player/pa-IN.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/pa-IN.d2215fe7.yml","generated-locales/mobile-web-player/pa-PK.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/pa-PK.6933d3e5.json","generated-locales/mobile-web-player/pa-PK.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/pa-PK.4c602f9d.yml","generated-locales/mobile-web-player/pl.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/pl.287ac09d.json","generated-locales/mobile-web-player/pl.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/pl.0004aa40.yml","generated-locales/mobile-web-player/pt-BR.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/pt-BR.91c35c07.json","generated-locales/mobile-web-player/pt-BR.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/pt-BR.5fa063e9.yml","generated-locales/mobile-web-player/pt-PT.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/pt-PT.0fa7dfcf.json","generated-locales/mobile-web-player/pt-PT.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/pt-PT.37b05231.yml","generated-locales/mobile-web-player/ro.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ro.1a920418.json","generated-locales/mobile-web-player/ro.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ro.adb2d269.yml","generated-locales/mobile-web-player/ru.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ru.7ee6eb6e.json","generated-locales/mobile-web-player/ru.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ru.d2efc558.yml","generated-locales/mobile-web-player/sk.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/sk.11d8ac0b.json","generated-locales/mobile-web-player/sk.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/sk.0b777e52.yml","generated-locales/mobile-web-player/sl.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/sl.db91d345.json","generated-locales/mobile-web-player/sl.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/sl.c7f129d8.yml","generated-locales/mobile-web-player/sr.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/sr.b688ae59.json","generated-locales/mobile-web-player/sr.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/sr.8942eb15.yml","generated-locales/mobile-web-player/sv.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/sv.f565b096.json","generated-locales/mobile-web-player/sv.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/sv.8f403ba9.yml","generated-locales/mobile-web-player/sw.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/sw.657391b6.json","generated-locales/mobile-web-player/sw.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/sw.2bd5dc47.yml","generated-locales/mobile-web-player/ta.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ta.dfec21a5.json","generated-locales/mobile-web-player/ta.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ta.1b04991a.yml","generated-locales/mobile-web-player/te.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/te.a3648732.json","generated-locales/mobile-web-player/te.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/te.dff70fad.yml","generated-locales/mobile-web-player/th.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/th.74592cf6.json","generated-locales/mobile-web-player/th.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/th.ebc72652.yml","generated-locales/mobile-web-player/tr.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/tr.e6d06cf6.json","generated-locales/mobile-web-player/tr.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/tr.961c0bb7.yml","generated-locales/mobile-web-player/uk.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/uk.7432d7dd.json","generated-locales/mobile-web-player/uk.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/uk.423a5111.yml","generated-locales/mobile-web-player/ur.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ur.7ace4937.json","generated-locales/mobile-web-player/ur.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/ur.50cb2ff5.yml","generated-locales/mobile-web-player/vi.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/vi.26f7325e.json","generated-locales/mobile-web-player/vi.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/vi.f44f17f8.yml","generated-locales/mobile-web-player/zh-CN.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/zh-CN.e639dfc6.json","generated-locales/mobile-web-player/zh-CN.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/zh-CN.99cc1be8.yml","generated-locales/mobile-web-player/zh-HK.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/zh-HK.a7b729a0.json","generated-locales/mobile-web-player/zh-HK.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/zh-HK.d9fa0734.yml","generated-locales/mobile-web-player/zh-TW.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/zh-TW.0d091342.json","generated-locales/mobile-web-player/zh-TW.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/zh-TW.86a65406.yml","generated-locales/mobile-web-player/zu.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/zu.4cb3a533.json","generated-locales/mobile-web-player/zu.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/mobile-web-player/zu.fc1bf094.yml","generated-locales/web-player/__longest.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/__longest.c7f39436.json","generated-locales/web-player/__longest.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/__longest.9a7bc58d.yml","generated-locales/web-player/af.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/af.c0560c60.json","generated-locales/web-player/af.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/af.5b8c728a.yml","generated-locales/web-player/am.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/am.861869b4.json","generated-locales/web-player/am.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/am.4d789d83.yml","generated-locales/web-player/ar-EG.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ar-EG.b456ce1e.json","generated-locales/web-player/ar-EG.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ar-EG.04cbd3a3.yml","generated-locales/web-player/ar-MA.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ar-MA.de59064b.json","generated-locales/web-player/ar-MA.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ar-MA.04c2e3e0.yml","generated-locales/web-player/ar-SA.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ar-SA.827d1b42.json","generated-locales/web-player/ar-SA.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ar-SA.7d1288ea.yml","generated-locales/web-player/ar.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ar.bdc29244.json","generated-locales/web-player/ar.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ar.8bbf16a3.yml","generated-locales/web-player/az.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/az.b40662e0.json","generated-locales/web-player/az.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/az.5ce986d9.yml","generated-locales/web-player/bg.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/bg.da9b3bc8.json","generated-locales/web-player/bg.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/bg.ce0cd446.yml","generated-locales/web-player/bho.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/bho.ae1c0b2f.json","generated-locales/web-player/bho.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/bho.8ea21f22.yml","generated-locales/web-player/bn.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/bn.331236b3.json","generated-locales/web-player/bn.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/bn.10ac32b7.yml","generated-locales/web-player/bs.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/bs.cb726396.json","generated-locales/web-player/bs.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/bs.c2c49c12.yml","generated-locales/web-player/ca.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ca.faf7079a.json","generated-locales/web-player/ca.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ca.da67c735.yml","generated-locales/web-player/cs.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/cs.8e9371a8.json","generated-locales/web-player/cs.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/cs.c5fc1b04.yml","generated-locales/web-player/da.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/da.a572adff.json","generated-locales/web-player/da.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/da.02b3836a.yml","generated-locales/web-player/de.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/de.d556e1f8.json","generated-locales/web-player/de.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/de.c9974b45.yml","generated-locales/web-player/el.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/el.a246a81e.json","generated-locales/web-player/el.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/el.347f997d.yml","generated-locales/web-player/en-GB.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/en-GB.c3a33b9c.json","generated-locales/web-player/en-GB.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/en-GB.11c4c507.yml","generated-locales/web-player/en.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/en.33df8665.json","generated-locales/web-player/en.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/en.33240393.yml","generated-locales/web-player/es-419.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/es-419.1f5d9635.json","generated-locales/web-player/es-419.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/es-419.f079f642.yml","generated-locales/web-player/es-AR.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/es-AR.43dfd2cd.json","generated-locales/web-player/es-AR.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/es-AR.b958d126.yml","generated-locales/web-player/es-MX.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/es-MX.5cb34fdb.json","generated-locales/web-player/es-MX.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/es-MX.062ef0b0.yml","generated-locales/web-player/es.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/es.286a662c.json","generated-locales/web-player/es.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/es.3126dabf.yml","generated-locales/web-player/et.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/et.ec4071c6.json","generated-locales/web-player/et.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/et.163ea476.yml","generated-locales/web-player/eu.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/eu.71f1b966.json","generated-locales/web-player/eu.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/eu.1445e743.yml","generated-locales/web-player/fa.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/fa.00a836ff.json","generated-locales/web-player/fa.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/fa.76dc29de.yml","generated-locales/web-player/fi.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/fi.90825b5f.json","generated-locales/web-player/fi.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/fi.0359d193.yml","generated-locales/web-player/fil.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/fil.ea83b3bf.json","generated-locales/web-player/fil.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/fil.0c19a8d9.yml","generated-locales/web-player/fr-CA.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/fr-CA.e7b151a6.json","generated-locales/web-player/fr-CA.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/fr-CA.ac70164f.yml","generated-locales/web-player/fr.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/fr.d4f81546.json","generated-locales/web-player/fr.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/fr.2560d789.yml","generated-locales/web-player/gl.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/gl.8af9c02e.json","generated-locales/web-player/gl.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/gl.f8b53a18.yml","generated-locales/web-player/gu.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/gu.c4974c33.json","generated-locales/web-player/gu.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/gu.0b38f216.yml","generated-locales/web-player/he.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/he.c730d17a.json","generated-locales/web-player/he.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/he.adee0d8f.yml","generated-locales/web-player/hi.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/hi.1b17cf50.json","generated-locales/web-player/hi.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/hi.7341ad13.yml","generated-locales/web-player/hr.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/hr.a8a01245.json","generated-locales/web-player/hr.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/hr.3261e65e.yml","generated-locales/web-player/hu.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/hu.97f75d87.json","generated-locales/web-player/hu.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/hu.29bd6f1d.yml","generated-locales/web-player/id.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/id.3159d34c.json","generated-locales/web-player/id.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/id.72830fdb.yml","generated-locales/web-player/is.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/is.6f8c8a9f.json","generated-locales/web-player/is.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/is.9b31508f.yml","generated-locales/web-player/it.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/it.bddd3bf5.json","generated-locales/web-player/it.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/it.ccdd7e5d.yml","generated-locales/web-player/ja.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ja.b5c45b3c.json","generated-locales/web-player/ja.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ja.ebe648d3.yml","generated-locales/web-player/kn.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/kn.e9c9e0e0.json","generated-locales/web-player/kn.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/kn.05182e9f.yml","generated-locales/web-player/ko.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ko.9394c426.json","generated-locales/web-player/ko.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ko.581a9dbd.yml","generated-locales/web-player/lt.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/lt.318da721.json","generated-locales/web-player/lt.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/lt.ded15113.yml","generated-locales/web-player/lv.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/lv.0ea5d82b.json","generated-locales/web-player/lv.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/lv.024dd4d8.yml","generated-locales/web-player/mk.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/mk.7c05b4f7.json","generated-locales/web-player/mk.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/mk.4cd26a87.yml","generated-locales/web-player/ml.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ml.61214701.json","generated-locales/web-player/ml.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ml.55c39687.yml","generated-locales/web-player/mr.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/mr.6f823726.json","generated-locales/web-player/mr.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/mr.7f064669.yml","generated-locales/web-player/ms.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ms.d270b789.json","generated-locales/web-player/ms.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ms.42b3953d.yml","generated-locales/web-player/nb.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/nb.f542f4c2.json","generated-locales/web-player/nb.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/nb.5e2ce25d.yml","generated-locales/web-player/ne.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ne.16ce68a1.json","generated-locales/web-player/ne.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ne.ee008775.yml","generated-locales/web-player/nl.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/nl.23b9ca20.json","generated-locales/web-player/nl.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/nl.2d96886a.yml","generated-locales/web-player/or.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/or.829a135f.json","generated-locales/web-player/or.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/or.a1c99163.yml","generated-locales/web-player/pa-IN.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/pa-IN.1f4c99d5.json","generated-locales/web-player/pa-IN.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/pa-IN.b94a14ac.yml","generated-locales/web-player/pa-PK.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/pa-PK.e25b2ebb.json","generated-locales/web-player/pa-PK.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/pa-PK.fc09a7e8.yml","generated-locales/web-player/pl.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/pl.9b27df49.json","generated-locales/web-player/pl.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/pl.8af5de40.yml","generated-locales/web-player/pt-BR.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/pt-BR.1fb742b8.json","generated-locales/web-player/pt-BR.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/pt-BR.01a770ce.yml","generated-locales/web-player/pt-PT.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/pt-PT.ef1ed015.json","generated-locales/web-player/pt-PT.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/pt-PT.150ba5ff.yml","generated-locales/web-player/ro.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ro.b8a6698d.json","generated-locales/web-player/ro.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ro.02eb4634.yml","generated-locales/web-player/ru.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ru.8a0ca00e.json","generated-locales/web-player/ru.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ru.a589d370.yml","generated-locales/web-player/sk.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/sk.f59770bc.json","generated-locales/web-player/sk.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/sk.33835220.yml","generated-locales/web-player/sl.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/sl.9655fdee.json","generated-locales/web-player/sl.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/sl.ad4e8065.yml","generated-locales/web-player/sr.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/sr.60d54c12.json","generated-locales/web-player/sr.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/sr.63203ec3.yml","generated-locales/web-player/sv.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/sv.e9a75903.json","generated-locales/web-player/sv.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/sv.e37e9228.yml","generated-locales/web-player/sw.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/sw.102c33f5.json","generated-locales/web-player/sw.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/sw.d1a50533.yml","generated-locales/web-player/ta.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ta.2eb3706a.json","generated-locales/web-player/ta.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ta.f398ec17.yml","generated-locales/web-player/te.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/te.c8c723fd.json","generated-locales/web-player/te.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/te.eeffbe5b.yml","generated-locales/web-player/th.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/th.9d7189ed.json","generated-locales/web-player/th.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/th.7362582b.yml","generated-locales/web-player/tr.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/tr.7d9e709b.json","generated-locales/web-player/tr.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/tr.06529443.yml","generated-locales/web-player/uk.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/uk.ca915c93.json","generated-locales/web-player/uk.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/uk.941d3d81.yml","generated-locales/web-player/ur.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ur.1d214fae.json","generated-locales/web-player/ur.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/ur.789bbc72.yml","generated-locales/web-player/vi.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/vi.21e76dbc.json","generated-locales/web-player/vi.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/vi.194f9c2a.yml","generated-locales/web-player/zh-CN.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/zh-CN.aa8089dd.json","generated-locales/web-player/zh-CN.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/zh-CN.c8088920.yml","generated-locales/web-player/zh-HK.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/zh-HK.aa512011.json","generated-locales/web-player/zh-HK.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/zh-HK.9ba43e72.yml","generated-locales/web-player/zh-TW.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/zh-TW.66dd011b.json","generated-locales/web-player/zh-TW.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/zh-TW.f342b46f.yml","generated-locales/web-player/zu.json":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/zu.d5c31af8.json","generated-locales/web-player/zu.yml":"https://open-exp.spotifycdn.com/cdn/generated-locales/web-player/zu.b91bbc34.yml","generated/manifest-mobile-web-player.json":"https://open-exp.spotifycdn.com/cdn/generated/manifest-mobile-web-player.c3aa223f.json","generated/manifest-web-player.1609946b.json":"https://open-exp.spotifycdn.com/cdn/generated/manifest-web-player.1609946b.json","generated/manifest-web-player.json":"https://open-exp.spotifycdn.com/cdn/generated/manifest-web-player.1609946b.json","generated/opensearch.xml":"https://open-exp.spotifycdn.com/cdn/generated/opensearch.4c98ceb2.xml","images/ac-row-placeholder.webp":"https://open-exp.spotifycdn.com/cdn/images/ac-row-placeholder.48d7f834.webp","images/audiobooks-upsell.png":"https://open-exp.spotifycdn.com/cdn/images/audiobooks-upsell.b3ac0d4d.png","images/concert-hub-fb-card.png":"https://open-exp.spotifycdn.com/cdn/images/concert-hub-fb-card.441729d4.png","images/concert-hub-twitter-card.png":"https://open-exp.spotifycdn.com/cdn/images/concert-hub-twitter-card.3a727f24.png","images/desktop-auth-check.svg":"https://open-exp.spotifycdn.com/cdn/images/desktop-auth-check.b52fdf92.svg","images/desktop-auth-error.svg":"https://open-exp.spotifycdn.com/cdn/images/desktop-auth-error.c501db65.svg","images/device-picker-equaliser-animation.webp":"https://open-exp.spotifycdn.com/cdn/images/device-picker-equaliser-animation.946e7243.webp","images/devices/mac.png":"https://open-exp.spotifycdn.com/cdn/images/devices/mac.3fbeb8c6.png","images/download-badges/apple/ar.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/ar.1824fcf0.svg","images/download-badges/apple/az.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/az.d1d0d236.svg","images/download-badges/apple/bg.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/bg.91f32944.svg","images/download-badges/apple/cs_CZ.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/cs_CZ.770c4db1.svg","images/download-badges/apple/da.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/da.c8e421bf.svg","images/download-badges/apple/de.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/de.4f2967e1.svg","images/download-badges/apple/ee.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/ee.8a33a502.svg","images/download-badges/apple/el.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/el.de805cd2.svg","images/download-badges/apple/en.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/en.a26fc5b3.svg","images/download-badges/apple/es_mx.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/es_mx.f5c911a6.svg","images/download-badges/apple/es.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/es.e4d7c2c1.svg","images/download-badges/apple/fi.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/fi.a596995c.svg","images/download-badges/apple/fp.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/fp.326f9d7d.svg","images/download-badges/apple/fr_ca.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/fr_ca.86b6a05f.svg","images/download-badges/apple/fr.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/fr.86b6a05f.svg","images/download-badges/apple/he.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/he.1c3c0674.svg","images/download-badges/apple/hu.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/hu.d3701bda.svg","images/download-badges/apple/id.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/id.0f506939.svg","images/download-badges/apple/int.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/int.a26fc5b3.svg","images/download-badges/apple/it.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/it.ec8e9566.svg","images/download-badges/apple/ja.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/ja.988fe0a4.svg","images/download-badges/apple/ko.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/ko.fc82d534.svg","images/download-badges/apple/lt.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/lt.2f7dda2e.svg","images/download-badges/apple/lv.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/lv.f8f2ada8.svg","images/download-badges/apple/ms.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/ms.b514bd30.svg","images/download-badges/apple/mt.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/mt.56d43333.svg","images/download-badges/apple/nb.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/nb.3fb09d42.svg","images/download-badges/apple/nl.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/nl.cfe2cffb.svg","images/download-badges/apple/pl.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/pl.da8b2cc1.svg","images/download-badges/apple/pt_br.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/pt_br.0e9291a9.svg","images/download-badges/apple/pt.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/pt.d23b8044.svg","images/download-badges/apple/ro.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/ro.18b0e4aa.svg","images/download-badges/apple/ru.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/ru.27f35c64.svg","images/download-badges/apple/sk.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/sk.fcfe01bb.svg","images/download-badges/apple/sl.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/sl.16aa6861.svg","images/download-badges/apple/sv.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/sv.eb249aad.svg","images/download-badges/apple/th_TH.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/th_TH.bd27f521.svg","images/download-badges/apple/tr.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/tr.b85100fb.svg","images/download-badges/apple/vi_VN.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/vi_VN.2389eefe.svg","images/download-badges/apple/zh_HANS.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/zh_HANS.65191b2d.svg","images/download-badges/apple/zh_HANT.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/apple/zh_HANT.0371becc.svg","images/download-badges/google/af.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/af.ae001be2.svg","images/download-badges/google/am.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/am.372c6037.svg","images/download-badges/google/ar.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/ar.cd5a9c9f.svg","images/download-badges/google/az.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/az.335a1312.svg","images/download-badges/google/be.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/be.b7aab397.svg","images/download-badges/google/bg.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/bg.36e16d12.svg","images/download-badges/google/bn.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/bn.caebede3.svg","images/download-badges/google/bs.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/bs.2b698874.svg","images/download-badges/google/ca.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/ca.c69ad4a9.svg","images/download-badges/google/cr.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/cr.f00ffb22.svg","images/download-badges/google/cs_CZ.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/cs_CZ.d0c1b48c.svg","images/download-badges/google/da.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/da.32a363d1.svg","images/download-badges/google/de.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/de.c25c9a1a.svg","images/download-badges/google/el.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/el.9bc07eb7.svg","images/download-badges/google/en.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/en.4225ff97.svg","images/download-badges/google/es_419.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/es_419.d48419c2.svg","images/download-badges/google/es.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/es.d5c49840.svg","images/download-badges/google/et.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/et.c7e95c37.svg","images/download-badges/google/eu.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/eu.49008e3b.svg","images/download-badges/google/fa.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/fa.82f86aca.svg","images/download-badges/google/fi.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/fi.48f9c93b.svg","images/download-badges/google/fp.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/fp.1d00d42c.svg","images/download-badges/google/fr_ca.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/fr_ca.bee20e52.svg","images/download-badges/google/fr.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/fr.f4a59221.svg","images/download-badges/google/gl.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/gl.c4c5f2af.svg","images/download-badges/google/gu.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/gu.1ba10b76.svg","images/download-badges/google/he.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/he.32dd5ba2.svg","images/download-badges/google/hi.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/hi.b4d00217.svg","images/download-badges/google/hr.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/hr.048c3c06.svg","images/download-badges/google/hu.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/hu.5f3bb91c.svg","images/download-badges/google/hy.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/hy.f4aa037d.svg","images/download-badges/google/id.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/id.1be44e48.svg","images/download-badges/google/int.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/int.4225ff97.svg","images/download-badges/google/is.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/is.91ac2cdd.svg","images/download-badges/google/it.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/it.8e4ee51d.svg","images/download-badges/google/ja.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/ja.21c77d3e.svg","images/download-badges/google/ka.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/ka.fd284ef6.svg","images/download-badges/google/kk.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/kk.7a37852b.svg","images/download-badges/google/km.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/km.61013401.svg","images/download-badges/google/kn.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/kn.b68b5a7f.svg","images/download-badges/google/ko.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/ko.4cb7e739.svg","images/download-badges/google/ky.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/ky.86be01b2.svg","images/download-badges/google/lo.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/lo.e0399327.svg","images/download-badges/google/lt.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/lt.255ad6b7.svg","images/download-badges/google/lv.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/lv.4eb7eb55.svg","images/download-badges/google/mk.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/mk.f2d843e7.svg","images/download-badges/google/ml.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/ml.8112e118.svg","images/download-badges/google/mn.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/mn.5a51a47f.svg","images/download-badges/google/mr.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/mr.27521f2d.svg","images/download-badges/google/ms.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/ms.d8c1dc24.svg","images/download-badges/google/my.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/my.ec1966ff.svg","images/download-badges/google/nb.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/nb.0db2ec35.svg","images/download-badges/google/ne.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/ne.32b2d2c4.svg","images/download-badges/google/nl.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/nl.04fedd31.svg","images/download-badges/google/pa.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/pa.6441b127.svg","images/download-badges/google/pl.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/pl.cdc8d867.svg","images/download-badges/google/pt_br.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/pt_br.eb6408a2.svg","images/download-badges/google/pt.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/pt.ed0ec6f3.svg","images/download-badges/google/ro.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/ro.e8bb34e4.svg","images/download-badges/google/ru.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/ru.f0dcb322.svg","images/download-badges/google/si.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/si.c2afce37.svg","images/download-badges/google/sk.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/sk.059c3889.svg","images/download-badges/google/sl.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/sl.314b8f3e.svg","images/download-badges/google/sq.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/sq.c97e1dc3.svg","images/download-badges/google/sr.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/sr.04dc409c.svg","images/download-badges/google/sv.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/sv.6a0bf092.svg","images/download-badges/google/sw.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/sw.b78c34e6.svg","images/download-badges/google/ta.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/ta.a5e77926.svg","images/download-badges/google/te.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/te.eab54ff5.svg","images/download-badges/google/th_TH.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/th_TH.b01f6b10.svg","images/download-badges/google/tr.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/tr.14ad406a.svg","images/download-badges/google/ua.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/ua.2660fb0f.svg","images/download-badges/google/ur.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/ur.3d6df06a.svg","images/download-badges/google/uz.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/uz.32c6052c.svg","images/download-badges/google/vi_VN.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/vi_VN.22e4b4d0.svg","images/download-badges/google/zh_HANS.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/zh_HANS.d17b7344.svg","images/download-badges/google/zh_HANT.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/zh_HANT.1f8801f9.svg","images/download-badges/google/zh_hk.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/zh_hk.1075ff06.svg","images/download-badges/google/zu.svg":"https://open-exp.spotifycdn.com/cdn/images/download-badges/google/zu.c1790a7e.svg","images/download-page-image-mac.png":"https://open-exp.spotifycdn.com/cdn/images/download-page-image-mac.fec937cc.png","images/download-page-image.png":"https://open-exp.spotifycdn.com/cdn/images/download-page-image.781553a2.png","images/equaliser-animated-green.gif":"https://open-exp.spotifycdn.com/cdn/images/equaliser-animated-green.f5eb96f2.gif","images/equaliser-animated-white.gif":"https://open-exp.spotifycdn.com/cdn/images/equaliser-animated-white.fe5ead9a.gif","images/equaliser-green.svg":"https://open-exp.spotifycdn.com/cdn/images/equaliser-green.f8937a92.svg","images/equaliser-white.svg":"https://open-exp.spotifycdn.com/cdn/images/equaliser-white.549bb1a5.svg","images/error-page-logo.svg":"https://open-exp.spotifycdn.com/cdn/images/error-page-logo.24aca703.svg","images/expanded-mask-rtl.png":"https://open-exp.spotifycdn.com/cdn/images/expanded-mask-rtl.87cee49e.png","images/expanded-mask.png":"https://open-exp.spotifycdn.com/cdn/images/expanded-mask.b89e4858.png","images/favicon.ico":"https://open-exp.spotifycdn.com/cdn/images/favicon.0f31d2ea.ico","images/favicon.png":"https://open-exp.spotifycdn.com/cdn/images/favicon.ad2294bb.png","images/favicon16.png":"https://open-exp.spotifycdn.com/cdn/images/favicon16.1c487bff.png","images/favicon32.png":"https://open-exp.spotifycdn.com/cdn/images/favicon32.b64ecc03.png","images/focused_stroy_play.png":"https://open-exp.spotifycdn.com/cdn/images/focused_stroy_play.0a7b9c70.png","images/group-session-logo.svg":"https://open-exp.spotifycdn.com/cdn/images/group-session-logo.da2207f2.svg","images/icons/Spotify_1024.png":"https://open-exp.spotifycdn.com/cdn/images/icons/Spotify_1024.31b25879.png","images/icons/Spotify_128.png":"https://open-exp.spotifycdn.com/cdn/images/icons/Spotify_128.45316d66.png","images/icons/Spotify_16.png":"https://open-exp.spotifycdn.com/cdn/images/icons/Spotify_16.0689c81c.png","images/icons/Spotify_256.png":"https://open-exp.spotifycdn.com/cdn/images/icons/Spotify_256.17e41e58.png","images/icons/Spotify_32.png":"https://open-exp.spotifycdn.com/cdn/images/icons/Spotify_32.581ad6d0.png","images/icons/Spotify_512.png":"https://open-exp.spotifycdn.com/cdn/images/icons/Spotify_512.7e07796d.png","images/icons/Spotify_MWP_192.png":"https://open-exp.spotifycdn.com/cdn/images/icons/Spotify_MWP_192.ebf939fd.png","images/icons/Spotify_MWP_384.png":"https://open-exp.spotifycdn.com/cdn/images/icons/Spotify_MWP_384.b98158a0.png","images/icons/Spotify_MWP_512.png":"https://open-exp.spotifycdn.com/cdn/images/icons/Spotify_MWP_512.50dd387d.png","images/logo-complete-black.svg":"https://open-exp.spotifycdn.com/cdn/images/logo-complete-black.7f2bf9c6.svg","images/logo-complete-white.svg":"https://open-exp.spotifycdn.com/cdn/images/logo-complete-white.6a0aab22.svg","images/mando_helmet_felix.png":"https://open-exp.spotifycdn.com/cdn/images/mando_helmet_felix.dae5ebde.png","images/mando_helmet.png":"https://open-exp.spotifycdn.com/cdn/images/mando_helmet.8be96d29.png","images/mask-rtl.png":"https://open-exp.spotifycdn.com/cdn/images/mask-rtl.1e659743.png","images/mask.png":"https://open-exp.spotifycdn.com/cdn/images/mask.01073394.png","images/microsoft-store-download-button.svg":"https://open-exp.spotifycdn.com/cdn/images/microsoft-store-download-button.229efb8c.svg","images/mid-year.png":"https://open-exp.spotifycdn.com/cdn/images/mid-year.b8dc82ed.png","images/mwp-episodelist-placeholder.png":"https://open-exp.spotifycdn.com/cdn/images/mwp-episodelist-placeholder.e05b65de.png","images/mwp-tracklist-placeholder.png":"https://open-exp.spotifycdn.com/cdn/images/mwp-tracklist-placeholder.cf93b3da.png","images/og-socialsession-preview.png":"https://open-exp.spotifycdn.com/cdn/images/og-socialsession-preview.9e4f6be9.png","images/onboarding-card-create-playlist.png":"https://open-exp.spotifycdn.com/cdn/images/onboarding-card-create-playlist.446cfa2b.png","images/onboarding-card-keyboard-shortcuts.png":"https://open-exp.spotifycdn.com/cdn/images/onboarding-card-keyboard-shortcuts.607c4719.png","images/onboarding-card-miniplayer.png":"https://open-exp.spotifycdn.com/cdn/images/onboarding-card-miniplayer.68b3e745.png","images/onboarding-card-queue-it-up.png":"https://open-exp.spotifycdn.com/cdn/images/onboarding-card-queue-it-up.c9d17716.png","images/onboarding-card-save-playlist.png":"https://open-exp.spotifycdn.com/cdn/images/onboarding-card-save-playlist.8b8b95f9.png","images/onboarding-card-start-playing.png":"https://open-exp.spotifycdn.com/cdn/images/onboarding-card-start-playing.406d62f0.png","images/onboarding-card-watch-video.png":"https://open-exp.spotifycdn.com/cdn/images/onboarding-card-watch-video.9c6356f5.png","images/s2l-desktopui-ltr.png":"https://open-exp.spotifycdn.com/cdn/images/s2l-desktopui-ltr.24ae80af.png","images/s2l-desktopui-rtl.png":"https://open-exp.spotifycdn.com/cdn/images/s2l-desktopui-rtl.a951b1c4.png","images/s2l-mobileui.png":"https://open-exp.spotifycdn.com/cdn/images/s2l-mobileui.b9486ac8.png","images/stranger-things-nether-bottom-left.png":"https://open-exp.spotifycdn.com/cdn/images/stranger-things-nether-bottom-left.a9cad61d.png","images/stranger-things-nether-bottom-right.png":"https://open-exp.spotifycdn.com/cdn/images/stranger-things-nether-bottom-right.edad4515.png","images/stranger-things-spores.png":"https://open-exp.spotifycdn.com/cdn/images/stranger-things-spores.bb01c791.png","images/sw_saber_ahsoka1.png":"https://open-exp.spotifycdn.com/cdn/images/sw_saber_ahsoka1.dd3102a7.png","images/sw_saber_anakin.png":"https://open-exp.spotifycdn.com/cdn/images/sw_saber_anakin.46a12813.png","images/sw_saber_leia.png":"https://open-exp.spotifycdn.com/cdn/images/sw_saber_leia.47a0ef84.png","images/sw_saber_luke.png":"https://open-exp.spotifycdn.com/cdn/images/sw_saber_luke.170f9698.png","images/sw_saber_mace.png":"https://open-exp.spotifycdn.com/cdn/images/sw_saber_mace.de90025a.png","images/sw_saber_rey.png":"https://open-exp.spotifycdn.com/cdn/images/sw_saber_rey.b4a2ccc1.png","images/sw_saber_vader.png":"https://open-exp.spotifycdn.com/cdn/images/sw_saber_vader.78296917.png","images/tracklist-placeholder-compact.webp":"https://open-exp.spotifycdn.com/cdn/images/tracklist-placeholder-compact.c14407f1.webp","images/tracklist-placeholder.webp":"https://open-exp.spotifycdn.com/cdn/images/tracklist-placeholder.b256dae9.webp","images/upcoming-releases-fb-card.png":"https://open-exp.spotifycdn.com/cdn/images/upcoming-releases-fb-card.835cb2e1.png","images/upcoming-releases-twitter-card.png":"https://open-exp.spotifycdn.com/cdn/images/upcoming-releases-twitter-card.389be3c0.png","images/ylx-artist-row-placeholder.webp":"https://open-exp.spotifycdn.com/cdn/images/ylx-artist-row-placeholder.4521609f.webp","images/ylx-compact-row-placeholder.webp":"https://open-exp.spotifycdn.com/cdn/images/ylx-compact-row-placeholder.9a165ac8.webp","images/ylx-row-placeholder.webp":"https://open-exp.spotifycdn.com/cdn/images/ylx-row-placeholder.ea7b0f5d.webp","images/zara-larsson-singles.png":"https://open-exp.spotifycdn.com/cdn/images/zara-larsson-singles.6ae2a0b6.png","js/fb.js":"https://open-exp.spotifycdn.com/cdn/js/fb.eaa6059b.js","js/gtm.js":"https://open-exp.spotifycdn.com/cdn/js/gtm.96d60fd6.js","js/mock-service-worker/mockServiceWorker.js":"https://open-exp.spotifycdn.com/cdn/js/mock-service-worker/mockServiceWorker.259d19cf.js","js/retargeting-pixels.js":"https://open-exp.spotifycdn.com/cdn/js/retargeting-pixels.02346b5d.js","js/urlRedirect.js":"https://open-exp.spotifycdn.com/cdn/js/urlRedirect.ef28c70a.js","js/urlScheme.js":"https://open-exp.spotifycdn.com/cdn/js/urlScheme.8a27d6c9.js","sounds/mando_this_is_the_way_103.mp3":"https://open-exp.spotifycdn.com/cdn/sounds/mando_this_is_the_way_103.575447f5.mp3","sounds/mando_this_is_the_way_107.mp3":"https://open-exp.spotifycdn.com/cdn/sounds/mando_this_is_the_way_107.1734fbc5.mp3","sounds/mando_this_is_the_way_felix.mp3":"https://open-exp.spotifycdn.com/cdn/sounds/mando_this_is_the_way_felix.1b9141d1.mp3","sounds/silence.mp3":"https://open-exp.spotifycdn.com/cdn/sounds/silence.6f2e9108.mp3"}':'{"animations/onboarding_optimize.json":"https://open.spotifycdn.com/cdn/animations/onboarding_optimize.94a0c9e0.json","animations/plus-deselected-confetti-white.json":"https://open.spotifycdn.com/cdn/animations/plus-deselected-confetti-white.18248d54.json","animations/plus-selected-confetti-white.json":"https://open.spotifycdn.com/cdn/animations/plus-selected-confetti-white.c1e7034c.json","animations/watch-feed-entry-point-border.json":"https://open.spotifycdn.com/cdn/animations/watch-feed-entry-point-border.db783168.json","build/desktop-auth/desktop-auth.31d6cfe0.js":"https://open.spotifycdn.com/cdn/build/desktop-auth/desktop-auth.31d6cfe0.js","build/desktop-auth/desktop-auth.c1174423.css":"https://open.spotifycdn.com/cdn/build/desktop-auth/desktop-auth.c1174423.css","build/desktop-auth/desktop-auth.css":"https://open.spotifycdn.com/cdn/build/desktop-auth/desktop-auth.c1174423.css","build/desktop-auth/desktop-auth.js":"https://open.spotifycdn.com/cdn/build/desktop-auth/desktop-auth.31d6cfe0.js","build/desktop-auth/report.json":"https://open.spotifycdn.com/cdn/build/desktop-auth/report.53a65ef3.json","build/desktop-auth/stats.json":"https://open.spotifycdn.com/cdn/build/desktop-auth/stats.3ba8aeed.json","build/error-page/error-page.21584b21.css":"https://open.spotifycdn.com/cdn/build/error-page/error-page.21584b21.css","build/error-page/error-page.31d6cfe0.js":"https://open.spotifycdn.com/cdn/build/error-page/error-page.31d6cfe0.js","build/error-page/error-page.css":"https://open.spotifycdn.com/cdn/build/error-page/error-page.21584b21.css","build/error-page/error-page.js":"https://open.spotifycdn.com/cdn/build/error-page/error-page.31d6cfe0.js","build/error-page/report.json":"https://open.spotifycdn.com/cdn/build/error-page/report.9ef8277b.json","build/error-page/stats.json":"https://open.spotifycdn.com/cdn/build/error-page/stats.abebfc75.json","build/mobile-web-player/760.aba6ebe6.br":"https://open.spotifycdn.com/cdn/build/mobile-web-player/760.aba6ebe6.br","build/mobile-web-player/760.aba6ebe6.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/760.aba6ebe6.js","build/mobile-web-player/760.br":"https://open.spotifycdn.com/cdn/build/mobile-web-player/760.aba6ebe6.br","build/mobile-web-player/760.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/760.aba6ebe6.js","build/mobile-web-player/mobile-web-player.974fbbfb.br":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mobile-web-player.974fbbfb.br","build/mobile-web-player/mobile-web-player.974fbbfb.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mobile-web-player.974fbbfb.js","build/mobile-web-player/mobile-web-player.br":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mobile-web-player.974fbbfb.br","build/mobile-web-player/mobile-web-player.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mobile-web-player.fa26d89b.css","build/mobile-web-player/mobile-web-player.fa26d89b.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mobile-web-player.fa26d89b.css","build/mobile-web-player/mobile-web-player.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mobile-web-player.974fbbfb.js","build/mobile-web-player/mwp-artist-page.4f996390.br":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-artist-page.4f996390.br","build/mobile-web-player/mwp-artist-page.4f996390.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-artist-page.4f996390.css","build/mobile-web-player/mwp-artist-page.4f996390.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-artist-page.4f996390.js","build/mobile-web-player/mwp-artist-page.br":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-artist-page.4f996390.br","build/mobile-web-player/mwp-artist-page.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-artist-page.4f996390.css","build/mobile-web-player/mwp-artist-page.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-artist-page.4f996390.js","build/mobile-web-player/mwp-browse-page.073c4ddb.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-browse-page.073c4ddb.css","build/mobile-web-player/mwp-browse-page.073c4ddb.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-browse-page.073c4ddb.js","build/mobile-web-player/mwp-browse-page.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-browse-page.073c4ddb.css","build/mobile-web-player/mwp-browse-page.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-browse-page.073c4ddb.js","build/mobile-web-player/mwp-discography-page.6c1048b0.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-discography-page.6c1048b0.css","build/mobile-web-player/mwp-discography-page.6c1048b0.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-discography-page.6c1048b0.js","build/mobile-web-player/mwp-discography-page.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-discography-page.6c1048b0.css","build/mobile-web-player/mwp-discography-page.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-discography-page.6c1048b0.js","build/mobile-web-player/mwp-download-page.c4d5d354.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-download-page.c4d5d354.css","build/mobile-web-player/mwp-download-page.c4d5d354.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-download-page.c4d5d354.js","build/mobile-web-player/mwp-download-page.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-download-page.c4d5d354.css","build/mobile-web-player/mwp-download-page.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-download-page.c4d5d354.js","build/mobile-web-player/mwp-home-page.34a29d93.br":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-home-page.34a29d93.br","build/mobile-web-player/mwp-home-page.34a29d93.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-home-page.34a29d93.css","build/mobile-web-player/mwp-home-page.34a29d93.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-home-page.34a29d93.js","build/mobile-web-player/mwp-home-page.br":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-home-page.34a29d93.br","build/mobile-web-player/mwp-home-page.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-home-page.34a29d93.css","build/mobile-web-player/mwp-home-page.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-home-page.34a29d93.js","build/mobile-web-player/mwp-search-landing.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-landing.f7b84cd8.css","build/mobile-web-player/mwp-search-landing.f7b84cd8.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-landing.f7b84cd8.css","build/mobile-web-player/mwp-search-landing.f7b84cd8.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-landing.f7b84cd8.js","build/mobile-web-player/mwp-search-landing.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-landing.f7b84cd8.js","build/mobile-web-player/mwp-search-results.aa24a230.br":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-results.aa24a230.br","build/mobile-web-player/mwp-search-results.aa24a230.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-results.aa24a230.css","build/mobile-web-player/mwp-search-results.aa24a230.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-results.aa24a230.js","build/mobile-web-player/mwp-search-results.br":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-results.aa24a230.br","build/mobile-web-player/mwp-search-results.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-results.aa24a230.css","build/mobile-web-player/mwp-search-results.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-search-results.aa24a230.js","build/mobile-web-player/mwp-section-page.906dedb9.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-section-page.906dedb9.css","build/mobile-web-player/mwp-section-page.906dedb9.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-section-page.906dedb9.js","build/mobile-web-player/mwp-section-page.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-section-page.906dedb9.css","build/mobile-web-player/mwp-section-page.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-section-page.906dedb9.js","build/mobile-web-player/mwp-user-profile.cbbcd8af.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-user-profile.cbbcd8af.css","build/mobile-web-player/mwp-user-profile.cbbcd8af.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-user-profile.cbbcd8af.js","build/mobile-web-player/mwp-user-profile.css":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-user-profile.cbbcd8af.css","build/mobile-web-player/mwp-user-profile.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/mwp-user-profile.cbbcd8af.js","build/mobile-web-player/report.json":"https://open.spotifycdn.com/cdn/build/mobile-web-player/report.e079f044.json","build/mobile-web-player/stats.json":"https://open.spotifycdn.com/cdn/build/mobile-web-player/stats.e2655859.json","build/mobile-web-player/vendor~mobile-web-player.76e078d4.br":"https://open.spotifycdn.com/cdn/build/mobile-web-player/vendor~mobile-web-player.76e078d4.br","build/mobile-web-player/vendor~mobile-web-player.76e078d4.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/vendor~mobile-web-player.76e078d4.js","build/mobile-web-player/vendor~mobile-web-player.br":"https://open.spotifycdn.com/cdn/build/mobile-web-player/vendor~mobile-web-player.76e078d4.br","build/mobile-web-player/vendor~mobile-web-player.js":"https://open.spotifycdn.com/cdn/build/mobile-web-player/vendor~mobile-web-player.76e078d4.js","build/web-player/1050.29f2a182.js":"https://open.spotifycdn.com/cdn/build/web-player/1050.29f2a182.js","build/web-player/1050.js":"https://open.spotifycdn.com/cdn/build/web-player/1050.29f2a182.js","build/web-player/11.f48217a8.js":"https://open.spotifycdn.com/cdn/build/web-player/11.f48217a8.js","build/web-player/11.js":"https://open.spotifycdn.com/cdn/build/web-player/11.f48217a8.js","build/web-player/1507.99f6e737.css":"https://open.spotifycdn.com/cdn/build/web-player/1507.99f6e737.css","build/web-player/1507.99f6e737.js":"https://open.spotifycdn.com/cdn/build/web-player/1507.99f6e737.js","build/web-player/1507.css":"https://open.spotifycdn.com/cdn/build/web-player/1507.99f6e737.css","build/web-player/1507.js":"https://open.spotifycdn.com/cdn/build/web-player/1507.99f6e737.js","build/web-player/2487.2d27c920.css":"https://open.spotifycdn.com/cdn/build/web-player/2487.2d27c920.css","build/web-player/2487.2d27c920.js":"https://open.spotifycdn.com/cdn/build/web-player/2487.2d27c920.js","build/web-player/2487.css":"https://open.spotifycdn.com/cdn/build/web-player/2487.2d27c920.css","build/web-player/2487.js":"https://open.spotifycdn.com/cdn/build/web-player/2487.2d27c920.js","build/web-player/2615.073d5827.js":"https://open.spotifycdn.com/cdn/build/web-player/2615.073d5827.js","build/web-player/2615.js":"https://open.spotifycdn.com/cdn/build/web-player/2615.073d5827.js","build/web-player/2778.49503c9f.js":"https://open.spotifycdn.com/cdn/build/web-player/2778.49503c9f.js","build/web-player/2778.js":"https://open.spotifycdn.com/cdn/build/web-player/2778.49503c9f.js","build/web-player/2788.f02f1f83.js":"https://open.spotifycdn.com/cdn/build/web-player/2788.f02f1f83.js","build/web-player/2788.js":"https://open.spotifycdn.com/cdn/build/web-player/2788.f02f1f83.js","build/web-player/30.f0c80350.js":"https://open.spotifycdn.com/cdn/build/web-player/30.f0c80350.js","build/web-player/30.js":"https://open.spotifycdn.com/cdn/build/web-player/30.f0c80350.js","build/web-player/3094.efa75660.js":"https://open.spotifycdn.com/cdn/build/web-player/3094.efa75660.js","build/web-player/3094.js":"https://open.spotifycdn.com/cdn/build/web-player/3094.efa75660.js","build/web-player/3365.a1998ff2.js":"https://open.spotifycdn.com/cdn/build/web-player/3365.a1998ff2.js","build/web-player/3365.js":"https://open.spotifycdn.com/cdn/build/web-player/3365.a1998ff2.js","build/web-player/34.84c4dac5.js":"https://open.spotifycdn.com/cdn/build/web-player/34.84c4dac5.js","build/web-player/34.js":"https://open.spotifycdn.com/cdn/build/web-player/34.84c4dac5.js","build/web-player/3504.91ce8ed7.js":"https://open.spotifycdn.com/cdn/build/web-player/3504.91ce8ed7.js","build/web-player/3504.js":"https://open.spotifycdn.com/cdn/build/web-player/3504.91ce8ed7.js","build/web-player/3811.007d2b95.css":"https://open.spotifycdn.com/cdn/build/web-player/3811.007d2b95.css","build/web-player/3811.007d2b95.js":"https://open.spotifycdn.com/cdn/build/web-player/3811.007d2b95.js","build/web-player/3811.css":"https://open.spotifycdn.com/cdn/build/web-player/3811.007d2b95.css","build/web-player/3811.js":"https://open.spotifycdn.com/cdn/build/web-player/3811.007d2b95.js","build/web-player/3858.032ae81b.js":"https://open.spotifycdn.com/cdn/build/web-player/3858.032ae81b.js","build/web-player/3858.js":"https://open.spotifycdn.com/cdn/build/web-player/3858.032ae81b.js","build/web-player/3949.6685dc23.js":"https://open.spotifycdn.com/cdn/build/web-player/3949.6685dc23.js","build/web-player/3949.js":"https://open.spotifycdn.com/cdn/build/web-player/3949.6685dc23.js","build/web-player/4012.2b450182.css":"https://open.spotifycdn.com/cdn/build/web-player/4012.2b450182.css","build/web-player/4012.2b450182.js":"https://open.spotifycdn.com/cdn/build/web-player/4012.2b450182.js","build/web-player/4012.css":"https://open.spotifycdn.com/cdn/build/web-player/4012.2b450182.css","build/web-player/4012.js":"https://open.spotifycdn.com/cdn/build/web-player/4012.2b450182.js","build/web-player/4249.90d13261.js":"https://open.spotifycdn.com/cdn/build/web-player/4249.90d13261.js","build/web-player/4249.js":"https://open.spotifycdn.com/cdn/build/web-player/4249.90d13261.js","build/web-player/4577.2801b87f.js":"https://open.spotifycdn.com/cdn/build/web-player/4577.2801b87f.js","build/web-player/4577.js":"https://open.spotifycdn.com/cdn/build/web-player/4577.2801b87f.js","build/web-player/459.d708d31f.js":"https://open.spotifycdn.com/cdn/build/web-player/459.d708d31f.js","build/web-player/459.js":"https://open.spotifycdn.com/cdn/build/web-player/459.d708d31f.js","build/web-player/4624.5a3aa73b.css":"https://open.spotifycdn.com/cdn/build/web-player/4624.5a3aa73b.css","build/web-player/4624.5a3aa73b.js":"https://open.spotifycdn.com/cdn/build/web-player/4624.5a3aa73b.js","build/web-player/4624.css":"https://open.spotifycdn.com/cdn/build/web-player/4624.5a3aa73b.css","build/web-player/4624.js":"https://open.spotifycdn.com/cdn/build/web-player/4624.5a3aa73b.js","build/web-player/4760.04a71661.js":"https://open.spotifycdn.com/cdn/build/web-player/4760.04a71661.js","build/web-player/4760.js":"https://open.spotifycdn.com/cdn/build/web-player/4760.04a71661.js","build/web-player/4787.d1df1686.js":"https://open.spotifycdn.com/cdn/build/web-player/4787.d1df1686.js","build/web-player/4787.js":"https://open.spotifycdn.com/cdn/build/web-player/4787.d1df1686.js","build/web-player/5480.7401d671.js":"https://open.spotifycdn.com/cdn/build/web-player/5480.7401d671.js","build/web-player/5480.js":"https://open.spotifycdn.com/cdn/build/web-player/5480.7401d671.js","build/web-player/5527.65d4f70d.js":"https://open.spotifycdn.com/cdn/build/web-player/5527.65d4f70d.js","build/web-player/5527.js":"https://open.spotifycdn.com/cdn/build/web-player/5527.65d4f70d.js","build/web-player/5593.3cd060e6.js":"https://open.spotifycdn.com/cdn/build/web-player/5593.3cd060e6.js","build/web-player/5593.js":"https://open.spotifycdn.com/cdn/build/web-player/5593.3cd060e6.js","build/web-player/6070.318aba5a.js":"https://open.spotifycdn.com/cdn/build/web-player/6070.318aba5a.js","build/web-player/6070.js":"https://open.spotifycdn.com/cdn/build/web-player/6070.318aba5a.js","build/web-player/6092.dfa7a6c6.js":"https://open.spotifycdn.com/cdn/build/web-player/6092.dfa7a6c6.js","build/web-player/6092.js":"https://open.spotifycdn.com/cdn/build/web-player/6092.dfa7a6c6.js","build/web-player/6468.ee33935f.js":"https://open.spotifycdn.com/cdn/build/web-player/6468.ee33935f.js","build/web-player/6468.js":"https://open.spotifycdn.com/cdn/build/web-player/6468.ee33935f.js","build/web-player/7500.2c90fc86.js":"https://open.spotifycdn.com/cdn/build/web-player/7500.2c90fc86.js","build/web-player/7500.js":"https://open.spotifycdn.com/cdn/build/web-player/7500.2c90fc86.js","build/web-player/7514.9b8873bb.js":"https://open.spotifycdn.com/cdn/build/web-player/7514.9b8873bb.js","build/web-player/7514.js":"https://open.spotifycdn.com/cdn/build/web-player/7514.9b8873bb.js","build/web-player/7770.afe23622.js":"https://open.spotifycdn.com/cdn/build/web-player/7770.afe23622.js","build/web-player/7770.js":"https://open.spotifycdn.com/cdn/build/web-player/7770.afe23622.js","build/web-player/7864.1a33a9f2.css":"https://open.spotifycdn.com/cdn/build/web-player/7864.1a33a9f2.css","build/web-player/7864.1a33a9f2.js":"https://open.spotifycdn.com/cdn/build/web-player/7864.1a33a9f2.js","build/web-player/7864.css":"https://open.spotifycdn.com/cdn/build/web-player/7864.1a33a9f2.css","build/web-player/7864.js":"https://open.spotifycdn.com/cdn/build/web-player/7864.1a33a9f2.js","build/web-player/7936.236d1091.js":"https://open.spotifycdn.com/cdn/build/web-player/7936.236d1091.js","build/web-player/7936.js":"https://open.spotifycdn.com/cdn/build/web-player/7936.236d1091.js","build/web-player/8182.a1cdcdb9.js":"https://open.spotifycdn.com/cdn/build/web-player/8182.a1cdcdb9.js","build/web-player/8182.js":"https://open.spotifycdn.com/cdn/build/web-player/8182.a1cdcdb9.js","build/web-player/8462.a90dc20b.js":"https://open.spotifycdn.com/cdn/build/web-player/8462.a90dc20b.js","build/web-player/8462.js":"https://open.spotifycdn.com/cdn/build/web-player/8462.a90dc20b.js","build/web-player/869.ad93a7d2.js":"https://open.spotifycdn.com/cdn/build/web-player/869.ad93a7d2.js","build/web-player/869.js":"https://open.spotifycdn.com/cdn/build/web-player/869.ad93a7d2.js","build/web-player/8832.dcbc5d16.js":"https://open.spotifycdn.com/cdn/build/web-player/8832.dcbc5d16.js","build/web-player/8832.js":"https://open.spotifycdn.com/cdn/build/web-player/8832.dcbc5d16.js","build/web-player/8976.4f95ddce.js":"https://open.spotifycdn.com/cdn/build/web-player/8976.4f95ddce.js","build/web-player/8976.js":"https://open.spotifycdn.com/cdn/build/web-player/8976.4f95ddce.js","build/web-player/9268.742978c7.js":"https://open.spotifycdn.com/cdn/build/web-player/9268.742978c7.js","build/web-player/9268.js":"https://open.spotifycdn.com/cdn/build/web-player/9268.742978c7.js","build/web-player/9643.65044125.js":"https://open.spotifycdn.com/cdn/build/web-player/9643.65044125.js","build/web-player/9643.js":"https://open.spotifycdn.com/cdn/build/web-player/9643.65044125.js","build/web-player/9899.521b3c29.js":"https://open.spotifycdn.com/cdn/build/web-player/9899.521b3c29.js","build/web-player/9899.js":"https://open.spotifycdn.com/cdn/build/web-player/9899.521b3c29.js","build/web-player/9990.e30f75f8.js":"https://open.spotifycdn.com/cdn/build/web-player/9990.e30f75f8.js","build/web-player/9990.js":"https://open.spotifycdn.com/cdn/build/web-player/9990.e30f75f8.js","build/web-player/browse-v2.4737e555.css":"https://open.spotifycdn.com/cdn/build/web-player/browse-v2.4737e555.css","build/web-player/browse-v2.4737e555.js":"https://open.spotifycdn.com/cdn/build/web-player/browse-v2.4737e555.js","build/web-player/browse-v2.css":"https://open.spotifycdn.com/cdn/build/web-player/browse-v2.4737e555.css","build/web-player/browse-v2.js":"https://open.spotifycdn.com/cdn/build/web-player/browse-v2.4737e555.js","build/web-player/concerts-on-tour-playlist-card.539a0230.css":"https://open.spotifycdn.com/cdn/build/web-player/concerts-on-tour-playlist-card.539a0230.css","build/web-player/concerts-on-tour-playlist-card.539a0230.js":"https://open.spotifycdn.com/cdn/build/web-player/concerts-on-tour-playlist-card.539a0230.js","build/web-player/concerts-on-tour-playlist-card.css":"https://open.spotifycdn.com/cdn/build/web-player/concerts-on-tour-playlist-card.539a0230.css","build/web-player/concerts-on-tour-playlist-card.js":"https://open.spotifycdn.com/cdn/build/web-player/concerts-on-tour-playlist-card.539a0230.js","build/web-player/dev-playground.397a65d3.js":"https://open.spotifycdn.com/cdn/build/web-player/dev-playground.397a65d3.js","build/web-player/dev-playground.js":"https://open.spotifycdn.com/cdn/build/web-player/dev-playground.397a65d3.js","build/web-player/dwp-billboard-ad.2307d7c6.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-billboard-ad.2307d7c6.css","build/web-player/dwp-billboard-ad.2307d7c6.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-billboard-ad.2307d7c6.js","build/web-player/dwp-billboard-ad.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-billboard-ad.2307d7c6.css","build/web-player/dwp-billboard-ad.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-billboard-ad.2307d7c6.js","build/web-player/dwp-error-page.96a68221.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-error-page.96a68221.css","build/web-player/dwp-error-page.96a68221.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-error-page.96a68221.js","build/web-player/dwp-error-page.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-error-page.96a68221.css","build/web-player/dwp-error-page.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-error-page.96a68221.js","build/web-player/dwp-feedback-bar.2753ee4d.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-feedback-bar.2753ee4d.css","build/web-player/dwp-feedback-bar.2753ee4d.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-feedback-bar.2753ee4d.js","build/web-player/dwp-feedback-bar.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-feedback-bar.2753ee4d.css","build/web-player/dwp-feedback-bar.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-feedback-bar.2753ee4d.js","build/web-player/dwp-home-chips-row.651398d1.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-home-chips-row.651398d1.css","build/web-player/dwp-home-chips-row.651398d1.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-home-chips-row.651398d1.js","build/web-player/dwp-home-chips-row.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-home-chips-row.651398d1.css","build/web-player/dwp-home-chips-row.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-home-chips-row.651398d1.js","build/web-player/dwp-home-header.4aa06cbd.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-home-header.4aa06cbd.css","build/web-player/dwp-home-header.4aa06cbd.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-home-header.4aa06cbd.js","build/web-player/dwp-home-header.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-home-header.4aa06cbd.css","build/web-player/dwp-home-header.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-home-header.4aa06cbd.js","build/web-player/dwp-leaderboard-component.5b35c0da.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-leaderboard-component.5b35c0da.css","build/web-player/dwp-leaderboard-component.5b35c0da.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-leaderboard-component.5b35c0da.js","build/web-player/dwp-leaderboard-component.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-leaderboard-component.5b35c0da.css","build/web-player/dwp-leaderboard-component.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-leaderboard-component.5b35c0da.js","build/web-player/dwp-now-playing-bar.005d016f.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-now-playing-bar.005d016f.css","build/web-player/dwp-now-playing-bar.005d016f.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-now-playing-bar.005d016f.js","build/web-player/dwp-now-playing-bar.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-now-playing-bar.005d016f.css","build/web-player/dwp-now-playing-bar.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-now-playing-bar.005d016f.js","build/web-player/dwp-offline-empty-state.c6a35bdf.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-offline-empty-state.c6a35bdf.css","build/web-player/dwp-offline-empty-state.c6a35bdf.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-offline-empty-state.c6a35bdf.js","build/web-player/dwp-offline-empty-state.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-offline-empty-state.c6a35bdf.css","build/web-player/dwp-offline-empty-state.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-offline-empty-state.c6a35bdf.js","build/web-player/dwp-page-error-template.3daaed1b.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-page-error-template.3daaed1b.css","build/web-player/dwp-page-error-template.3daaed1b.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-page-error-template.3daaed1b.js","build/web-player/dwp-page-error-template.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-page-error-template.3daaed1b.css","build/web-player/dwp-page-error-template.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-page-error-template.3daaed1b.js","build/web-player/dwp-panel-section.17272552.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-panel-section.17272552.css","build/web-player/dwp-panel-section.17272552.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-panel-section.17272552.js","build/web-player/dwp-panel-section.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-panel-section.17272552.css","build/web-player/dwp-panel-section.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-panel-section.17272552.js","build/web-player/dwp-premium-page.b9a470a8.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-premium-page.b9a470a8.css","build/web-player/dwp-premium-page.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-premium-page.b9a470a8.css","build/web-player/dwp-top-bar.9fdb9b8b.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-top-bar.9fdb9b8b.css","build/web-player/dwp-top-bar.9fdb9b8b.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-top-bar.9fdb9b8b.js","build/web-player/dwp-top-bar.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-top-bar.9fdb9b8b.css","build/web-player/dwp-top-bar.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-top-bar.9fdb9b8b.js","build/web-player/dwp-user-comments.7d843a33.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-user-comments.7d843a33.css","build/web-player/dwp-user-comments.7d843a33.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-user-comments.7d843a33.js","build/web-player/dwp-user-comments.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-user-comments.7d843a33.css","build/web-player/dwp-user-comments.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-user-comments.7d843a33.js","build/web-player/dwp-video-player.137f93c7.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-video-player.137f93c7.css","build/web-player/dwp-video-player.137f93c7.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-video-player.137f93c7.js","build/web-player/dwp-video-player.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-video-player.137f93c7.css","build/web-player/dwp-video-player.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-video-player.137f93c7.js","build/web-player/dwp-watch-feed-view-container.0eb8c1b1.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-watch-feed-view-container.0eb8c1b1.css","build/web-player/dwp-watch-feed-view-container.0eb8c1b1.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-watch-feed-view-container.0eb8c1b1.js","build/web-player/dwp-watch-feed-view-container.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-watch-feed-view-container.0eb8c1b1.css","build/web-player/dwp-watch-feed-view-container.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-watch-feed-view-container.0eb8c1b1.js","build/web-player/dwp-whats-new-feed.1ee6cca3.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-whats-new-feed.1ee6cca3.css","build/web-player/dwp-whats-new-feed.1ee6cca3.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-whats-new-feed.1ee6cca3.js","build/web-player/dwp-whats-new-feed.css":"https://open.spotifycdn.com/cdn/build/web-player/dwp-whats-new-feed.1ee6cca3.css","build/web-player/dwp-whats-new-feed.js":"https://open.spotifycdn.com/cdn/build/web-player/dwp-whats-new-feed.1ee6cca3.js","build/web-player/employee-notifications.css":"https://open.spotifycdn.com/cdn/build/web-player/employee-notifications.d35d2f8d.css","build/web-player/employee-notifications.d35d2f8d.css":"https://open.spotifycdn.com/cdn/build/web-player/employee-notifications.d35d2f8d.css","build/web-player/employee-notifications.d35d2f8d.js":"https://open.spotifycdn.com/cdn/build/web-player/employee-notifications.d35d2f8d.js","build/web-player/employee-notifications.js":"https://open.spotifycdn.com/cdn/build/web-player/employee-notifications.d35d2f8d.js","build/web-player/encore~web-player.371af379.js":"https://open.spotifycdn.com/cdn/build/web-player/encore~web-player.371af379.js","build/web-player/encore~web-player.js":"https://open.spotifycdn.com/cdn/build/web-player/encore~web-player.371af379.js","build/web-player/home-ad-card.css":"https://open.spotifycdn.com/cdn/build/web-player/home-ad-card.ef167012.css","build/web-player/home-ad-card.ef167012.css":"https://open.spotifycdn.com/cdn/build/web-player/home-ad-card.ef167012.css","build/web-player/home-ad-card.ef167012.js":"https://open.spotifycdn.com/cdn/build/web-player/home-ad-card.ef167012.js","build/web-player/home-ad-card.js":"https://open.spotifycdn.com/cdn/build/web-player/home-ad-card.ef167012.js","build/web-player/home-ads-container.cd242b75.js":"https://open.spotifycdn.com/cdn/build/web-player/home-ads-container.cd242b75.js","build/web-player/home-ads-container.js":"https://open.spotifycdn.com/cdn/build/web-player/home-ads-container.cd242b75.js","build/web-player/home-ads-fetcher.25c31ee6.js":"https://open.spotifycdn.com/cdn/build/web-player/home-ads-fetcher.25c31ee6.js","build/web-player/home-ads-fetcher.js":"https://open.spotifycdn.com/cdn/build/web-player/home-ads-fetcher.25c31ee6.js","build/web-player/home-ads-visibility-logger.6efcb60b.js":"https://open.spotifycdn.com/cdn/build/web-player/home-ads-visibility-logger.6efcb60b.js","build/web-player/home-ads-visibility-logger.js":"https://open.spotifycdn.com/cdn/build/web-player/home-ads-visibility-logger.6efcb60b.js","build/web-player/home-hpto.0f8a3f68.css":"https://open.spotifycdn.com/cdn/build/web-player/home-hpto.0f8a3f68.css","build/web-player/home-hpto.0f8a3f68.js":"https://open.spotifycdn.com/cdn/build/web-player/home-hpto.0f8a3f68.js","build/web-player/home-hpto.css":"https://open.spotifycdn.com/cdn/build/web-player/home-hpto.0f8a3f68.css","build/web-player/home-hpto.js":"https://open.spotifycdn.com/cdn/build/web-player/home-hpto.0f8a3f68.js","build/web-player/home-subfeed.bfc692e5.js":"https://open.spotifycdn.com/cdn/build/web-player/home-subfeed.bfc692e5.js","build/web-player/home-subfeed.js":"https://open.spotifycdn.com/cdn/build/web-player/home-subfeed.bfc692e5.js","build/web-player/home-v2-section.css":"https://open.spotifycdn.com/cdn/build/web-player/home-v2-section.d0898cd4.css","build/web-player/home-v2-section.d0898cd4.css":"https://open.spotifycdn.com/cdn/build/web-player/home-v2-section.d0898cd4.css","build/web-player/home-v2-section.d0898cd4.js":"https://open.spotifycdn.com/cdn/build/web-player/home-v2-section.d0898cd4.js","build/web-player/home-v2-section.js":"https://open.spotifycdn.com/cdn/build/web-player/home-v2-section.d0898cd4.js","build/web-player/home-v2.5fdf6950.css":"https://open.spotifycdn.com/cdn/build/web-player/home-v2.5fdf6950.css","build/web-player/home-v2.5fdf6950.js":"https://open.spotifycdn.com/cdn/build/web-player/home-v2.5fdf6950.js","build/web-player/home-v2.css":"https://open.spotifycdn.com/cdn/build/web-player/home-v2.5fdf6950.css","build/web-player/home-v2.js":"https://open.spotifycdn.com/cdn/build/web-player/home-v2.5fdf6950.js","build/web-player/legacy-hpto-compatibility.90c78db5.css":"https://open.spotifycdn.com/cdn/build/web-player/legacy-hpto-compatibility.90c78db5.css","build/web-player/legacy-hpto-compatibility.90c78db5.js":"https://open.spotifycdn.com/cdn/build/web-player/legacy-hpto-compatibility.90c78db5.js","build/web-player/legacy-hpto-compatibility.css":"https://open.spotifycdn.com/cdn/build/web-player/legacy-hpto-compatibility.90c78db5.css","build/web-player/legacy-hpto-compatibility.js":"https://open.spotifycdn.com/cdn/build/web-player/legacy-hpto-compatibility.90c78db5.js","build/web-player/lottie-animation.12001950.js":"https://open.spotifycdn.com/cdn/build/web-player/lottie-animation.12001950.js","build/web-player/lottie-animation.js":"https://open.spotifycdn.com/cdn/build/web-player/lottie-animation.12001950.js","build/web-player/pip-mini-player.a2d5761e.css":"https://open.spotifycdn.com/cdn/build/web-player/pip-mini-player.a2d5761e.css","build/web-player/pip-mini-player.a6ae812d.js":"https://open.spotifycdn.com/cdn/build/web-player/pip-mini-player.a6ae812d.js","build/web-player/pip-mini-player.css":"https://open.spotifycdn.com/cdn/build/web-player/pip-mini-player.a2d5761e.css","build/web-player/pip-mini-player.js":"https://open.spotifycdn.com/cdn/build/web-player/pip-mini-player.a6ae812d.js","build/web-player/playlist-leavebehinds.css":"https://open.spotifycdn.com/cdn/build/web-player/playlist-leavebehinds.f58871db.css","build/web-player/playlist-leavebehinds.f58871db.css":"https://open.spotifycdn.com/cdn/build/web-player/playlist-leavebehinds.f58871db.css","build/web-player/playlist-leavebehinds.f58871db.js":"https://open.spotifycdn.com/cdn/build/web-player/playlist-leavebehinds.f58871db.js","build/web-player/playlist-leavebehinds.js":"https://open.spotifycdn.com/cdn/build/web-player/playlist-leavebehinds.f58871db.js","build/web-player/report.json":"https://open.spotifycdn.com/cdn/build/web-player/report.d7554ae5.json","build/web-player/service-worker.js":"https://open.spotifycdn.com/cdn/build/web-player/service-worker.cff277ec.js","build/web-player/stats.json":"https://open.spotifycdn.com/cdn/build/web-player/stats.c8263617.json","build/web-player/this-is-playlist-concerts-carousel.791a90a9.css":"https://open.spotifycdn.com/cdn/build/web-player/this-is-playlist-concerts-carousel.791a90a9.css","build/web-player/this-is-playlist-concerts-carousel.791a90a9.js":"https://open.spotifycdn.com/cdn/build/web-player/this-is-playlist-concerts-carousel.791a90a9.js","build/web-player/this-is-playlist-concerts-carousel.css":"https://open.spotifycdn.com/cdn/build/web-player/this-is-playlist-concerts-carousel.791a90a9.css","build/web-player/this-is-playlist-concerts-carousel.js":"https://open.spotifycdn.com/cdn/build/web-player/this-is-playlist-concerts-carousel.791a90a9.js","build/web-player/vendor~web-player.5583ad37.js":"https://open.spotifycdn.com/cdn/build/web-player/vendor~web-player.5583ad37.js","build/web-player/vendor~web-player.js":"https://open.spotifycdn.com/cdn/build/web-player/vendor~web-player.5583ad37.js","build/web-player/web-player.2a65413f.js":"https://open.spotifycdn.com/cdn/build/web-player/web-player.2a65413f.js","build/web-player/web-player.44f8f55e.css":"https://open.spotifycdn.com/cdn/build/web-player/web-player.44f8f55e.css","build/web-player/web-player.css":"https://open.spotifycdn.com/cdn/build/web-player/web-player.44f8f55e.css","build/web-player/web-player.js":"https://open.spotifycdn.com/cdn/build/web-player/web-player.2a65413f.js","build/web-player/xpui-debug-window-contents.44c9a25c.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-debug-window-contents.44c9a25c.css","build/web-player/xpui-debug-window-contents.44c9a25c.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-debug-window-contents.44c9a25c.js","build/web-player/xpui-debug-window-contents.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-debug-window-contents.44c9a25c.css","build/web-player/xpui-debug-window-contents.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-debug-window-contents.44c9a25c.js","build/web-player/xpui-desktop-modals.af38f6bb.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-desktop-modals.af38f6bb.css","build/web-player/xpui-desktop-modals.af38f6bb.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-desktop-modals.af38f6bb.js","build/web-player/xpui-desktop-modals.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-desktop-modals.af38f6bb.css","build/web-player/xpui-desktop-modals.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-desktop-modals.af38f6bb.js","build/web-player/xpui-desktop-routes-settings.f0b1364e.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-desktop-routes-settings.f0b1364e.js","build/web-player/xpui-desktop-routes-settings.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-desktop-routes-settings.f0b1364e.js","build/web-player/xpui-pip-mini-player.1a6e07d9.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-pip-mini-player.1a6e07d9.css","build/web-player/xpui-pip-mini-player.1a6e07d9.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-pip-mini-player.1a6e07d9.js","build/web-player/xpui-pip-mini-player.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-pip-mini-player.1a6e07d9.css","build/web-player/xpui-pip-mini-player.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-pip-mini-player.1a6e07d9.js","build/web-player/xpui-playlist-format-redirect-with-params.d635edff.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-playlist-format-redirect-with-params.d635edff.js","build/web-player/xpui-playlist-format-redirect-with-params.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-playlist-format-redirect-with-params.d635edff.js","build/web-player/xpui-root-dialogs.7c498417.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-root-dialogs.7c498417.css","build/web-player/xpui-root-dialogs.7c498417.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-root-dialogs.7c498417.js","build/web-player/xpui-root-dialogs.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-root-dialogs.7c498417.css","build/web-player/xpui-root-dialogs.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-root-dialogs.7c498417.js","build/web-player/xpui-routes-album-prerelease.00891804.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-album-prerelease.00891804.css","build/web-player/xpui-routes-album-prerelease.00891804.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-album-prerelease.00891804.js","build/web-player/xpui-routes-album-prerelease.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-album-prerelease.00891804.css","build/web-player/xpui-routes-album-prerelease.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-album-prerelease.00891804.js","build/web-player/xpui-routes-album.58f45f83.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-album.58f45f83.css","build/web-player/xpui-routes-album.58f45f83.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-album.58f45f83.js","build/web-player/xpui-routes-album.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-album.58f45f83.css","build/web-player/xpui-routes-album.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-album.58f45f83.js","build/web-player/xpui-routes-all-show-ads.c7517e82.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-all-show-ads.c7517e82.css","build/web-player/xpui-routes-all-show-ads.c7517e82.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-all-show-ads.c7517e82.js","build/web-player/xpui-routes-all-show-ads.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-all-show-ads.c7517e82.css","build/web-player/xpui-routes-all-show-ads.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-all-show-ads.c7517e82.js","build/web-player/xpui-routes-blend.16f57672.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-blend.16f57672.css","build/web-player/xpui-routes-blend.16f57672.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-blend.16f57672.js","build/web-player/xpui-routes-blend.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-blend.16f57672.css","build/web-player/xpui-routes-blend.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-blend.16f57672.js","build/web-player/xpui-routes-buddy-feed.208b3c6a.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-buddy-feed.208b3c6a.css","build/web-player/xpui-routes-buddy-feed.208b3c6a.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-buddy-feed.208b3c6a.js","build/web-player/xpui-routes-buddy-feed.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-buddy-feed.208b3c6a.css","build/web-player/xpui-routes-buddy-feed.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-buddy-feed.208b3c6a.js","build/web-player/xpui-routes-collection-concert-gallery.a6f3b3ff.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concert-gallery.a6f3b3ff.css","build/web-player/xpui-routes-collection-concert-gallery.a6f3b3ff.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concert-gallery.a6f3b3ff.js","build/web-player/xpui-routes-collection-concert-gallery.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concert-gallery.a6f3b3ff.css","build/web-player/xpui-routes-collection-concert-gallery.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concert-gallery.a6f3b3ff.js","build/web-player/xpui-routes-collection-concerts.6fffbab6.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concerts.6fffbab6.css","build/web-player/xpui-routes-collection-concerts.6fffbab6.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concerts.6fffbab6.js","build/web-player/xpui-routes-collection-concerts.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concerts.6fffbab6.css","build/web-player/xpui-routes-collection-concerts.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-concerts.6fffbab6.js","build/web-player/xpui-routes-collection-episodes.221f6835.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-episodes.221f6835.css","build/web-player/xpui-routes-collection-episodes.221f6835.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-episodes.221f6835.js","build/web-player/xpui-routes-collection-episodes.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-episodes.221f6835.css","build/web-player/xpui-routes-collection-episodes.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-episodes.221f6835.js","build/web-player/xpui-routes-collection-local-files.9cb92982.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-local-files.9cb92982.css","build/web-player/xpui-routes-collection-local-files.9cb92982.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-local-files.9cb92982.js","build/web-player/xpui-routes-collection-local-files.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-local-files.9cb92982.css","build/web-player/xpui-routes-collection-local-files.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-local-files.9cb92982.js","build/web-player/xpui-routes-collection-songs.5babbd82.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-songs.5babbd82.css","build/web-player/xpui-routes-collection-songs.5babbd82.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-songs.5babbd82.js","build/web-player/xpui-routes-collection-songs.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-songs.5babbd82.css","build/web-player/xpui-routes-collection-songs.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-collection-songs.5babbd82.js","build/web-player/xpui-routes-concert.aca56e64.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-concert.aca56e64.css","build/web-player/xpui-routes-concert.aca56e64.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-concert.aca56e64.js","build/web-player/xpui-routes-concert.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-concert.aca56e64.css","build/web-player/xpui-routes-concert.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-concert.aca56e64.js","build/web-player/xpui-routes-country-hub-section.6faa2fcc.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub-section.6faa2fcc.css","build/web-player/xpui-routes-country-hub-section.6faa2fcc.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub-section.6faa2fcc.js","build/web-player/xpui-routes-country-hub-section.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub-section.6faa2fcc.css","build/web-player/xpui-routes-country-hub-section.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub-section.6faa2fcc.js","build/web-player/xpui-routes-country-hub.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub.d21c0e19.css","build/web-player/xpui-routes-country-hub.d21c0e19.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub.d21c0e19.css","build/web-player/xpui-routes-country-hub.d21c0e19.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub.d21c0e19.js","build/web-player/xpui-routes-country-hub.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-country-hub.d21c0e19.js","build/web-player/xpui-routes-create-playlist.c5c1e4be.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-create-playlist.c5c1e4be.js","build/web-player/xpui-routes-create-playlist.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-create-playlist.c5c1e4be.js","build/web-player/xpui-routes-cultural-moment-hub.0c91a9bd.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-cultural-moment-hub.0c91a9bd.css","build/web-player/xpui-routes-cultural-moment-hub.0c91a9bd.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-cultural-moment-hub.0c91a9bd.js","build/web-player/xpui-routes-cultural-moment-hub.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-cultural-moment-hub.0c91a9bd.css","build/web-player/xpui-routes-cultural-moment-hub.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-cultural-moment-hub.0c91a9bd.js","build/web-player/xpui-routes-download-page.709f4c15.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-download-page.709f4c15.js","build/web-player/xpui-routes-download-page.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-download-page.709f4c15.js","build/web-player/xpui-routes-episode-more-like-this.1c8c1b60.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-episode-more-like-this.1c8c1b60.css","build/web-player/xpui-routes-episode-more-like-this.1c8c1b60.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-episode-more-like-this.1c8c1b60.js","build/web-player/xpui-routes-episode-more-like-this.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-episode-more-like-this.1c8c1b60.css","build/web-player/xpui-routes-episode-more-like-this.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-episode-more-like-this.1c8c1b60.js","build/web-player/xpui-routes-episode.7db0aca2.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-episode.7db0aca2.css","build/web-player/xpui-routes-episode.7db0aca2.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-episode.7db0aca2.js","build/web-player/xpui-routes-episode.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-episode.7db0aca2.css","build/web-player/xpui-routes-episode.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-episode.7db0aca2.js","build/web-player/xpui-routes-health-check.152c652c.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-health-check.152c652c.js","build/web-player/xpui-routes-health-check.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-health-check.152c652c.js","build/web-player/xpui-routes-label-artists.119bcd08.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-label-artists.119bcd08.css","build/web-player/xpui-routes-label-artists.119bcd08.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-label-artists.119bcd08.js","build/web-player/xpui-routes-label-artists.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-label-artists.119bcd08.css","build/web-player/xpui-routes-label-artists.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-label-artists.119bcd08.js","build/web-player/xpui-routes-label.1e412d6c.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-label.1e412d6c.css","build/web-player/xpui-routes-label.1e412d6c.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-label.1e412d6c.js","build/web-player/xpui-routes-label.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-label.1e412d6c.css","build/web-player/xpui-routes-label.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-label.1e412d6c.js","build/web-player/xpui-routes-lyrics.03beff94.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-lyrics.03beff94.js","build/web-player/xpui-routes-lyrics.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-lyrics.03beff94.js","build/web-player/xpui-routes-offline-browse.66026a9b.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-offline-browse.66026a9b.css","build/web-player/xpui-routes-offline-browse.66026a9b.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-offline-browse.66026a9b.js","build/web-player/xpui-routes-offline-browse.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-offline-browse.66026a9b.css","build/web-player/xpui-routes-offline-browse.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-offline-browse.66026a9b.js","build/web-player/xpui-routes-playlist.27c36a54.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-playlist.27c36a54.css","build/web-player/xpui-routes-playlist.27c36a54.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-playlist.27c36a54.js","build/web-player/xpui-routes-playlist.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-playlist.27c36a54.css","build/web-player/xpui-routes-playlist.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-playlist.27c36a54.js","build/web-player/xpui-routes-premium-page.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-premium-page.e18b36d3.css","build/web-player/xpui-routes-premium-page.e18b36d3.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-premium-page.e18b36d3.css","build/web-player/xpui-routes-premium-page.e18b36d3.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-premium-page.e18b36d3.js","build/web-player/xpui-routes-premium-page.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-premium-page.e18b36d3.js","build/web-player/xpui-routes-profile.30bdc1fc.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-profile.30bdc1fc.css","build/web-player/xpui-routes-profile.30bdc1fc.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-profile.30bdc1fc.js","build/web-player/xpui-routes-profile.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-profile.30bdc1fc.css","build/web-player/xpui-routes-profile.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-profile.30bdc1fc.js","build/web-player/xpui-routes-recent-searches.47be4348.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-recent-searches.47be4348.css","build/web-player/xpui-routes-recent-searches.47be4348.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-recent-searches.47be4348.js","build/web-player/xpui-routes-recent-searches.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-recent-searches.47be4348.css","build/web-player/xpui-routes-recent-searches.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-recent-searches.47be4348.js","build/web-player/xpui-routes-recently-played.a81e6316.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-recently-played.a81e6316.css","build/web-player/xpui-routes-recently-played.a81e6316.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-recently-played.a81e6316.js","build/web-player/xpui-routes-recently-played.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-recently-played.a81e6316.css","build/web-player/xpui-routes-recently-played.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-recently-played.a81e6316.js","build/web-player/xpui-routes-search.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-search.d56d394c.css","build/web-player/xpui-routes-search.d56d394c.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-search.d56d394c.css","build/web-player/xpui-routes-search.d56d394c.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-search.d56d394c.js","build/web-player/xpui-routes-search.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-search.d56d394c.js","build/web-player/xpui-routes-see-all-playlist-leavebehinds.801b41db.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-see-all-playlist-leavebehinds.801b41db.css","build/web-player/xpui-routes-see-all-playlist-leavebehinds.801b41db.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-see-all-playlist-leavebehinds.801b41db.js","build/web-player/xpui-routes-see-all-playlist-leavebehinds.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-see-all-playlist-leavebehinds.801b41db.css","build/web-player/xpui-routes-see-all-playlist-leavebehinds.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-see-all-playlist-leavebehinds.801b41db.js","build/web-player/xpui-routes-show-more-like-this.39b15296.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-show-more-like-this.39b15296.css","build/web-player/xpui-routes-show-more-like-this.39b15296.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-show-more-like-this.39b15296.js","build/web-player/xpui-routes-show-more-like-this.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-show-more-like-this.39b15296.css","build/web-player/xpui-routes-show-more-like-this.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-show-more-like-this.39b15296.js","build/web-player/xpui-routes-show.0dbcf4cb.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-show.0dbcf4cb.css","build/web-player/xpui-routes-show.0dbcf4cb.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-show.0dbcf4cb.js","build/web-player/xpui-routes-show.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-show.0dbcf4cb.css","build/web-player/xpui-routes-show.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-show.0dbcf4cb.js","build/web-player/xpui-routes-stage-page.07a1d88c.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-stage-page.07a1d88c.css","build/web-player/xpui-routes-stage-page.07a1d88c.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-stage-page.07a1d88c.js","build/web-player/xpui-routes-stage-page.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-stage-page.07a1d88c.css","build/web-player/xpui-routes-stage-page.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-stage-page.07a1d88c.js","build/web-player/xpui-routes-track-v2.11a0446c.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-track-v2.11a0446c.css","build/web-player/xpui-routes-track-v2.11a0446c.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-track-v2.11a0446c.js","build/web-player/xpui-routes-track-v2.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-track-v2.11a0446c.css","build/web-player/xpui-routes-track-v2.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-track-v2.11a0446c.js","build/web-player/xpui-routes-track.4d74ee8a.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-track.4d74ee8a.js","build/web-player/xpui-routes-track.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-track.4d74ee8a.js","build/web-player/xpui-routes-venues.23c2d768.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-venues.23c2d768.css","build/web-player/xpui-routes-venues.23c2d768.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-venues.23c2d768.js","build/web-player/xpui-routes-venues.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-venues.23c2d768.css","build/web-player/xpui-routes-venues.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-venues.23c2d768.js","build/web-player/xpui-routes-web-settings.200b2e8e.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-web-settings.200b2e8e.css","build/web-player/xpui-routes-web-settings.200b2e8e.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-web-settings.200b2e8e.js","build/web-player/xpui-routes-web-settings.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-web-settings.200b2e8e.css","build/web-player/xpui-routes-web-settings.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-web-settings.200b2e8e.js","build/web-player/xpui-routes-your-library-x.a086c344.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-your-library-x.a086c344.css","build/web-player/xpui-routes-your-library-x.a086c344.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-your-library-x.a086c344.js","build/web-player/xpui-routes-your-library-x.css":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-your-library-x.a086c344.css","build/web-player/xpui-routes-your-library-x.js":"https://open.spotifycdn.com/cdn/build/web-player/xpui-routes-your-library-x.a086c344.js","build/web-player/your-sound-capsule-modal.c803235b.css":"https://open.spotifycdn.com/cdn/build/web-player/your-sound-capsule-modal.c803235b.css","build/web-player/your-sound-capsule-modal.c803235b.js":"https://open.spotifycdn.com/cdn/build/web-player/your-sound-capsule-modal.c803235b.js","build/web-player/your-sound-capsule-modal.css":"https://open.spotifycdn.com/cdn/build/web-player/your-sound-capsule-modal.c803235b.css","build/web-player/your-sound-capsule-modal.js":"https://open.spotifycdn.com/cdn/build/web-player/your-sound-capsule-modal.c803235b.js","fonts/spoticon_regular_2.ttf":"https://open.spotifycdn.com/cdn/fonts/spoticon_regular_2.934a2234.ttf","fonts/spoticon_regular_2.woff":"https://open.spotifycdn.com/cdn/fonts/spoticon_regular_2.aa5f50f5.woff","fonts/spoticon_regular_2.woff2":"https://open.spotifycdn.com/cdn/fonts/spoticon_regular_2.d728648c.woff2","fonts/SpotifyMixUITitleVariable.woff2":"https://open.spotifycdn.com/cdn/fonts/SpotifyMixUITitleVariable.406312aa.woff2","generated-locales/mobile-web-player/__longest.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/__longest.e5368a8b.json","generated-locales/mobile-web-player/__longest.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/__longest.f2700c92.yml","generated-locales/mobile-web-player/af.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/af.642a545a.json","generated-locales/mobile-web-player/af.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/af.9b4ceb4b.yml","generated-locales/mobile-web-player/am.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/am.29ba0123.json","generated-locales/mobile-web-player/am.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/am.990d383c.yml","generated-locales/mobile-web-player/ar-EG.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar-EG.4eb12fb2.json","generated-locales/mobile-web-player/ar-EG.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar-EG.d3024b74.yml","generated-locales/mobile-web-player/ar-MA.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar-MA.6d7d9ce2.json","generated-locales/mobile-web-player/ar-MA.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar-MA.5576d628.yml","generated-locales/mobile-web-player/ar-SA.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar-SA.11be8bbe.json","generated-locales/mobile-web-player/ar-SA.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar-SA.cc625151.yml","generated-locales/mobile-web-player/ar.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar.7cd701b9.json","generated-locales/mobile-web-player/ar.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ar.ab7ada28.yml","generated-locales/mobile-web-player/az.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/az.adaedae4.json","generated-locales/mobile-web-player/az.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/az.4a3282ab.yml","generated-locales/mobile-web-player/bg.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/bg.09e3dc08.json","generated-locales/mobile-web-player/bg.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/bg.3944a357.yml","generated-locales/mobile-web-player/bho.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/bho.4825f7e5.json","generated-locales/mobile-web-player/bho.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/bho.f8891e18.yml","generated-locales/mobile-web-player/bn.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/bn.87d0d81a.json","generated-locales/mobile-web-player/bn.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/bn.2a52f5ac.yml","generated-locales/mobile-web-player/bs.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/bs.f478d502.json","generated-locales/mobile-web-player/bs.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/bs.285c3d46.yml","generated-locales/mobile-web-player/ca.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ca.3d0972b8.json","generated-locales/mobile-web-player/ca.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ca.e778ffee.yml","generated-locales/mobile-web-player/cs.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/cs.0e32cd86.json","generated-locales/mobile-web-player/cs.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/cs.6f8de31b.yml","generated-locales/mobile-web-player/da.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/da.12129181.json","generated-locales/mobile-web-player/da.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/da.72ac36e7.yml","generated-locales/mobile-web-player/de.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/de.dca68374.json","generated-locales/mobile-web-player/de.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/de.371592fa.yml","generated-locales/mobile-web-player/el.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/el.257adffb.json","generated-locales/mobile-web-player/el.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/el.83a68e15.yml","generated-locales/mobile-web-player/en-GB.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/en-GB.10b3ad22.json","generated-locales/mobile-web-player/en-GB.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/en-GB.d650d198.yml","generated-locales/mobile-web-player/en.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/en.e6c15df7.json","generated-locales/mobile-web-player/en.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/en.33948c0a.yml","generated-locales/mobile-web-player/es-419.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/es-419.5b72bf32.json","generated-locales/mobile-web-player/es-419.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/es-419.a344c927.yml","generated-locales/mobile-web-player/es-AR.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/es-AR.fd7d62f9.json","generated-locales/mobile-web-player/es-AR.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/es-AR.c48dfd48.yml","generated-locales/mobile-web-player/es-MX.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/es-MX.33fe8e5a.json","generated-locales/mobile-web-player/es-MX.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/es-MX.3405540b.yml","generated-locales/mobile-web-player/es.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/es.60a2da04.json","generated-locales/mobile-web-player/es.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/es.707ef3d6.yml","generated-locales/mobile-web-player/et.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/et.59c0a808.json","generated-locales/mobile-web-player/et.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/et.0d896210.yml","generated-locales/mobile-web-player/eu.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/eu.ec4b8778.json","generated-locales/mobile-web-player/eu.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/eu.554062a2.yml","generated-locales/mobile-web-player/fa.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/fa.ab40a808.json","generated-locales/mobile-web-player/fa.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/fa.d1e27563.yml","generated-locales/mobile-web-player/fi.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/fi.47c6baf0.json","generated-locales/mobile-web-player/fi.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/fi.328dfcc3.yml","generated-locales/mobile-web-player/fil.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/fil.8d57405c.json","generated-locales/mobile-web-player/fil.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/fil.74cd6dc2.yml","generated-locales/mobile-web-player/fr-CA.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/fr-CA.f0f23451.json","generated-locales/mobile-web-player/fr-CA.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/fr-CA.c135a837.yml","generated-locales/mobile-web-player/fr.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/fr.79aca010.json","generated-locales/mobile-web-player/fr.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/fr.d8d88b86.yml","generated-locales/mobile-web-player/gl.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/gl.7c83595d.json","generated-locales/mobile-web-player/gl.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/gl.41cebc15.yml","generated-locales/mobile-web-player/gu.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/gu.f04de5e5.json","generated-locales/mobile-web-player/gu.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/gu.fdfa9ad6.yml","generated-locales/mobile-web-player/he.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/he.88c7cce8.json","generated-locales/mobile-web-player/he.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/he.5bd12def.yml","generated-locales/mobile-web-player/hi.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/hi.55c72c30.json","generated-locales/mobile-web-player/hi.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/hi.606c77d5.yml","generated-locales/mobile-web-player/hr.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/hr.baccd01e.json","generated-locales/mobile-web-player/hr.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/hr.8a8897d9.yml","generated-locales/mobile-web-player/hu.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/hu.a19ecdfe.json","generated-locales/mobile-web-player/hu.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/hu.15ba8f1f.yml","generated-locales/mobile-web-player/id.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/id.a1ec2060.json","generated-locales/mobile-web-player/id.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/id.13872da0.yml","generated-locales/mobile-web-player/is.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/is.89e82830.json","generated-locales/mobile-web-player/is.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/is.c57ba5e4.yml","generated-locales/mobile-web-player/it.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/it.86fec85b.json","generated-locales/mobile-web-player/it.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/it.6fc53ff0.yml","generated-locales/mobile-web-player/ja.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ja.58f833f2.json","generated-locales/mobile-web-player/ja.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ja.99b72602.yml","generated-locales/mobile-web-player/kn.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/kn.6ba482ec.json","generated-locales/mobile-web-player/kn.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/kn.4093a46d.yml","generated-locales/mobile-web-player/ko.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ko.35ac59c4.json","generated-locales/mobile-web-player/ko.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ko.ec3dbb3e.yml","generated-locales/mobile-web-player/lt.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/lt.76ccc8a9.json","generated-locales/mobile-web-player/lt.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/lt.41d57e29.yml","generated-locales/mobile-web-player/lv.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/lv.124ef98c.json","generated-locales/mobile-web-player/lv.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/lv.e463514b.yml","generated-locales/mobile-web-player/mk.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/mk.db886c4e.json","generated-locales/mobile-web-player/mk.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/mk.4f83674f.yml","generated-locales/mobile-web-player/ml.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ml.8e1859c2.json","generated-locales/mobile-web-player/ml.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ml.1c7dd51f.yml","generated-locales/mobile-web-player/mr.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/mr.9d44b020.json","generated-locales/mobile-web-player/mr.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/mr.b4960a60.yml","generated-locales/mobile-web-player/ms.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ms.a5bd6c54.json","generated-locales/mobile-web-player/ms.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ms.dbddb04f.yml","generated-locales/mobile-web-player/nb.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/nb.885637c0.json","generated-locales/mobile-web-player/nb.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/nb.81abc490.yml","generated-locales/mobile-web-player/ne.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ne.bf4a7c1e.json","generated-locales/mobile-web-player/ne.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ne.abb191ff.yml","generated-locales/mobile-web-player/nl.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/nl.e37deef6.json","generated-locales/mobile-web-player/nl.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/nl.9253e738.yml","generated-locales/mobile-web-player/or.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/or.81af0322.json","generated-locales/mobile-web-player/or.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/or.69d9a8e9.yml","generated-locales/mobile-web-player/pa-IN.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/pa-IN.fb75590f.json","generated-locales/mobile-web-player/pa-IN.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/pa-IN.d2215fe7.yml","generated-locales/mobile-web-player/pa-PK.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/pa-PK.6933d3e5.json","generated-locales/mobile-web-player/pa-PK.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/pa-PK.4c602f9d.yml","generated-locales/mobile-web-player/pl.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/pl.287ac09d.json","generated-locales/mobile-web-player/pl.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/pl.0004aa40.yml","generated-locales/mobile-web-player/pt-BR.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/pt-BR.91c35c07.json","generated-locales/mobile-web-player/pt-BR.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/pt-BR.5fa063e9.yml","generated-locales/mobile-web-player/pt-PT.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/pt-PT.0fa7dfcf.json","generated-locales/mobile-web-player/pt-PT.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/pt-PT.37b05231.yml","generated-locales/mobile-web-player/ro.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ro.1a920418.json","generated-locales/mobile-web-player/ro.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ro.adb2d269.yml","generated-locales/mobile-web-player/ru.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ru.7ee6eb6e.json","generated-locales/mobile-web-player/ru.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ru.d2efc558.yml","generated-locales/mobile-web-player/sk.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/sk.11d8ac0b.json","generated-locales/mobile-web-player/sk.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/sk.0b777e52.yml","generated-locales/mobile-web-player/sl.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/sl.db91d345.json","generated-locales/mobile-web-player/sl.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/sl.c7f129d8.yml","generated-locales/mobile-web-player/sr.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/sr.b688ae59.json","generated-locales/mobile-web-player/sr.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/sr.8942eb15.yml","generated-locales/mobile-web-player/sv.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/sv.f565b096.json","generated-locales/mobile-web-player/sv.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/sv.8f403ba9.yml","generated-locales/mobile-web-player/sw.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/sw.657391b6.json","generated-locales/mobile-web-player/sw.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/sw.2bd5dc47.yml","generated-locales/mobile-web-player/ta.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ta.dfec21a5.json","generated-locales/mobile-web-player/ta.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ta.1b04991a.yml","generated-locales/mobile-web-player/te.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/te.a3648732.json","generated-locales/mobile-web-player/te.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/te.dff70fad.yml","generated-locales/mobile-web-player/th.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/th.74592cf6.json","generated-locales/mobile-web-player/th.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/th.ebc72652.yml","generated-locales/mobile-web-player/tr.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/tr.e6d06cf6.json","generated-locales/mobile-web-player/tr.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/tr.961c0bb7.yml","generated-locales/mobile-web-player/uk.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/uk.7432d7dd.json","generated-locales/mobile-web-player/uk.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/uk.423a5111.yml","generated-locales/mobile-web-player/ur.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ur.7ace4937.json","generated-locales/mobile-web-player/ur.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/ur.50cb2ff5.yml","generated-locales/mobile-web-player/vi.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/vi.26f7325e.json","generated-locales/mobile-web-player/vi.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/vi.f44f17f8.yml","generated-locales/mobile-web-player/zh-CN.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/zh-CN.e639dfc6.json","generated-locales/mobile-web-player/zh-CN.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/zh-CN.99cc1be8.yml","generated-locales/mobile-web-player/zh-HK.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/zh-HK.a7b729a0.json","generated-locales/mobile-web-player/zh-HK.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/zh-HK.d9fa0734.yml","generated-locales/mobile-web-player/zh-TW.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/zh-TW.0d091342.json","generated-locales/mobile-web-player/zh-TW.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/zh-TW.86a65406.yml","generated-locales/mobile-web-player/zu.json":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/zu.4cb3a533.json","generated-locales/mobile-web-player/zu.yml":"https://open.spotifycdn.com/cdn/generated-locales/mobile-web-player/zu.fc1bf094.yml","generated-locales/web-player/__longest.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/__longest.c7f39436.json","generated-locales/web-player/__longest.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/__longest.9a7bc58d.yml","generated-locales/web-player/af.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/af.c0560c60.json","generated-locales/web-player/af.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/af.5b8c728a.yml","generated-locales/web-player/am.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/am.861869b4.json","generated-locales/web-player/am.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/am.4d789d83.yml","generated-locales/web-player/ar-EG.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ar-EG.b456ce1e.json","generated-locales/web-player/ar-EG.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ar-EG.04cbd3a3.yml","generated-locales/web-player/ar-MA.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ar-MA.de59064b.json","generated-locales/web-player/ar-MA.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ar-MA.04c2e3e0.yml","generated-locales/web-player/ar-SA.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ar-SA.827d1b42.json","generated-locales/web-player/ar-SA.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ar-SA.7d1288ea.yml","generated-locales/web-player/ar.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ar.bdc29244.json","generated-locales/web-player/ar.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ar.8bbf16a3.yml","generated-locales/web-player/az.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/az.b40662e0.json","generated-locales/web-player/az.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/az.5ce986d9.yml","generated-locales/web-player/bg.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/bg.da9b3bc8.json","generated-locales/web-player/bg.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/bg.ce0cd446.yml","generated-locales/web-player/bho.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/bho.ae1c0b2f.json","generated-locales/web-player/bho.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/bho.8ea21f22.yml","generated-locales/web-player/bn.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/bn.331236b3.json","generated-locales/web-player/bn.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/bn.10ac32b7.yml","generated-locales/web-player/bs.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/bs.cb726396.json","generated-locales/web-player/bs.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/bs.c2c49c12.yml","generated-locales/web-player/ca.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ca.faf7079a.json","generated-locales/web-player/ca.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ca.da67c735.yml","generated-locales/web-player/cs.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/cs.8e9371a8.json","generated-locales/web-player/cs.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/cs.c5fc1b04.yml","generated-locales/web-player/da.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/da.a572adff.json","generated-locales/web-player/da.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/da.02b3836a.yml","generated-locales/web-player/de.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/de.d556e1f8.json","generated-locales/web-player/de.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/de.c9974b45.yml","generated-locales/web-player/el.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/el.a246a81e.json","generated-locales/web-player/el.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/el.347f997d.yml","generated-locales/web-player/en-GB.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/en-GB.c3a33b9c.json","generated-locales/web-player/en-GB.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/en-GB.11c4c507.yml","generated-locales/web-player/en.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/en.33df8665.json","generated-locales/web-player/en.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/en.33240393.yml","generated-locales/web-player/es-419.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/es-419.1f5d9635.json","generated-locales/web-player/es-419.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/es-419.f079f642.yml","generated-locales/web-player/es-AR.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/es-AR.43dfd2cd.json","generated-locales/web-player/es-AR.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/es-AR.b958d126.yml","generated-locales/web-player/es-MX.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/es-MX.5cb34fdb.json","generated-locales/web-player/es-MX.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/es-MX.062ef0b0.yml","generated-locales/web-player/es.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/es.286a662c.json","generated-locales/web-player/es.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/es.3126dabf.yml","generated-locales/web-player/et.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/et.ec4071c6.json","generated-locales/web-player/et.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/et.163ea476.yml","generated-locales/web-player/eu.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/eu.71f1b966.json","generated-locales/web-player/eu.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/eu.1445e743.yml","generated-locales/web-player/fa.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/fa.00a836ff.json","generated-locales/web-player/fa.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/fa.76dc29de.yml","generated-locales/web-player/fi.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/fi.90825b5f.json","generated-locales/web-player/fi.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/fi.0359d193.yml","generated-locales/web-player/fil.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/fil.ea83b3bf.json","generated-locales/web-player/fil.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/fil.0c19a8d9.yml","generated-locales/web-player/fr-CA.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/fr-CA.e7b151a6.json","generated-locales/web-player/fr-CA.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/fr-CA.ac70164f.yml","generated-locales/web-player/fr.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/fr.d4f81546.json","generated-locales/web-player/fr.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/fr.2560d789.yml","generated-locales/web-player/gl.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/gl.8af9c02e.json","generated-locales/web-player/gl.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/gl.f8b53a18.yml","generated-locales/web-player/gu.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/gu.c4974c33.json","generated-locales/web-player/gu.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/gu.0b38f216.yml","generated-locales/web-player/he.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/he.c730d17a.json","generated-locales/web-player/he.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/he.adee0d8f.yml","generated-locales/web-player/hi.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/hi.1b17cf50.json","generated-locales/web-player/hi.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/hi.7341ad13.yml","generated-locales/web-player/hr.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/hr.a8a01245.json","generated-locales/web-player/hr.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/hr.3261e65e.yml","generated-locales/web-player/hu.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/hu.97f75d87.json","generated-locales/web-player/hu.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/hu.29bd6f1d.yml","generated-locales/web-player/id.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/id.3159d34c.json","generated-locales/web-player/id.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/id.72830fdb.yml","generated-locales/web-player/is.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/is.6f8c8a9f.json","generated-locales/web-player/is.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/is.9b31508f.yml","generated-locales/web-player/it.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/it.bddd3bf5.json","generated-locales/web-player/it.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/it.ccdd7e5d.yml","generated-locales/web-player/ja.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ja.b5c45b3c.json","generated-locales/web-player/ja.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ja.ebe648d3.yml","generated-locales/web-player/kn.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/kn.e9c9e0e0.json","generated-locales/web-player/kn.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/kn.05182e9f.yml","generated-locales/web-player/ko.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ko.9394c426.json","generated-locales/web-player/ko.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ko.581a9dbd.yml","generated-locales/web-player/lt.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/lt.318da721.json","generated-locales/web-player/lt.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/lt.ded15113.yml","generated-locales/web-player/lv.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/lv.0ea5d82b.json","generated-locales/web-player/lv.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/lv.024dd4d8.yml","generated-locales/web-player/mk.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/mk.7c05b4f7.json","generated-locales/web-player/mk.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/mk.4cd26a87.yml","generated-locales/web-player/ml.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ml.61214701.json","generated-locales/web-player/ml.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ml.55c39687.yml","generated-locales/web-player/mr.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/mr.6f823726.json","generated-locales/web-player/mr.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/mr.7f064669.yml","generated-locales/web-player/ms.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ms.d270b789.json","generated-locales/web-player/ms.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ms.42b3953d.yml","generated-locales/web-player/nb.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/nb.f542f4c2.json","generated-locales/web-player/nb.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/nb.5e2ce25d.yml","generated-locales/web-player/ne.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ne.16ce68a1.json","generated-locales/web-player/ne.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ne.ee008775.yml","generated-locales/web-player/nl.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/nl.23b9ca20.json","generated-locales/web-player/nl.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/nl.2d96886a.yml","generated-locales/web-player/or.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/or.829a135f.json","generated-locales/web-player/or.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/or.a1c99163.yml","generated-locales/web-player/pa-IN.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/pa-IN.1f4c99d5.json","generated-locales/web-player/pa-IN.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/pa-IN.b94a14ac.yml","generated-locales/web-player/pa-PK.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/pa-PK.e25b2ebb.json","generated-locales/web-player/pa-PK.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/pa-PK.fc09a7e8.yml","generated-locales/web-player/pl.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/pl.9b27df49.json","generated-locales/web-player/pl.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/pl.8af5de40.yml","generated-locales/web-player/pt-BR.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/pt-BR.1fb742b8.json","generated-locales/web-player/pt-BR.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/pt-BR.01a770ce.yml","generated-locales/web-player/pt-PT.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/pt-PT.ef1ed015.json","generated-locales/web-player/pt-PT.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/pt-PT.150ba5ff.yml","generated-locales/web-player/ro.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ro.b8a6698d.json","generated-locales/web-player/ro.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ro.02eb4634.yml","generated-locales/web-player/ru.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ru.8a0ca00e.json","generated-locales/web-player/ru.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ru.a589d370.yml","generated-locales/web-player/sk.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/sk.f59770bc.json","generated-locales/web-player/sk.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/sk.33835220.yml","generated-locales/web-player/sl.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/sl.9655fdee.json","generated-locales/web-player/sl.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/sl.ad4e8065.yml","generated-locales/web-player/sr.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/sr.60d54c12.json","generated-locales/web-player/sr.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/sr.63203ec3.yml","generated-locales/web-player/sv.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/sv.e9a75903.json","generated-locales/web-player/sv.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/sv.e37e9228.yml","generated-locales/web-player/sw.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/sw.102c33f5.json","generated-locales/web-player/sw.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/sw.d1a50533.yml","generated-locales/web-player/ta.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ta.2eb3706a.json","generated-locales/web-player/ta.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ta.f398ec17.yml","generated-locales/web-player/te.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/te.c8c723fd.json","generated-locales/web-player/te.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/te.eeffbe5b.yml","generated-locales/web-player/th.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/th.9d7189ed.json","generated-locales/web-player/th.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/th.7362582b.yml","generated-locales/web-player/tr.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/tr.7d9e709b.json","generated-locales/web-player/tr.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/tr.06529443.yml","generated-locales/web-player/uk.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/uk.ca915c93.json","generated-locales/web-player/uk.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/uk.941d3d81.yml","generated-locales/web-player/ur.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ur.1d214fae.json","generated-locales/web-player/ur.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/ur.789bbc72.yml","generated-locales/web-player/vi.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/vi.21e76dbc.json","generated-locales/web-player/vi.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/vi.194f9c2a.yml","generated-locales/web-player/zh-CN.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/zh-CN.aa8089dd.json","generated-locales/web-player/zh-CN.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/zh-CN.c8088920.yml","generated-locales/web-player/zh-HK.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/zh-HK.aa512011.json","generated-locales/web-player/zh-HK.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/zh-HK.9ba43e72.yml","generated-locales/web-player/zh-TW.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/zh-TW.66dd011b.json","generated-locales/web-player/zh-TW.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/zh-TW.f342b46f.yml","generated-locales/web-player/zu.json":"https://open.spotifycdn.com/cdn/generated-locales/web-player/zu.d5c31af8.json","generated-locales/web-player/zu.yml":"https://open.spotifycdn.com/cdn/generated-locales/web-player/zu.b91bbc34.yml","generated/manifest-mobile-web-player.json":"https://open.spotifycdn.com/cdn/generated/manifest-mobile-web-player.c3aa223f.json","generated/manifest-web-player.1609946b.json":"https://open.spotifycdn.com/cdn/generated/manifest-web-player.1609946b.json","generated/manifest-web-player.json":"https://open.spotifycdn.com/cdn/generated/manifest-web-player.1609946b.json","generated/opensearch.xml":"https://open.spotifycdn.com/cdn/generated/opensearch.4c98ceb2.xml","images/ac-row-placeholder.webp":"https://open.spotifycdn.com/cdn/images/ac-row-placeholder.48d7f834.webp","images/audiobooks-upsell.png":"https://open.spotifycdn.com/cdn/images/audiobooks-upsell.b3ac0d4d.png","images/concert-hub-fb-card.png":"https://open.spotifycdn.com/cdn/images/concert-hub-fb-card.441729d4.png","images/concert-hub-twitter-card.png":"https://open.spotifycdn.com/cdn/images/concert-hub-twitter-card.3a727f24.png","images/desktop-auth-check.svg":"https://open.spotifycdn.com/cdn/images/desktop-auth-check.b52fdf92.svg","images/desktop-auth-error.svg":"https://open.spotifycdn.com/cdn/images/desktop-auth-error.c501db65.svg","images/device-picker-equaliser-animation.webp":"https://open.spotifycdn.com/cdn/images/device-picker-equaliser-animation.946e7243.webp","images/devices/mac.png":"https://open.spotifycdn.com/cdn/images/devices/mac.3fbeb8c6.png","images/download-badges/apple/ar.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/ar.1824fcf0.svg","images/download-badges/apple/az.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/az.d1d0d236.svg","images/download-badges/apple/bg.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/bg.91f32944.svg","images/download-badges/apple/cs_CZ.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/cs_CZ.770c4db1.svg","images/download-badges/apple/da.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/da.c8e421bf.svg","images/download-badges/apple/de.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/de.4f2967e1.svg","images/download-badges/apple/ee.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/ee.8a33a502.svg","images/download-badges/apple/el.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/el.de805cd2.svg","images/download-badges/apple/en.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/en.a26fc5b3.svg","images/download-badges/apple/es_mx.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/es_mx.f5c911a6.svg","images/download-badges/apple/es.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/es.e4d7c2c1.svg","images/download-badges/apple/fi.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/fi.a596995c.svg","images/download-badges/apple/fp.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/fp.326f9d7d.svg","images/download-badges/apple/fr_ca.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/fr_ca.86b6a05f.svg","images/download-badges/apple/fr.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/fr.86b6a05f.svg","images/download-badges/apple/he.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/he.1c3c0674.svg","images/download-badges/apple/hu.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/hu.d3701bda.svg","images/download-badges/apple/id.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/id.0f506939.svg","images/download-badges/apple/int.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/int.a26fc5b3.svg","images/download-badges/apple/it.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/it.ec8e9566.svg","images/download-badges/apple/ja.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/ja.988fe0a4.svg","images/download-badges/apple/ko.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/ko.fc82d534.svg","images/download-badges/apple/lt.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/lt.2f7dda2e.svg","images/download-badges/apple/lv.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/lv.f8f2ada8.svg","images/download-badges/apple/ms.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/ms.b514bd30.svg","images/download-badges/apple/mt.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/mt.56d43333.svg","images/download-badges/apple/nb.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/nb.3fb09d42.svg","images/download-badges/apple/nl.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/nl.cfe2cffb.svg","images/download-badges/apple/pl.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/pl.da8b2cc1.svg","images/download-badges/apple/pt_br.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/pt_br.0e9291a9.svg","images/download-badges/apple/pt.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/pt.d23b8044.svg","images/download-badges/apple/ro.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/ro.18b0e4aa.svg","images/download-badges/apple/ru.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/ru.27f35c64.svg","images/download-badges/apple/sk.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/sk.fcfe01bb.svg","images/download-badges/apple/sl.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/sl.16aa6861.svg","images/download-badges/apple/sv.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/sv.eb249aad.svg","images/download-badges/apple/th_TH.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/th_TH.bd27f521.svg","images/download-badges/apple/tr.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/tr.b85100fb.svg","images/download-badges/apple/vi_VN.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/vi_VN.2389eefe.svg","images/download-badges/apple/zh_HANS.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/zh_HANS.65191b2d.svg","images/download-badges/apple/zh_HANT.svg":"https://open.spotifycdn.com/cdn/images/download-badges/apple/zh_HANT.0371becc.svg","images/download-badges/google/af.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/af.ae001be2.svg","images/download-badges/google/am.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/am.372c6037.svg","images/download-badges/google/ar.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/ar.cd5a9c9f.svg","images/download-badges/google/az.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/az.335a1312.svg","images/download-badges/google/be.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/be.b7aab397.svg","images/download-badges/google/bg.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/bg.36e16d12.svg","images/download-badges/google/bn.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/bn.caebede3.svg","images/download-badges/google/bs.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/bs.2b698874.svg","images/download-badges/google/ca.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/ca.c69ad4a9.svg","images/download-badges/google/cr.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/cr.f00ffb22.svg","images/download-badges/google/cs_CZ.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/cs_CZ.d0c1b48c.svg","images/download-badges/google/da.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/da.32a363d1.svg","images/download-badges/google/de.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/de.c25c9a1a.svg","images/download-badges/google/el.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/el.9bc07eb7.svg","images/download-badges/google/en.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/en.4225ff97.svg","images/download-badges/google/es_419.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/es_419.d48419c2.svg","images/download-badges/google/es.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/es.d5c49840.svg","images/download-badges/google/et.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/et.c7e95c37.svg","images/download-badges/google/eu.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/eu.49008e3b.svg","images/download-badges/google/fa.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/fa.82f86aca.svg","images/download-badges/google/fi.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/fi.48f9c93b.svg","images/download-badges/google/fp.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/fp.1d00d42c.svg","images/download-badges/google/fr_ca.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/fr_ca.bee20e52.svg","images/download-badges/google/fr.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/fr.f4a59221.svg","images/download-badges/google/gl.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/gl.c4c5f2af.svg","images/download-badges/google/gu.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/gu.1ba10b76.svg","images/download-badges/google/he.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/he.32dd5ba2.svg","images/download-badges/google/hi.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/hi.b4d00217.svg","images/download-badges/google/hr.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/hr.048c3c06.svg","images/download-badges/google/hu.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/hu.5f3bb91c.svg","images/download-badges/google/hy.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/hy.f4aa037d.svg","images/download-badges/google/id.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/id.1be44e48.svg","images/download-badges/google/int.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/int.4225ff97.svg","images/download-badges/google/is.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/is.91ac2cdd.svg","images/download-badges/google/it.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/it.8e4ee51d.svg","images/download-badges/google/ja.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/ja.21c77d3e.svg","images/download-badges/google/ka.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/ka.fd284ef6.svg","images/download-badges/google/kk.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/kk.7a37852b.svg","images/download-badges/google/km.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/km.61013401.svg","images/download-badges/google/kn.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/kn.b68b5a7f.svg","images/download-badges/google/ko.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/ko.4cb7e739.svg","images/download-badges/google/ky.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/ky.86be01b2.svg","images/download-badges/google/lo.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/lo.e0399327.svg","images/download-badges/google/lt.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/lt.255ad6b7.svg","images/download-badges/google/lv.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/lv.4eb7eb55.svg","images/download-badges/google/mk.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/mk.f2d843e7.svg","images/download-badges/google/ml.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/ml.8112e118.svg","images/download-badges/google/mn.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/mn.5a51a47f.svg","images/download-badges/google/mr.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/mr.27521f2d.svg","images/download-badges/google/ms.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/ms.d8c1dc24.svg","images/download-badges/google/my.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/my.ec1966ff.svg","images/download-badges/google/nb.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/nb.0db2ec35.svg","images/download-badges/google/ne.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/ne.32b2d2c4.svg","images/download-badges/google/nl.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/nl.04fedd31.svg","images/download-badges/google/pa.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/pa.6441b127.svg","images/download-badges/google/pl.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/pl.cdc8d867.svg","images/download-badges/google/pt_br.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/pt_br.eb6408a2.svg","images/download-badges/google/pt.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/pt.ed0ec6f3.svg","images/download-badges/google/ro.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/ro.e8bb34e4.svg","images/download-badges/google/ru.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/ru.f0dcb322.svg","images/download-badges/google/si.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/si.c2afce37.svg","images/download-badges/google/sk.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/sk.059c3889.svg","images/download-badges/google/sl.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/sl.314b8f3e.svg","images/download-badges/google/sq.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/sq.c97e1dc3.svg","images/download-badges/google/sr.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/sr.04dc409c.svg","images/download-badges/google/sv.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/sv.6a0bf092.svg","images/download-badges/google/sw.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/sw.b78c34e6.svg","images/download-badges/google/ta.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/ta.a5e77926.svg","images/download-badges/google/te.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/te.eab54ff5.svg","images/download-badges/google/th_TH.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/th_TH.b01f6b10.svg","images/download-badges/google/tr.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/tr.14ad406a.svg","images/download-badges/google/ua.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/ua.2660fb0f.svg","images/download-badges/google/ur.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/ur.3d6df06a.svg","images/download-badges/google/uz.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/uz.32c6052c.svg","images/download-badges/google/vi_VN.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/vi_VN.22e4b4d0.svg","images/download-badges/google/zh_HANS.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/zh_HANS.d17b7344.svg","images/download-badges/google/zh_HANT.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/zh_HANT.1f8801f9.svg","images/download-badges/google/zh_hk.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/zh_hk.1075ff06.svg","images/download-badges/google/zu.svg":"https://open.spotifycdn.com/cdn/images/download-badges/google/zu.c1790a7e.svg","images/download-page-image-mac.png":"https://open.spotifycdn.com/cdn/images/download-page-image-mac.fec937cc.png","images/download-page-image.png":"https://open.spotifycdn.com/cdn/images/download-page-image.781553a2.png","images/equaliser-animated-green.gif":"https://open.spotifycdn.com/cdn/images/equaliser-animated-green.f5eb96f2.gif","images/equaliser-animated-white.gif":"https://open.spotifycdn.com/cdn/images/equaliser-animated-white.fe5ead9a.gif","images/equaliser-green.svg":"https://open.spotifycdn.com/cdn/images/equaliser-green.f8937a92.svg","images/equaliser-white.svg":"https://open.spotifycdn.com/cdn/images/equaliser-white.549bb1a5.svg","images/error-page-logo.svg":"https://open.spotifycdn.com/cdn/images/error-page-logo.24aca703.svg","images/expanded-mask-rtl.png":"https://open.spotifycdn.com/cdn/images/expanded-mask-rtl.87cee49e.png","images/expanded-mask.png":"https://open.spotifycdn.com/cdn/images/expanded-mask.b89e4858.png","images/favicon.ico":"https://open.spotifycdn.com/cdn/images/favicon.0f31d2ea.ico","images/favicon.png":"https://open.spotifycdn.com/cdn/images/favicon.ad2294bb.png","images/favicon16.png":"https://open.spotifycdn.com/cdn/images/favicon16.1c487bff.png","images/favicon32.png":"https://open.spotifycdn.com/cdn/images/favicon32.b64ecc03.png","images/focused_stroy_play.png":"https://open.spotifycdn.com/cdn/images/focused_stroy_play.0a7b9c70.png","images/group-session-logo.svg":"https://open.spotifycdn.com/cdn/images/group-session-logo.da2207f2.svg","images/icons/Spotify_1024.png":"https://open.spotifycdn.com/cdn/images/icons/Spotify_1024.31b25879.png","images/icons/Spotify_128.png":"https://open.spotifycdn.com/cdn/images/icons/Spotify_128.45316d66.png","images/icons/Spotify_16.png":"https://open.spotifycdn.com/cdn/images/icons/Spotify_16.0689c81c.png","images/icons/Spotify_256.png":"https://open.spotifycdn.com/cdn/images/icons/Spotify_256.17e41e58.png","images/icons/Spotify_32.png":"https://open.spotifycdn.com/cdn/images/icons/Spotify_32.581ad6d0.png","images/icons/Spotify_512.png":"https://open.spotifycdn.com/cdn/images/icons/Spotify_512.7e07796d.png","images/icons/Spotify_MWP_192.png":"https://open.spotifycdn.com/cdn/images/icons/Spotify_MWP_192.ebf939fd.png","images/icons/Spotify_MWP_384.png":"https://open.spotifycdn.com/cdn/images/icons/Spotify_MWP_384.b98158a0.png","images/icons/Spotify_MWP_512.png":"https://open.spotifycdn.com/cdn/images/icons/Spotify_MWP_512.50dd387d.png","images/logo-complete-black.svg":"https://open.spotifycdn.com/cdn/images/logo-complete-black.7f2bf9c6.svg","images/logo-complete-white.svg":"https://open.spotifycdn.com/cdn/images/logo-complete-white.6a0aab22.svg","images/mando_helmet_felix.png":"https://open.spotifycdn.com/cdn/images/mando_helmet_felix.dae5ebde.png","images/mando_helmet.png":"https://open.spotifycdn.com/cdn/images/mando_helmet.8be96d29.png","images/mask-rtl.png":"https://open.spotifycdn.com/cdn/images/mask-rtl.1e659743.png","images/mask.png":"https://open.spotifycdn.com/cdn/images/mask.01073394.png","images/microsoft-store-download-button.svg":"https://open.spotifycdn.com/cdn/images/microsoft-store-download-button.229efb8c.svg","images/mid-year.png":"https://open.spotifycdn.com/cdn/images/mid-year.b8dc82ed.png","images/mwp-episodelist-placeholder.png":"https://open.spotifycdn.com/cdn/images/mwp-episodelist-placeholder.e05b65de.png","images/mwp-tracklist-placeholder.png":"https://open.spotifycdn.com/cdn/images/mwp-tracklist-placeholder.cf93b3da.png","images/og-socialsession-preview.png":"https://open.spotifycdn.com/cdn/images/og-socialsession-preview.9e4f6be9.png","images/onboarding-card-create-playlist.png":"https://open.spotifycdn.com/cdn/images/onboarding-card-create-playlist.446cfa2b.png","images/onboarding-card-keyboard-shortcuts.png":"https://open.spotifycdn.com/cdn/images/onboarding-card-keyboard-shortcuts.607c4719.png","images/onboarding-card-miniplayer.png":"https://open.spotifycdn.com/cdn/images/onboarding-card-miniplayer.68b3e745.png","images/onboarding-card-queue-it-up.png":"https://open.spotifycdn.com/cdn/images/onboarding-card-queue-it-up.c9d17716.png","images/onboarding-card-save-playlist.png":"https://open.spotifycdn.com/cdn/images/onboarding-card-save-playlist.8b8b95f9.png","images/onboarding-card-start-playing.png":"https://open.spotifycdn.com/cdn/images/onboarding-card-start-playing.406d62f0.png","images/onboarding-card-watch-video.png":"https://open.spotifycdn.com/cdn/images/onboarding-card-watch-video.9c6356f5.png","images/s2l-desktopui-ltr.png":"https://open.spotifycdn.com/cdn/images/s2l-desktopui-ltr.24ae80af.png","images/s2l-desktopui-rtl.png":"https://open.spotifycdn.com/cdn/images/s2l-desktopui-rtl.a951b1c4.png","images/s2l-mobileui.png":"https://open.spotifycdn.com/cdn/images/s2l-mobileui.b9486ac8.png","images/stranger-things-nether-bottom-left.png":"https://open.spotifycdn.com/cdn/images/stranger-things-nether-bottom-left.a9cad61d.png","images/stranger-things-nether-bottom-right.png":"https://open.spotifycdn.com/cdn/images/stranger-things-nether-bottom-right.edad4515.png","images/stranger-things-spores.png":"https://open.spotifycdn.com/cdn/images/stranger-things-spores.bb01c791.png","images/sw_saber_ahsoka1.png":"https://open.spotifycdn.com/cdn/images/sw_saber_ahsoka1.dd3102a7.png","images/sw_saber_anakin.png":"https://open.spotifycdn.com/cdn/images/sw_saber_anakin.46a12813.png","images/sw_saber_leia.png":"https://open.spotifycdn.com/cdn/images/sw_saber_leia.47a0ef84.png","images/sw_saber_luke.png":"https://open.spotifycdn.com/cdn/images/sw_saber_luke.170f9698.png","images/sw_saber_mace.png":"https://open.spotifycdn.com/cdn/images/sw_saber_mace.de90025a.png","images/sw_saber_rey.png":"https://open.spotifycdn.com/cdn/images/sw_saber_rey.b4a2ccc1.png","images/sw_saber_vader.png":"https://open.spotifycdn.com/cdn/images/sw_saber_vader.78296917.png","images/tracklist-placeholder-compact.webp":"https://open.spotifycdn.com/cdn/images/tracklist-placeholder-compact.c14407f1.webp","images/tracklist-placeholder.webp":"https://open.spotifycdn.com/cdn/images/tracklist-placeholder.b256dae9.webp","images/upcoming-releases-fb-card.png":"https://open.spotifycdn.com/cdn/images/upcoming-releases-fb-card.835cb2e1.png","images/upcoming-releases-twitter-card.png":"https://open.spotifycdn.com/cdn/images/upcoming-releases-twitter-card.389be3c0.png","images/ylx-artist-row-placeholder.webp":"https://open.spotifycdn.com/cdn/images/ylx-artist-row-placeholder.4521609f.webp","images/ylx-compact-row-placeholder.webp":"https://open.spotifycdn.com/cdn/images/ylx-compact-row-placeholder.9a165ac8.webp","images/ylx-row-placeholder.webp":"https://open.spotifycdn.com/cdn/images/ylx-row-placeholder.ea7b0f5d.webp","images/zara-larsson-singles.png":"https://open.spotifycdn.com/cdn/images/zara-larsson-singles.6ae2a0b6.png","js/fb.js":"https://open.spotifycdn.com/cdn/js/fb.eaa6059b.js","js/gtm.js":"https://open.spotifycdn.com/cdn/js/gtm.96d60fd6.js","js/mock-service-worker/mockServiceWorker.js":"https://open.spotifycdn.com/cdn/js/mock-service-worker/mockServiceWorker.259d19cf.js","js/retargeting-pixels.js":"https://open.spotifycdn.com/cdn/js/retargeting-pixels.02346b5d.js","js/urlRedirect.js":"https://open.spotifycdn.com/cdn/js/urlRedirect.ef28c70a.js","js/urlScheme.js":"https://open.spotifycdn.com/cdn/js/urlScheme.8a27d6c9.js","sounds/mando_this_is_the_way_103.mp3":"https://open.spotifycdn.com/cdn/sounds/mando_this_is_the_way_103.575447f5.mp3","sounds/mando_this_is_the_way_107.mp3":"https://open.spotifycdn.com/cdn/sounds/mando_this_is_the_way_107.1734fbc5.mp3","sounds/mando_this_is_the_way_felix.mp3":"https://open.spotifycdn.com/cdn/sounds/mando_this_is_the_way_felix.1b9141d1.mp3","sounds/silence.mp3":"https://open.spotifycdn.com/cdn/sounds/silence.6f2e9108.mp3"}',o=n?globalThis.__BROTLI_CDN_FILE_URLS__:globalThis.__CDN_FILE_URLS__;let d;void 0!==a&&(d=a);void 0!==r().get(i)&&(d=r().get(i));void 0!==o&&(d=o);if("string"!=typeof d)throw new Error(`No ${i} property available in globalThis or environment variables`);if(!l[i])try{l[i]=JSON.parse(d)}catch(c){throw new Error(`Invalid ${i} value.`)}return l[i]?null===(s=l[i])||void 0===s?void 0:s[e]:void 0};function c(e,t,s){const{enableBrotliCDNExperiment:i}=s||{},a=i?"__BROTLI_CDN_FILE_URLS__":"__CDN_FILE_URLS__",o=d(e,s);if(!o){if("production"!==r().get("NODE_ENV")&&t)return(0,n.convertPathToURL)(e,t,s);throw new Error(`\`${e}\` is not available in ${a}.`)}return o}},33469:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(66590),i=s(69674);const a={colorRaw:(0,i.j)(n.l0o),colorDark:(0,i.j)(n.l0o),colorLight:(0,i.j)(n.l0o)}},33623:(e,t,s)=>{"use strict";s.d(t,{z:()=>b,Y:()=>y});s(16961),s(32807);var n=s(39237),i=s(71375),a=s(75186),o=s(9807);const r="BfiNtGPhVtNLQfLL8FSg";var l=s(62411),d=s(46658),c=s(65438),u=s(91890),p=s(26031),m=s(86070);const h=e=>e?(0,u.m)(e,64)??"":"",_=(e,t)=>Array.isArray(t)?t.map((e=>e.name)).join(e.getSeparator()):t,y=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{title:n,name:i,images:a,subtitle:o,album:r,artists:l,show:d}=t,c={title:n||i||"",subtitle:_(e,o||l||[]),image:h(a)??"",attributes:{isAudiobook:s}};var u;r&&(c.album=r,null!==(u=r.images)&&void 0!==u&&u.length&&(c.image=h(r.images)));return l&&(c.artist=l[0]),d&&(c.show=d,c.image=h(a)),c},b=e=>{let{contextURI:t,onDemand:s,track:u,onContextMenuClick:h,disabled:_=!1}=e;const b=(0,l.d4)((e=>{let{entities:s}=e;return s.items[t]})),g=(0,l.d4)((e=>{var t;let{session:s}=e;return null===(t=s.me)||void 0===t||null===(t=t.profile)||void 0===t?void 0:t.name})),f=(0,o.s9)(),v=(0,p.j)();if(!s)return null;const E=y(f,u,"audiobook"===u.rawTrack.type);(0,d.V)(b)&&(0,c.QY)(b.ownerV2.data)&&(E.hasPlaylistPermission=b.ownerV2.data.name===g);const w=h({uri:u.uri,contextUri:t,metadata:E});return(0,m.jsx)(n.H,{semanticColor:"textBase","data-testid":"context-menu-action-button",onClick:w,className:r,disabled:_,condensed:!0,iconOnly:v?i.x:a.g,"aria-label":f.get("more")},"context-menu-action")}},33727:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AudioFileFormat:()=>yt,DeviceDeactivatedReason:()=>cn,DeviceType:()=>I,HarmonyError:()=>zn,HarmonyErrorSource:()=>_,HarmonyEvent:()=>h,HiFiStatus:()=>js,KeySystem:()=>$,LOCAL_DEVICE_ID:()=>p,ListConstants:()=>Es,MediaCodec:()=>ws,MediaFormat:()=>X,OperationResult:()=>Z,PlaybackQuality:()=>Ss,Reason:()=>g,RepeatMode:()=>y,Robustness:()=>Ts,ShuffleMode:()=>Os,StandalonePlayerErrors:()=>Vn,StandalonePlayerEvent:()=>On,createHarmony:()=>Wn,createHarmonyAndTransport:()=>qn,createStandalonePlayer:()=>Kn,createStandalonePlayerList:()=>Yn,createStandalonePlayerTrack:()=>Hn});var n,i,a=s(68);!function(e){e.USER_INFO_REQUEST_EMPTY_RESPONSE="USER_INFO_REQUEST_EMPTY_RESPONSE",e.USER_INFO_REQUEST_FAILED_WITH_STATUS="USER_INFO_REQUEST_FAILED_WITH_STATUS",e.HARMONY_NO_TRACKS_LOADED="HARMONY_NO_TRACKS_LOADED",e.HARMONY_OPERATION_FORBIDDEN="HARMONY_OPERATION_FORBIDDEN",e.HARMONY_LOCAL_PLAYER_DISABLED="HARMONY_LOCAL_PLAYER_DISABLED",e.HARMONY_INVALID_DESCRIPTOR_ID="HARMONY_INVALID_DESCRIPTOR_ID",e.HARMONY_INVALID_MEDIA_TYPE="HARMONY_INVALID_MEDIA_TYPE",e.CONNECTAPI_CLIENT_INVALID_ARGUMENTS="CONNECTAPI_CLIENT_INVALID_ARGUMENTS",e.CONNECTAPI_CLIENT_MISSING_DEVICE_ID="CONNECTAPI_CLIENT_MISSING_DEVICE_ID",e.CONNECTAPI_CLIENT_NO_CONNECTION_ID="CONNECT_API_CLIENT_NO_CONNECTION_ID",e.CONNECTAPI_CLIENT_NO_DEVICE="CONNECTAPI_CLIENT_NO_DEVICE",e.CONNECTAPI_CLIENT_NO_SESSION_ID="CONNECTAPI_CLIENT_NO_SESSION_ID",e.CONNECTAPI_CLIENT_NO_STATE="CONNECTAPI_CLIENT_NO_STATE",e.CONNECTAPI_CLIENT_INVALID_POSITION="CONNECT_API_CLIENT_INVALID_POSITION",e.CONNECTAPI_CLIENT_INVALID_VOLUME="CONNECT_API_CLIENT_INVALID_VOLUME",e.CONNECTAPI_MAX_SUBSCRIPTIONS_REACHED="CONNECTAPI_MAX_SUBSCRIPTIONS_REACHED",e.CONNECTAPI_REGISTRATION_FAILED_WITH_STATUS="CONNECTAPI_REGISTRATION_FAILED_WITH_STATUS",e.CONNECTAPI_CLIENT_ACK_TIMEOUT="CONNECTAPI_CLIENT_ACK_TIMEOUT",e.CP_NO_DEVICE_DESCRIPTOR="CP_NO_DEVICE_DESCRIPTOR",e.CP_NO_CONNECTION_ID="CP_NO_CONNECTION_ID",e.CP_REGISTRATION_FAILED_WITH_STATUS="CP_REGISTRATION_FAILED_WITH_STATUS",e.CP_REGISTRATION_FAILED_NON_PREMIUM="CP_REGISTRATION_FAILED_NON_PREMIUM",e.CP_REQUEST_FAILED_WITH_STATUS="CP_REQUEST_FAILED_WITH_STATUS",e.CP_NO_DEVICE_ID="CP_NO_DEVICE_ID",e.CP_NO_RESPONSE_BODY="CP_NO_RESPONSE_BODY",e.CP_NO_TRACKING_DATA="CP_NO_TRACKING_DATA",e.CP_INVALID_STATE="CP_INVALID_STATE",e.CP_NO_PLAYBACK_ID="CP_NO_PLAYBACK_ID",e.QUEUE_MANAGER_NO_STATE="QUEUE_MANAGER_NO_STATE",e.QUEUE_OPERATION_FORBIDDEN="QUEUE_OPERATION_FORBIDDEN",e.QUEUE_OPERATION_STALE_REVISION="QUEUE_OPERATION_STALE_REVISION",e.TP_NO_RESPONSE_BODY="TP_NO_RESPONSE_BODY",e.TP_REGISTRATION_FAILED_NON_PREMIUM="TP_REGISTRATION_FAILED_NON_PREMIUM",e.TP_REGISTRATION_FAILED_WITH_STATUS="TP_REGISTRATION_FAILED_WITH_STATUS",e.TP_STATE_UPDATE_FAILED="TP_STATE_UPDATE_FAILED",e.TP_MAX_SUBSCRIPTIONS_REACHED="TP_MAX_SUBSCRIPTIONS_REACHED",e.TP_UPDATE_REQUEST_EMPTY_RESPONSE="TP_UPDATE_REQUEST_EMPTY_RESPONSE",e.TP_PARSE_STATE_UPDATE_FAILED_WITH_STATUS="TP_PARSE_STATE_UPDATE_FAILED_WITH_STATUS",e.TP_SET_OPTIONS_FAILED_WITH_STATUS="TP_SET_OPTIONS_FAILED_WITH_STATUS",e.TP_UNKNOWN_COMMAND="TP_UNKNOWN_COMMAND",e.TP_CANNOT_CREATE_STATE_REF="TP_CANNOT_CREATE_STATE_REF",e.TP_MISSING_INITIAL_STATE="TP_MISSING_INITIAL_STATE",e.TP_INVALID_STATE_REFERENCE="TP_INVALID_STATE_REFERENCE",e.TP_CONFLICT_REQUEST_FAILED_WITH_STATUS="TP_CONFLICT_REQUEST_FAILED_WITH_STATUS"}(n||(n={})),function(e){e.AD_MANIFEST_REQUEST_FAILED_WITH_STATUS="AD_MANIFEST_REQUEST_FAILED_WITH_STATUS",e.AD_MANIFEST_INVALID="AD_MANIFEST_INVALID",e.CAPPING_USER_IS_CAPPED="CAPPING_USER_IS_CAPPED",e.DIRECTOR_MANIFEST_NO_AVAILABLE_PROFILES="DIRECTOR_MANIFEST_NO_AVAILABLE_PROFILES",e.EME_API_NOT_SUPPORTED="EME_API_NOT_SUPPORTED",e.EME_MEDIA_KEYS_NOT_SUPPORTED="EME_MEDIA_KEYS_NOT_SUPPORTED",e.EME_MEDIA_KEY_SESSION_NOT_SUPPORTED="EME_MEDIA_KEY_SESSION_NOT_SUPPORTED",e.EME_NO_SUPPORTED_KEYSYSTEM="EME_NO_SUPPORTED_KEYSYSTEM",e.EME_PLAYER_MEDIA_KEYS_SETTING_FAILED="EME_PLAYER_MEDIA_KEYS_SETTING_FAILED",e.EME_ERROR_UNKNOWN="EME_ERROR_UNKNOWN",e.EME_LICENSE_REQUEST_EMPTY_RESPONSE="EME_LICENSE_REQUEST_EMPTY_RESPONSE",e.EME_LICENSE_REQUEST_FAILED_WITH_STATUS="EME_LICENSE_REQUEST_FAILED_WITH_STATUS",e.EME_LICENSE_REQUEST_WIDEVINE_ERROR="EME_LICENSE_REQUEST_WIDEVINE_ERROR",e.EME_LICENSE_UPDATE_FAILED="EME_LICENSE_UPDATE_FAILED",e.EME_HEADER_KEY_VALUE_MISMATCH="EME_HEADER_KEY_VALUE_MISMATCH",e.EME_HEADER_MISSING_CHALLENGE="EME_HEADER_MISSING_CHALLENGE",e.EME_INIT_DATA_MALFORMED="EME_INIT_DATA_MALFORMED",e.EME_CANNOT_SET_CERTIFICATE_FOR_PLATFORM="EME_CANNOT_SET_CERTIFICATE_FOR_PLATFORM",e.EME_MEDIA_KEY_SESSION_V0_1B_ERROR="EME_MEDIA_KEY_SESSION_V0_1B_ERROR",e.EME_MEDIA_KEY_SESSION_SAFARI_ERROR="EME_MEDIA_KEY_SESSION_SAFARI_ERROR",e.EME_NO_SUPPORTED_CONFIGURATION="EME_NO_SUPPORTED_CONFIGURATION",e.EME_NOT_SUPPORTED_ERROR="EME_NOT_SUPPORTED_ERROR",e.EME_INVALID_STATE_ERROR="EME_INVALID_STATE_ERROR",e.EME_UNKNOWN_ERROR="EME_UNKNOWN_ERROR",e.DISALLOW_PROTECTED_TRACK_ERROR="DISALLOW_PROTECTED_TRACK_ERROR",e.FILE_FORMAT_NOT_SUPPORTED="FILE_FORMAT_NOT_SUPPORTED",e.FILE_MALFORMED_SEEKTABLE="FILE_MALFORMED_SEEKTABLE",e.FILE_MALFORMED_PSSH="FILE_MALFORMED_PSSH",e.FILE_NOT_RESOLVED="FILE_NOT_RESOLVED",e.FRAGMENT_ONLINE_REQUEST_FAILED_WITH_ZERO="FRAGMENT_ONLINE_REQUEST_FAILED_WITH_ZERO",e.FRAGMENT_OFFLINE_REQUEST_FAILED_WITH_ZERO="FRAGMENT_OFFLINE_REQUEST_FAILED_WITH_ZERO",e.FRAGMENT_REQUEST_FAILED_WITH_ZERO="FRAGMENT_REQUEST_FAILED_WITH_ZERO",e.FRAGMENT_REQUEST_FAILED_WITH_STATUS="FRAGMENT_REQUEST_FAILED_WITH_STATUS",e.FRAGMENT_REQUEST_EMPTY_RESPONSE="FRAGMENT_REQUEST_EMPTY_RESPONSE",e.FRAGMENT_REQUEST_UNEXPECTED_LENGTH="FRAGMENT_REQUEST_UNEXPECTED_LENGTH",e.INVALID_TRACK="INVALID_TRACK",e.PLAYER_ATTEMPTED_VOLUME_OUT_OF_RANGE="PLAYER_ATTEMPTED_VOLUME_OUT_OF_RANGE",e.PLAYER_BUFFER_QUOTA_EXCEEDED="PLAYER_BUFFER_QUOTA_EXCEEDED",e.PLAYER_CANNOT_FIND_PLAYABLE_URI="PLAYER_CANNOT_FIND_PLAYABLE_URI",e.PLAYER_INVALID_INTERNAL_STATE="PLAYER_INVALID_INTERNAL_STATE",e.PLAYER_CONTAINER_ELEMENT_NOT_FOUND="PLAYER_CONTAINER_ELEMENT_NOT_FOUND",e.PLAYER_MEDIA_ERROR="PLAYER_MEDIA_ERROR",e.PLAYER_PLAYBACK_ERROR="PLAYER_PLAYBACK_ERROR",e.PLAYER_TIMEOUT_ERROR="PLAYER_TIMEOUT_ERROR",e.MEDIA_ABORTED="MEDIA_ABORTED",e.MEDIA_DECODING_ERROR="MEDIA_DECODING_ERROR",e.MEDIA_NETWORK_ERROR="MEDIA_NETWORK_ERROR",e.MEDIA_NOT_SUPPORTED="MEDIA_NOT_SUPPORTED",e.LICENSE_RESOLVE_INVALID_RESPONSE="LICENSE_RESOLVE_INVALID_RESPONSE",e.LICENSE_RESOLVER_CANT_RESOLVE_URL="LICENSE_RESOLVER_CANT_RESOLVE_URL",e.LICENSE_RESOLVER_DEPRECATED_VERSION="LICENSE_RESOLVER_DEPRECATED_VERSION",e.LIST_PLAYER_NO_TRACK_PLAYER="LIST_PLAYER_NO_TRACK_PLAYER",e.LIST_PLAYER_NO_LIST="LIST_PLAYER_NO_LIST",e.LIST_PLAYER_INVALID_ARGUMENT="LIST_PLAYER_INVALID_ARGUMENT",e.LIST_PLAYER_FORBIDDEN="LIST_PLAYER_FORBIDDEN",e.STORAGE_ERROR="STORAGE_ERROR",e.STORAGE_FAILED_WITH_STATUS="STORAGE_FAILED_WITH_STATUS",e.STORAGE_RETURNED_NO_TRACKS="STORAGE_RETURNED_NO_TRACKS",e.STORAGE_TRACK_MANIFEST_FAILED="STORAGE_TRACK_MANIFEST_FAILED",e.STORAGE_TRACK_MANIFEST_EMPTY="STORAGE_TRACK_MANIFEST_EMPTY",e.STORAGE_VIDEO_MANIFEST_FAILED="STORAGE_VIDEO_MANIFEST_FAILED",e.TRACK_DATA_ALREADY_FINALIZED="TRACK_DATA_ALREADY_FINALIZED",e.TSV_SENDING_FAILED="TSV_SENDING_FAILED",e.PLAYBACK_STATS_SENDING_FAILED="PLAYBACK_STATS_SENDING_FAILED",e.PLAYBACK_START_SENDING_FAILED="PLAYBACK_START_SENDING_FAILED",e.UNKNOWN="UNKNOWN"}(i||(i={}));var o=s(32688),r=s(98108);function l(e){return"string"==typeof e}var d=s(35870),c=s(97735),u=s(66932);const p="@local",m=65535;var h,_,y,b,g;!function(e){e.AUTHENTICATED="authenticated",e.AUTHENTICATION_ERROR="authentication_error",e.AUTOPLAY_FAILED="autoplay_failed",e.BEFORE_DISCONNECT="before_disconnect",e.BEFORE_VOLUME_CHANGE="before_volume_change",e.BUFFER_STALLED="stalled",e.BUFFERING_END="buffering_end",e.BUFFERING_START="buffering_start",e.REBUFFERING_END="rebuffering_end",e.REBUFFERING_START="rebuffering_start",e.CONNECTED="connected",e.CONNECTION_ERROR="connection_error",e.DEVICES_CHANGED="devices_changed",e.DEVICE_DEACTIVATED="device_deactivated",e.DEVICE_DESCRIPTOR_CHANGED="descriptor_changed",e.DISCONNECTED="disconnected",e.DISPLAYED_CUES_CHANGED="displayed_cues_changed",e.DURATION_CHANGED="duration_changed",e.ERROR="error",e.LAST_ACTIVE_DEVICE_INFO_CHANGED="last_active_device_info_changed",e.LOCAL_CONTEXT_ENDED="local_context_ended",e.LOCAL_PLAYER_DISABLED="local_player_disabled",e.LOCAL_PLAYER_ENABLED="local_player_enabled",e.LOCAL_PLAYER_LOGGED_OUT="local_player_logged_out",e.LOGGED_OUT="logged_out",e.MAX_LIST_ERRORS_REACHED="max_list_errors_reached",e.MAX_SUBSCRIPTIONS_REACHED="max_subscriptions_reached",e.PLAYBACK_CAPPED="playback_capped",e.PLAYER_INITIALIZATION_DONE="player_initialization_done",e.PLAYER_INITIALIZATION_FAILED="player_initialization_failed",e.PLAYING_PROFILE_CHANGED="playing_profile_changed",e.PRODUCT_STATE_CHANGED="product_state_changed",e.PROGRESS="progress",e.PLAYER_QUEUE_CHANGED="player_queue_changed",e.RECONNECTED="reconnected",e.RECONNECTING="reconnecting",e.REMOTE_OBSERVER_DISABLED="remote_observer_disabled",e.REMOTE_OBSERVER_ENABLED="remote_observer_enabled",e.REPORTING_START="reporting_start",e.REPORTING_FIRST_QUARTILE="reporting_first_quartile",e.REPORTING_MIDPOINT="reporting_midpoint",e.REPORTING_THIRD_QUARTILE="reporting_third_quartile",e.REPORTING_COMPLETE="reporting_complete",e.REPORTING_PAUSE="reporting_pause",e.REPORTING_RESUME="reporting_resume",e.REPORTING_CREATIVE_VIEW="reporting_creative_view",e.REPORTING_ERROR="reporting_error",e.SERVICE_REGISTRATION_ERROR="service_registration_error",e.SPEED_CHANGED="speed_changed",e.STATE_CHANGED="state_changed",e.STOPPED_ON_BACKGROUND="stopped_on_background",e.SUBTITLE_LANGUAGES_LOADED="subtitle_languages_loaded",e.TRACK_ENDED="track_ended",e.UNRECOVERABLE_FAILURE="unrecoverable_failure",e.VIDEO_ELEMENT_APPENDED="video_element_appended",e.VIDEO_ELEMENT_REMOVED="video_element_removed",e.VOLUME_CHANGED="volume_changed",e.MEDIA_PLAYBACK_MODE_CHANGED="media_playback_mode_changed",e.PLAYER_VISIBILITY_CHANGED="visibility_changed",e.VIDEO_VISIBILITY_CHANGED="video_visibility_changed",e.VIDEO_SURFACE_CHANGED="video_surface_changed"}(h||(h={})),function(e){e.CLOUD_PLAYBACK="cloud-playback",e.CONNECT_API="connect-api",e.HARMONY="harmony",e.PLAYBACK="playback",e.TRACK_PLAYBACK="track-playback",e.TRANSPORT="transport"}(_||(_={})),function(e){e[e.OFF=0]="OFF",e[e.CONTEXT=1]="CONTEXT",e[e.TRACK=2]="TRACK"}(y||(y={})),function(e){e.INCOMPATIBLE="incompatible",e.UNAVAILABLE="unavailable",e.AD_PLAYING="ad_playing",e.NARRATION="narration",e.WAKING_UP="waking_up",e.TIMED_OUT_WAKEUP="timed_out_wakeup",e.PREMIUM_REQUIRED="premium_required",e.NOT_INSTALLED="not_installed",e.UNSUPPORTED="unsupported",e.NOT_AUTHORIZED="not_authorized"}(b||(b={}));class f extends Error{constructor(e,t){super(t),this.status=-1,this.unrecoverable=!1,this.debug={},this.code=e,this.name="HarmonyError"}static fatal(e,t){const s=new f(e,t);return s.unrecoverable=!0,s}}function v(e,t){return!e&&!t||!(!e||!t)&&(e.id===t.id&&e.is_active===t.is_active&&e.is_controllable===t.is_controllable&&e.is_observable===t.is_observable&&e.is_being_activated===t.is_being_activated&&e.local===t.local&&e.name===t.name&&e.type===t.type&&e.version===t.version&&e.volume===t.volume)}!function(e){e.APPLOAD="appload",e.BACK_BUTTON="backbtn",e.CAPPED="capped",e.CLICK_ROW="clickrow",e.CLICK_SIDE="clickside",e.END_PLAY="endplay",e.FORWARD_BUTTON="fwdbtn",e.LOGOUT="logout",e.PLAY_BUTTON="playbtn",e.POPUP="popup",e.REMOTE="remote",e.SEEK="seek",e.TRACK_DONE="trackdone",e.TRACK_ERROR="trackerror",e.UNEXPECTED_EXIT="unexpected-exit",e.UNEXPECTED_EXIT_WHILE_PAUSE="unexpected-exit-while-pause",e.UNKNOWN="unknown",e.URI_OPEN="uriopen"}(g||(g={}));class E extends Error{constructor(e,t){super(t),this.unrecoverable=!1,this.code=e,this.name="PlayerQueueError"}}function w(e,t={isCurrentTrack:!1,ignoreMetaForTrack:!1}){var s,n,i,a,o,r;const l=[],d=[];let c=!1,u=!1;if(!(null==e?void 0:e.length))return{items:l,tracks:d,hasQueuedTracks:c};for(const p of e){const e="spotify:delimiter"===p.uri||/^spotify:meta:/.test(p.uri)?"meta":"track",m=`${p.uid}:::${null!==(n=null===(s=p.metadata)||void 0===s?void 0:s.iteration)&&void 0!==n?n:""}`,h={type:e,uri:p.uri,uid:p.uid,qid:m,metadata:p.metadata||{},hidden:"true"===(null===(i=p.metadata)||void 0===i?void 0:i.hidden),hidden_in_queue:"true"===(null===(a=p.metadata)||void 0===a?void 0:a.hidden_in_queue)&&!t.isCurrentTrack,queued:"true"===(null===(o=p.metadata)||void 0===o?void 0:o.is_queued),provider:p.provider,removed_reasons:p.removed,$blck_rs:p.blocked};h.queued&&(c=!0),l.push(h),"meta"===h.type?u=!0:!t.ignoreMetaForTrack&&u||"track"!==h.type||h.hidden||(null===(r=h.removed_reasons)||void 0===r?void 0:r.length)||h.hidden_in_queue||d.push(h)}return{items:l,tracks:d,hasQueuedTracks:c}}function S(e,t={}){if(!Array.isArray(e))throw new TypeError("Items is not an array.");if(!e.length)return[];const s=[];for(let n of e){if(!n)continue;"string"==typeof n&&(n={type:"track",uri:n});const e={uri:n.uri,uid:n.uid,metadata:n.metadata||{},removed:n.removed_reasons,blocked:n.$blck_rs,provider:n.provider};(n.queued||t.queued)&&(e.metadata.is_queued="true",e.provider="queue"),(n.hidden||"meta"===n.type)&&(e.metadata.hidden="true"),n.hidden_in_queue&&(e.metadata.hidden_in_queue="true"),s.push(e)}return s}function R(e){const[t,s]=e.split(":::"),n={type:"track",uid:t};return s&&(n.metadata={iteration:s}),n}class T extends d.bk{constructor(e){super(),this._hasInitialState=!1,this._reportInactiveQueues=!1,this._onlyLocalQueue=!1,this._currentPlayerState=null,this._currentInternalQueue=null,this._currentQueue=null,this._hasQueuedTracks=!1,this._connectClient=e.connectClient,this._runner=e.runner||(e=>e()),this._parsePlayerState=this._parsePlayerState.bind(this),this._onlyLocalQueue=!!e.onlyLocalQueue,this._reportInactiveQueues=!!e.reportInactiveQueues,this._connectClient.on("player_state_changed",this._onPlayerStateChanged.bind(this)),this._parsePlayerState(e.initialContextPlayerState)}static create(e){return new T(e)}_onPlayerStateChanged(e){const{playerState:t,orphaned:s,isLocal:n}=e.data;this._parsePlayerState(t,s,n)}_parsePlayerState(e,t,s){var n,i,a;if(this._hasInitialState=!0,this._onlyLocalQueue&&!s||!this._reportInactiveQueues&&t)this._currentPlayerState=null,this._currentInternalQueue=null,this._currentQueue=null;else if(this._currentPlayerState=null!=e?e:null,e){if(e.queue_revision===(null===(n=this._currentInternalQueue)||void 0===n?void 0:n.revision))return null;this._hasQueuedTracks=!1;const t={ignoreMetaForTrack:null===(i=e.options)||void 0===i?void 0:i.repeating_context},s=e.queue_revision,o=w([e.track],{isCurrentTrack:!0}).items[0],r=w(e.next_tracks,t),l=w(e.prev_tracks,t);this._hasQueuedTracks=r.hasQueuedTracks;const d={uri:e.context_uri,metadata:null!==(a=e.context_metadata)&&void 0!==a?a:void 0};this._currentInternalQueue={revision:s,context:d,current_track:o,next_items:r.items,previous_items:l.items},this._currentQueue={revision:s,context:d,current_track:o,next_tracks:r.tracks,previous_tracks:l.tracks}}else this._hasQueuedTracks=!1,this._currentInternalQueue=null,this._currentQueue=null;return this.emit(h.PLAYER_QUEUE_CHANGED,{internalPlayerQueue:this._currentInternalQueue,playerQueue:this._currentQueue}),this._currentInternalQueue}_setQueueNext(e,t){var s;const i=this._currentPlayerState;if(!i)return Promise.reject(new E(n.QUEUE_MANAGER_NO_STATE,"Cannot perform operation; no current state."));const a={next_tracks:e,prev_tracks:i.prev_tracks,queue_revision:i.queue_revision},o=null===(s=i.restrictions)||void 0===s?void 0:s.disallow_set_queue_reasons;return this._runner((()=>o&&o.length?Promise.reject(new E(n.QUEUE_OPERATION_FORBIDDEN,"Cannot perform operation; SetQueueCommand is not allowed.")):this._connectClient.setQueue(a,t)),t)}_insertQueuedWhenEmpty(e,t,s){var n,i,a,o;const r="true"===(null===(i=null===(n=t[0])||void 0===n?void 0:n.metadata)||void 0===i?void 0:i.is_narration),l="true"===(null===(a=null==s?void 0:s.metadata)||void 0===a?void 0:a.is_narration);if(l||r){if(!l||r){let s=-1;for(let e=0,n=t.length;e<n;e++){const n=t[e];if("true"===(null===(o=null==n?void 0:n.metadata)||void 0===o?void 0:o.is_narration)){s=e+1;break}}return-1===s?void t.unshift(...e):void t.splice(s+1,0,...e)}t.splice(1,0,...e)}else t.unshift(...e)}_insertQueued(e,t){var s,i;const a=this._currentPlayerState;if(!a)return Promise.reject(new E(n.QUEUE_MANAGER_NO_STATE,"Cannot perform operation; no current state."));const o=Array.from(null!==(s=a.next_tracks)&&void 0!==s?s:[]);if(this._hasQueuedTracks){let t=!1;for(let s=0,n=o.length;s<n;s++){const n=o[s];if("true"!==(null===(i=null==n?void 0:n.metadata)||void 0===i?void 0:i.is_queued)){o.splice(s,0,...e),t=!0;break}}t||o.push(...e)}else{const t=a.track;this._insertQueuedWhenEmpty(e,o,t)}return this._setQueueNext(o,t)}getInternalPlayerQueue(){return this._hasInitialState?Promise.resolve(this._currentInternalQueue):new Promise((e=>{this.on(h.PLAYER_QUEUE_CHANGED,(t=>{e(t.data.internalPlayerQueue)}))}))}getPlayerQueue(){return this._hasInitialState?Promise.resolve(this._currentQueue):new Promise((e=>{this.on(h.PLAYER_QUEUE_CHANGED,(t=>{e(t.data.playerQueue)}))}))}setInternalPlayerQueue(e,t,s={ignoreRevision:!1}){if(!this._currentPlayerState)return Promise.reject(new E(n.QUEUE_MANAGER_NO_STATE,"Cannot perform operation; no current state."));if(e.revision!==this._currentPlayerState.queue_revision&&!s.ignoreRevision)return Promise.reject(new E(n.QUEUE_OPERATION_STALE_REVISION,"Cannot perform operation; revision is stale."));const i={next_tracks:S(e.next_items),prev_tracks:S(e.previous_items),queue_revision:s.ignoreRevision?void 0:this._currentPlayerState.queue_revision};return this._runner((()=>this._connectClient.setQueue(i,t)),t)}addToQueue(e,t){var s;const i=this._currentPlayerState;if(!i)return Promise.reject(new E(n.QUEUE_MANAGER_NO_STATE,"Cannot perform operation; no current state."));if(!Array.isArray(e))return Promise.reject(new TypeError("Argument `items` must be an array."));const a=S(e,{queued:!0}),o=null===(s=i.restrictions)||void 0===s?void 0:s.disallow_add_to_queue_reasons;return a.length?1===a.length?this._runner((()=>o&&o.length?Promise.reject(new E(n.QUEUE_OPERATION_FORBIDDEN,"Cannot perform operation; AddToQueueCommand is not allowed.")):this._connectClient.addToQueue(a[0],t)),t):this._insertQueued(a,t):Promise.resolve(!1)}removeNext(e,t){var s,i,a;const o=this._currentPlayerState;if(!o)return Promise.reject(new E(n.QUEUE_MANAGER_NO_STATE,"Cannot perform operation; no current state."));let r;r="string"==typeof e?R(e):e;const l=Array.from(null!==(s=o.next_tracks)&&void 0!==s?s:[]),d=l.length;for(let n=0;n<d;n++){const e=l[n];if((null==e?void 0:e.uid)===r.uid&&(null===(i=null==e?void 0:e.metadata)||void 0===i?void 0:i.iteration)===(null===(a=r.metadata)||void 0===a?void 0:a.iteration)){l.splice(n,1);break}}return l.length===d?Promise.resolve(!1):this._setQueueNext(l,t)}}const A={tagged:"4.53.0-c56fb449",version:"4.53.0",revision:"c56fb449"};class x extends d.bk{constructor(e){super(),this._hasFakeState=!1,this._localPlayerEnabled=!1,this._localPlayback=!1,this._forceRemoteActions=!1,this._lastDeviceList=[],this._deferredStreamer=(0,c.u)(),this._throttledSeek=(0,u.n)(100,this._seek,this),this._client=e.client,this._streamer=e.streamer,this._controller=e.controller,this._hidden=!!e.hidden,this._onlyLocalState=!!e.onlyLocalState,this._preferController=!this._onlyLocalState&&!!e.preferControllerState,this._claimInactivePlayerStates=!!e.claimInactivePlayerStates,this._enableControllerWithoutStreamer=!!e.enableControllerWithoutStreamer,this._autoActivateElement=!!e.autoActivateElement,this._deactivateOnStop=!!e.experimentalDeactivateOnStop,this._forceRemoteActions=!!e.forceRemoteActions,this._parseDeviceList=this._parseDeviceList.bind(this),this._init()}static create(e){return new x(e)}_init(){this._createStreamerDeferred();const e=this._client;e.on("error",this._onError.bind(this)),this.proxyEmit(e,"authenticated",h.AUTHENTICATED),this.proxyEmit(e,"authentication_error",h.AUTHENTICATION_ERROR),this.proxyEmit(e,"before_disconnect",h.BEFORE_DISCONNECT),this.proxyEmit(e,"connected",h.CONNECTED),this.proxyEmit(e,"connection_error",h.CONNECTION_ERROR),this.proxyEmit(e,"descriptor_changed",h.DEVICE_DESCRIPTOR_CHANGED),this.proxyEmit(e,"product_state_changed",h.PRODUCT_STATE_CHANGED),this.proxyEmit(e,"reconnected",h.RECONNECTED),this.proxyEmit(e,"reconnecting",h.RECONNECTING),this.proxyEmit(e,"unrecoverable_failure",h.UNRECOVERABLE_FAILURE),this.proxyEmit(e,"logged_out",h.LOGGED_OUT);const t=this._controller;t.on("device_info_changed",(e=>{this._onDeviceStateChanged(e.data)})),t.on("devices_changed",this._onDevicesChanged.bind(this)),t.on("state_changed",this._onPlayerStateChanged.bind(this)),t.on("progress",this._onControllerProgress.bind(this)),this.proxyEmitAll(t,{max_subscriptions_reached:h.MAX_SUBSCRIPTIONS_REACHED,device_deactivated:h.DEVICE_DEACTIVATED}),t.on("registered",this.emit.bind(this,h.REMOTE_OBSERVER_ENABLED,null)),t.on("deregistered",this.emit.bind(this,h.REMOTE_OBSERVER_DISABLED,null));const s=this._streamer;s?(s.on("deregistered",this._onStreamerDeregistered.bind(this)),s.on("registered",this._onStreamerRegistered.bind(this)),s.on("registration_aborted",this._onStreamerRegistrationAborted.bind(this)),s.on("state_changed",this._onStreamerStateChanged.bind(this)),s.on("stopped_on_background",this._onStreamerStoppedOnBackground.bind(this)),s.on("streamer_seek_handled",this._onSeekHandled.bind(this)),this.proxyEmitSync(s,"before_volume_change",h.BEFORE_VOLUME_CHANGE),this.proxyEmit(s,"autoplay_failed",h.AUTOPLAY_FAILED),this.proxyEmit(s,"stalled",h.BUFFER_STALLED),this.proxyEmit(s,"buffering_end",h.BUFFERING_END),this.proxyEmit(s,"buffering_start",h.BUFFERING_START),this.proxyEmit(s,"rebuffering_end",h.REBUFFERING_END),this.proxyEmit(s,"rebuffering_start",h.REBUFFERING_START),this.proxyEmit(s,"duration_changed",h.DURATION_CHANGED),this.proxyEmit(s,"max_list_errors_reached",h.MAX_LIST_ERRORS_REACHED),this.proxyEmit(s,"max_subscriptions_reached",h.MAX_SUBSCRIPTIONS_REACHED),this.proxyEmit(s,"playback_capped",h.PLAYBACK_CAPPED),this.proxyEmit(s,"player_initialization_done",h.PLAYER_INITIALIZATION_DONE),this.proxyEmit(s,"player_initialization_failed",h.PLAYER_INITIALIZATION_FAILED),this.proxyEmit(s,"progress",h.PROGRESS),this.proxyEmit(s,"registration_error",h.SERVICE_REGISTRATION_ERROR),this.proxyEmit(s,"track_ended",h.TRACK_ENDED),this.proxyEmit(s,"video_element_appended",h.VIDEO_ELEMENT_APPENDED),this.proxyEmit(s,"video_element_removed",h.VIDEO_ELEMENT_REMOVED),this.proxyEmit(s,"volume_changed",h.VOLUME_CHANGED),this.proxyEmit(s,"displayed_cues_changed",h.DISPLAYED_CUES_CHANGED),this.proxyEmit(s,"subtitle_languages_loaded",h.SUBTITLE_LANGUAGES_LOADED),this.proxyEmit(s,"speed_changed",h.SPEED_CHANGED),this.proxyEmit(s,"playing_profile_changed",h.PLAYING_PROFILE_CHANGED),this.proxyEmit(s,"video_visibility_changed",h.VIDEO_VISIBILITY_CHANGED),this.proxyEmit(s,"video_surface_changed",h.VIDEO_SURFACE_CHANGED),this.proxyEmitSync(s,"reporting_start",h.REPORTING_START),this.proxyEmitSync(s,"reporting_first_quartile",h.REPORTING_FIRST_QUARTILE),this.proxyEmitSync(s,"reporting_midpoint",h.REPORTING_MIDPOINT),this.proxyEmitSync(s,"reporting_third_quartile",h.REPORTING_THIRD_QUARTILE),this.proxyEmitSync(s,"reporting_complete",h.REPORTING_COMPLETE),this.proxyEmitSync(s,"reporting_pause",h.REPORTING_PAUSE),this.proxyEmitSync(s,"reporting_resume",h.REPORTING_RESUME),this.proxyEmitSync(s,"reporting_creative_view",h.REPORTING_CREATIVE_VIEW),this.proxyEmitSync(s,"reporting_error",h.REPORTING_ERROR),this.proxyEmitSync(s,"internal_endcontent","internal_endcontent"),this.proxyEmitSync(s,"media_playback_mode_changed",h.MEDIA_PLAYBACK_MODE_CHANGED),s.on("context_ended",this.emit.bind(this,h.LOCAL_CONTEXT_ENDED,null)),s.on("logged_out",this.emit.bind(this,h.LOCAL_PLAYER_LOGGED_OUT,null))):(this._disableLocalTarget(),this.on(h.AUTHENTICATED,(()=>{this.emit(h.LOCAL_PLAYER_DISABLED,null)})))}_createStreamerDeferred(){this._deferredStreamer=(0,c.u)(),this._deferredStreamer.promise.catch((function(){}))}_isTargetIdLocal(e){return e?e===p?Promise.resolve(!0):this._client.getDeviceDescriptor().then((function(t){return e===t.getId()})):Promise.resolve(!!this._localPlayback)}_onStreamerRegistered(e){this._deferredStreamer.resolve(e.data),this._createStreamerDeferred(),this._deferredStreamer.resolve(e.data),this._localPlayerEnabled=!0,this._controller.register(),this.emit(h.LOCAL_PLAYER_ENABLED,null)}_onStreamerDeregistered(){this._disableLocalTarget(),this.emit(h.LOCAL_PLAYER_DISABLED,null)}_onStreamerRegistrationAborted(){this._disableLocalTarget(),this._enableControllerWithoutStreamer&&this._controller.register(),this.emit(h.LOCAL_PLAYER_DISABLED,null)}_disableLocalTarget(){this._localPlayerEnabled=!1;const e=new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"Cannot perform command; local player is disabled.");this._deferredStreamer.reject(e),this._createStreamerDeferred(),this._deferredStreamer.reject(e)}_onStreamerConnect(){return this._deferredStreamer.promise}_onDeviceStateChanged(e){var t;const s=!!this._localPlayback,i=(e=!1)=>{this._generateLocalDeviceInfo(e).then((e=>{this.emit(h.LAST_ACTIVE_DEVICE_INFO_CHANGED,{deviceInfo:e,hasOrphanedState:!1})}))};if(this._localPlayerEnabled&&e.hasOrphanedState&&this._claimInactivePlayerStates)return this._hasFakeState=!0,void i(!0);if(this._hasFakeState=!1,this._localPlayback=!(!e.deviceInfo||!e.deviceInfo.local),this._localPlayback){if(!s&&(null===(t=this._streamer)||void 0===t?void 0:t.hasOptimisticUpdates())&&this._streamer.getCurrentState().then((e=>{this.emit(h.STATE_CHANGED,{state:e})})),!this._streamer)throw new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled.");this._streamer.getVolume().then((t=>{e.deviceInfo&&(e.deviceInfo.volume=t),this.emit(h.LAST_ACTIVE_DEVICE_INFO_CHANGED,e)})).catch((function(){}))}else this._onlyLocalState?(this._localPlayback||s)&&i():this.emit(h.LAST_ACTIVE_DEVICE_INFO_CHANGED,e)}_onDevicesChanged(e){this._parseDeviceList(e.data).then((e=>{(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Invalid devices list.");if(e.length!==t.length)return!1;for(let s=0,n=e.length;s<n;s++)if(!v(e[s],t[s]))return!1;return!0})(this._lastDeviceList,e)||(this._lastDeviceList=e,this.emit(h.DEVICES_CHANGED,{devices:e,localDevice:null}))}))}_onError(e){const t=e.data.error;e.data.source===_.PLAYBACK&&t&&t.unrecoverable&&(this._disableLocalTarget(),this._streamer&&this._streamer.deregister()),this.emit(h.ERROR,e.data)}_onPlayerStateChanged(e){if(!this._onlyLocalState&&(this._preferController||!this._localPlayback)){let t;t=this._claimInactivePlayerStates&&this._localPlayerEnabled||this._enableControllerWithoutStreamer?e.data.state:e.data.orphaned?null:e.data.state,this.emit(h.STATE_CHANGED,{state:t})}}_onControllerProgress(e){this._onlyLocalState||this._localPlayback||this.emit(h.PROGRESS,e.data)}_onStreamerStateChanged(e){this._preferController||(this._onlyLocalState?this._triggerLocalStateChanges(e.data):this._hidden?this._handleHidden(e.data):(this._localPlayback||this._hasFakeState&&e.data)&&this.emit(h.STATE_CHANGED,e.data))}_onStreamerStoppedOnBackground(){this._deactivateOnStop&&(this._localPlayback=!1),this.emit(h.STOPPED_ON_BACKGROUND,null)}_handleHidden(e){e.state?(this._controller.suppressEvents(),this._triggerLocalStateChanges(e)):this._controller.unsuppressEvents()}_parseDeviceList(e){const t=e.devices.slice(0).map((e=>Promise.resolve(e)));return t.length&&e.localDevice?this._hasFakeState&&e.localDevice&&(e.localDevice.is_active=!0):t.push(this._generateLocalDeviceInfo(this._hasFakeState)),Promise.all(t).then((e=>e))}_triggerLocalStateChanges(e){this._generateLocalDeviceInfo().then((e=>{this._onDeviceStateChanged({deviceInfo:e,hasOrphanedState:!1})})),this.emit(h.STATE_CHANGED,e)}_canStartNewContext(e){return this._runOnDevice(e,(()=>this._streamer?Promise.resolve(!0):Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled."))),(()=>Promise.resolve(!0)),{bypassFakeState:!0})}_activateElement(){this._autoActivateElement=!1,this._streamer&&this._streamer.activateElement().catch((()=>{}))}_runOnDevice(e=void 0,t,s,n){var i;if(this._hasFakeState&&!(null==n?void 0:n.bypassFakeState))return this._autoActivateElement&&this._activateElement(),this._claimStateAndRun(s,n);return(null!==(i=null==n?void 0:n.forceRemoteAction)&&void 0!==i?i:this._forceRemoteActions)?s():this._isTargetIdLocal(e).then((e=>e?this._onStreamerConnect().then(t):s()))}_claimStateAndRun(e,t){return this._onStreamerConnect().then((()=>{this._hasFakeState=!1;const e={paused:!0};return(null==t?void 0:t.loggingParams)&&(e.loggingParams=t.loggingParams),Promise.all([this._controller.transfer(p,e),new Promise(((e,t)=>{this._streamer?this._streamer.once("track_loaded",e):t(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled."))}))])})).then((()=>e()))}_generateLocalDeviceInfo(e=!1){const t=this._client,s=this._streamer;let n=Promise.resolve(!1),i=Promise.resolve(-1);return this._localPlayerEnabled&&(e?n=Promise.resolve(!0):s&&(n=s.getCurrentState().then((e=>!!e))),s&&(i=s.getVolume())),Promise.all([t.getClientDescriptor(),t.getSDKId(),n,i]).then((([e,t,s,n])=>{var i;const a={hifi_status:{fully_supported:void 0,user_eligible:void 0,device_supported:null===(i=e.capabilities)||void 0===i?void 0:i.lossless_playback}};return{hidden:this._hidden,id:e.id,is_active:s,is_group:!1,is_being_activated:!1,is_controllable:this._localPlayerEnabled,is_observable:!!this._localPlayerEnabled&&!this._hidden,local:!0,metadata:e.metadata||{},name:e.name,type:e.type,brand:e.brand,model:e.model,version:t,volume:n,capabilities:{supports_lossless_audio:!1},playback_features:a,has_inactive_player_state:this._hasFakeState,disallow_transfer_reason:b.UNAVAILABLE}}))}_movePosition(e,t){return this.getCurrentState().then((s=>{if(!s||isNaN(s.position))return Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,"Seeking not allowed with invalid track."));const i=e,a=Math.min(s.duration,Math.max(0,s.position+i));return this.seek(a,t)}))}_prepareSkipTrack(e){let t;return t="string"==typeof e?R(e):e,t}_cycleRepeatMode(e){return this.getCurrentState().then((t=>{if(!t)return Promise.reject(new f(n.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing"));let s=null;const i=t.disallows;switch(t.repeat_mode){case y.OFF:if(i.toggling_repeat_context){if(i.toggling_repeat_track)return Promise.resolve(!1);s=y.TRACK}else s=y.CONTEXT;break;case y.CONTEXT:s=i.toggling_repeat_track?y.OFF:y.TRACK;break;case y.TRACK:default:s=y.OFF}return this.setRepeatMode(s,e)}))}_onSeekHandled(e){this._controller.seek(e.data.position)}_seek(e,t){return this.getCurrentState().then((s=>{if(null==s?void 0:s.disallows.seeking)return Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,"Seeking is not allowed with current content."));return this._client.getLogger().logClientEvent({source:"harmony.seek()",source_version:A.tagged,source_vendor:"spotify",event:"Harmony/Client seek",event_version:"1.0.0",json_data:{position:e,deviceId:t}},"object"),this._runOnDevice(t,(()=>this._streamer.seek(e)),this._controller.seek.bind(this._controller,e,t))}))}getClientDescriptor(){return this._client.getClientDescriptor()}getProductState(){return this._client.getProductState()}getPublicTransport(){return this._client.getPublicTransport()}getUserInfo(){return this._client.getUserInfo()}getVersionDescriptor(){return this._client.getVersionDescriptor()}logAppMetrics(e,t){return this._client.logAppMetrics(e,t)}setName(e){return this._client.setName(e)}setNameTemplate(e){return this._client.setNameTemplate(e)}getContextPlayerState(){return this._controller.getContextPlayerState()}updateCurrentContext(e,t){return this._controller.updateCurrentContext(e,t)}getLastActiveDevice(){return this._onlyLocalState||this._hasFakeState?this._generateLocalDeviceInfo(this._hasFakeState):this._controller.getActiveDevice().then((e=>(null==e?void 0:e.local)&&this._streamer?(e.hidden=this._hidden,this._streamer.getVolume().then((t=>(e.volume=t,e)))):e))}getCurrentState(){const e=()=>this._onStreamerConnect().then((()=>this._streamer.getCurrentState()));return this._onlyLocalState||!this._preferController&&this._localPlayback?e():Promise.resolve(this._hasFakeState&&!this._preferController?e().catch((()=>null)):null).then((e=>{if(e)return e;const t=!(this._claimInactivePlayerStates&&this._localPlayerEnabled||this._enableControllerWithoutStreamer);return this._controller.getCurrentState(t).then((e=>!this._preferController&&this._localPlayback?this.getCurrentState():e))}))}pause(e,t){return this._runOnDevice(e,(()=>this._streamer.pause()),this._controller.pause.bind(this._controller,e,t),{loggingParams:null==t?void 0:t.loggingParams,forceRemoteAction:null==t?void 0:t.forceRemoteAction})}resume(e,t){return this._runOnDevice(e,(()=>this._streamer.resume()),this._controller.resume.bind(this._controller,e,t),{loggingParams:null==t?void 0:t.loggingParams,forceRemoteAction:null==t?void 0:t.forceRemoteAction})}togglePlay(e,t){return this._runOnDevice(e,(()=>this._streamer.togglePlay()),this._controller.togglePlay.bind(this._controller,e,t),{loggingParams:null==t?void 0:t.loggingParams,forceRemoteAction:null==t?void 0:t.forceRemoteAction})}playURI(e,t,s){return this._canStartNewContext(t).then((()=>(this._autoActivateElement&&this._activateElement(),this._controller.playURI(e,t,s))))}playPages(e,t,s){return this._canStartNewContext(t).then((()=>(this._autoActivateElement&&this._activateElement(),this._controller.playPages(e,t,s))))}playTracks(e,t,s){return this._canStartNewContext(t).then((()=>(this._autoActivateElement&&this._activateElement(),this._controller.playTracks(e,t,s))))}nextTrack(e,t){return this.getCurrentState().then((s=>{if(null==s?void 0:s.disallows.skipping_next)return Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,"Skipping is not allowed with current content."));const i={};let a=()=>this._streamer.nextTrack(g.FORWARD_BUTTON);const o=this._controller.nextTrack.bind(this._controller,e,i);return(null==t?void 0:t.track)&&(a=o,i.track=this._prepareSkipTrack(t.track)),(null==t?void 0:t.loggingParams)&&(i.loggingParams=t.loggingParams),this._runOnDevice(e,a,o,{loggingParams:null==t?void 0:t.loggingParams,forceRemoteAction:null==t?void 0:t.forceRemoteAction})}))}smartPreviousTrack(e,t){return this.getCurrentState().then((s=>{if(!s)return Promise.reject(new f(n.HARMONY_NO_TRACKS_LOADED,"No current state."));return(s.disallows||{}).seeking||s.position<3e3?s.disallows.skipping_prev?Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,"Skipping is not allowed with current content.")):this.previousTrack(e,t):this.seek(0,e)}))}previousTrack(e,t){return this.getCurrentState().then((s=>{if(null==s?void 0:s.disallows.skipping_prev)return Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,"Skipping is not allowed with current content."));const i={};let a=()=>this._streamer.previousTrack(g.FORWARD_BUTTON);const o=this._controller.previousTrack.bind(this._controller,e,i);return(null==t?void 0:t.track)&&(a=o,i.track=this._prepareSkipTrack(t.track)),(null==t?void 0:t.loggingParams)&&(i.loggingParams=t.loggingParams),this._runOnDevice(e,a,o,{loggingParams:null==t?void 0:t.loggingParams,forceRemoteAction:null==t?void 0:t.forceRemoteAction})}))}seek(e,t){var s;return null!==(s=this._throttledSeek(e,t))&&void 0!==s?s:Promise.resolve(!0)}seekForward(e=15e3,t){return this._movePosition(e,t)}seekBackward(e=15e3,t){return this._movePosition(-1*e,t)}getVolume(){return this._streamer?this._streamer.getVolume():Promise.resolve(-1)}setVolume(e,t){return this._runOnDevice(t,(()=>this._streamer.setVolume(e)),this._controller.setVolume.bind(this._controller,e),{bypassFakeState:!0})}getVideoProfiles(){if(!this._streamer)throw new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled.");return this._streamer.getVideoVariants()}setPreferredBitrate(e){if(!this._streamer)throw new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled.");return this._streamer.setPreferredBitrate(e)}getDevices(){return this._controller.getDevices().then(this._parseDeviceList).then((e=>(this._lastDeviceList=e,e)))}setQueue(e,t,s){const n=()=>this._controller.setQueue(e,t,s);return this._runOnDevice(s,n,n)}addToQueue(e,t){const s=e.map((e=>"string"==typeof e?e:e.uri));return this._controller.getQueueManager().addToQueue(s,t)}setShuffle(e,t,s){const n=()=>this._controller.setShuffle(e,t,s);return this._runOnDevice(t,n,n,{loggingParams:null==s?void 0:s.loggingParams,forceRemoteAction:null==s?void 0:s.forceRemoteAction})}toggleShuffle(e,t){const s=()=>this._controller.toggleShuffle(e,t);return this._runOnDevice(e,s,s,{loggingParams:null==t?void 0:t.loggingParams,forceRemoteAction:null==t?void 0:t.forceRemoteAction})}setRepeatMode(e,t){const s=()=>this._controller.setRepeatMode(e,t);return this._runOnDevice(t,s,s)}cycleRepeatMode(e){const t=()=>this._cycleRepeatMode(e);return this._runOnDevice(e,t,t)}transfer(e,t){const s=e||p,n=()=>this._controller.transfer(s,t);return this._autoActivateElement&&this._activateElement(),this._runOnDevice(s,n,n,{bypassFakeState:!0,loggingParams:null==t?void 0:t.loggingParams,forceRemoteAction:null==t?void 0:t.forceRemoteAction})}logout(e){return this._controller.logout(e||p)}activateElement(){return this._streamer?this._streamer.activateElement():Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled."))}getQueueManager(){return this._controller.getQueueManager(((e,t)=>this._runOnDevice(t,e,e)),{reportInactiveQueues:this._claimInactivePlayerStates,onlyLocalQueue:this._onlyLocalState,reportInitial:this._hasFakeState||this._localPlayback})}hideSubtitles(){if(!this._localPlayback)return Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,"Cannot hide subtitles on remote player."));const e=this._streamer;return e?this.getCurrentState().then((t=>{var s;return"video"!==(null===(s=null==t?void 0:t.track_window.current_track)||void 0===s?void 0:s.media_type)?Promise.reject(new f(n.HARMONY_INVALID_MEDIA_TYPE,"Content type does not allow subtitles.")):e.hideSubtitles()})):Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled."))}showSubtitles(){if(!this._localPlayback)return Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,"Cannot show subtitles on remote player."));const e=this._streamer;return e?this.getCurrentState().then((t=>{var s;return"video"!==(null===(s=null==t?void 0:t.track_window.current_track)||void 0===s?void 0:s.media_type)?Promise.reject(new f(n.HARMONY_INVALID_MEDIA_TYPE,"Content type does not allow subtitles.")):e.showSubtitles()})):Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled."))}areSubtitlesShown(){if(!this._localPlayback)return Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,"Cannot show subtitles on remote player."));const e=this._streamer;return e?this.getCurrentState().then((t=>{var s;return"video"!==(null===(s=null==t?void 0:t.track_window.current_track)||void 0===s?void 0:s.media_type)?Promise.reject(new f(n.HARMONY_INVALID_MEDIA_TYPE,"Content type does not allow subtitles.")):e.areSubtitlesShown()})):Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled."))}getSubtitleLanguages(){const e=this._streamer;return e?this.getCurrentState().then((t=>{var s;return"video"!==(null===(s=null==t?void 0:t.track_window.current_track)||void 0===s?void 0:s.media_type)?Promise.reject(new f(n.HARMONY_INVALID_MEDIA_TYPE,"Content type does not allow subtitles.")):e.getSubtitleLanguages()})):Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled."))}getActiveSubtitleLanguage(){if(!this._localPlayback)return Promise.resolve(null);const e=this._streamer;return e?this.getCurrentState().then((t=>{var s;return"video"!==(null===(s=null==t?void 0:t.track_window.current_track)||void 0===s?void 0:s.media_type)?Promise.reject(new f(n.HARMONY_INVALID_MEDIA_TYPE,"Content type does not allow subtitles.")):e.getActiveSubtitleLanguage()})):Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled."))}setSubtitleLanguage(e){if(!this._localPlayback)return Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,"Cannot set subtitle languages on remote player."));const t=this._streamer;return t?this.getCurrentState().then((s=>{var i;return"video"!==(null===(i=null==s?void 0:s.track_window.current_track)||void 0===i?void 0:i.media_type)?Promise.reject(new f(n.HARMONY_INVALID_MEDIA_TYPE,"Content type does not allow subtitles.")):t.setSubtitleLanguage(e)})):Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled."))}deactivateSubtitleEvents(){if(!this._localPlayback)return Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,"Cannot deactivate subtitle events on remote player."));const e=this._streamer;return e?e.deactivateSubtitleEvents():Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled."))}activateSubtitleEvents(){if(!this._localPlayback)return Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,"Cannot activate subtitle events on remote player."));const e=this._streamer;return e?e.activateSubtitleEvents():Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled."))}setBackgrounded(e){return this.setPlayerVisibility(!e)}setPlayerVisibility(e){return this._localPlayback?this._streamer?this._streamer.setPlayerVisibility(e):Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled.")):Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,"Cannot set background mode on remote player."))}setIsVideoVisible(e){return this._streamer?this._streamer.setIsVideoVisible(e):Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled."))}setVideoSurface(e){return this._streamer?this._streamer.setVideoSurface(e):Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled."))}getPlayerVisibility(){return Promise.resolve(!1)}setVideoResolution(e){return this._localPlayback?this._streamer?this._streamer.setVideoResolution(e):Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled.")):Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,"Cannot set preferred video resolution on remote player."))}getMediaConfig(){return this._streamer?this._streamer.getMediaConfig():Promise.reject(new f(n.HARMONY_LOCAL_PLAYER_DISABLED,"The local player is not enabled."))}setPlaybackSpeed(e,t){return isNaN(e)||e<.5||e>3.5?Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,`Invalid playback speed: ${e}. Should be in range 0.5 - 3.5`)):this.getCurrentState().then((s=>!s||s.disallows.setting_playback_speed?Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,"Cannot change playback speed; content type is not allowed.")):this._runOnDevice(t,(()=>this._streamer.setPlaybackSpeed(e)),(()=>this._controller.setPlaybackSpeed(e,t)))))}sendCustomSignal(e,t,s){return this.getCurrentState().then((i=>{if(((null==i?void 0:i.disallows.signals)||{})[e])return Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,`Sending signal ${e} is not allowed.`));const a=()=>this._controller.sendCustomSignal(e,t,s);return this._runOnDevice(t,a,a,{loggingParams:null==s?void 0:s.loggingParams,forceRemoteAction:null==s?void 0:s.forceRemoteAction})}))}playAsNextInQueue(e,t,s){const n=()=>this._controller.playAsNextInQueue(e,t,s);return this._runOnDevice(t,n,n,{loggingParams:null==s?void 0:s.loggingParams,forceRemoteAction:null==s?void 0:s.forceRemoteAction})}setModes(e,t,s){return this.getCurrentState().then((i=>{var a,o;const r=(null==i?void 0:i.disallows)||{};for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const s=e[t];if(null===(o=null===(a=r.setting_modes)||void 0===a?void 0:a[t])||void 0===o?void 0:o[s])return Promise.reject(new f(n.HARMONY_OPERATION_FORBIDDEN,`Setting ${t} to ${s} is not allowed.`))}const l=()=>this._controller.setModes(e,t,s);return this._runOnDevice(t,l,l,{loggingParams:null==s?void 0:s.loggingParams,forceRemoteAction:null==s?void 0:s.forceRemoteAction})}))}setShuffleMode(e,t,s){const n=()=>this._controller.setShuffleMode(e,t,s);return this._runOnDevice(t,n,n,{loggingParams:null==s?void 0:s.loggingParams,forceRemoteAction:null==s?void 0:s.forceRemoteAction})}}var C,I,k=s(7662),N=s(68448),P=s(30010);!function(e){e.FILE_URLS_MP3="file_urls_mp3",e.FILE_URLS_EXTERNAL="file_urls_external",e.FILE_IDS_MP3="file_ids_mp3",e.FILE_IDS_MP4="file_ids_mp4",e.FILE_IDS_MP4_DUAL="file_ids_mp4_dual",e.FILE_IDS_CBCS="file_ids_mp4_cbcs",e.FILE_IDS_MP4FLAC="file_ids_mp4flac",e.MANIFEST_IDS_VIDEO="manifest_ids_video",e.MANIFEST_URLS_VIDEO_AD="manifest_urls_video_ad",e.MANIFEST_URLS_AUDIO_AD="manifest_urls_audio_ad"}(C||(C={})),function(e){e.UNKNOWN="unknown",e.COMPUTER="computer",e.TABLET="tablet",e.SMARTPHONE="smartphone",e.SPEAKER="speaker",e.TV="tv",e.AVR="avr",e.STB="stb",e.AUDIO_DONGLE="audio_dongle",e.GAME_CONSOLE="game_console",e.CAST_VIDEO="cast_video",e.CAST_AUDIO="cast_audio",e.AUTOMOBILE="automobile",e.SMARTWATCH="smartwatch",e.CHROMEBOOK="chromebook"}(I||(I={}));const L="undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues;const j=e=>L?function(e){return crypto.getRandomValues(new Uint8Array(e))}(e):function(e){const t=[];for(;t.length<e;)t.push(Math.floor(256*Math.random()));return t}(e),O=e=>{const t=Math.ceil(e/2);return function(e){let t="";for(let s=0;s<e.length;s++){const n=e[s];n<16&&(t+="0"),t+=n.toString(16)}return t}(j(t))},D=()=>O(40),M="_spharmony_device_id";const U={get:function(e,t=!1){if(e&&"string"==typeof e)return e;if(t)return D();let s=localStorage.getItem(M);return s||(s=D(),localStorage.setItem(M,s)),s},generate:D};class B extends d.bk{constructor(e){var t;if(super(),this._platformVersion="",this._osName="",this._osVersion="",this._metadata={},this._manifestPrependOffset=0,!e)throw new TypeError("Invalid argument `options`.");if(!e.id)throw new TypeError("Argument `options.id` is required.");if(!e.name||!e.model||!e.type)throw new TypeError("Incomplete `options` value.");this._id=e.id,this._type=e.type,this._brand=e.brand,this._model=e.model,this._isGroup=!!e.is_group,this._name=e.name,this._platformName=e.platform_name,this._platformIdentifier=e.platform_identifier,this._platformVersion=e.platform_version||"",this._osName=e.os_name||"",this._osVersion=e.os_version||"",this._metadata=e.metadata||{},this._capabilities=e.capabilities||{manifest_formats:[]},this._manifestPrependOffset=(null===(t=this._capabilities.manifest_formats)||void 0===t?void 0:t.length)||0}static create(e){return new B({id:U.get(e.id,e.randomizeId),model:e.model||(0,P.W)("harmony-{{name}}.{{version}}-{{platform}}").toLowerCase(),name:e.nameTemplate?(0,P.W)(e.nameTemplate):e.name||(t=(0,P.W)("Spotify ({{name}}/{{platform}})"),t.replace(/\b[a-z]/g,(e=>e.toUpperCase()))),type:e.type||I.COMPUTER,brand:e.brand||"SpotifyHarmonyGeneric",platform_name:e.platform_name,platform_identifier:e.platform_identifier,platform_version:e.platform_version,os_name:e.os_name,os_version:e.os_version,metadata:e.metadata||{},capabilities:e.capabilities||{},is_group:!!e.is_group});var t}getId(){return this._id}setCapability(e,t){if("manifest_formats"===e)throw new TypeError('Cannot change capability "manifest_formats"');return this._capabilities[e]=t,this.emit("descriptor_changed",{descriptor:this.toJSON()}),!0}getCapability(e){if("manifest_formats"===e)throw new TypeError("Use `descriptor.getManifestFormats()`.");return this._capabilities[e]}setName(e){return this._name=e,this.emit("descriptor_changed",{descriptor:this.toJSON()}),!0}getName(){return this._name}getType(){return this._type}getBrand(){return this._brand}getModel(){return this._model}getPlatformIdentifier(){return this._platformIdentifier||`Partner ${this._brand} ${this._model}`}getPlatformName(){return this._platformName||this.getPlatformIdentifier()}getPlatformVersion(){return this._platformVersion}getOSName(){return this._osName}getOSVersion(){return this._osVersion}getManifestFormats(){return this._capabilities.manifest_formats||[]}appendManifestFormat(...e){const t=this._capabilities.manifest_formats;Array.isArray(t)&&t.push(...e)}prependManifestFormat(...e){const t=this._capabilities.manifest_formats;Array.isArray(t)&&t.splice(this._manifestPrependOffset,0,...e)}supportsVideoManifestFormats(){const e=this._capabilities.manifest_formats;return-1!==(null==e?void 0:e.indexOf(C.MANIFEST_IDS_VIDEO))}toJSON(){return{brand:this._brand,capabilities:Object.assign({},this._capabilities),id:this._id,metadata:Object.assign({},this._metadata),model:this._model,name:this._name,platform_name:this._platformName,platform_identifier:this._platformIdentifier,platform_version:this._platformVersion,os_name:this._osName,os_version:this._osVersion,type:this._type}}toTrackPlaybackDeviceInfo(){return{brand:this._brand,capabilities:Object.assign({},this._capabilities),device_id:this._id,device_type:this._type,metadata:Object.assign({},this._metadata),model:this._model,name:this._name,platform_name:this._platformName,platform_identifier:this._platformIdentifier,is_group:this._isGroup}}}var G=s(13792);class F{constructor(e){this._melodyLogger=new G.nj(e)}logClientEvent(e,t){return e?this._melodyLogger.sendLog("/v1/msg/batch",{type:"client_event",message:{source:e.source||G.Z7.UNKNOWN,context:e.context||G.Z7.UNKNOWN,event:e.event||G.Z7.UNKNOWN,event_version:e.event_version||G.Z7.EMPTY,test_version:e.test_version||G.Z7.EMPTY,source_version:e.source_version||G.Z7.UNKNOWN,source_vendor:e.source_vendor||G.Z7.UNKNOWN,json_data:"json"===t?e.json_data||"{}":JSON.stringify(e.json_data||{})}},{batch:!0}):Promise.reject(new TypeError("Logger.logClientEvent `data` cannot be null."))}logMetrics(e,t){if(!e&&!t)return Promise.resolve(!0);const s=e||[],n=t||[];if(!s.length&&!n.length)return Promise.resolve(!0);if(!Array.isArray(s)||!Array.isArray(n))return Promise.reject(new TypeError("Logger.logMetrics `meters` and `timers` must be null or an array."));for(const i of s)if(!("what"in i)||!("result"in i)||!("reason"in i))return Promise.reject(new TypeError("Logger.logMetrics: Invalid meter format in `meters` array."));for(const i of n)if(!("what"in i)||!("duration"in i))return Promise.reject(new TypeError("Logger.logMetrics: Invalid timer format in `timers` array."));return this._melodyLogger.sendLog("/v1/metric",{sdk_id:void 0,platform:void 0,client_version:void 0,meters:s,timers:n})}logJSSDKError(e,t){return this._melodyLogger.sendLog("/v1/msg/batch",{type:"jssdk_error",message:{source:e.source||G.Z7.UNKNOWN,source_version:e.source_version||G.Z7.UNKNOWN,type:e.type||G.Z7.UNKNOWN,message:e.message||G.Z7.EMPTY,stack:JSON.stringify(e.stack||G.Z7.EMPTY),json_data:"json"===t?e.json_data||"{}":JSON.stringify(e.json_data||{}),json_data_version:e.json_data_version||G.Z7.EMPTY_VERSION}},{batch:!0})}logJSSDKHarmonyError(e){return this._melodyLogger.sendLog("/v1/msg/batch",{type:"jssdk_harmony_error",message:e},{batch:!0})}logJSSDKContentRequest(e){var t;return this._melodyLogger.sendLog("/v1/msg/jssdk_content_request",{source:e.source||G.Z7.UNKNOWN,type:e.type||G.Z7.UNKNOWN,http_status:null!==(t=e.http_status)&&void 0!==t?t:void 0,ms_request_duration:e.ms_request_duration||G.Z7.EMPTY,n_retries:e.n_retries||G.Z7.ZERO,playback_id:e.playback_id||G.Z7.EMPTY})}logJSSDKConnectCommand(e){return this._melodyLogger.sendLog("/v1/msg/batch",{type:"jssdk_connect_command",message:{ms_ack_duration:e.ms_ack_duration,ms_request_latency:e.ms_request_latency||G.Z7.ZERO,command_id:e.command_id||G.Z7.EMPTY,command_type:e.command_type||G.Z7.EMPTY,target_device_brand:e.target_device_brand||G.Z7.EMPTY,target_device_model:e.target_device_model||G.Z7.EMPTY,target_device_client_id:e.target_device_client_id||G.Z7.EMPTY,target_device_id:e.target_device_id||G.Z7.EMPTY,interaction_ids:e.interaction_ids||G.Z7.EMPTY,play_origin:e.play_origin||G.Z7.EMPTY,result:e.result||G.Z7.EMPTY,http_response:e.http_response||G.Z7.EMPTY,http_status_code:e.http_status_code||G.Z7.ZERO}},{batch:!0})}}const V=k.m.forTag("harmonyclient"),H=/^[a-zA-Z0-9_%:-]{1,40}$/;class Y extends d.bk{constructor(e){if(super(),this._platformIdentifier=(0,c.u)(),this._platformVersion=(0,c.u)(),!e)throw new TypeError("Argument `options` is not defined.");if(!e.transport)throw new TypeError("No Transport instance provided");if(!e.transport.hasPlugin("dealer"))throw new TypeError("Transport has no Dealer plugin.");this._transport=e.transport,this._deviceDescriptor=this._initDeviceDescriptor(e),this._logger=new F({transport:this._transport.toPublic(),sdkId:this.getSDKId(),platform:this._platformIdentifier.promise,clientVersion:this._platformVersion.promise}),this._productStateObserver=N.$.create({transport:this._transport}),this._onConnected=this._onConnected.bind(this),this._onAuthenticated=this._onAuthenticated.bind(this),this._onConnectionError=this._onConnectionError.bind(this),this._onAuthenticationError=this._onAuthenticationError.bind(this),this._onShortSessionDisconnect=this._onShortSessionDisconnect.bind(this),this._attachListeners()}static create(e){return new Y(e)}static of(e){return e._client}_createDeviceDescriptor(e,t={}){var s,i,a;if((null==t?void 0:t.id)&&!H.test(t.id))throw f.fatal(n.HARMONY_INVALID_DESCRIPTOR_ID,"Invalid device id.");const o=t.capabilities||{},r={change_volume:null===(s=o.change_volume)||void 0===s||s,endsong_snooping:o.endsong_snooping,enable_play_token:!0,supports_file_media_type:!0,play_token_lost_behavior:e.playTokenLostBehavior||"pause",disable_connect:!!e.hidden,audio_podcasts:null===(i=o.audio_podcasts)||void 0===i||i,video_playback:o.video_playback,lossless_playback:o.lossless_playback,volume_steps:void 0!==o.volume_steps&&o.volume_steps>=0&&o.volume_steps<m?o.volume_steps:void 0,manifest_formats:[C.FILE_IDS_MP3,C.FILE_URLS_MP3,C.MANIFEST_URLS_AUDIO_AD],video_ads:o.video_ads,supports_preferred_media_type:null===(a=o.supports_preferred_media_type)||void 0===a||a},l=B.create(Object.assign(Object.assign({},t),{capabilities:r}));return this._platformIdentifier.resolve(l.getPlatformIdentifier()),this._platformVersion.resolve(l.getPlatformVersion()),this.proxyEmit(l,"descriptor_changed","descriptor_changed"),l}_initDeviceDescriptor(e){return Promise.resolve(e.descriptor).then(this._createDeviceDescriptor.bind(this,e)).catch((e=>(this._onError(_.HARMONY,{error:e}),Promise.reject(e))))}_attachListeners(){const e=this._transport;e.on(r.TransportEvent.CONNECTED,this._onConnected),e.on(r.TransportEvent.AUTHENTICATED,this._onAuthenticated),e.on(r.TransportEvent.CONNECTION_FAILED,this._onConnectionError),e.on(r.TransportEvent.AUTHENTICATION_FAILED,this._onAuthenticationError),this.proxyEmit(e,r.TransportEvent.RECONNECTING,"reconnecting"),this.proxyEmit(e,r.TransportEvent.RECONNECTED,"reconnected"),this.proxyEmit(e,r.TransportEvent.LOGGED_OUT,"logged_out"),this.proxyEmitSync(e,r.TransportEvent.BEFORE_OFFLINE_DISCONNECT,"before_offline_disconnect"),this.proxyEmitSync(e,r.TransportEvent.BEFORE_ONLINE_DISCONNECT,"before_disconnect"),e.on(r.TransportEvent.SHORT_SESSION_DISCONNECTED,this._onShortSessionDisconnect.bind(this)),this.proxyEmit(this._productStateObserver,r.TransportEvent.PRODUCT_STATE_CHANGED,"product_state_changed"),this.on("before_disconnect",(e=>{const t=this._productStateObserver.deregister().catch((()=>{}));e.data.awaitPromise(t)}))}_onError(e,t){this.emit("error",{source:e,error:t.error}),t.error&&t.error.unrecoverable&&this.emit("unrecoverable_failure",{source:e,error:t.error})}_onConnected(){this.emit("connected",null)}_onAuthenticated(){this.emit("authenticated",null)}_onConnectionError(e){this._onError(_.TRANSPORT,{error:e.data.error}),this.emit("connection_error",e.data)}_onAuthenticationError(e){this._onError(_.TRANSPORT,{error:e.data.error}),this.emit("authentication_error",e.data)}_onShortSessionDisconnect(e){this._logger.logClientEvent({source:"transport",source_version:A.tagged,source_vendor:"spotify",event:e.type,event_version:"1.0.0",json_data:{disconnectCount:e.data.disconnectCount,sessionLength:e.data.sessionLength}},"object").catch((t=>V.warn(`${e.type} Logging Error:`,t)))}getVersionDescriptor(){return Object.assign({},A)}getSDKId(){return`harmony:${A.tagged}`}getUntaggedSDKId(){return`harmony:${A.version}`}getPlatformIdentifier(){return this._platformIdentifier.promise}getPlatformVersion(){return this._platformVersion.promise}getLogger(){return this._logger}logAppMetrics(e,t){if(!this._logger)throw new TypeError("Invalid logger instance");return this._logger.logMetrics(e,t)}request(e,t){return this._transport.request(e,t)}getPublicTransport(){return this._transport.toPublic()}getClientDescriptor(){return this._deviceDescriptor.then((e=>e.toJSON()))}getDeviceDescriptor(){return this._deviceDescriptor}getUserInfo(){return this._transport.request("@webapi/v1/me",{responseType:"json"}).then((e=>{const t=e.body;if(200!==e.status){const t=new f(n.USER_INFO_REQUEST_FAILED_WITH_STATUS,`User info request failed with status ${e.status}`);return t.status=e.status,Promise.reject(t)}return t?{display_name:t.display_name,followers:t.followers,id:t.id,images:t.images,uri:t.uri}:Promise.reject(new f(n.USER_INFO_REQUEST_EMPTY_RESPONSE,"Unexpected empty response."))}))}getProductState(){return this._productStateObserver.getCurrentState()}setName(e){return this._deviceDescriptor.then((function(t){return t.setName(e)}))}setNameTemplate(e){return this.setName((0,P.W)(e))}setCapability(e,t){return this._deviceDescriptor.then((s=>s.setCapability(e,t)))}notifyError(e,t){this._onError(e,{error:t})}}var K=s(78556),z=s(70799),W=s(92376);var q,Q,$,Z,X,J;!function(e){e.URL="URL",e.MSE="MSE"}(q||(q={})),function(e){e.KEY_SESSION_MESSAGE="message",e.KEY_SESSION_STATUSES_CHANGE="keystatuseschange",e.MEDIA_SOURCE_OPEN="sourceopen",e.MEDIA_SOURCE_CLOSE="sourceclose",e.SOURCE_BUFFER_UPDATE_END="updateend",e.MS_KEY_ADDED="mskeyadded",e.MS_KEY_ERROR="mskeyerror",e.MS_KEY_MESSAGE="mskeymessage",e.MS_NEEDKEY="msneedkey",e.WEBKIT_KEY_ADDED="webkitkeyadded",e.WEBKIT_KEY_ERROR="webkitkeyerror",e.WEBKIT_KEY_MESSAGE="webkitkeymessage",e.WEBKIT_NEEDKEY="webkitneedkey",e.V0_1B_KEY_ADDED="keyadded",e.V0_1B_KEY_ERROR="keyerror",e.V0_1B_KEY_MESSAGE="keymessage",e.V0_1B_NEEDKEY="needkey",e.MEDIA_CANPLAY="canplay",e.MEDIA_CANPLAYTHROUGH="canplaythrough",e.MEDIA_DURATIONCHANGE="durationchange",e.MEDIA_ENCRYPTED="encrypted",e.MEDIA_ENDED="ended",e.MEDIA_ERROR="error",e.MEDIA_LOADEDMETADATA="loadedmetadata",e.MEDIA_PAUSE="pause",e.MEDIA_PLAY="play",e.MEDIA_PLAYING="playing",e.MEDIA_SEEKED="seeked",e.MEDIA_SEEKING="seeking",e.MEDIA_TIMEUPDATE="timeupdate",e.MEDIA_WAITING="waiting",e.MEDIA_RATECHANGE="ratechange",e.MEDIA_RESIZE="resize",e.MEDIA_VOLUMECHANGE="volumechange",e.INTERNAL_ENCRYPTED="__encrypted",e.INTERNAL_PLAYER_CANPLAY="__canplay",e.INTERNAL_PLAYER_CANPLAYTHROUGH="__canplaythrough",e.INTERNAL_MEDIA_REQUIRES_DURATION="__requiresduration",e.INTERNAL_PLAYER_LOADED_METADATA="__loadedmetadata",e.BUFFER_APPEND_ERROR="append_error",e.BUFFER_STALLED="stalled",e.BUFFERING_START="buffering_start",e.BUFFERING_END="buffering_end",e.BUFFER_SOURCE_OPEN="source_open",e.BUFFER_SOURCE_CLOSE="source_close",e.BUFFER_UPDATE_END="update_end",e.BUFFER_QUOTA_EXCEEDED="quota_exceeded",e.EME_LICENSE_REQUEST_ERROR="license_request_error",e.EME_LICENSE_REQUEST_CAPPED="license_request_capped",e.LIST_PLAYER_AUTOPLAY_FAILED="player_autoplay_failed",e.LIST_PLAYER_BEFORE_LIST_CHANGE="before_list_change",e.LIST_PLAYER_BEFORE_NEXT="before_next",e.LIST_PLAYER_BEFORE_PLAYER_LOAD="before_player_load",e.LIST_PLAYER_BEFORE_PREVIOUS="before_previous",e.LIST_PLAYER_BEFORE_TRACK_LOAD="before_track_load",e.LIST_PLAYER_BEFORE_VOLUME_CHANGE="before_volume_change",e.LIST_PLAYER_BEFORE_STOP="before_stop",e.LIST_PLAYER_BUFFER_STALLED="stalled",e.LIST_PLAYER_BUFFERING_START="buffering_start",e.LIST_PLAYER_BUFFERING_END="buffering_end",e.LIST_PLAYER_REBUFFERING_START="rebuffering_start",e.LIST_PLAYER_REBUFFERING_END="rebuffering_end",e.LIST_PLAYER_CAPPED="capped",e.LIST_PLAYER_CLEARED="cleared",e.LIST_PLAYER_DURATION_CHANGED="duration_changed",e.LIST_PLAYER_ERROR="error",e.LIST_PLAYER_ERROR_SYNC="error_sync",e.LIST_PLAYER_FIRST_BYTES="first_bytes",e.LIST_PLAYER_LIST_CHANGED="list_change",e.LIST_PLAYER_LIST_ENDED="list_ended",e.LIST_PLAYER_LOAD_VIDEO="load_video",e.LIST_PLAYER_MAX_LIST_ERRORS_REACHED="max_list_errors_reached",e.LIST_PLAYER_PAUSED="paused",e.LIST_PLAYER_PLAYED_THRESHOLD_REACHED="played_threshold_reached",e.LIST_PLAYER_PLAYER_LOAD="player_load",e.LIST_PLAYER_PLAYING="playing",e.LIST_PLAYER_POSITION_CHANGED="position_changed",e.LIST_PLAYER_PROGRESS="progress",e.LIST_PLAYER_REPEAT_MODE_CHANGED="repeat_mode_changed",e.LIST_PLAYER_SHUFFLE_CHANGED="shuffle_changed",e.LIST_PLAYER_STOPPED="stopped",e.LIST_PLAYER_STOPPED_VIDEO="stopped_video",e.LIST_PLAYER_TRACKING_DATA_CREATED="tracking_data_created",e.LIST_PLAYER_TRACKING_DATA_FINALIZED="tracking_data_finalized",e.LIST_PLAYER_TRACK_ENDED="track_ended",e.LIST_PLAYER_TRACK_LOADED="track_loaded",e.LIST_PLAYER_TRACK_TIMEOUT="track_timeout",e.LIST_PLAYER_TRACK_UNPLAYABLE="track_unplayable",e.LIST_PLAYER_DATA_CREATED="tracking_data_created",e.LIST_PLAYER_DATA_FINALIZED="tracking_data_finalized",e.LIST_PLAYER_VOLUME_CHANGED="volume_changed",e.LIST_PLAYER_VIDEO_ELEMENT_APPENDED="video_element_appended",e.LIST_PLAYER_VIDEO_ELEMENT_REMOVED="video_element_removed",e.LIST_PLAYER_VIDEO_PROFILE_CHANGED="video_profile_changed",e.LIST_PLAYER_SEEK_HANDLED="list_player_seek_handled",e.LIST_PLAYER_SEEKING="seeking",e.LIST_PLAYER_DISPLAYED_CUES_CHANGED="displayed_cues_changed",e.LIST_PLAYER_PLAYBACK_SPEED_CHANGED="playback_speed_changed",e.LIST_PLAYER_MUTED_CHANGED="muted_changed",e.LIST_PLAYER_SUBTITLE_LANGUAGES_LOADED="subtitle_languages_loaded",e.LIST_PLAYER_PLAYING_PROFILE_CHANGED="playing_profile_changed",e.LIST_PLAYER_VIDEO_VISIBILITY_CHANGED="video_visibility_changed",e.LIST_PLAYER_MEDIA_PLAYBACK_MODE_CHANGED="media_playback_mode_changed",e.LIST_PLAYER_VIDEO_SURFACE_CHANGED="video_surface_changed",e.LOGGER_ERROR="error",e.PLAYER_AUTOPLAY_FAILED="player_autoplay_failed",e.PLAYER_BEFORE_LOAD="before_load",e.PLAYER_BEFORE_STOP="before_stop",e.PLAYER_BEFORE_VOLUME_CHANGE="before_volume_change",e.PLAYER_BUFFER_STALLED="stalled",e.PLAYER_BUFFERING_START="buffering_start",e.PLAYER_BUFFERING_END="buffering_end",e.PLAYER_CAN_PRELOAD="can_preload",e.PLAYER_CAPPED="capped",e.PLAYER_DURATION_CHANGED="duration_changed",e.PLAYER_ENDED="ended",e.PLAYER_ENDED_VIDEO="ended_video",e.PLAYER_ERROR="error",e.PLAYER_WARNING="warning",e.PLAYER_LOG_CLIENT_EVENT="log_client_event",e.PLAYER_FIRST_BYTES="first_bytes",e.PLAYER_KEY_RECEIVED="key",e.PLAYER_LOAD="load",e.PLAYER_LOAD_VIDEO="load_video",e.PLAYER_LOADING_FAILED="loading_failed",e.PLAYER_MUTED_CHANGED="muted_changed",e.PLAYER_PAUSED="paused",e.PLAYER_PLAY="play",e.PLAYER_PLAYING="playing",e.PLAYER_POSITION_CHANGED="position_changed",e.PLAYER_PRELOADING_ERROR="preloading_error",e.PLAYER_PROGRESS="progress",e.PLAYER_REBUFFERING_START="rebuffering_start",e.PLAYER_REBUFFERING_END="rebuffering_end",e.PLAYER_STALLED="stalled",e.PLAYER_STOPPED="stopped",e.PLAYER_STOPPED_VIDEO="stopped_video",e.PLAYER_PLAYED_THRESHOLD_REACHED="played_threshold_reached",e.PLAYER_TIMEOUT="timeout",e.PLAYER_PLAYBACK_START="playback_start",e.PLAYER_TRACKING_DATA_CREATED="tracking_data_created",e.PLAYER_TRACKING_DATA_FINALIZED="tracking_data_finalized",e.PLAYER_VIDEO_ELEMENT_APPENDED="video_element_appended",e.PLAYER_VIDEO_ELEMENT_REMOVED="video_element_removed",e.PLAYER_VIDEO_PROFILE_CHANGED="video_profile_changed",e.PLAYER_DISPLAYED_CUES_CHANGED="displayed_cues_changed",e.PLAYER_SEEKING="seeking",e.PLAYER_FRAGMENT_FETCHED="fragment_fetched",e.PLAYER_FRAGMENT_FETCH_ERROR="fragment_fetch_error",e.PLAYER_VIDEO_MANIFEST_RESOLVED="video_manifest_resolved",e.PLAYER_VIDEO_MANIFEST_RESOLVE_FAILED="video_manifest_resolve_failed",e.PLAYER_PLAYBACK_SPEED_CHANGED="playback_speed_changed",e.PLAYER_SUBTITLE_LANGUAGES_LOADED="subtitle_languages_loaded",e.PLAYER_VIDEO_RESIZED="resize",e.PLAYER_VIDEO_VISIBILITY_CHANGED="video_visibility_changed",e.PLAYER_PLAYING_PROFILE_CHANGED="playing_profile_changed",e.PLAYER_MEDIA_PLAYBACK_MODE_CHANGED="media_playback_mode_changed",e.PLAYER_VIDEO_SURFACE_CHANGED="video_surface_changed",e.PLAYER_VOLUME_CHANGED="volume_changed",e.PLAYER_MANAGER_READY="ready",e.TRACKER_PLAYBACK_START="playback_start",e.TRACKER_PLAYED_THRESHOLD_REACHED="played_threshold_reached",e.TRACKER_TRACKING_DATA_CREATED="tracking_data_created",e.TRACKER_TRACKING_DATA_FINALIZED="tracking_data_finalized",e.TRACKER_FIRST_QUARTILE="tracking_first_quartile",e.TRACKER_MIDPOINT="tracking_midpoint",e.TRACKER_THIRD_QUARTILE="tracking_third_quartile",e.TRACKER_LOG_CLIENT_EVENT="tracker_log_client_event",e.VIDEO_MANIFEST_RESOLVED="video_manifest_resolved",e.VIDEO_MANIFEST_RESOLVE_FAILED="video_manifest_resolve_failed",e.ABR_MANAGER_BITRATE_CHANGE="bitrate_change",e.REPORTING_START="reporting_start",e.REPORTING_CREATIVE_VIEW="reporting_creative_view",e.REPORTING_FIRST_QUARTILE="reporting_first_quartile",e.REPORTING_MIDPOINT="reporting_midpoint",e.REPORTING_THIRD_QUARTILE="reporting_third_quartile",e.REPORTING_COMPLETE="reporting_complete",e.REPORTING_PAUSE="reporting_pause",e.REPORTING_RESUME="reporting_resume",e.REPORTING_ERROR="reporting_error"}(Q||(Q={})),function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready",e.PLAYREADY_HARDWARE="com.microsoft.playready.hardware",e.FAIRPLAY="com.apple.fps.1_0",e.INVALID_SPOTIFY_KEY="com.spotify.invalid"}($||($={})),function(e){e.SUCCESS="RESULT_SUCCESS",e.INVALID="RESULT_INVALID",e.FORBIDDEN="RESULT_FORBIDDEN",e.OUT_OF_BOUNDS="RESULT_OUT_OF_BOUNDS",e.NO_LIST="RESULT_NO_LIST",e.NO_TRACK="RESULT_NO_TRACK",e.LIST_END="RESULT_LIST_END",e.INVALID_TRACK="RESULT_INVALID_TRACK",e.CANCELLED="CANCELLED",e.NO_TRACK_PLAYER="NO_TRACK_PLAYER"}(Z||(Z={})),function(e){e.MP3="MP3",e.MP4="MP4",e.MP4_DUAL="MP4_DUAL",e.MP4_CBCS="MP4_CBCS",e.MP4_FLAC="MP4_FLAC",e.MANIFEST_ID="MANIFEST_ID",e.AD_MANIFEST="AD_MANIFEST",e.GENERIC_MEDIA="GENERIC_MEDIA"}(X||(X={})),function(e){e.FRAGMENT_FETCHED="fragment_fetched",e.FRAGMENT_FETCH_ERROR="fragment_fetch_error",e.VIDEO_PROFILE_CHANGED="video_profile"}(J||(J={}));class ee extends Error{constructor(e,t,s={}){super(),this.unrecoverable=!1,this.listPlayerIgnore=!1,this.debug={},this.name="PlaybackError",this.code=e,this.message=t,this.debug=s}static fatal(e,t){const s=new ee(e,t);return s.unrecoverable=!0,s}}class te extends Error{constructor(e=i.EME_ERROR_UNKNOWN,t,s={}){super(t),this.status=-1,this.licenseServer="",this.shouldRefreshEndpoint=!1,this.unrecoverable=!1,this.debug={},this.code=e,this.message=t,this.name="EMEError",this.debug=s}static fatal(e=i.EME_ERROR_UNKNOWN,t,s={}){const n=new te(e,t,s);return n.unrecoverable=!0,n}}class se extends Error{constructor(e,t){super(t),this.name="CappingError",this.message=t,this.code=e}}function ne(e){const t=document.createEvent("Event");t.initEvent("encrypted",!1,!1),t.initDataType="cenc",t.initData=e.initData,t.fromPolyfill=!0,this.dispatchEvent(t)}class ie extends d.Vk{constructor(e){super(Q.KEY_SESSION_MESSAGE,null),this.messageType="license-request",this.message=e}}class ae extends d.bk{constructor(e){super(),this._nativeKeySession=null,this._lastUpdateDeferred=(0,c.u)(),this._lastGenerateDeferred=(0,c.u)(),this.addEventListener=this.addListener,this.removeEventListener=this.removeListener,this._nativeMediaKeys=e,this._onKeyMessage=this._onKeyMessage.bind(this),this._onKeyAdded=this._onKeyAdded.bind(this),this._onKeyError=this._onKeyError.bind(this)}_attach(){const e=this._nativeKeySession;e&&(e.addEventListener(Q.MS_KEY_ADDED,this._onKeyAdded),e.addEventListener(Q.MS_KEY_ERROR,this._onKeyError),e.addEventListener(Q.MS_KEY_MESSAGE,this._onKeyMessage))}_detach(){const e=this._nativeKeySession;e&&(e.removeEventListener(Q.MS_KEY_ADDED,this._onKeyAdded),e.removeEventListener(Q.MS_KEY_ERROR,this._onKeyError),e.removeEventListener(Q.MS_KEY_MESSAGE,this._onKeyMessage))}_onKeyMessage(e){e.message&&e.message.buffer&&(this.emitEvent(new ie(e.message.buffer)),this._lastGenerateDeferred&&(this._lastGenerateDeferred.resolve(!0),this._lastGenerateDeferred=null))}_onKeyAdded(){this._lastUpdateDeferred&&(this._lastUpdateDeferred.resolve(!0),this._lastUpdateDeferred=null),this._lastGenerateDeferred&&(this._lastGenerateDeferred.resolve(!0),this._lastGenerateDeferred=null),this.emit(Q.KEY_SESSION_STATUSES_CHANGE,null)}_onKeyError(){const e=this._nativeKeySession&&this._nativeKeySession.error;this._lastGenerateDeferred&&(this._lastGenerateDeferred.reject(e),this._lastGenerateDeferred=null),this._lastUpdateDeferred&&(this._lastUpdateDeferred.reject(e),this._lastUpdateDeferred=null),this.emit(Q.KEY_SESSION_STATUSES_CHANGE,null)}generateRequest(e,t){return new Promise(((e,s)=>{this._lastGenerateDeferred&&(this._lastGenerateDeferred.resolve=e,this._lastGenerateDeferred.reject=s),this._nativeKeySession=this._nativeMediaKeys.createSession("audio/mp4",new Uint8Array(t),null),this._attach()}))}update(e){return new Promise(((t,s)=>{this._lastGenerateDeferred&&(this._lastGenerateDeferred.resolve=t,this._lastGenerateDeferred.reject=s),this._nativeKeySession&&this._nativeKeySession.update(new Uint8Array(e))}))}close(){return new Promise((e=>{this._nativeKeySession&&this._nativeKeySession.close(),this._detach(),e(!0)}))}}class oe{constructor(e){this._lastBoundSetter=null,this.shouldRefreshPerTrack=!0,this._nativeMediaKeys=new MSMediaKeys(e)}attach(e){return new Promise((t=>{if(e.readyState>=1)return e.msSetMediaKeys(this._nativeMediaKeys),void t();const s=()=>{e.removeEventListener(Q.MEDIA_LOADEDMETADATA,s),this._lastBoundSetter=null,e.msSetMediaKeys(this._nativeMediaKeys)};this._lastBoundSetter=s,e.addEventListener(Q.MEDIA_LOADEDMETADATA,s),e.addEventListener(Q.MS_NEEDKEY,ne),t()}))}detach(e){this._lastBoundSetter&&(e.removeEventListener(Q.MS_NEEDKEY,ne),e.removeEventListener(Q.MEDIA_LOADEDMETADATA,this._lastBoundSetter),this._lastBoundSetter=null)}setServerCertificate(){return Promise.reject(new te(i.EME_CANNOT_SET_CERTIFICATE_FOR_PLATFORM,"Cannot set server certificate on this platform."))}createSession(){return new ae(this._nativeMediaKeys)}}function re(e){const t=this.mediaKeys;t&&t!==e&&t.detach(this),delete this.mediaKeys,this.mediaKeys=e;try{return e&&e.attach(this),Promise.resolve()}catch(s){return Promise.reject(new te(i.EME_PLAYER_MEDIA_KEYS_SETTING_FAILED,"Failed to set MediaKeys on HTMLMediaElement"))}}class le{constructor(e,t){if(this._configuration=null,this.keySystem=e,!this._checkConfig(t))throw new te(i.EME_NO_SUPPORTED_CONFIGURATION,"No supported configurations")}_checkConfig(e){var t,s;const n=this.keySystem;for(const i of e){const e={initDataTypes:i.initDataTypes,audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",sessionTypes:["temporary"],label:i.label};let a;if(i.audioCapabilities&&i.audioCapabilities.length&&e.audioCapabilities){a=!1;for(const s of i.audioCapabilities){const i=null===(t=s.contentType)||void 0===t?void 0:t.split(";")[0];MSMediaKeys.isTypeSupported(n,i)&&(e.audioCapabilities.push(s),a=!0)}}if(i.videoCapabilities&&i.videoCapabilities.length&&e.videoCapabilities){a=!1;for(const t of i.videoCapabilities){const i=null===(s=t.contentType)||void 0===s?void 0:s.split(";")[0];MSMediaKeys.isTypeSupported(n,i)&&(e.videoCapabilities.push(t),a=!0)}}if(a)return this._configuration=e,!0}return!1}getConfiguration(){return this._configuration}createMediaKeys(){return new Promise((e=>{e(new oe(this.keySystem))}))}}const de=k.m.forTag("eme_polyfill.v0_1b");class ce extends d.bk{constructor(e,t,s){super(),this._mediaElement=null,this._lastUpdateDeferred=null,this._lastGenerateResolver=null,this.sessionId=null,this._keySystem=e,this._mediaElement=t,this._prefix=s,this.addEventListener=this.addListener,this.removeEventListener=this.removeListener}_addPrefix(e){return this._prefix?this._prefix+e.replace(/\b[a-z]/,(function(e){return e.toUpperCase()})):e}generateComplete(e){this.emitEvent(new ie(e)),this._lastGenerateResolver&&(this._lastGenerateResolver.resolve(!0),this._lastGenerateResolver=null)}updateComplete(){this._lastUpdateDeferred&&(this._lastUpdateDeferred.resolve(!0),this._lastUpdateDeferred=null),this.emit(Q.KEY_SESSION_STATUSES_CHANGE,null)}handleErrorEvent(e){const t=new te(i.EME_MEDIA_KEY_SESSION_V0_1B_ERROR,"MediaKeySession v0.1b Error");t.debug.errorCode=e.errorCode,t.debug.systemCode=e.systemCode,!e.sessionId&&this._lastGenerateResolver?(this._lastGenerateResolver.reject(t),this._lastGenerateResolver=null):e.sessionId&&this._lastUpdateDeferred?(this._lastUpdateDeferred.reject(t),this._lastUpdateDeferred=null):this.emit(Q.KEY_SESSION_STATUSES_CHANGE,null)}generateRequest(e,t){return this._mediaElement?new Promise(((e,s)=>{this._lastGenerateResolver={resolve:e,reject:s};try{this._mediaElement[this._addPrefix("generateKeyRequest")](this._keySystem,new Uint8Array(t))}catch(n){s(n),this._lastGenerateResolver=null}})):Promise.reject(new ReferenceError("InvalidState: Media keys are not attached."))}update(e){if(!this._mediaElement)return Promise.reject(new ReferenceError("InvalidState: Media keys are not attached."));if(this._lastUpdateDeferred){const t=this.update.bind(this,e);return this._lastUpdateDeferred.promise.then(t,t)}const t=(0,c.u)();this._lastUpdateDeferred=t;try{this._mediaElement[this._addPrefix("addKey")](this._keySystem,new Uint8Array(e),null,this.sessionId)}catch(s){t.reject(s),this._lastUpdateDeferred=null}return t.promise}close(){if(this.sessionId&&this._mediaElement)try{this._mediaElement[this._addPrefix("cancelKeyRequest")](this._keySystem,this.sessionId)}catch(e){de.warn("Could not close keysession",e)}return Promise.resolve(!0)}}class ue{constructor(e,t=""){this._mediaElement=null,this._waitingForSessionIds=[],this._sessionMap={},this.shouldRefreshPerTrack=!0,this._keySystem=e,this._prefix=t,this._onKeyMessage=this._onKeyMessage.bind(this),this._onKeyAdded=this._onKeyAdded.bind(this),this._onKeyError=this._onKeyError.bind(this)}_getSession(e){const t=this._sessionMap[e];if(t)return t;const s=this._waitingForSessionIds.shift();return s?(s.sessionId=e,this._sessionMap[e]=s,s):null}_onKeyMessage(e){const t=this._getSession(e.sessionId);t?t.generateComplete(e.message):de.warn("Got keymessage without session.")}_onKeyAdded(e){const t=this._getSession(e.sessionId);t?t.updateComplete():de.warn("Got keyadded without session.")}_onKeyError(e){const t=this._getSession(e.sessionId);t?t.handleErrorEvent(e):de.warn("Got keyerror without session.")}attach(e){this._mediaElement=e;const t=this._prefix;e.addEventListener(t+Q.V0_1B_NEEDKEY,ne);const s=e.addEventListener.bind(e);s(t+Q.V0_1B_KEY_ADDED,this._onKeyAdded),s(t+Q.V0_1B_KEY_ERROR,this._onKeyError),s(t+Q.V0_1B_KEY_MESSAGE,this._onKeyMessage)}detach(e){this._mediaElement=null;const t=this._prefix;e.removeEventListener(t+Q.V0_1B_NEEDKEY,ne);const s=e.removeEventListener.bind(e);s(t+Q.V0_1B_KEY_ADDED,this._onKeyAdded),s(t+Q.V0_1B_KEY_ERROR,this._onKeyError),s(t+Q.V0_1B_KEY_MESSAGE,this._onKeyMessage)}setServerCertificate(){return Promise.reject(new te(i.EME_CANNOT_SET_CERTIFICATE_FOR_PLATFORM,"Cannot set server certificate on this platform."))}createSession(){const e=new ce(this._keySystem,this._mediaElement,this._prefix);return this._waitingForSessionIds.push(e),e}}function pe(e){const t=this.mediaKeys;t&&t!==e&&t.detach(this),delete this.mediaKeys,this.mediaKeys=e;try{return e&&e.attach(this),Promise.resolve()}catch(s){return Promise.reject(new te(i.EME_PLAYER_MEDIA_KEYS_SETTING_FAILED,"Failed to set MediaKeys on HTMLMediaElement"))}}class me{constructor(e,t,s){if(this._configuration=null,this.keySystem=e,this._prefix=s,!this._checkConfig(t))throw new te(i.EME_NO_SUPPORTED_CONFIGURATION,"No supported configurations")}_checkConfig(e){var t,s;const n=this.keySystem,i=document.createElement("video");for(const a of e){const e={initDataTypes:a.initDataTypes,audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",sessionTypes:["temporary"],label:a.label};let o=!1;if(a.audioCapabilities&&a.audioCapabilities.length&&e.audioCapabilities){o=!1;for(const s of a.audioCapabilities){const a=null===(t=s.contentType)||void 0===t?void 0:t.split(";")[0];a&&i.canPlayType(a,n)&&(e.audioCapabilities.push(s),o=!0)}}if(a.videoCapabilities&&a.videoCapabilities.length&&e.videoCapabilities){o=!1;for(const t of a.videoCapabilities){const a=null===(s=t.contentType)||void 0===s?void 0:s.split(";")[0];a&&i.canPlayType(a,n)&&(e.videoCapabilities.push(t),o=!0)}}if(o)return this._configuration=e,!0}return!1}getConfiguration(){return this._configuration}createMediaKeys(){return new Promise((e=>{e(new ue(this.keySystem,this._prefix))}))}}function he(e){navigator.requestMediaKeySystemAccess=function(t,s){return new Promise((n=>{n(new me(t,s,e))}))};const t=HTMLMediaElement.prototype;delete t.mediaKeys,t.setMediaKeys=pe}const _e=k.m.forTag("eme_polyfill.safari");class ye extends d.bk{constructor(e,t){super(),this._attached=!1,this._nativeKeySession=null,this._lastGenerateResolver=(0,c.u)(),this._lastUpdateResolver=(0,c.u)(),this.addEventListener=this.addListener,this.removeEventListener=this.removeListener,this._nativeMediaKeys=e,this._serverCertificate=t,this._onKeyMessage=this._onKeyMessage.bind(this),this._onKeyAdded=this._onKeyAdded.bind(this),this._onKeyError=this._onKeyError.bind(this)}_attach(){if(this._attached)return;const e=this._nativeKeySession;e?(e.addEventListener(Q.WEBKIT_KEY_MESSAGE,this._onKeyMessage),e.addEventListener(Q.WEBKIT_KEY_ADDED,this._onKeyAdded),e.addEventListener(Q.WEBKIT_KEY_ERROR,this._onKeyError)):_e.warn("Tried to attach with no WebKitMediaKeySession")}_detach(){if(!this._attached)return;const e=this._nativeKeySession;e?(e.removeEventListener(Q.WEBKIT_KEY_MESSAGE,this._onKeyMessage),e.removeEventListener(Q.WEBKIT_KEY_ADDED,this._onKeyAdded),e.removeEventListener(Q.WEBKIT_KEY_ERROR,this._onKeyError)):_e.warn("Tried to detach with no WebKitMediaKeySession")}_onKeyMessage(e){e.message&&e.message.buffer&&(this.emitEvent(new ie(e.message.buffer)),this._lastGenerateResolver&&(this._lastGenerateResolver.resolve(!0),this._lastGenerateResolver=null))}_onKeyAdded(){this._lastUpdateResolver&&(this._lastUpdateResolver.resolve(!0),this._lastUpdateResolver=null),this.emit(Q.KEY_SESSION_STATUSES_CHANGE,null)}_onKeyError(){const e=this._nativeKeySession&&this._nativeKeySession.error,t=new te(i.EME_MEDIA_KEY_SESSION_SAFARI_ERROR,e&&e.message||"MediaKeySession Safari Error");e&&(t.debug.errorCode=e.code,t.debug.systemCode=e.systemCode),this._lastGenerateResolver?(this._lastGenerateResolver.reject(t),this._lastGenerateResolver=null):this._lastUpdateResolver&&(this._lastUpdateResolver.reject(t),this._lastUpdateResolver=null)}_rebuildInitData(e){const t=new Uint8Array(e);if(new DataView(t.buffer).getUint32(0,!0)+4!==t.byteLength)throw new te(i.EME_INIT_DATA_MALFORMED,"Malformed init data");const s=function(e){const t=Math.floor(e.byteLength/2),s=new Uint16Array(t),n=new DataView(e.buffer);for(let i=0;i<t;i++)s[i]=n.getUint16(2*i,!0);return String.fromCharCode.apply(null,s)}(t.slice(4)),n=s.match(/^skd:\/\/([0-9a-fA-F]+)/);if(!(null==n?void 0:n[1]))throw new te(i.EME_INIT_DATA_MALFORMED,"Invalid content ID");const a=n[1],o=new Uint8Array(function(e){const t=new Uint8Array(2*e.length),s=new DataView(t.buffer),n=e.split("");for(let i=0,a=n.length;i<a;i++){const e=n[i].charCodeAt(0);s.setUint16(2*i,e,!0)}return t.buffer}(a)),r=this._serverCertificate,l=new Uint8Array(t.byteLength+4+o.byteLength+4+r.byteLength);let d=0;l.set(t,d),d+=t.byteLength;const c=new DataView(l.buffer);return c.setUint32(d,o.byteLength,!0),d+=4,l.set(o,d),d+=o.byteLength,c.setUint32(d,r.byteLength,!0),d+=4,l.set(r,d),l}generateRequest(e,t){return new Promise(((e,s)=>{this._lastGenerateResolver={resolve:e,reject:s};try{const e=this._rebuildInitData(t);this._nativeKeySession=this._nativeMediaKeys.createSession("video/mp4",new Uint8Array(e),null),this._attach()}catch(n){this._lastGenerateResolver=null,s(n)}}))}update(e){const t=(0,c.u)();if(this._lastUpdateResolver=t,!this._nativeKeySession)return _e.warn("Tried to update with no WebKitMediaKeySession"),t.promise;try{this._nativeKeySession.update(new Uint8Array(e))}catch(s){t.reject(s)}return t.promise}close(){return new Promise((e=>{this._detach(),e(!0)}))}}class be{constructor(e){this._lastBoundSetter=null,this._serverCertificate=null,this.shouldRefreshPerTrack=!0,this._nativeMediaKeys=new WebKitMediaKeys(e)}attach(e){return new Promise((t=>{if(e.readyState>=1)return e.webkitSetMediaKeys(this._nativeMediaKeys),void t();const s=()=>{e.removeEventListener(Q.MEDIA_LOADEDMETADATA,s),this._lastBoundSetter=null,e.webkitSetMediaKeys(this._nativeMediaKeys)};this._lastBoundSetter=s,e.addEventListener(Q.MEDIA_LOADEDMETADATA,s),e.addEventListener(Q.WEBKIT_NEEDKEY,ne),t()}))}detach(e){e.removeEventListener(Q.WEBKIT_NEEDKEY,ne),this._lastBoundSetter&&(e.removeEventListener(Q.MEDIA_LOADEDMETADATA,this._lastBoundSetter),this._lastBoundSetter=null)}setServerCertificate(e){return this._serverCertificate=new Uint8Array(e),Promise.resolve(!0)}createSession(){if(!this._serverCertificate)throw new te(i.EME_INVALID_STATE_ERROR,"The server certificate is not available");return new ye(this._nativeMediaKeys,this._serverCertificate)}}class ge{constructor(e,t){this.keySystem=e;const s=this._checkConfig(t);if(!s)throw new te(i.EME_NO_SUPPORTED_CONFIGURATION,"No supported configurations");this._configuration=s}_checkConfig(e){const t=this.keySystem;let s=!1;for(const n of e){const e={initDataTypes:n.initDataTypes,audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",sessionTypes:["temporary"]};if(n.audioCapabilities)for(const i of n.audioCapabilities){if(!i.contentType)continue;const n=i.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(t,n)&&(e.audioCapabilities.push(i),s=!0)}if(n.videoCapabilities)for(const i of n.videoCapabilities){if(!i.contentType)continue;const n=i.contentType.split(";")[0];WebKitMediaKeys.isTypeSupported(t,n)&&(e.videoCapabilities.push(i),s=!0)}if(s)return e}return null}getConfiguration(){return this._configuration}createMediaKeys(){return new Promise((e=>{e(new be(this.keySystem))}))}}function fe(e){const t=this.mediaKeys;t&&t!==e&&t.detach(this),delete this.mediaKeys,this.mediaKeys=e;try{return e&&e.attach(this),Promise.resolve()}catch(s){return Promise.reject(new te(i.EME_PLAYER_MEDIA_KEYS_SETTING_FAILED,"Failed to set MediaKeys on HTMLMediaElement"))}}const ve=k.m.forTag("eme_polyfills.tester");function Ee(){return"undefined"!=typeof navigator&&"function"==typeof navigator.requestMediaKeySystemAccess&&"undefined"==typeof WebKitMediaKeys&&"undefined"!=typeof MediaKeySystemAccess&&"function"==typeof MediaKeySystemAccess.prototype.getConfiguration?(ve.log("Using native EME implementation."),"native"):"undefined"!=typeof HTMLMediaElement&&(null===HTMLMediaElement||void 0===HTMLMediaElement?void 0:HTMLMediaElement.prototype.webkitGenerateKeyRequest)?(ve.log('Detected "webkit" Prefixed EME v0.1b. Polyfilling.'),he("webkit"),"v0.1b-webkit"):"undefined"!=typeof HTMLMediaElement&&(null===HTMLMediaElement||void 0===HTMLMediaElement?void 0:HTMLMediaElement.prototype.generateKeyRequest)?(ve.log("Detected Unprefixed EME v0.1b. Polyfilling."),he(),"v0.1b"):"undefined"!=typeof MSMediaKeys?(ve.log("Detected MS IE EME. Polyfilling."),function(){navigator.requestMediaKeySystemAccess=function(e,t){return new Promise((s=>{s(new le(e,t))}))};const e=HTMLMediaElement.prototype;delete e.mediaKeys,e.setMediaKeys=re}(),"ms-ie"):"function"==typeof WebKitMediaKeys?(ve.log("Detected Safari EME. Polyfilling."),function(){navigator.requestMediaKeySystemAccess=function(e,t){return new Promise((s=>{s(new ge(e,t))}))};const e=HTMLMediaElement.prototype;delete e.mediaKeys,e.setMediaKeys=fe}(),"safari"):(ve.warn("Detected no EME APIs."),null)}const we={[$.WIDEVINE]:{commonName:"widevine",licenseServer:"https://@webgate/widevine-license",withCertificate:!0,pssh_field:{audio:"pssh_widevine",video:"encryption_data"}},[$.PLAYREADY]:{commonName:"playready",licenseServer:"https://@webgate/playready-license",withCertificate:!1,pssh_field:{audio:"pssh_playready",video:"encryption_data"}},[$.PLAYREADY_HARDWARE]:{commonName:"playready",licenseServer:"https://@webgate/playready-license",withCertificate:!1,pssh_field:{audio:"pssh_playready",video:"encryption_data"}},[$.FAIRPLAY]:{commonName:"fairplay",licenseServer:"https://@webgate/fairplay-license",withCertificate:!0,pssh_field:{audio:"pssh_fairplay",video:"asset_id"}},[$.INVALID_SPOTIFY_KEY]:{commonName:"spotify-invalid",licenseServer:"https://@webgate",withCertificate:!1,pssh_field:{audio:"pssh_invalid",video:"encryption_data"}}},Se=[{label:"video-hw-all",robustness:{audio:"SW_SECURE_CRYPTO",video:"HW_SECURE_ALL"}},{label:"video-hw-decode",robustness:{audio:"SW_SECURE_CRYPTO",video:"HW_SECURE_DECODE"}},{label:"video-hw-crypto",robustness:{audio:"SW_SECURE_CRYPTO",video:"HW_SECURE_CRYPTO"}},{label:"video-sw-decode",robustness:{audio:"SW_SECURE_CRYPTO",video:"SW_SECURE_DECODE"}},{label:"video-sw-crypto",robustness:{audio:"SW_SECURE_CRYPTO",video:"SW_SECURE_CRYPTO"}},{label:"video-no-robustness",robustness:{audio:"",video:""}},{label:"audio-flac-sw-crypto",robustness:{audio:"SW_SECURE_CRYPTO"},includesOpus:!1},{label:"audio-flac-no-robustness",robustness:{audio:""},includesOpus:!1},{label:"audio-sw-crypto",robustness:{audio:"SW_SECURE_CRYPTO"},includesFlac:!1,includesOpus:!1},{label:"audio-no-robustness",robustness:{audio:""},includesFlac:!1,includesOpus:!1}].map((({label:e,robustness:t,includesFlac:s=!0,includesOpus:n=!0})=>{const i=[...s?[{contentType:'audio/mp4; codecs="flac"',robustness:t.audio}]:[],{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:t.audio},{contentType:'audio/mp4; codecs="mp4a.40.5"',robustness:t.audio},...n?[{contentType:'audio/webm; codecs="opus"',robustness:t.audio}]:[]],a=[{contentType:'video/mp4; codecs="avc1.64002a"',robustness:t.video},{contentType:'video/mp4; codecs="avc1.4d402a"',robustness:t.video},{contentType:'video/mp4; codecs="avc1.4d401f"',robustness:t.video},{contentType:'video/webm; codecs="vp9"',robustness:t.video},{contentType:'video/webm; codecs="vp8"',robustness:t.video}];return{label:e,initDataTypes:["cenc"],audioCapabilities:void 0!==t.audio?i:[],videoCapabilities:void 0!==t.video?a:[],distinctiveIdentifier:"optional",persistentState:"optional",sessionTypes:["temporary"]}}));function Re(e,t){var s,n;for(const i of e){const e={audioCapabilities:[],videoCapabilities:[]};let a,o=!1;if(null===(s=i.audioCapabilities)||void 0===s?void 0:s.length){o=!1;for(const s of i.audioCapabilities)a=s.contentType,a&&t(a)&&(e.audioCapabilities.push(s),o=!0)}if(null===(n=i.videoCapabilities)||void 0===n?void 0:n.length){o=!1;for(const s of i.videoCapabilities)a=s.contentType,a&&t(a)&&(e.videoCapabilities.push(s),o=!0)}if(o)return e}return null}const Te=/([^;]+)(?:;\s?codecs="(.*)")?/;function Ae(e){var t;const[,s="unknown",n="unknown"]=null!==(t=e.match(Te))&&void 0!==t?t:[];return{mimeType:s,codec:n,contentType:e}}function xe(){return{timestamp:Date.now(),monotonicTimestamp:(0,W.X)()}}const Ce=/([^;]+)(?:;\s?codecs="(.*)")?/,Ie=k.m.forTag("playback.eme_manager"),ke={EMPTY:"-no-robustness",SW_CRYPTO:"-sw-crypto",SW_DECODE:"-sw-decode",HW_CRYPTO:"-hw-crypto",HW_DECODE:"-hw-decode",HW_ALL:"-hw-all"};function Ne(e,t){var s;const n=[],i=new RegExp(`codecs="(${t.join("|")})"`);for(const a of e)i.test(null!==(s=a.contentType)&&void 0!==s?s:"")||n.push(a);return n.length?n:null}function Pe(e,{audio:t,video:s}){var n,i,a,o;if(!(null==t?void 0:t.length)&&!(null==s?void 0:s.length))return e;let{audioCapabilities:r,videoCapabilities:l}=e;return(null==t?void 0:t.length)&&(null===(n=e.audioCapabilities)||void 0===n?void 0:n.length)&&(r=null!==(i=Ne(e.audioCapabilities,t))&&void 0!==i?i:void 0,!r)||(null==s?void 0:s.length)&&(null===(a=e.videoCapabilities)||void 0===a?void 0:a.length)&&(l=null!==(o=Ne(e.videoCapabilities,s))&&void 0!==o?o:void 0,!l)?null:Object.assign(Object.assign({},e),{audioCapabilities:r,videoCapabilities:l})}class Le extends d.bk{constructor(e){var t;super(),this._unauthServerCertificateBase="",this._disallowCodecs={},this._keySystemDeferred=(0,c.u)(),this._configuration=(0,c.u)(),this._keySystemSettings=null,this._keySessions=[],this._configs=[],this._pendingCertificateRequest=null,this._certificate=null,this._transport=e.transport,this._emeImpl=e.emeImpl,this._noServerCertificate=!!e.noServerCertificate,this._precacheServerCertificate=null===(t=e.precacheServerCertificate)||void 0===t||t,this._unauthServerCertificateBase=e.unauthServerCertificateBase||"https://spclient.wg.spotify.com",this._configFilter=function(e){const t=["--ensure-no-match--"];if(null==e?void 0:e.length){let s=e.length;for(;s--;){const n=e[s];n&&Object.prototype.hasOwnProperty.call(ke,n)&&t.push(ke[n])}}return new RegExp(`(${t.join("|")})$`)}(e.disallowRobustnessValues||[]),this._disallowCodecs=e.disallowCodecs,this._preferredKeySystems=e.preferredKeySystems||[$.WIDEVINE,$.PLAYREADY,$.PLAYREADY_HARDWARE,$.FAIRPLAY]}static create(e){return new Promise((t=>{const s=Ee();if(!s)throw te.fatal(i.EME_API_NOT_SUPPORTED,"Platform does not support navigator.requestMediaKeySystemAccess");t(new Le(Object.assign(Object.assign({},e),{emeImpl:s})).init())}))}_prepareConfiguration(e){const t=e.getConfiguration();Ie.info("KeySystem configured as",t.label),t.audioCapabilities&&t.audioCapabilities.length||this._appendProbableMediaCapabilities(e.keySystem,t);const s={keySystem:e.keySystem,keySystemImpl:this._emeImpl,keySystemLabel:t.label,audioFormats:this._parseCapabilities(t.audioCapabilities),videoFormats:this._parseCapabilities(t.videoCapabilities)};return this._keySystemSettings=we[e.keySystem],this._configuration.resolve(s),s}_parseCapabilities(e){var t;if(!e)return[];const s=[];for(const n of e){if(!(null==n?void 0:n.contentType))continue;const[,e,i]=null!==(t=n.contentType.match(Ce))&&void 0!==t?t:[];e&&s.push({contentType:n.contentType,mimeType:e,codec:null!=i?i:""})}return s}_appendProbableMediaCapabilities(e,t){const s=Re(this._configs,(t=>(-1===t.indexOf("webm")||e!==$.PLAYREADY&&e!==$.PLAYREADY_HARDWARE)&&!!MediaSource.isTypeSupported(t)));s&&(t.audioCapabilities=s.audioCapabilities,t.videoCapabilities=s.videoCapabilities)}_trySetServerCertificate(e,t){const s=this._certificate;return(s&&s.expiry>Date.now()?Promise.resolve(s):this._requestServerCertificate(e)).then((e=>t.setServerCertificate(e.contents))).then((()=>this)).catch((e=>(Ie.warn("Error from setting server certificate",e),this)))}_cacheServerCertificate(e){let t="";switch(e){case $.FAIRPLAY:t="fairplay";break;case $.WIDEVINE:t="widevine";break;default:return Promise.resolve(this)}return this._requestServerCertificate(`${this._unauthServerCertificateBase}/${t}-license`,!1).then((()=>this),(e=>(Ie.warn("Cannot precache server certificate",e),this)))}_requestServerCertificate(e,t=!0){if(this._pendingCertificateRequest)return this._pendingCertificateRequest;return this._transport.request(`${e}/v1/application-certificate`,{authorize:t,responseType:"arraybuffer",parseResponseHeaders:!0,retry:{condition:(e,t)=>e.getStatusFamily()===t.SERVER_ERROR}}).then((e=>{var t;if(!e.body)throw new TypeError("Response body is invalid");this._pendingCertificateRequest=null;let s=3600;const n=null===(t=e.headers)||void 0===t?void 0:t.get("cache-control");if(n){const e=n.match(/(?:^|,|\s)max-age=(\d+)(?:,|$)/);e&&e[1]&&(s=1e3*parseInt(e[1],10))}return this._certificate={expiry:Date.now()+(s-600),contents:e.body},this._certificate}))}_extractPlayReadyChallenge(e,t){var s;let n=null;const a=new Uint16Array(e),o=String.fromCharCode.apply(null,a);if(-1===o.indexOf("PlayReadyKeyMessage"))return Ie.info("Using unextracted PlayReady message."),e;const r=(new DOMParser).parseFromString(o,"application/xml"),l=r.getElementsByTagName("Challenge")[0],d=null===(s=null==l?void 0:l.childNodes[0])||void 0===s?void 0:s.nodeValue;if(d)try{n=atob(d);const e=r.getElementsByTagName("name"),t=r.getElementsByTagName("value");if(e.length!==t.length)throw new te(i.EME_HEADER_KEY_VALUE_MISMATCH,"Mismatched header <name>/<value> pair in key message")}catch(c){this.emit(Q.EME_LICENSE_REQUEST_ERROR,Object.assign({signal:t,error:c},xe())),n=null}else this.emit(Q.EME_LICENSE_REQUEST_ERROR,Object.assign({signal:t,error:new te(i.EME_HEADER_KEY_VALUE_MISMATCH,"Mismatched header <name>/<value> pair in key message")},xe()));return n}_onMessage(e,t){e.timeMap.generate.end=(0,W.X)();let s="message"in t?t.message:null;const n="messageType"in t?t.messageType:void 0;if(Ie.info("Got EME message event with type",n),s&&e.keySystem===$.PLAYREADY&&(s=this._extractPlayReadyChallenge(s,e.signal)),!s)return void Ie.info("Ignoring message event: no valid request payload");if(!e.licenseServer)return void Ie.info("Ignoring message event: no licenseServer url");e.timeMap.request.start=(0,W.X)();let i=e.licenseServer;e.keySystem===$.FAIRPLAY&&(i=`${i}${-1!==i.indexOf("?")?"&":"?"}assetId=hex`),this._transport.request(i,{method:"POST",payload:s,responseType:"arraybuffer",retry:{condition:(e,t)=>400!==e.status&&402!==e.status&&403!==e.status&&(!e.body||e.getStatusFamily()!==t.SUCCESS)}}).then(this._handleLicenseResponse.bind(this,e))}_handleLicenseResponse(e,t){const s=t=>{e.licenseServer&&(t.licenseServer=e.licenseServer),this.emit(Q.EME_LICENSE_REQUEST_ERROR,Object.assign({signal:e.signal,error:t},xe()))};let n,a;if(e.timeMap.request.end=(0,W.X)(),200!==t.status){try{if(t.body){const e=new Uint8Array(t.body),s=String.fromCharCode.apply(String,e);a=JSON.parse(s).errorMsg}}catch(o){}402===t.status?this.emit(Q.EME_LICENSE_REQUEST_CAPPED,Object.assign({signal:e.signal,error:new se(i.CAPPING_USER_IS_CAPPED,"User is capped.")},xe())):400===t.status&&"widevine error"===a?(n=te.fatal(i.EME_LICENSE_REQUEST_WIDEVINE_ERROR,"Widevine license server failed to parse request.",{isNetworkRelated:!0}),n.status=t.status,n.shouldRefreshEndpoint=!0,s(n)):(n=new te(i.EME_LICENSE_REQUEST_FAILED_WITH_STATUS,`License request failed (${a||"unknown"})`,{isNetworkRelated:!0}),n.status=t.status,n.shouldRefreshEndpoint=400===t.status||403===t.status,s(n))}else{if(!t.body)return n=new te(i.EME_LICENSE_REQUEST_EMPTY_RESPONSE,"Empty license response body"),n.status=t.status,void s(n);try{e.timeMap.update.start=(0,W.X)(),e.keySession.update(t.body).catch((e=>{s(new te(i.EME_LICENSE_UPDATE_FAILED,e.message||"License update failed."))})),Ie.info("KeySession updated.")}catch(r){const{message:e}=r;s(new te(i.EME_LICENSE_UPDATE_FAILED,e||"License update failed."))}}}_selectKeySystem(e){const t=this._preferredKeySystems;for(let s=0,n=t.length;s<n;s++){const n=t[s];if(n&&n in e)return e[n]}return null}_testMediaKeys(e){return new Promise((t=>{t(e.createMediaKeys())})).then((t=>{if(!t)return Promise.reject(te.fatal(i.EME_MEDIA_KEYS_NOT_SUPPORTED,"Cannot create MediaKeys from KeySystemAccess"));e.keySystem===$.FAIRPLAY&&t.setServerCertificate(new ArrayBuffer(0));try{if(!t.createSession())throw new Error("")}catch(s){const{message:e}=s;return Promise.reject(te.fatal(i.EME_MEDIA_KEY_SESSION_NOT_SUPPORTED,e||"Cannot create MediaKeySession from KeySystemAccess"))}return Promise.resolve(e)}),(e=>(Ie.error(e.name),Promise.reject(te.fatal(i.EME_MEDIA_KEYS_NOT_SUPPORTED,e.message||"Unknown error")))))}_saveSession(e){this._keySessions.push(e)}destroySessions(){const e=[],t=this._keySessions;for(const n of t)try{const t=n.keySession;if(!t)continue;n.onMessageListener&&t.removeEventListener(Q.KEY_SESSION_MESSAGE,n.onMessageListener),n.onKeyStatusChangeListener&&t.removeEventListener(Q.KEY_SESSION_STATUSES_CHANGE,n.onKeyStatusChangeListener);const s=Promise.resolve(t.close()).catch((e=>{Ie.warn("Failed to close KeySession",e)}));e.push(s),n.keySession=null,n.onMessageListener=null,n.onKeyStatusChangeListener=null,Ie.info("Closed KeySession")}catch(s){Ie.warn("Failed to close KeySession",s)}return this._keySessions=[],Promise.all(e)}init(){const e=[];for(let t of Se)if(!t.label||!this._configFilter.test(t.label)){if(this._disallowCodecs){const e=Pe(t,this._disallowCodecs);if(!e)continue;t=e}e.push(t)}return this._configs=e,this.requestMediaKeySystemAccess()}requestMediaKeySystemAccess(){const e=this._keySystemDeferred,t={},s=[];for(const n in $){if(!Object.prototype.hasOwnProperty.call($,n))continue;const e=n;s.push(navigator.requestMediaKeySystemAccess($[e],this._configs).then((e=>{t[e.keySystem]=e})).catch((()=>{})))}return Promise.all(s).then((()=>this._selectKeySystem(t))).then((e=>e?(Ie.info("Supported keySystem: ",e.keySystem),this._testMediaKeys(e)):Promise.reject(new te(i.EME_NO_SUPPORTED_KEYSYSTEM,"No supported keysystem was found.")))).then((t=>(this._prepareConfiguration(t),e.resolve(t),this._precacheServerCertificate?this._cacheServerCertificate(t.keySystem):this))).catch((t=>{const s=t.code||i.EME_NO_SUPPORTED_KEYSYSTEM,n=t.message||"No supported keysystem";return e.reject(te.fatal(s,n)),e.promise.then((()=>this))}))}createMediaKeys(e){return this._keySystemDeferred.promise.then((e=>e.createMediaKeys()),(e=>{throw new te(i.EME_MEDIA_KEYS_NOT_SUPPORTED,e.message||"Cannot create MediaKeys from KeySystemAccess")})).then((t=>this.setMediaKeys(e,t)),(e=>{throw new te(i.EME_PLAYER_MEDIA_KEYS_SETTING_FAILED,e.message||"Failed to set MediaKeys on HTMLMediaElement")})).then((()=>this._configuration.promise.then((()=>{const t=this._keySystemSettings;return t&&!this._noServerCertificate&&t.withCertificate?this._trySetServerCertificate(t.licenseServer,e.mediaKeys):this}))))}setMediaKeys(e,t){return e.setMediaKeys(t).then((()=>{if(!e.mediaKeys)throw new te(i.EME_PLAYER_MEDIA_KEYS_SETTING_FAILED,"Failed to set MediaKeys on HTMLMediaElement");return this}),(e=>{throw new te(i.EME_PLAYER_MEDIA_KEYS_SETTING_FAILED,e.message||"Failed to set MediaKeys on HTMLMediaElement")}))}removeMediaKeys(e){const t=e.mediaKeys;return Promise.resolve(e.setMediaKeys(null)).then((()=>t))}getKeySystemInfo(){return this._configuration.promise}getKeySystemImpl(){return this._emeImpl}createSessionWithParams(e){return new Promise(((t,s)=>{Ie.info("Creating KeySession",e.keySystem);const n=e.mediaKeys.createSession(),a={generate:{start:null,end:null},request:{start:null,end:null},update:{start:null,end:null}},o=this._keySystemSettings&&this._keySystemSettings.licenseServer||void 0,r=this._onMessage.bind(this,{keySystem:e.keySystem,keySession:n,licenseServer:e.licenseServer||o,signal:e.signal,timeMap:a});n.addEventListener(Q.KEY_SESSION_MESSAGE,r);const l=()=>{Ie.info("KeyStatus change"),a.update.end=(0,W.X)();const e=e=>null!==e.start&&null!==e.end?(0,W.r)(e.start,e.end):0;t({elapsed:{generate:e(a.generate),request:e(a.request),update:e(a.update)}})};return n.addEventListener(Q.KEY_SESSION_STATUSES_CHANGE,l),this._saveSession({keySession:n,onMessageListener:r,onKeyStatusChangeListener:l}),Ie.info("Generating KeySession request",e.keySystem),a.generate.start=(0,W.X)(),Promise.resolve(n.generateRequest(e.initDataType,e.initData.buffer)).catch((e=>{if(!e)return;let t;switch(e.name){case"NotSupportedError":t=i.EME_NOT_SUPPORTED_ERROR;break;case"InvalidStateError":t=i.EME_INVALID_STATE_ERROR;break;default:t=i.EME_UNKNOWN_ERROR}s(new te(t,e.message||"Unknown error message."))}))}))}}class je{constructor(e){if(this._estimate=0,this._totalWeight=0,e<0)throw new TypeError("Halflife must be set to a positive value.");this._weightingDecrease=Math.exp(Math.log(.5)/e)}sample(e,t){const s=Math.pow(this._weightingDecrease,e),n=t*(1-s)+s*this._estimate;isNaN(n)||(this._estimate=n,this._totalWeight+=t)}getEstimate(){return this._estimate/1-Math.pow(this._weightingDecrease,this._totalWeight)}}class Oe{constructor(e=4e5){this._totalBytes=0,this._overrideBitrate=0,this._currentBandwidth=e,this._short=new je(2),this._long=new je(5),this._init()}_init(){if("undefined"==typeof navigator)return;const e=navigator;e.connection&&e.connection.downlink&&(this._currentBandwidth=1e6*e.connection.downlink,this._onConnectionChange=this._onConnectionChange.bind(this),e.connection.addEventListener("change",this._onConnectionChange))}_onConnectionChange(e){const t=e.target.downlink||0;this._setBandwidth(t)}_setBandwidth(e){this._currentBandwidth=1e6*e}getBandwidthEstimate(){if(this._overrideBitrate)return this._overrideBitrate;if(this._totalBytes<128e3)return this._currentBandwidth;const e=this._short.getEstimate(),t=this._long.getEstimate();return Math.min(e,t)}sample(e,t){if(e<16e3)return;const s=t/1e3,n=8*e/s;this._totalBytes+=e,this._short.sample(s,n),this._long.sample(s,n)}overrideBitrate(e){this._overrideBitrate=e<=0?0:e}}var De;!function(e){e.SHOWING="showing",e.HIDDEN="hidden",e.DISABLED="disabled"}(De||(De={}));const Me=Array.prototype.slice,Ue="function"==typeof Array.from?e=>Array.from(e):e=>Me.call(e);function Be(e,t){const s=Ue(e.getElementsByTagName(t));for(const n of s)e.removeChild(n)}function Ge(e){const t=e;return{id:t.id,text:t.text}}const Fe="visible",Ve="hidden",He=/^[A-Za-z]{2,4}([_-][A-Za-z]{4})?([_-]([A-Za-z]{2}|[0-9]{3}))?$|[A-Za-z]{2,3}-x-cc/;class Ye extends d.bk{constructor(e){super(),this._isVisible=!1,this._player=null,this._crossOrigin=null,this._currentVideoContent=null,this._unsubscribers=[],this._displayedCues=[],this._deactivateListeners=!1,this._activeLanguage=void 0,this._preferredLanguage=e.language.toLowerCase(),e.deactivateListeners&&(this._deactivateListeners=!0),this._onEnter=this._onEnter.bind(this),this._onExit=this._onExit.bind(this),this._onLoadedMetadata=this._onLoadedMetadata.bind(this),this.setPlayer(e.player)}_subscribeToCueEvents(e){var t;const{track:s}=e;if(!s)throw new Error("No track");if(null===(t=s.cues)||void 0===t?void 0:t.length){this._displayedCues=s.activeCues?Array.from(s.activeCues):[],this._emitDisplayedCues();for(let e=0;e<s.cues.length;e++){const t=s.cues[e];t&&(t.addEventListener("enter",this._onEnter),t.addEventListener("exit",this._onExit),this._unsubscribers.push((()=>{t.removeEventListener("enter",this._onEnter),t.removeEventListener("exit",this._onExit)})))}}else{const t=()=>{this._subscribeToCueEvents(e),e.removeEventListener("load",t)};e.addEventListener("load",t)}}_unsubscribeFromCueEvents(){this._unsubscribers.forEach((e=>e())),this._unsubscribers=[]}_onEnter(e){const t=e.target;this._displayedCues.indexOf(t)>-1||(this._displayedCues.push(t),this._emitDisplayedCues())}_onExit(e){const t=e.target,s=this._displayedCues.indexOf(t);s>-1&&(this._displayedCues.splice(s,1),this._emitDisplayedCues())}_emitDisplayedCues(){this.emit(Q.PLAYER_DISPLAYED_CUES_CHANGED,Object.assign({cues:this._displayedCues.map(Ge)},xe()))}_updateVisibleState(){var e,t;if(!this._player)return;const s=this.getActiveLanguage();Array.from(null!==(t=null===(e=this._player)||void 0===e?void 0:e.querySelectorAll("track"))&&void 0!==t?t:[]).forEach((e=>{e.style.visibility=this._isVisible?Fe:Ve}));const n=this._player.textTracks;for(let i=0,a=n.length;i<a;i++){const e=n[i];e&&(e.language.toLowerCase()===s?e.mode=this._isVisible?De.SHOWING:De.HIDDEN:e.mode=De.DISABLED)}}_updateTextTracks(){const e=this._player;if(!e)return;e.readyState>=1?this._switchActiveTextTrack():this._currentVideoContent&&e.addEventListener(Q.MEDIA_LOADEDMETADATA,this._onLoadedMetadata)}_switchActiveTextTrack(){const e=this._player;if(!e||!this._currentVideoContent)return;const t=this._updateActiveLanguage();let s=null,n=null;Ue(e.getElementsByTagName("track")).forEach((e=>{e.default&&(s=e),e.srclang.toLowerCase()===t&&(n=e)})),s&&(s.default=!1,s.track.mode=De.DISABLED,this._unsubscribeFromCueEvents()),n&&(n.default=!0,n.track.mode=this._isVisible?De.SHOWING:De.HIDDEN,this._deactivateListeners||this._subscribeToCueEvents(n))}_onLoadedMetadata(){const e=this._player;if(e&&(Be(e,"track"),this._currentVideoContent)){e.crossOrigin="anonymous",this._updateActiveLanguage();for(const{lang:t,url:s}of this._currentVideoContent.getSubtitles()){const n=document.createElement("track");n.label=`${t} subtitles`,n.kind="subtitles",n.srclang=t,n.src=s,n.style.visibility=this._isVisible?Fe:Ve,e.appendChild(n)}setTimeout((()=>this._switchActiveTextTrack()))}}_updateActiveLanguage(){if(!this._player||!this._currentVideoContent)return void(this._activeLanguage=void 0);const e=this._currentVideoContent.getSubtitleLanguages(),t=this._preferredLanguage.split("-")[0];let s=null;for(const n of e){const e=n.toLowerCase();if(e===this._preferredLanguage)return this._activeLanguage=e,this._activeLanguage;e.split("-")[0]===t&&null===s&&(s=e)}return this._activeLanguage=null!=s?s:"en-us",this._activeLanguage}getActiveLanguage(){if(this._player&&this._currentVideoContent)return this._activeLanguage}setVideoContent(e){var t;this._unsubscribeFromCueEvents(),this._displayedCues=[],this._currentVideoContent=e,e?this.emit(Q.PLAYER_SUBTITLE_LANGUAGES_LOADED,Object.assign({languages:null!==(t=e.getSubtitleLanguages())&&void 0!==t?t:[]},xe())):this.clear(),this._updateTextTracks()}setPlayer(e){var t;const s="VIDEO"===(null==e?void 0:e.tagName)?e:null;this._player!==s&&this.clear(),this._player=s||null,this._crossOrigin=null!==(t=null==s?void 0:s.crossOrigin)&&void 0!==t?t:null,this._updateTextTracks()}getAvailableLanguages(){var e,t;return null!==(t=null===(e=this._currentVideoContent)||void 0===e?void 0:e.getSubtitleLanguages())&&void 0!==t?t:[]}setLanguage(e){if(!e.length)throw new TypeError("Argument `code` must be a non-empty string. Hide subtitles using `hideSubtitles()`.");if(!He.test(e))throw new TypeError("Argument `code` must be a valid BCP 47 formatted language code");this._preferredLanguage!==e.toLowerCase()&&(this._preferredLanguage=e.toLowerCase(),this._switchActiveTextTrack())}hide(){this._isVisible=!1,this._updateVisibleState()}show(){this._isVisible=!0,this._updateVisibleState()}deactivateListeners(){if(this._deactivateListeners)return;this._player&&(this._deactivateListeners=!0,this._unsubscribeFromCueEvents())}activateListeners(){this._deactivateListeners&&(this._deactivateListeners=!1,this._updateTextTracks())}areListenersActivated(){return!this._deactivateListeners}clear(){const e=this._player;e&&(this._unsubscribeFromCueEvents(),this._currentVideoContent=null,this._displayedCues=[],Be(e,"track"),e.removeEventListener(Q.MEDIA_LOADEDMETADATA,this._onLoadedMetadata),e.crossOrigin=this._crossOrigin)}visible(){return this._isVisible}}class Ke extends Error{constructor(e=i.STORAGE_ERROR,t="File Error"){super(t),this.canPlayNext=!0,this.debug={},this.code=e,this.message=t,this.name="FileError"}}class ze{constructor(e){this._mediaType=e.mediaType,this._fileId=e.fileId,this._uri=e.uri,this._audioGain=e.audioGain,this._logData=e.logData,this._hasNonFatalErrors=!!e.hasNonFatalErrors,this._disableCache=e.disableCache,this._keySystemInfo=e.keySystemInfo,this._licenseEndpoint=e.licenseEndpoint,this._mediaFormat=e.mediaFormat,this._mediator=e.mediator,this._noAuth=e.noAuth,this._contentMetadata=e.contentMetadata,this._mediaPlaybackMode=e.mediaPlaybackMode}getFileId(){return this._fileId}getAudioGain(){return this._audioGain}getMediaType(){return this._mediaType}getLogData(){return this._logData}setLogData(e){this._logData=e}toLogJSON(){return{uri:this._uri,fileId:this._fileId,mediaFormat:this._mediaFormat,mediaURL:this._mediaURL}}hasNonFatalErrors(){return this._hasNonFatalErrors}getContentMetadata(){return this._contentMetadata||{}}getMediaPlaybackMode(){var e;return null!==(e=this._mediaPlaybackMode)&&void 0!==e?e:null}setMediaPlaybackMode(e){this._mediaPlaybackMode=e}getInitParams(){return this.isProtected()?{initDataType:this._protection,initData:this._pssh}:null}getKeySystemInfo(){var e;return null!==(e=this._keySystemInfo)&&void 0!==e?e:null}getLicenseEndpoint(){var e;return null!==(e=this._licenseEndpoint)&&void 0!==e?e:null}}var We=s(40620);function qe(e){const t=We.X.decode(e),s=new Uint8Array(t.length);for(let n=0,i=t.length;n<i;n++)s[n]=t.charCodeAt(n);return s}const Qe=/avc1\.(([0-9a-f]{2})[0-9a-f]{2}([0-9a-f]{2}))/;function $e(e,t){const s=e.toLowerCase().match(Qe),n=t.toLowerCase().match(Qe);if(!s||!n)return!1;const[,i,a,o]=s,[,r,l,d]=n;return i===r||"4d"===a&&"4d"===l&&parseInt(o,16)>=parseInt(d,16)}function Ze(e,t){return e.sort(((e,s)=>"video_bitrate"in e&&"video_bitrate"in s?t?e.video_resolution===s.video_resolution?e.video_bitrate-s.video_bitrate:e.video_resolution-s.video_resolution:e.video_bitrate-s.video_bitrate:e.max_bitrate-s.max_bitrate))}function Xe(e,t){return void 0!==t&&Array.isArray(e.encryption_indices)&&-1===e.encryption_indices.indexOf(t)}function Je(e,t){if(!t)return!1;return t(Object.assign({mimeType:e.mime_type},function(e){return"video_codec"in e}(e)?{type:"video",codec:e.video_codec,bitrate:e.video_bitrate,height:e.video_height,width:e.video_width,resolution:e.video_resolution}:{type:"audio",codec:e.audio_codec,bitrate:e.audio_bitrate}))}function et(e){return"audio_codec"in e?e.audio_codec:e.video_codec}function tt(e){const{codec:t,formats:s,profiles:n,encryptionIndex:i,disallowProfile:a,preferredVideoResolution:o,allowMixedAVC1Codecs:r}=e;for(const l of s){const e=[];let s="spotify/unknown-mimeType",d="unknown-codec";for(const o of n){const n=et(o);!(t in o)||Xe(o,i)||Je(o,a)||("unknown-codec"!==d||o.mime_type!==l.mimeType||n!==l.codec&&!$e(l.codec,n)?o.mime_type===s&&(n===d||r&&$e(d,n))&&(e.push(o),o.__effective_codec=d):(s=l.mimeType,d=r?l.codec:n,e.push(o),o.__effective_codec=l.codec))}if(e.length)return Ze(e,o)}return[]}function st(e){if(!e)return;const t=e.__effective_codec||("audio_codec"in e?e.audio_codec:e.video_codec);return`${e.mime_type};codecs="${t}"`}class nt extends ze{constructor(e){var t,s,n,i,a;super(e),this._supportedFormats={audio:[],video:[]},this._baseURL="",this._fallbackURLs=[],this._loaded=!1,this._initTemplate="",this._segmentTemplate="",this._segmentLength=0,this._assetID="",this._segments=[],this._duration=0,this._videoProfiles={selected:null,available:[],backgrounded:[]},this._audioProfiles={selected:null,available:[]},this._subtitleLanguages=[],this._subtitleTemplate="",this._trackingData=null,this._resolver=e.resolver,this._keySystemInfo=e.keySystemInfo,this._keySystemSettings=e.keySystemSettings,this._supportedFormats={audio:null!==(s=null===(t=this._keySystemInfo)||void 0===t?void 0:t.audioFormats)&&void 0!==s?s:[],video:null!==(i=null===(n=this._keySystemInfo)||void 0===n?void 0:n.videoFormats)&&void 0!==i?i:[]},this._disallowProfile=e.disallowProfile,this._videoResolution=e.videoResolution,this._enableAbrOnElementSize=e.enableAbrOnElementSize,this._allowMixedAVC1Codecs=e.allowMixedAVC1Codecs,this._trackingData=e.trackingData,this._contentMetadata=e.metadata,this._mediaPlaybackMode=null!==(a=e.mediaPlaybackMode)&&void 0!==a?a:"video"}_calculateSegments(e){this._duration=e.end_time_millis/1e3;const t=this._segmentLength;this._initSegment={index:-1,init:!0,cacheBufferSet:!1,timeStart:-1,timeEnd:-1,byteRanges:{}};const s=[];for(let n=0,i=0;n<this._duration;i++,n+=t)s.push({index:i,cacheBufferSet:!n&&!this._disableCache,timeStart:n,timeEnd:n+t,byteRanges:{}});s[s.length-1].isFinal=!0,this._segments=s}_parseManifest(e){var t,s,n;let a;const o=e.contents[0];if(!o)return a=new Ke(i.FILE_MALFORMED_SEEKTABLE,"Malformed seektable: no contents."),a.track=this.toLogJSON(),Promise.reject(a);let r;if(this._fallbackURLs=e.base_urls.slice(),this._baseURL=null!==(t=this._fallbackURLs.shift())&&void 0!==t?t:"",this._initTemplate=e.initialization_template,this._segmentTemplate=e.segment_template,this._segmentLength=o.segment_length,null===(s=o.encryption_infos)||void 0===s?void 0:s.length){const e=o.encryption_infos,t=this._keySystemSettings.commonName;let s;for(let n=0,i=e.length;n<i;n++){const i=e[n];if(i&&i.key_system===t){r=n,s=i.encryption_data,this._licenseEndpoint||(this._licenseEndpoint=`@webgate${i.license_server_endpoint}`);break}}if(!s)return a=new Ke(i.FILE_FORMAT_NOT_SUPPORTED,"KeySystem does not support the file format."),a.track=this.toLogJSON(),Promise.reject(a);switch(this._keySystemSettings.commonName){case"widevine":case"playready":this._protection="cenc";try{this._pssh=qe(s)}catch(l){return a=new Ke(i.FILE_MALFORMED_PSSH,"Invalid PSSH value."),a.track=this.toLogJSON(),Promise.reject(a)}break;case"fairplay":this._protection="cbcs",this._pssh=new Uint8Array(0);try{this._assetID=o.encoding_id}catch(l){return a=new Ke(i.FILE_MALFORMED_PSSH,"Invalid PSSH value."),a.track=this.toLogJSON(),Promise.reject(a)}break;default:return a=new Ke(i.FILE_FORMAT_NOT_SUPPORTED,"KeySystem does not support the file format."),a.track=this.toLogJSON(),Promise.reject(a)}}return this._videoProfiles.available=tt({codec:"video_codec",formats:this._supportedFormats.video,profiles:o.profiles,encryptionIndex:r,disallowProfile:this._disallowProfile,preferredVideoResolution:this._videoResolution,allowMixedAVC1Codecs:this._allowMixedAVC1Codecs}),this._videoProfiles.backgrounded=tt({codec:"video_codec",formats:this._supportedFormats.video,profiles:o.background_profiles,encryptionIndex:r,disallowProfile:this._disallowProfile,preferredVideoResolution:this._videoResolution,allowMixedAVC1Codecs:this._allowMixedAVC1Codecs}),this._audioProfiles.available=tt({codec:"audio_codec",formats:this._supportedFormats.audio,profiles:o.profiles,encryptionIndex:r,disallowProfile:this._disallowProfile}),this._calculateSegments(e),this._subtitleLanguages=e.subtitle_language_codes||[],(null===(n=e.subtitle_base_urls)||void 0===n?void 0:n.length)&&e.subtitle_template?this._subtitleTemplate=`${e.subtitle_base_urls[0]}${e.subtitle_template}`:this._subtitleTemplate="",Promise.resolve()}load(e={resolveLatency:0,manifestLatency:0}){if(this._loaded)return e.resolveLatency=0,e.manifestLatency=0,Promise.resolve(this);if(!this._fileId)throw new TypeError("Missing: provide either fileId or resolvedURL");const t=(0,W.X)();return this._resolver.getManifest(this._fileId,this._noAuth).then((s=>(e.resolveLatency=0,e.manifestLatency=(0,W.r)(t),this._parseManifest(s)))).then((()=>(this._loaded=!0,this)))}isProtected(){return!!this._protection&&!!this._pssh}setVideoResolution(e){this._videoResolution=e}getMediaProfileInfo(){return{audio:this._audioProfiles,video:this._videoProfiles}}getSubtitles(){return this._subtitleLanguages.map((e=>({lang:e,url:this._subtitleTemplate.replace("{{language_code}}",e)})))}getSubtitleLanguages(){return this._subtitleLanguages}getCurrentBitrates(){var e,t,s,n;return{audio:null!==(t=null===(e=this._audioProfiles.selected)||void 0===e?void 0:e.audio_bitrate)&&void 0!==t?t:0,video:null!==(n=null===(s=this._videoProfiles.selected)||void 0===s?void 0:s.video_bitrate)&&void 0!==n?n:0}}getTrackingEvents(){return this._trackingData}getTrackingEventData(e){const t=this._trackingData?this._trackingData[e]:null;return t?{tracking_event:e,urls:t.urls}:null}}function it(e){return!!e&&"getMediaProfileInfo"in e}function at(e){return!!e&&"getCurrentBitrates"in e&&"canLowerBitrate"in e&&"adapt"in e}function ot(e){return!!e&&"getTrackingEventData"in e&&"getTrackingEvents"in e}class rt{constructor(e){this._bandwidthEstimator=e.bandwidthEstimator}static create(e){return new rt(e)}getSample(e,t){var s,n,i,a,o,r,l;const d=this._bandwidthEstimator.getBandwidthEstimate(),c=function(e,t){const s=e.length;for(let n=0;n<s;n++)if(e.start(n)<=t&&t<=e.end(n))return 1e3*(e.end(n)-t);return 0}(e.buffered,e.currentTime);if("audio"===t.getMediaType()&&t.strategy===q.MSE){const e=null===(n=null===(s=t.getSegmentForTime(0))||void 0===s?void 0:s.bufferSet)||void 0===n?void 0:n.audio,i=null==e?void 0:e.bitrate;return{bandwidth:d,bufferAvailability:c,audio:{mimeType:null==e?void 0:e.mimeType,bitrate:i}}}if(it(t)){const{audio:s,video:n}=t.getMediaProfileInfo(),u="getVideoPlaybackQuality"in e?e.getVideoPlaybackQuality():{creationTime:void 0,droppedVideoFrames:void 0,totalVideoFrames:void 0};return{bandwidth:d,bufferAvailability:c,video:{creationTime:u.creationTime,droppedVideoFrames:u.droppedVideoFrames,totalVideoFrames:u.totalVideoFrames,bitrate:null===(i=n.selected)||void 0===i?void 0:i.video_bitrate,availableBitrates:n.available.map((e=>e.video_bitrate)),height:null===(a=n.selected)||void 0===a?void 0:a.video_height,width:null===(o=n.selected)||void 0===o?void 0:o.video_width,resolution:null===(r=n.selected)||void 0===r?void 0:r.video_resolution,mimeType:st(n.selected)},audio:{bitrate:null===(l=s.selected)||void 0===l?void 0:l.audio_bitrate,mimeType:st(s.selected)}}}return null}}const lt=k.m.forTag("playback.audio_processor");class dt{constructor(e){this._audioContext=null,this._mediaElementSource=null,this._gainNode=null,this._nodes=[],(null==e?void 0:e.disable)?lt.info("AudioProcessor disabled"):(this._audioContext=(null==e?void 0:e.audioContext)||("undefined"!=typeof AudioContext?new AudioContext:null),this._audioContext?(this._gainNode=this._audioContext.createGain(),this._buildNodePipeline(null==e?void 0:e.nodes)):lt.warn("The AudioContext API is not supported. Any future operation related to `AudioProcessor` will be skipped."))}static create(e){return new dt(e)}_setMediaElementSource(e){var t;this._audioContext&&(this._mediaElementSource&&(lt.info("Disconnecting previous media element source"),this._mediaElementSource.disconnect()),lt.info("Creating new media element source"),this._mediaElementSource=this._audioContext.createMediaElementSource(e)||null,this._mediaElementSource.connect(null!==(t=this._nodes[0])&&void 0!==t?t:this._audioContext.destination))}_buildNodePipeline(e=[]){var t;if(!this._audioContext)return;lt.info("Disconnecting previous nodes");const s=this._nodes;for(const a of s)a.disconnect();const n=[this._gainNode,...e];let i=null;for(const a of n)i&&i.connect(a),i=a;null===(t=n[n.length-1])||void 0===t||t.connect(this._audioContext.destination),lt.info("Node pipeline built"),this._nodes=n}setPlayer(e){var t;e&&((null===(t=this._mediaElementSource)||void 0===t?void 0:t.mediaElement)!==e?this._setMediaElementSource(e):lt.info("The new player is the same as the current player"))}getPlayer(){var e;return(null===(e=this._mediaElementSource)||void 0===e?void 0:e.mediaElement)||null}setAudioGain(e=0){if(!this._gainNode)return lt.info("The default gain node is not available"),!1;const t=Math.pow(10,e/20);return this._gainNode.gain.value=t,lt.info("Main gain set to",t),!0}getAudioContext(){return this._audioContext}resume(){return this._audioContext&&"running"!==this._audioContext.state?this._audioContext.resume():Promise.resolve()}suspend(){return this._audioContext&&"suspended"!==this._audioContext.state?this._audioContext.suspend():Promise.resolve()}destroy(){var e;this._audioContext&&(null===(e=this._mediaElementSource)||void 0===e||e.connect(this._audioContext.destination)),this._nodes=[],this._audioContext=null,this._gainNode=null,this._mediaElementSource=null,lt.info("The AudioProcessor is destroyed")}}const ct=k.m.forTag("playback.media_source_manager");function ut(e){if(!e)return"";const t=[];for(const s in e){if(!Object.prototype.hasOwnProperty.call(e,s))continue;const n=e[s]?`="${e[s]}"`:"";t.push(`${s}${n}`)}return t.length?`; ${t.join("; ")}`:""}class pt extends d.bk{constructor(e){super(),this._mediaSource=null,this._sourceBuffers={},this._currentInitSegments={},this._updateQueue=[],this._playId=0,this._lastBufferClearTime=(0,W.X)(),this._customSourceBufferParams="";const{mimeTypes:t,customSourceBufferParams:s,disableBufferAbort:n}=e;this._mimeTypes=t,this._customSourceBufferParams=ut(s),this._disableBufferAbort=!!n,this._onSourceOpen=this._onSourceOpen.bind(this),this._onSourceClose=this._onSourceClose.bind(this),this._onUpdateEnd=this._onUpdateEnd.bind(this),this.dequeueUpdates=this.dequeueUpdates.bind(this),e.noInit||this._init()}static create(e){return new pt(e)}_init(){this._mediaSource=new MediaSource,this._mediaSource.addEventListener(Q.MEDIA_SOURCE_OPEN,this._onSourceOpen),this._mediaSource.addEventListener(Q.MEDIA_SOURCE_CLOSE,this._onSourceClose),this._sourceBuffers={},this._currentInitSegments={}}_onSourceOpen(){var e;ct.info("MediaSource opened.");const t=this._mediaSource;if(0===(null===(e=null==t?void 0:t.sourceBuffers)||void 0===e?void 0:e.length)&&"open"===(null==t?void 0:t.readyState)){const e=this._mimeTypes;ct.info("Creating source buffers for MIME types",e);for(const n of["video","audio"]){const a=e[n];if(a){const e=a+this._customSourceBufferParams;try{const s=t.addSourceBuffer(e);s.addEventListener(Q.SOURCE_BUFFER_UPDATE_END,this._onUpdateEnd),this._sourceBuffers[a]=s}catch(s){throw"QuotaExceededError"===s.name?ee.fatal(i.PLAYER_PLAYBACK_ERROR,"MediaSourceManager: addSourceBuffer() failed. User agent can not handle any more SourceBuffer objects."):"InvalidStateError"===s.name?ee.fatal(i.PLAYER_PLAYBACK_ERROR,'MediaSourceManager: addSourceBuffer() failed. MediaSource is not in the "open" readyState.'):"NotSupportedError"===s.name?ee.fatal(i.PLAYER_PLAYBACK_ERROR,"MediaSourceManager: addSourceBuffer() failed. Given MIME type is not supported/compatible."):ee.fatal(i.PLAYER_PLAYBACK_ERROR,"MediaSourceManager: addSourceBuffer() failed.")}}}}this.dequeueUpdates(),this.emit(Q.BUFFER_SOURCE_OPEN,Object.assign({},xe()))}_onSourceClose(){ct.info("MediaSource closed."),this._destroySourceBuffers(),this.emit(Q.BUFFER_SOURCE_CLOSE,Object.assign({},xe()))}_destroySourceBuffers(){const e=this._mediaSource;if(!e)return;const t=e.sourceBuffers;if(t.length)for(let n=0,i=t.length;n<i;n++){const i=t[n];if(i){i.removeEventListener(Q.SOURCE_BUFFER_UPDATE_END,this._onUpdateEnd);try{e.removeSourceBuffer(i),ct.info("Removed source buffer")}catch(s){ct.warn("Failed to remove sourcebuffer",s)}}}this._sourceBuffers={},this._currentInitSegments={}}_onUpdateEnd(){this.dequeueUpdates(),this.emit(Q.BUFFER_UPDATE_END,Object.assign({},xe()))}_endUpdate(e){var t;this._isUpdating()?this._updateQueue.push(e):"open"===(null===(t=this._mediaSource)||void 0===t?void 0:t.readyState)&&(ct.info("Signals end of stream."),this._mediaSource.endOfStream(),e.resolve&&e.resolve(!0))}_durationUpdate(e){this._isUpdating()?this._updateQueue.push(e):(this._mediaSource&&(this._mediaSource.duration=e.duration),e.resolve&&e.resolve(!0))}_isUpdating(){if(!this._mediaSource)return!1;const e=this._mediaSource.sourceBuffers;for(let t=0,s=e.length;t<s;t++){const s=e[t];if(s&&s.updating)return!0}return!1}_appendUpdate(e){var t,s;const n=this._sourceBuffers[e.mimeType];if(!n||n.updating)return void this._updateQueue.push(e);let i=e.buffer;if(e.segment.init&&this._currentInitSegments[e.mimeType]===e.profileId)return null===(t=e.resolve)||void 0===t||t.call(e,!0),void Promise.resolve().then(this.dequeueUpdates);if(e.initBuffer&&e.buffer&&this._currentInitSegments[e.mimeType]!==e.profileId){const t=new Uint8Array(e.initBuffer.byteLength+e.buffer.byteLength);t.set(new Uint8Array(e.initBuffer),0),t.set(new Uint8Array(e.buffer),e.initBuffer.byteLength),i=t.buffer}try{n.appendBuffer(i)}catch(o){let t=!1;return"QuotaExceededError"===o.name?(ct.warn("Failed to append buffer: exceeded quota."),t=!0,this.emitSync(Q.BUFFER_QUOTA_EXCEEDED,Object.assign({},xe()))):ct.warn("Failed to append buffer",o),void new Promise((e=>{t?setTimeout(e,1e3):e()})).then((()=>{var t;null===(t=e.reject)||void 0===t||t.call(e,o),this.dequeueUpdates()})).then((()=>{e.init&&this._updateQueue.push(e)}))}const a=i.byteLength>e.buffer.byteLength;(e.segment.init||a)&&(this._currentInitSegments[e.mimeType]=e.profileId),null===(s=e.resolve)||void 0===s||s.call(e,!0),a?ct.info(`Injected combined init segment and playable segment (${e.mimeType}, ${e.profileId})`):e.init&&ct.info(`Injected individual init segment (${e.mimeType}, ${e.profileId})`)}_abortUpdate(e){var t;null===(t=e.resolve)||void 0===t||t.call(e,!1),Promise.resolve().then(this.dequeueUpdates)}dequeueUpdates(){const e=this._updateQueue.shift();e&&this.tryUpdate(e)}tryUpdate(e){if(e.playId!==this._playId)return ct.info("Try update dropped: playId has changed"),void this._abortUpdate(e);if(e.timestamp<this._lastBufferClearTime)return ct.info("Try update dropped: update is older than the last clear"),void this._abortUpdate(e);const t=this._mediaSource;t&&"open"!==t.readyState&&"ended"!==t.readyState?this._updateQueue.push(e):"end"===e.type?this._endUpdate(e):"duration"===e.type?this._durationUpdate(e):"append"===e.type&&this._appendUpdate(e)}appendBufferData(e,t,s,n=(0,W.X)()){const i=[];if(e.audio){const a=(0,c.u)();this.tryUpdate({playId:s,timestamp:n,segment:t,type:"append",profileId:e.audio.profileId,buffer:e.audio.buffer,initBuffer:e.audio.initBuffer,mimeType:e.audio.mimeType,init:!!t.init,resolve:a.resolve,reject:a.reject}),i.push(a.promise)}if(e.video){const a=(0,c.u)();this.tryUpdate({playId:s,timestamp:n,segment:t,type:"append",profileId:e.video.profileId,buffer:e.video.buffer,initBuffer:e.video.initBuffer,mimeType:e.video.mimeType,init:!!t.init,resolve:a.resolve,reject:a.reject}),i.push(a.promise)}return Promise.all(i)}endOfStream(e){this._mediaSource&&"ended"!==this._mediaSource.readyState&&this.tryUpdate({playId:e,timestamp:(0,W.X)(),type:"end"})}abort(e=!1){if(this._lastBufferClearTime=(0,W.X)(),this._disableBufferAbort)return void ct.info("MediaSource abort skipped; action disabled.");const t=this._mediaSource;if(t){const n=t.sourceBuffers;for(let i=0,a=n.length;i<a;i++){const a=n[i];if("open"===t.readyState&&a)try{a.abort();const t=a.buffered;if(e&&t.length){const e=t.start(0),s=t.end(t.length-1);a.remove(e,s),ct.info("Cleared buffer range",e,s)}}catch(s){ct.warn("MediaSourceManager: sourceBuffer.abort() failed due to .abort() or .remove() operation.",s)}}}this._currentInitSegments={}}destroy(){const e=this._mediaSource;e&&(ct.info("Source destroyed"),e.removeEventListener("sourceopen",this._onSourceOpen),e.removeEventListener("sourceclose",this._onSourceClose),this._destroySourceBuffers(),this._mediaSource=null)}recreate(e){this.abort(),this.destroy(),this._mimeTypes=e.mimeTypes,e.customSourceBufferParams&&(this._customSourceBufferParams=ut(e.customSourceBufferParams)),this._init()}setDuration(e){return new Promise((t=>{this.tryUpdate({playId:this._playId,timestamp:(0,W.X)(),type:"duration",duration:e,resolve:t})}))}getMediaSource(){return this._mediaSource}setPlayId(e){this._playId=e}getPlayId(){return this._playId}}const mt=k.m.forTag("playback.buffer_fill_operation");class ht{constructor(e){var t;this._batchSize=1,this._prioritizeFirst=!1,this._segmentsToAppend=[],this._abortController=(0,r.createAbortControllerLike)(),this.status="pending",this.timeStart=e.timeStart,this.timeEnd=e.timeEnd,this.done=new Promise((e=>{this._resolveDone=e})),this._getBufferedTimeRanges=e.getBufferedTimeRanges,this._getBufferSetForSegment=e.getBufferSetForSegment,this._getSegmentsForRange=e.getSegmentsForRange,this._appendBufferData=e.appendBufferData,this._batchSize=null!==(t=e.batchSize)&&void 0!==t?t:1,this._prioritizeFirst=!!e.prioritizeFirst}_filterBufferedSegments(e){const t=this._getBufferedTimeRanges();let s=[];if(null==t?void 0:t.length)e:for(const n of e){let e=t.length;for(;e--;){const s=t.start(e),i=t.end(e);if(s<=n.timeStart&&(i>=n.timeEnd||i+1e-5>n.timeEnd))continue e}s.push(n)}else s=e;return s}_fill(e,t=!1){var s;if(e.aborted)return;const n=this._segmentsToAppend,i=n.length,a=n.splice(0,t?1:Math.max(1,this._batchSize));if(!a.length)return this.status="ended",void(null===(s=this._resolveDone)||void 0===s||s.call(this));mt.log(`Segments to download: ${a.length}/${i}`);const o=(0,W.X)();Promise.all(a.map((t=>this._getBufferSetForSegment(t,e).then((s=>e.aborted?Promise.resolve([!1]):this._appendBufferData(s,t,o)))))).then((t=>{var s,n;if(e.aborted)return;if(-1!==[].concat(...t).indexOf(!1))return this.status="failed",null===(s=this._resolveDone)||void 0===s||s.call(this),mt.warn(`Fill operation ${this.timeStart}-${this.timeEnd} append failed.`),void this._clear();this._segmentsToAppend.length?this._fill(e):(this.status="ended",null===(n=this._resolveDone)||void 0===n||n.call(this),this._clear())}),(e=>{var t;e.code!==r.TransportErrors.HTTP_REQUEST_ABORTED?(this.status="failed",null===(t=this._resolveDone)||void 0===t||t.call(this),this._clear(),mt.warn(`Fill operation ${this.timeStart}-${this.timeEnd} failed.`,"QuotaExceededError"===e.name?"Exceeded buffer quota":e)):this.status="aborted"}))}_clear(){this._segmentsToAppend=[]}start(){var e;if(this._abortController.signal.aborted||"pending"!==this.status)return this.done;this.status="started",mt.log("Starting fill operation for range",this.timeStart,this.timeEnd);const t=this._getSegmentsForRange(this.timeStart,this.timeEnd);return this._segmentsToAppend=this._filterBufferedSegments(t),this._segmentsToAppend.length?(this._fill(this._abortController.signal,this._prioritizeFirst),this.done):(mt.warn("Fill operation ended early: all segments are buffered."),this.status="ended",null===(e=this._resolveDone)||void 0===e||e.call(this),this.done)}abort(){var e;return"aborted"===this.status||("started"===this.status&&mt.info(`Fill operation ${this.timeStart}-${this.timeEnd} aborted.`),this.status="aborted",null===(e=this._resolveDone)||void 0===e||e.call(this),this._abortController.abort(),this._clear()),this}}var _t,yt;!function(e){e[e.AUDIO=12]="AUDIO",e[e.VIDEO=20]="VIDEO"}(_t||(_t={}));class bt extends d.bk{constructor(e,t={},s={}){var n,i;super(),this._bufferTarget={audio:_t.AUDIO,video:_t.VIDEO},this._currentFillOperation=null,this._bufferedSegmentInfos=null,this._cachedBufferedSegmentInfo=null,this._tracker=e;const{customSourceBufferParams:a,noInit:o,disableBufferAbort:r}=s;this._bufferTarget.audio=(null===(n=s.bufferTarget)||void 0===n?void 0:n.audio)||_t.AUDIO,this._bufferTarget.video=(null===(i=s.bufferTarget)||void 0===i?void 0:i.video)||_t.VIDEO,this._mediaSourceManager=pt.create({mimeTypes:t,noInit:o,customSourceBufferParams:a,disableBufferAbort:r}),this.proxyEmitAll(this._mediaSourceManager,{[Q.BUFFER_SOURCE_OPEN]:Q.BUFFER_SOURCE_OPEN,[Q.BUFFER_SOURCE_CLOSE]:Q.BUFFER_SOURCE_CLOSE,[Q.BUFFER_QUOTA_EXCEEDED]:Q.BUFFER_QUOTA_EXCEEDED,[Q.BUFFER_UPDATE_END]:Q.BUFFER_UPDATE_END})}static create(e,t={},s={}){return new bt(e,t,s)}_trackBufferedSegment(e,t,s){let n=this._bufferedSegmentInfos;n||(n=new Array(s),this._bufferedSegmentInfos=n);const i={timeStart:e.timeStart,timeEnd:e.timeEnd,index:e.index,audio:t.audio?{profileId:t.audio.profileId,mimeType:t.audio.mimeType,bitrate:t.audio.bitrate}:void 0,video:t.video?{profileId:t.video.profileId,mimeType:t.video.mimeType,bitrate:t.video.bitrate,width:t.video.videoWidth,height:t.video.videoHeight,resolution:t.video.resolution}:void 0};n[e.index]=i}_trackBufferingProgress(e){e.audio&&e.audio.buffer&&this._tracker.trackBytesDownloaded(e.audio.buffer.byteLength),e.video&&e.video.buffer&&this._tracker.trackBytesDownloaded(e.video.buffer.byteLength)}_trackBufferURLs(e){var t,s,n,i,a,o;null!==(null===(t=e.audio)||void 0===t?void 0:t.bandwidth)&&this._tracker.trackBufferURL((null===(s=e.audio)||void 0===s?void 0:s.bufferURL)||"",{bandwidth:(null===(n=e.audio)||void 0===n?void 0:n.bandwidth)||0}),null!==(null===(i=e.video)||void 0===i?void 0:i.bandwidth)&&this._tracker.trackBufferURL((null===(a=e.video)||void 0===a?void 0:a.bufferURL)||"",{bandwidth:(null===(o=e.video)||void 0===o?void 0:o.bandwidth)||0})}dequeueUpdates(){this._mediaSourceManager.dequeueUpdates()}abort(e=!1){var t;null===(t=this._currentFillOperation)||void 0===t||t.abort(),this._currentFillOperation=null,this._mediaSourceManager.abort(e)}getMediaSource(){return this._mediaSourceManager.getMediaSource()}destroy(){this._mediaSourceManager.destroy()}checkBufferHealth(e,t,s){var n;const i=this._currentFillOperation;if(!s&&"started"===(null==i?void 0:i.status))return;const a=this._mediaSourceManager,o=a.getMediaSource();if(!o||"closed"===o.readyState)return;let l=t;if(l>=o.duration){const t=e.getFinalSegment();t&&(l=t.timeStart)}const d=function(e,t){var s;const n=null===(s=e.sourceBuffers[e.sourceBuffers.length-1])||void 0===s?void 0:s.buffered;if(n)for(let i=0;i<n.length;i++){const e=n.start(i),s=n.end(i);if(e<=t&&t<=s)return{start:e,end:s}}return null}(o,l);if(d&&!e.getSegmentAfterTime(d.end)&&"ended"===o.readyState)return;const c="video"===e.getMediaType()?this._bufferTarget.video:this._bufferTarget.audio,u=null!==(n=null==d?void 0:d.end)&&void 0!==n?n:l,p=u-l;if(p>c)return;const m=u+(c-p);if(!i||"started"!==i.status||i.timeStart<u||i.timeEnd>m){null==i||i.abort();const t=a.getPlayId();this._currentFillOperation=new ht({timeStart:u,timeEnd:m,getBufferedTimeRanges:()=>{var e,t;return null!==(t=null===(e=o.sourceBuffers[o.sourceBuffers.length-1])||void 0===e?void 0:e.buffered)&&void 0!==t?t:null},getBufferSetForSegment:(s,n)=>e.getBufferSetForSegment(s,n).then((e=>(this._trackBufferingProgress(e),this._trackBufferURLs(e),e)),(s=>(t===a.getPlayId()&&s.code!==r.TransportErrors.HTTP_REQUEST_ABORTED&&this.emit(Q.BUFFER_APPEND_ERROR,Object.assign({error:s,canPlayNext:!0,track:e.toLogJSON()},xe())),Promise.reject(s)))),getSegmentsForRange:(t,s=1/0)=>e.getSegmentsForRange(t,s),appendBufferData:(s,n,i)=>a.appendBufferData(s,n,t,i).then((i=>(this._trackBufferedSegment(n,s,e.getSegmentsCount()),n.isFinal&&-1===(null==i?void 0:i.indexOf(!1))&&this._mediaSourceManager.endOfStream(t),i))),prioritizeFirst:!d}),this._currentFillOperation.start()}}isPositionInCurrentFillRange(e,t){const s=this._currentFillOperation;if("started"!==(null==s?void 0:s.status))return!1;const n=t+("video"===e.getMediaType()?this._bufferTarget.video:this._bufferTarget.audio);return s.timeStart>=t||s.timeEnd>=n}recreate(e){this._mediaSourceManager.recreate({mimeTypes:e}),this._bufferedSegmentInfos=null,this._cachedBufferedSegmentInfo=null}injectInitSegment(e){const t=this._mediaSourceManager,s=t.getMediaSource();if(!s||"closed"===s.readyState)return Promise.resolve(!1);const n=e.getInitSegment();if(!n)return Promise.resolve(!1);const i=(0,W.X)(),a=t.getPlayId();return e.getInitBufferSet().then((e=>t.appendBufferData(e,n,a,i))).then((()=>!0))}setDuration(e){return this._mediaSourceManager.setDuration(e)}setPlayId(e){this._mediaSourceManager.setPlayId(e)}getBufferTarget(){return this._bufferTarget}getBufferedSegmentInfoForTime(e){const t=this._bufferedSegmentInfos;if(!(null==t?void 0:t.length))return null;let s=0;const n=this._cachedBufferedSegmentInfo;if(n&&n.timeStart<=e){if(n.timeEnd>=e)return n;const i=t[n.index+1];if(i&&i.timeStart<=e&&i.timeEnd>=e)return this._cachedBufferedSegmentInfo=i,i;e>=n.timeEnd&&(s=n.index+1)}for(const i=t.length;s<i;s++){const n=t[s];if(n&&n.timeStart<=e&&n.timeEnd>=e)return this._cachedBufferedSegmentInfo=n,n}return this._cachedBufferedSegmentInfo=null,null}}class gt extends ze{constructor(e){super(e),this.strategy=q.URL,this._url=e.url,this._mimeType=e.mimeType}load(){if(this._mimeType){if(!(e=this._mimeType,t=this.getMediaType(),""!==document.createElement(t).canPlayType(e)))throw new Ke(i.FILE_FORMAT_NOT_SUPPORTED,"Content is not playable.")}var e,t;return Promise.resolve(this)}unload(){}isProtected(){return!1}getMediaTypeMimeTypes(){var e,t;return"video"===this._mediaType?{video:null!==(e=this._mimeType)&&void 0!==e?e:"video/mp4"}:{audio:null!==(t=this._mimeType)&&void 0!==t?t:"audio/mp3"}}getURL(){return this._url}getLoadingApproach(){return{approach:"src"}}}!function(e){e[e.MP3_256=3]="MP3_256",e[e.MP3_320=4]="MP3_320",e[e.MP3_160=5]="MP3_160",e[e.MP3_96=6]="MP3_96",e[e.MP4_128=10]="MP4_128",e[e.MP4_256=11]="MP4_256",e[e.MP4_128_DUAL=12]="MP4_128_DUAL",e[e.MP4_256_DUAL=13]="MP4_256_DUAL",e[e.MP4_128_CBCS=14]="MP4_128_CBCS",e[e.MP4_256_CBCS=15]="MP4_256_CBCS",e[e.MP4_FLAC=17]="MP4_FLAC"}(yt||(yt={}));const ft={[yt.MP3_256]:"audio/mp3",[yt.MP3_320]:"audio/mp3",[yt.MP3_160]:"audio/mp3",[yt.MP3_96]:"audio/mp3",[yt.MP4_128]:'audio/mp4; codecs="mp4a.40.2"',[yt.MP4_256]:'audio/mp4; codecs="mp4a.40.2"',[yt.MP4_128_DUAL]:'audio/mp4; codecs="mp4a.40.2"',[yt.MP4_256_DUAL]:'audio/mp4; codecs="mp4a.40.2"',[yt.MP4_128_CBCS]:'audio/mp4; codecs="mp4a.40.2"',[yt.MP4_256_CBCS]:'audio/mp4; codecs="mp4a.40.2"',[yt.MP4_FLAC]:'audio/mp4; codecs="flac"'};class vt extends ze{constructor(e){if(super(e),this._loaded=!1,this._lastResolveToken=0,this._fallbackURLs=[],this._contentSegments=[],this._duration=0,this._segmentLength=0,this._protection="cenc",this._fileId=e.fileId,this._resolver=e.resolver,this._keySystemInfo=e.keySystemInfo,this._keySystemSettings=we[this._keySystemInfo.keySystem],this._fileFormat=e.fileFormat,this._disableCache=e.disableCache,this._preloadedManifest=e.preloadedManifest,this._preresolvedURL=e.preresolvedURL,this._fileFormat)this._mimeType=ft[this._fileFormat];else switch(this._mediaFormat){case X.MP3:this._mimeType=ft[yt.MP3_160];break;case X.MP4:case X.MP4_DUAL:case X.MP4_CBCS:this._mimeType=ft[yt.MP4_128];break;default:throw new TypeError(`Unknown audio format ${this._mediaFormat}`)}}_getCDNURLs(e){if(this._preresolvedURL)return this._currentURL=this._preresolvedURL,this._fallbackURLs=[],e&&(e.resolveLatency=0),Promise.resolve(!0);const t=this._fileId;clearTimeout(this._lastResolveToken);const s=()=>(this._lastResolveTime=(0,W.X)(),this._resolver.getCDNURL(t,this._fileFormat).then((t=>(e&&this._lastResolveTime&&(e.resolveLatency=(0,W.r)(this._lastResolveTime)),t)))),n=this._lastResolveTime?(0,W.r)(this._lastResolveTime):1/0;let i;return i=n<1001?new Promise(((e,t)=>{this._lastResolveToken=setTimeout((()=>{s().then(e,t)}),1001-n)})):s(),i.then((e=>(this._fallbackURLs=e.uris,this._currentURL=this._fallbackURLs.shift(),!0))).catch((e=>(e&&(e.track=this.toLogJSON()),Promise.reject(e))))}_getManifest(e){if(this._preloadedManifest)return e&&(e.manifestLatency=0),Promise.resolve(this._preloadedManifest);const t=(0,W.X)();return this._resolver.getManifest(this._fileId).then((s=>(e&&(e.manifestLatency=(0,W.r)(t)),s)))}_calculateSegments(e){let t=e.offset;this._initSegment={index:-1,init:!0,cacheBufferSet:!this._disableCache,timeStart:0,timeEnd:0,byteRanges:{audio:{start:0,end:t-1}}};const s=e.segments,n=e.timescale,i=s.length,a=new Array(i);let o=0,r=0;for(let l=0,d=i;l<d;l++){const e=s[l];if(!(null==e?void 0:e.length))continue;const[i,d]=e,c=d/n,u={index:l,init:!1,cacheBufferSet:!l&&!this._disableCache,timeStart:o,timeEnd:o+c,byteRanges:{audio:{start:t,end:t+(i-1)}}};a[l]=u,t+=i,r+=d,o+=c,Math.floor(c)>this._segmentLength&&(this._segmentLength=Math.floor(c))}a[a.length-1].isFinal=!0,this._contentSegments=a,this._duration=r/n}_calculateSegmentsV1(e){let t=e.offset;this._initSegment={index:-1,init:!0,cacheBufferSet:!this._disableCache,timeStart:0,timeEnd:0,byteRanges:{audio:{start:0,end:t-1}}};const s=e.references,n=e.timescale,i=s.length,a=new Array(i);let o=0,r=0;for(let l=0,d=i;l<d;l++){const e=s[l];if(!e)continue;const i=e.duration/n,d={index:l,init:!1,cacheBufferSet:!l&&!this._disableCache,timeStart:r,timeEnd:r+i,byteRanges:{audio:{start:t,end:t+(e.size-1)}}};a[l]=d,t+=e.size,o+=e.duration,r+=i,Math.floor(i)>this._segmentLength&&(this._segmentLength=Math.floor(i))}a[a.length-1].isFinal=!0,this._contentSegments=a,this._duration=o/n}load(e={resolveLatency:0,manifestLatency:0}){return this._loaded?(e.resolveLatency=0,e.manifestLatency=0,Promise.resolve(this)):Promise.all([this._getCDNURLs(e),this._getManifest(e)]).then((([e,t])=>{var s;if(this._loaded=!0,!e||!t)return this;if(this._keySystemInfo.keySystem===$.INVALID_SPOTIFY_KEY)return this._pssh=new Uint8Array(0),this;let n;const a=this._keySystemSettings.pssh_field.audio;let o=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)}(a,t)?t[a]:null;if(!o&&"pssh_widevine"===a&&"pssh"in t&&(o=null!==(s=t.pssh)&&void 0!==s?s:null),!o)return n=new Ke(i.FILE_FORMAT_NOT_SUPPORTED,"KeySystem does not support the file format."),n.track=this.toLogJSON(),Promise.reject(n);if(this._protection=t.protection||"cenc",this._pssh=qe(o),"segments"in t&&t.segments)this._calculateSegments(t);else{if(!("references"in t)||!t.references)return n=new Ke(i.FILE_MALFORMED_SEEKTABLE,"Malformed seektable."),n.track=this.toLogJSON(),Promise.reject(n);this._calculateSegmentsV1(t)}return this}))}isProtected(){return!!this._protection&&!!this._pssh}getMediaTypeMimeTypes(){return{audio:this._mimeType}}}const Et="application/vnd.apple.mpegurl";function wt(e){var t;const s=function(e){return e.map((e=>{if(e.byteEnd&&void 0!==e.byteStart){let t=""+(1+e.byteEnd-e.byteStart);return t+=`@${e.byteStart}`,`#EXTINF:${e.duration},\n#EXT-X-BYTERANGE:${t}\n${e.url}`}return`#EXTINF:${e.duration},\n${e.url}`})).join("\n")}(e.segments),n=e.assetID?`#EXT-X-KEY:METHOD=SAMPLE-AES,URI="skd://${e.assetID}",KEYFORMATVERSIONS="1",KEYFORMAT="com.apple.streamingkeydelivery"`:"";let i=e.map?`#EXT-X-MAP:URI="${e.map.url}"`:"";return(null===(t=e.map)||void 0===t?void 0:t.byteEnd)&&void 0!==e.map.byteStart&&(i+=`,BYTERANGE="${1+e.map.byteEnd}@${e.map.byteStart}"`),`#EXTM3U\n#EXT-X-VERSION:6\n#EXT-X-TARGETDURATION:${Math.floor(e.targetDuration)}\n#EXT-X-MEDIA-SEQUENCE:0\n#EXT-X-PLAYLIST-TYPE:VOD\n${i?`${n}\n${i}`:n}\n${s}\n#EXT-X-ENDLIST`}function St(e){return`data:application/vnd.apple.mpegurl;base64,${btoa(e)}`}function Rt(e){const t=new Blob([e],{type:Et});return URL.createObjectURL(t)}function Tt(e){return Rt(wt(e))}function At(e){return St(wt(e))}class xt extends vt{constructor(){super(...arguments),this._hlsURL=null,this.strategy=q.URL}unload(){this._hlsURL&&URL.revokeObjectURL(this._hlsURL),this._hlsURL=null}getURL(){var e,t;const s=this._currentURL,n=this._initSegment;if(!s||!n)throw new Ke(i.FILE_NOT_RESOLVED,"Cannot return HLS Manifest URL: File not resolved.");this.unload();const a={url:s,byteStart:null===(e=n.byteRanges.audio)||void 0===e?void 0:e.start,byteEnd:null===(t=n.byteRanges.audio)||void 0===t?void 0:t.end},o=this._contentSegments.map((e=>{var t,n;return{url:s,duration:e.timeEnd-e.timeStart,byteStart:null===(t=e.byteRanges.audio)||void 0===t?void 0:t.start,byteEnd:null===(n=e.byteRanges.audio)||void 0===n?void 0:n.end}})),r="undefined"==typeof MediaSource?Tt:At;return this._hlsURL=r({assetID:this._fileId,targetDuration:10,map:a,segments:o}),this._hlsURL}getLoadingApproach(){return{approach:"source",type:Et}}}class Ct extends Error{constructor(e,t,s,n={}){super(t),this.code=e,this.message=t,this.status=s,this.debug=n,this.name="FragmentError"}}class It extends vt{constructor(e){super(e),this._profileId=`${Date.now()}`,this._lastFetchedBuffer=null,this.strategy=q.MSE,this._transport=e.transport,this._abrManager=e.abrManager,this._parseSegmentResponse=this._parseSegmentResponse.bind(this)}_parseSegmentResponse(e,t){const{requestURL:s,segment:n,byteRangeHeader:a,expectedLength:o}=e.metadata,r=`${n.timeStart}-${n.timeEnd}`,[l,d]=a.split("-").map(Number);switch(e.status){case 0:{if(e.offline)return Promise.reject(new Ct(i.FRAGMENT_OFFLINE_REQUEST_FAILED_WITH_ZERO,"Request failed with status 0.",0,{time_range:r,byte_range:a,isNetworkRelated:!0,segmentTimeStart:n.timeStart,segmentTimeEnd:n.timeEnd,segmentByteStart:l,segmentByteEnd:d}));const o=new Ct(i.FRAGMENT_ONLINE_REQUEST_FAILED_WITH_ZERO,"Request failed with status 0.",0,{isNetworkRelated:!0,segmentTimeStart:n.timeStart,segmentTimeEnd:n.timeEnd,segmentByteStart:l,segmentByteEnd:d});let c=!1;return this._currentURL!==s?c=!0:this._fallbackURLs.length&&this._currentURL===s&&(c=!0,this._currentURL=this._fallbackURLs.shift()),o.debug.has_fallback=c,c?this.getBufferSetForSegment(n,t):Promise.reject(o)}case 200:case 206:{const t=e.body;if(!t)return Promise.reject(new Ct(i.FRAGMENT_REQUEST_EMPTY_RESPONSE,"Empty response for successful buffer.",e.status,{time_range:r,byte_range:a,segmentTimeStart:n.timeStart,segmentTimeEnd:n.timeEnd,segmentByteStart:l,segmentByteEnd:d}));if(t.byteLength!==o)return Promise.reject(new Ct(i.FRAGMENT_REQUEST_UNEXPECTED_LENGTH,"Received buffer of unexpected length.",e.status,{time_range:r,byte_range:a,received_length:t.byteLength,expected_length:o,segmentTimeStart:n.timeStart,segmentTimeEnd:n.timeEnd,segmentByteStart:l,segmentByteEnd:d}));const c={audio:{profileId:this._profileId,bufferURL:s,byteStart:n.byteRanges.audio.start,byteEnd:n.byteRanges.audio.end,buffer:t,mimeType:this._mimeType,bandwidth:8e3*t.byteLength/e.timing.completed}};return n.cacheBufferSet&&t&&t.byteLength&&(n.bufferSet=c),this._abrManager.sample(t.byteLength,e.timing.completed),Promise.resolve(c)}case 403:return this._getCDNURLs().then((()=>this.getBufferSetForSegment(n,t)));default:{let o=!1;return this._currentURL!==s?o=!0:this._fallbackURLs.length&&this._currentURL===s&&(o=!0,this._currentURL=this._fallbackURLs.shift()),o?this.getBufferSetForSegment(n,t):Promise.reject(new Ct(i.FRAGMENT_REQUEST_FAILED_WITH_STATUS,`Buffer request failed with status ${e.status}`,e.status,{time_range:r,byte_range:a,isNetworkRelated:!0,segmentTimeStart:n.timeStart,segmentTimeEnd:n.timeEnd,segmentByteStart:l,segmentByteEnd:d}))}}}unload(){this._lastFetchedBuffer=null,this._disableCache&&(this._initSegment&&(this._initSegment.bufferSet=null),this._contentSegments[0]&&(this._contentSegments[0].bufferSet=null))}getCalculatedDuration(){return this._duration}getSegmentLength(){return this._segmentLength}getSegmentsCount(){return this._contentSegments.length}getInitSegment(){return this._initSegment}getSegmentForTime(e){var t,s;if(!(null===(t=this._contentSegments)||void 0===t?void 0:t.length))return null;if(0===e||.01===e)return null!==(s=this._contentSegments[0])&&void 0!==s?s:null;for(const n of this._contentSegments)if(n.timeStart<=e&&n.timeEnd>=e)return n;return null}getSegmentAfterTime(e){var t,s;if(!(null===(t=this._contentSegments)||void 0===t?void 0:t.length))return null;if(0===e||.01===e)return null!==(s=this._contentSegments[1])&&void 0!==s?s:null;for(const n of this._contentSegments)if(n.timeStart>e)return n;return null}getSegmentsForRange(e,t=1/0){var s;const n=[];if(null===(s=this._contentSegments)||void 0===s?void 0:s.length)for(const i of this._contentSegments)i.timeStart<=t&&i.timeEnd>=e&&n.push(i);return n}getFinalSegment(){var e,t;return null!==(t=null===(e=this._contentSegments)||void 0===e?void 0:e[this._contentSegments.length-1])&&void 0!==t?t:null}getInitBufferSet(e){var t,s;if(!this._initSegment)throw new Ke(i.FILE_NOT_RESOLVED,"Cannot return the init bufferset: file not resolved.");return(null===(s=null===(t=this._initSegment.bufferSet)||void 0===t?void 0:t.audio)||void 0===s?void 0:s.buffer.byteLength)?Promise.resolve(this._initSegment.bufferSet):(this._initBufferPromise||(this._initBufferPromise=this.getBufferSetForSegment(this._initSegment,e).then((e=>{var t;if(!(null===(t=e.audio)||void 0===t?void 0:t.buffer.byteLength))throw new Error("Empty initialization segment buffer");return e}))),this._initBufferPromise)}getBufferSetForSegment(e,t){var s;if((null===(s=this._lastFetchedBuffer)||void 0===s?void 0:s.segment)===e)return Promise.resolve(this._lastFetchedBuffer.bufferSet);if(e.bufferSet)return Promise.resolve(e.bufferSet);if(!this._currentURL)return Promise.reject(new Ke(i.FILE_NOT_RESOLVED,"Cannot fetch buffer: No resolved URL"));const n=e.byteRanges.audio,a=`${n.start}-${n.end}`,o=n.end+1-n.start,r=this._currentURL;return(e.init?Promise.resolve(null):this.getInitBufferSet(t)).then((s=>Promise.all([s,this._transport.request(r,{method:"GET",responseType:"arraybuffer",headers:{Range:`bytes=${a}`},signal:t,timing:!0,metadata:{requestURL:r,segment:e,byteRangeHeader:a,expectedLength:o},retry:{condition:(e,t)=>{if(0===e.status)return e.offline;const s=e.getStatusFamily();return 429===e.status||s===t.CONNECTION_ERROR||s===t.SERVER_ERROR||!(s!==t.SUCCESS||!e.body)&&e.body.byteLength!==o}}}).then((e=>this._parseSegmentResponse(e,t)))]))).then((([t,s])=>{var n;return(null===(n=null==t?void 0:t.audio)||void 0===n?void 0:n.buffer)&&s.audio&&(s.audio.initBuffer=t.audio.buffer),this._lastFetchedBuffer={segment:e,bufferSet:s},s}))}}class kt extends nt{constructor(e){super(e),this._hlsURLs=[],this.strategy=q.URL,this._keySystemInfo.keySystem===$.FAIRPLAY&&(this._supportedFormats.audio.push({mimeType:"audio/mp2t",codec:"mp4a.40.2"}),this._supportedFormats.video.push({mimeType:"video/mp2t",codec:"avc1.4d402a"}),this._supportedFormats.audio=this._supportedFormats.audio.filter((e=>!("audio/mp4"===e.mimeType&&"flac"===e.codec))))}_getHLSURLForProfile(e,t){const s=this._duration,n=this._segmentLength,i=this._segmentTemplate,a=[];for(let r=0;r<s;r+=n){const t=r+n>s?s-r:n,o=i.replace("{{profile_id}}",e.id.toString(10)).replace("{{segment_timestamp}}",r.toString(10)).replace("{{file_type}}",e.file_type);a.push({duration:t,url:`${this._baseURL}${o}`})}const o=("undefined"==typeof MediaSource?Tt:At)({assetID:this._assetID,targetDuration:n,map:t?{url:t}:void 0,segments:a});return this._hlsURLs.push(o),o}load(e={resolveLatency:0,manifestLatency:0}){return super.load(e).then((()=>{var e,t;return this._audioProfiles.selected=null!==(e=this._audioProfiles.available[0])&&void 0!==e?e:null,this._videoProfiles.selected=null!==(t=this._videoProfiles.available[0])&&void 0!==t?t:null,this}))}getURL(){var e,t;if(!this._baseURL)throw new Ke(i.FILE_NOT_RESOLVED,"Cannot return HLS Manifest URL: File not resolved.");this.unload();const s=[],n=this._audioProfiles.available[0];if(n){const e="ts"!==n.file_type?this._resolver.getInitSegmentURLs(this._baseURL,this._initTemplate,n,void 0).audio:"";s.push(`#EXT-X-MEDIA:TYPE=AUDIO,GROUP-ID="audio",LANGUAGE="eng",NAME="English",AUTOSELECT=YES,URI="${this._getHLSURLForProfile(n,e)}"`)}for(const i of this._videoProfiles.available){const a=(null!==(e=null==n?void 0:n.max_bitrate)&&void 0!==e?e:0)+i.max_bitrate,o=(null!==(t=null==n?void 0:n.audio_bitrate)&&void 0!==t?t:0)+i.video_bitrate,r="ts"!==i.file_type?this._resolver.getInitSegmentURLs(this._baseURL,this._initTemplate,void 0,i).video:"";s.push(`#EXT-X-STREAM-INF:BANDWIDTH=${a},AVERAGE-BANDWIDTH=${o},RESOLUTION=${i.video_width}x${i.video_height},CODECS="${(null==n?void 0:n.audio_codec)?`${n.audio_codec}, ${i.video_codec}`:i.video_codec}"${(null==n?void 0:n.audio_codec)?',AUDIO="audio"':""}\n${this._getHLSURLForProfile(i,r)}`)}const a=`#EXTM3U\n${s.join("\n")}`,o=("undefined"==typeof MediaSource?Rt:St)(a);return this._hlsURLs.push(o),o}unload(){for(const e of this._hlsURLs)URL.revokeObjectURL(e);this._hlsURLs=[]}getMediaTypeMimeTypes(){var e,t;return{audio:st(null===(e=this._audioProfiles.available)||void 0===e?void 0:e[0]),video:st(null===(t=this._videoProfiles.available)||void 0===t?void 0:t[0])}}getLoadingApproach(){return{approach:"source",type:Et}}adapt(){return Promise.resolve(!1)}canLowerBitrate(){return!1}}class Nt extends nt{constructor(e){super(e),this._initSegmentBuffers={},this._backgrounded=!1,this.strategy=q.MSE,this._transport=e.transport,this._abrManager=e.abrManager,this._parseSegmentResponse=this._parseSegmentResponse.bind(this)}_isQualityMatchedForPreferredResolution(e,t){var s,n,i;const a=this._videoResolution;if(a){const o=null!==(s=a.max)&&void 0!==s?s:9007199254740991,r=null!==(n=a.min)&&void 0!==n?n:0;if(t){const t=null!==(i=a.start)&&void 0!==i?i:o;return e.video_resolution<=t}return e.video_resolution>=r&&e.video_resolution<=o}return!1}_isQualityMatchedForBandwidth(e,t){var s;const n=null!==(s=null==t?void 0:t.audio_bitrate)&&void 0!==s?s:0,i=this._abrManager.getBandwidthEstimate();return e.video_bitrate+n<i-1e5}_isQualityMatchedForElementSize(e){return!!this._currentElementSize&&e.video_height<=this._currentElementSize.height}_selectVideoProfile(e=!1){const t=this._videoProfiles.available,s=this._audioProfiles.available[0],n={};let i=t.length;if(i){for(;i--;){const a=t[i];a&&(!n.preferredResolution&&this._isQualityMatchedForPreferredResolution(a,!!e)&&(n.preferredResolution=a),!n.elementSize&&this._isQualityMatchedForElementSize(a)&&(n.elementSize=a),!n.bitrate&&this._isQualityMatchedForBandwidth(a,s)&&(n.bitrate=a))}return n.backgrounded||(n.backgrounded=t[0]),n.bitrate||(n.bitrate=t[0]),n.preferredResolution?n.preferredResolution:this._enableAbrOnElementSize&&this._backgrounded&&n.backgrounded?n.backgrounded:this._enableAbrOnElementSize&&this._currentElementSize&&n.elementSize?n.bitrate.video_bitrate<n.elementSize.video_bitrate?n.bitrate:n.elementSize:n.bitrate}}_updateVariants(e){var t;const s=this._audioProfiles.available[0];this._audioProfiles.selected=null!=s?s:null;const n=this._videoProfiles.selected,i=this._selectVideoProfile(e);i&&(this._videoProfiles.selected=i,(null==n?void 0:n.id)!==i.id&&(null===(t=this._mediator)||void 0===t||t.emit(J.VIDEO_PROFILE_CHANGED,Object.assign({profile:{type:"video",mimeType:i.mime_type,codec:i.video_codec,bitrate:i.video_bitrate,height:i.video_height,width:i.video_width,resolution:i.video_resolution}},xe()))))}_constructSegmentURL(e,t,s){if(!t&&!s)throw new ee(i.DIRECTOR_MANIFEST_NO_AVAILABLE_PROFILES,"Both audioProfile and videoProfile is null");return e.init?this._resolver.getInitSegmentURLs(this._baseURL,this._initTemplate,t,s):this._resolver.getSegmentURLs(this._baseURL,this._segmentTemplate,e.timeStart,t,s)}_parseSegmentResponse(e){var t,s,n,a;const{segment:o,profile:r,timeStart:l,loggingURL:d}=e.metadata,c=st(r),u=function(e){return e?"audio_bitrate"in e?e.audio_bitrate:e.video_bitrate:0}(r),p="video_resolution"in r?r.video_resolution:void 0,m="video_width"in r?r.video_width:void 0,h="video_height"in r?r.video_height:void 0,_=`${o.timeStart}-${o.timeEnd}`,y="video_resolution"in r?"video":"audio";switch(e.status){case 0:{const e=new Ct(i.FRAGMENT_REQUEST_FAILED_WITH_ZERO,"Request failed with status 0.",0,{time_range:_,mimeType:c,resolution:p,bitrate:u,isNetworkRelated:!0,segmentTimeStart:o.timeStart,segmentTimeEnd:o.timeEnd});return null===(t=this._mediator)||void 0===t||t.emit(J.FRAGMENT_FETCH_ERROR,Object.assign({media_type:"video",segment_type:y,url:d,start_time:l,init:o.init,error:e},xe())),Promise.reject(e)}case 200:case 206:{const t=e.body;if(!(null==t?void 0:t.byteLength)){const t=new Ct(i.FRAGMENT_REQUEST_EMPTY_RESPONSE,"Empty response for successful buffer.",e.status,{time_range:_,mimeType:c,resolution:p,bitrate:u,segmentTimeStart:o.timeStart,segmentTimeEnd:o.timeEnd});return null===(s=this._mediator)||void 0===s||s.emit(J.FRAGMENT_FETCH_ERROR,Object.assign({media_type:"video",segment_type:y,url:d,start_time:l,init:o.init,error:t},xe())),Promise.reject(t)}const a=t.byteLength,b=8e3*a/e.timing.completed;return null===(n=this._mediator)||void 0===n||n.emit(J.FRAGMENT_FETCHED,Object.assign({media_type:"video",segment_type:y,url:d,init:o.init,byte_length:a,start_time:l,end_time:Date.now(),resolution:p,bandwidth:b},xe())),Promise.resolve({profileId:`${this._fileId}-${r.id}`,bufferURL:d,byteStart:0,byteEnd:a-1,buffer:t,mimeType:c,bitrate:u,videoWidth:m,videoHeight:h,resolution:p,bandwidth:b})}}const b=new Ct(i.FRAGMENT_REQUEST_FAILED_WITH_STATUS,`Buffer request failed with status ${e.status}`,e.status,{time_range:_,mimeType:c,resolution:p,bitrate:u,segmentTimeStart:o.timeStart,segmentTimeEnd:o.timeEnd});return null===(a=this._mediator)||void 0===a||a.emit(J.FRAGMENT_FETCH_ERROR,Object.assign({media_type:"video",segment_type:y,url:d,init:o.init,start_time:l,error:b},xe())),Promise.reject(b)}_fetchBufferData(e,t,s,n,i){return this._transport.request(e,{method:"GET",responseType:"arraybuffer",timing:!0,signal:i,retry:{condition:(e,t)=>{if(0===e.status)return!0;const s=e.getStatusFamily();return 429===e.status||s===t.CONNECTION_ERROR||s===t.SERVER_ERROR}},metadata:{timeStart:Date.now(),segment:t,profile:s,loggingURL:n}}).then(this._parseSegmentResponse)}_fetchInitSegmentBuffers(e,t,s){const n=this._initSegment;if(!n)return Promise.reject(new Ke(i.FILE_NOT_RESOLVED,"Cannot fetch Init Segment buffers: File not resolved."));let a;try{a=this._constructSegmentURL(n,e,t)}catch(m){return Promise.reject(m)}const o=this._initSegmentBuffers;let r=0,l=0;const d=(0,W.X)(),c=e=>{l+=e,r--,r||(this._abrManager.sample(l,(0,W.r)(d)),this._updateVariants())};let u=Promise.resolve(null);if(e){const t=o[e.id];(null==t?void 0:t.buffer.byteLength)?u=Promise.resolve(t):(null==a?void 0:a.audio)&&(r++,u=this._fetchBufferData(a.audio,n,e,a.audioLogging,s).then((t=>(o[e.id]=t,c(t.buffer.byteLength),t))))}let p=Promise.resolve(null);if(t){const e=o[t.id];(null==e?void 0:e.buffer.byteLength)?p=Promise.resolve(e):(null==a?void 0:a.video)&&(r++,p=this._fetchBufferData(a.video,n,t,a.videoLogging,s).then((e=>(o[t.id]=e,c(e.buffer.byteLength),e))))}return Promise.all([u,p]).then((([e,t])=>({audio:e,video:t})))}_fetchBufferSetForSegment(e,t,s,n){let i;try{i=this._constructSegmentURL(e,t,s)}catch(a){return Promise.reject(a)}return this._fetchInitSegmentBuffers(t,s,n).then((a=>{let o=0,r=0;const l=(0,W.X)(),d=e=>{r+=e,o--,o||(this._abrManager.sample(r,(0,W.r)(l)),this._updateVariants())};let c=null;!e.init&&(null==i?void 0:i.audio)&&(o++,c=this._fetchBufferData(i.audio,e,t,i.audioLogging,n).then((e=>(d(e.buffer.byteLength),e))));let u=null;return!e.init&&(null==i?void 0:i.video)&&(o++,u=this._fetchBufferData(i.video,e,s,i.videoLogging,n).then((e=>(d(e.buffer.byteLength),e)))),Promise.all([a,c,u])})).then((([t,s,n])=>{var i,a;let o;return e.init?o={audio:null!==(i=t.audio)&&void 0!==i?i:void 0,video:null!==(a=t.video)&&void 0!==a?a:void 0}:(o={audio:null!=s?s:void 0,video:null!=n?n:void 0},e.cacheBufferSet&&(e.bufferSet=o),o.audio&&(null==t?void 0:t.audio)&&(o.audio.initBuffer=t.audio.buffer),o.video&&(null==t?void 0:t.video)&&(o.video.initBuffer=t.video.buffer)),o})).catch((e=>Promise.reject(e)))}load(e={resolveLatency:0,manifestLatency:0}){return super.load(e).then((()=>(this._updateVariants(!0),this)))}adapt(e){const{backgrounded:t=!1,currentElementSize:s}=null!=e?e:{};return this._currentElementSize=s,this._backgrounded=t,this._updateVariants(),Promise.resolve(!0)}canLowerBitrate(){var e;const t=this._videoProfiles.available[0];return(null===(e=this._videoProfiles.selected)||void 0===e?void 0:e.id)!==(null==t?void 0:t.id)}getMediaTypeMimeTypes(){return{audio:st(this._audioProfiles.selected),video:st(this._videoProfiles.selected)}}unload(){this._initSegment&&(this._initSegmentBuffers={}),this._segments.forEach((e=>{e.bufferSet=null}))}getCalculatedDuration(){return this._duration}getSegmentLength(){return this._segmentLength}getSegmentsCount(){return this._segments.length}getInitSegment(){return this._initSegment}getInitBufferSet(){var e,t;const s=null!==(e=this._audioProfiles.selected)&&void 0!==e?e:void 0,n=null!==(t=this._videoProfiles.selected)&&void 0!==t?t:void 0;return this._fetchInitSegmentBuffers(s,n).then((e=>{var t,s;return{audio:null!==(t=e.audio)&&void 0!==t?t:void 0,video:null!==(s=e.video)&&void 0!==s?s:void 0}}))}getSegmentForTime(e){var t;if(!(null===(t=this._segments)||void 0===t?void 0:t.length))return null;if(0===e||.01===e)return this._segments[0];for(const s of this._segments)if(s.timeStart<=e&&s.timeEnd>=e)return s;return null}getSegmentAfterTime(e){var t;if(!(null===(t=this._segments)||void 0===t?void 0:t.length))return null;if(0===e||.01===e)return this._segments[1];for(const s of this._segments)if(s.timeStart>e)return s;return null}getSegmentsForRange(e,t){var s;const n=[];if(null===(s=this._segments)||void 0===s?void 0:s.length)for(const i of this._segments)i.timeStart<=t&&i.timeEnd>=e&&n.push(i);return n}getFinalSegment(){var e,t;return null!==(t=null===(e=this._segments)||void 0===e?void 0:e[this._segments.length-1])&&void 0!==t?t:null}getBufferSetForSegment(e,t){var s,n;if(!e)return Promise.reject(new TypeError("No segment provided"));const i=this._audioProfiles.selected,a=this._videoProfiles.selected,o=null===(n=null===(s=e.bufferSet)||void 0===s?void 0:s.video)||void 0===n?void 0:n.resolution;return e.bufferSet&&(!a||o&&o>=a.video_resolution)?Promise.resolve(e.bufferSet):this._fetchBufferSetForSegment(e,null!=i?i:void 0,null!=a?a:void 0,t)}}class Pt extends ze{constructor(e){super(e),this._url="",this.strategy=q.URL,this._fileId=e.fileId,this._resolver=e.resolver}_getCDNURLs(e){const t=this._fileId,s=(0,W.X)();return this._resolver.getCDNURL(t).then((t=>(e&&(e.resolveLatency=(0,W.r)(s)),t)))}load(e={resolveLatency:0,manifestLatency:0}){return this._getCDNURLs(e).then((e=>(this._url=e.uri,this)))}unload(){}isProtected(){return!1}getMediaTypeMimeTypes(){return{audio:"audio/mp3"}}getURL(){return this._url}getLoadingApproach(){return{approach:"source",type:"audio/mp3"}}}class Lt extends Error{constructor(e,t,s={}){super(),this.status=-1,this.debug={},this.canPlayNext=!0,this.unrecoverable=!1,this.name="AdManifestError",this.code=e,this.message=t,this.debug=s}static fatal(e,t){const s=new Lt(e,t);return s.unrecoverable=!1,s.canPlayNext=!0,s}}class jt extends ze{constructor(e){super(e),this._loaded=!1,this._playableContentSorted=[],this._mimeType="",this._manifestURL="",this._adURL="",this._product="",this._audioFiles=[],this._videoFiles=[],this._trackingData=null,this.strategy=q.URL,this._abrManager=e.abrManager,this._transport=e.transport,this._manifestURL=e.manifestURL,this._preloadedManifest=e.preloadedManifest,this._hasNonFatalErrors=!1,this._getManifest=this._getManifest.bind(this),this._parseManifest=this._parseManifest.bind(this),this._getPlayableContent=this._getPlayableContent.bind(this)}_isPlayable(e,t){return""!==document.createElement(t).canPlayType(e)}_parseManifest(e){if(!(null==e?void 0:e.manifest))throw new Lt(i.STORAGE_TRACK_MANIFEST_EMPTY,"Received empty manifest.");const{manifest:t}=e;this._videoFiles=t.video_files,this._audioFiles=t.audio_files,this._contentMetadata=t.metadata,this._videoManifestId=t.video_manifest_id,this._product=t.product,this._trackingData=(e=>{const t={};for(const s in e){if(!Object.prototype.hasOwnProperty.call(e,s))continue;const n=s;t[n]={urls:e[n]}}return t})(t.tracking_events)}_getManifest(e){if(this._preloadedManifest)return e&&(e.manifestLatency=0),Promise.resolve(this._preloadedManifest);const t=(0,W.X)(),s=this._manifestURL;return this._transport.request(s,{responseType:"json",authorize:!0,retry:{condition:(e,t)=>{const s=e.getStatusFamily();return 429===e.status||s===t.SERVER_ERROR||s===t.CONNECTION_ERROR}}}).then((n=>{if(200!==n.status){const e=new Lt(i.AD_MANIFEST_REQUEST_FAILED_WITH_STATUS,`Ad manifest request failed with status code ${n.status}`,{isNetworkRelated:!0});return e.debug.manifestURL=s,e.status=n.status,Promise.reject(e)}if(!n.body){const e=new Lt(i.AD_MANIFEST_INVALID,"Received empty manifest.");return e.debug.manifestURL=s,e.status=n.status,Promise.reject(e)}e&&(e.manifestLatency=(0,W.r)(t));const a=n.body;return Promise.resolve(a)}))}_getPlayableContent(){const e="video"===this._product;if(e&&this._videoManifestId)return;const t=e?this._videoFiles:this._audioFiles;if(!t.length)throw new Ke(i.FILE_NOT_RESOLVED,`Manifest's ${e?"video_files":"audio_files"} array is empty.`);const s=t.filter((e=>this._isPlayable(e.type,this.getMediaType())));if(!s.length)throw new Ke(i.FILE_FORMAT_NOT_SUPPORTED,"No playable content found.");this._playableContentSorted=s.sort(((e,t)=>t.bitrate-e.bitrate))}load(e={resolveLatency:0,manifestLatency:0}){return this._loaded?(e.resolveLatency=0,e.manifestLatency=0,Promise.resolve(this)):this._getManifest(e).then(this._parseManifest).then(this._getPlayableContent).then((()=>(this._loaded=!0,Promise.resolve(this))))}unload(){this._adURL=""}isProtected(){return!1}getMediaTypeMimeTypes(){return{[this._mediaType]:this._mimeType}}getURL(){if(""!==this._adURL)return this._adURL;const e=this._abrManager.getBandwidthEstimate();let t=this._playableContentSorted[this._playableContentSorted.length-1];for(const s of this._playableContentSorted)if(s.bitrate<=e){t=s;break}return t&&(this._adURL=t.url,this._mimeType=t.type),this._adURL}getLoadingApproach(){return{approach:"src"}}getManifestId(){return this._videoManifestId}getTrackingEvents(){if(!this._trackingData)throw new Ke(i.FILE_NOT_RESOLVED,"Cannot return Tracking Events: File not resolved.");return this._trackingData}getTrackingEventData(e){const t=this._trackingData?this._trackingData[e]:null;return t?{tracking_event:e,urls:t.urls}:null}}function Ot(e,t){var s;return{mediaType:e.mediaType,logData:e.logData,audioGain:e.audioGain,uri:e.uri,fileId:e.fileId,mediaFormat:e.format,hasNonFatalErrors:null!==(s=e.hasNonFatalErrors)&&void 0!==s?s:e.isAd,disableCache:t.disableCache,keySystemInfo:t.keySystemInfo,licenseEndpoint:e.licenseEndpoint,mediator:t.mediator,noAuth:e.noAuth,mimeType:e.mimeType}}function Dt(e,t,s){if(!e.fileId)return Promise.reject(new ee(i.INVALID_TRACK,`Invalid ${e.format} Track: No fileId.`));const n=Object.assign(Object.assign({},Ot(e,t)),{transport:t.transport,abrManager:t.abrManager,fileId:e.fileId,keySystemSettings:we[t.keySystemInfo.keySystem],resolver:t.videoResolver,disallowProfile:t.disallowProfile,allowMixedAVC1Codecs:t.allowMixedAVC1Codecs,trackingData:(null==s?void 0:s.trackingData)||null,metadata:null==s?void 0:s.metadata,enableAbrOnElementSize:t.enableAbrOnElementSize,mediaPlaybackMode:t.mediaPlaybackMode});return t.keySystemInfo.keySystem===$.FAIRPLAY?new kt(n).load(t.measures):new Nt(n).load(t.measures)}const Mt=k.m.forTag("playback.player"),Ut=/^blob:/,Bt={[X.MP4]:!0,[X.MP4_DUAL]:!0,[X.MP4_CBCS]:!0,[X.MP4_FLAC]:!0,[X.MP3]:!1,[X.MANIFEST_ID]:!0,[X.AD_MANIFEST]:!0,[X.GENERIC_MEDIA]:!0},Gt={start:Q.REPORTING_START,creative_view:Q.REPORTING_CREATIVE_VIEW,first_quartile:Q.REPORTING_FIRST_QUARTILE,midpoint:Q.REPORTING_MIDPOINT,third_quartile:Q.REPORTING_THIRD_QUARTILE,complete:Q.REPORTING_COMPLETE,pause:Q.REPORTING_PAUSE,resume:Q.REPORTING_RESUME,error:Q.REPORTING_ERROR},Ft={audio:2,video:2};function Vt(e){return Math.ceil(1e3*e)}function Ht(e){return e/1e3}function Yt(e){return document.createElement(e)}class Kt extends d.bk{constructor(e){var t,s,n,i,a,o,r;super(),this._cubicVolume=!1,this._player=null,this._emeManager=null,this._mediator=new d.bk,this._currentContent=null,this._upcomingContent=null,this._preloadingTracks={},this._playId=0,this._volumeCommandId=null,this._abortController=null,this._loaded=!1,this._licenseRequested=!1,this._playerActivated=!1,this._pauseToken=0,this._syntheticEndedToken=0,this._activeMimeTypes={},this._playerVolume=1,this._muted=!1,this._playerSpeed=1,this._fatalOnNextError=!1,this._canPreloadEmitted=!1,this._lastReportedPosition=null,this._lastReportedPlaybackSpeed=null,this._seeking=!1,this._rebuffering=!1,this._enableAbrOnVisibilityChange=!1,this._enableAbrOnElementSize=!1,this._useResizeObserver=!1,this._preferredBitrate=0,this._disableLicensePrefetch=!1,this._allowMixedAVC1Codecs=!0,this._disableBufferingBeforeLicense=!1,this._rebufferTarget=Ft,this._currentPlayingProfile=null,this._defaultPlayerContainerInjector=(e,t)=>{const s=this._getContainerElement("video"===t?this._videoPlayerContainer:this._audioPlayerContainer);s&&e.parentNode!==s&&(s.appendChild(e),"video"===t&&this.emit(Q.PLAYER_VIDEO_ELEMENT_APPENDED,Object.assign({},xe())))},this._defaultPlayerContainerEjector=(e,t,s)=>{const n=this._getContainerElement("video"===t?this._videoPlayerContainer:this._audioPlayerContainer);n&&e.parentNode===n&&(this._newElementPerTrack||s!==t)&&(n.removeChild(e),"video"===t&&(this._subtitleManager.setPlayer(null),this.emit(Q.PLAYER_VIDEO_ELEMENT_REMOVED,Object.assign({},xe()))))},this._audioResolver=e.audioResolver,this._clearBufferOnSeek=!!e.clearBufferOnSeek,this._createPlayer=e.createPlayer||Yt,this._cubicVolume=e.cubicVolume,this._disableCache=!!e.disableCache,this._licenseURLResolver=e.licenseURLResolver,this._newBufferPerTrack=!!e.newBufferPerTrack,this._newElementPerTrack=!!e.newElementPerTrack,this._newMediaKeysPerTrack=e.newMediaKeysPerTrack,this._rebufferOnQuotaExceeded=!!e.rebufferOnQuotaExceeded,this._disableLicensePrefetch=!!e.disableLicensePrefetch,this._synthesizeEnded=!!e.synthesizeEnded,this._tracker=e.tracker,this._transport=e.transport,this._videoPlayerContainer=e.videoPlayerContainer,this._audioPlayerContainer=e.audioPlayerContainer,this._playerContainerManager=e.playerContainerManager||{inject:this._defaultPlayerContainerInjector.bind(this),eject:this._defaultPlayerContainerEjector.bind(this)},this._allowMixedAVC1Codecs=null===(t=e.allowMixedAVC1Codecs)||void 0===t||t,this._videoResolver=e.videoResolver,this._abrManager=new Oe,this._emeManager=e.disallowProtectedTracks?null:e.emeManager||null,this._disallowProfile=e.disallowProfile,this._disableBufferingBeforeLicense=!!e.disableBufferingBeforeLicense,this._cache=new z.q(e.trackCacheSize||2),this._subtitleManager=new Ye({language:e.preferredSubtitleLanguage||navigator.language,player:this._player}),this._videoResolution=e.videoResolution,this._enableAbrOnVisibilityChange=!!e.enableAbrOnVisibilityChange,this._enableAbrOnElementSize=null!==(s=e.enableAbrOnElementSize)&&void 0!==s&&s,this._useResizeObserver=null!==(n=e.useResizeObserver)&&void 0!==n&&n,Mt.info("Setting Player track cache to:",e.trackCacheSize||2),this._bufferManager=bt.create(this._tracker,void 0,{disableBufferAbort:!!e.disableBufferAbort,reinjectInitsOnAbort:!!e.reinjectInitsOnAbort,noInit:!0,customSourceBufferParams:e.customSourceBufferParams,bufferTarget:e.bufferTarget}),this._statistics=rt.create({bandwidthEstimator:this._abrManager}),this._newKeySystemAccessPerTrack=e.newKeySystemAccessPerTrack,this._loadingTimeout=e.loadingTimeout,this._videoSurface=e.initialVideoSurface,this._isVideoVisible=e.initialIsVideoVisible;const l=this._bufferManager.getBufferTarget();this._rebufferTarget={audio:Math.min(null!==(a=null===(i=e.rebufferTarget)||void 0===i?void 0:i.audio)&&void 0!==a?a:Ft.audio,l.audio),video:Math.min(null!==(r=null===(o=e.rebufferTarget)||void 0===o?void 0:o.video)&&void 0!==r?r:Ft.video,l.video)},this._audioProcessor=dt.create(e.audioProcessorOptions),this._preloadThreshold=e.preloadThreshold||10,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onTimeUpdate=this._onTimeUpdate.bind(this),this._onDurationChange=this._onDurationChange.bind(this),this._onPlay=this._onPlay.bind(this),this._onPlaying=this._onPlaying.bind(this),this._onPause=this._onPause.bind(this),this._onSeeked=this._onSeeked.bind(this),this._onSeeking=this._onSeeking.bind(this),this._onEncrypted=this._onEncrypted.bind(this),this._onEnded=this._onEnded.bind(this),this._onError=this._onError.bind(this),this._onRequiresDuration=this._onRequiresDuration.bind(this),this._onQuotaExceeded=this._onQuotaExceeded.bind(this),this._onLoadedMetadata=this._onLoadedMetadata.bind(this),this._onWaiting=this._onWaiting.bind(this),this._onFragmentFetched=this._onFragmentFetched.bind(this),this._onProfileChanged=this._onProfileChanged.bind(this),this._onPlayedThresholdReached=this._onPlayedThresholdReached.bind(this),this._onSyntheticEnded=this._onSyntheticEnded.bind(this),this._onLicenseRequestCapped=this._onLicenseRequestCapped.bind(this),this._onLicenseRequestError=this._onLicenseRequestError.bind(this),this._onNavigatorOffline=this._onNavigatorOffline.bind(this),this._onBufferError=this._onBufferError.bind(this),this._onBufferUpdateEnd=this._onBufferUpdateEnd.bind(this),this._emitWarning=this._emitWarning.bind(this),this._handleLoadingComplete=this._handleLoadingComplete.bind(this),this._onRateChange=this._onRateChange.bind(this),this._onVideoResize=this._onVideoResize.bind(this),this._setAudioGain=this._setAudioGain.bind(this),this._onVolumeChanged=this._onVolumeChanged.bind(this),this._init(),this._getCacheKey=this._getCacheKey.bind(this)}static create(e){const t=Object.assign({},e);return e.disallowProtectedTracks?Kt.createWithOptions(t):Le.create({transport:e.transport,disallowRobustnessValues:e.disallowRobustnessValues,disallowCodecs:e.disallowCodecs,noServerCertificate:e.noServerCertificate,precacheServerCertificate:e.precacheServerCertificate,unauthServerCertificateBase:e.unauthServerCertificateBase,preferredKeySystems:e.preferredKeySystems}).then((e=>{t.emeManager=e;const s=new Kt(t);return t.preinitMediaElement?s._preinitMediaElement():s})).catch((s=>{if(e.enableWithoutEME)return Kt.createWithOptions(t);throw s}))}static createWithOptions(e){return new Promise((t=>{const s=new Kt(e);t(e.preinitMediaElement?s._preinitMediaElement():s)}))}_init(){this._disableCache&&Mt.info("Cache disabled."),this._transport.on(this._transport.EVENT_CONNECTION_OFFLINE,this._onNavigatorOffline),this.proxyEmitAllSync(this._tracker,{[Q.TRACKER_TRACKING_DATA_CREATED]:Q.PLAYER_TRACKING_DATA_CREATED,[Q.TRACKER_TRACKING_DATA_FINALIZED]:Q.PLAYER_TRACKING_DATA_FINALIZED,[Q.TRACKER_PLAYBACK_START]:Q.PLAYER_PLAYBACK_START,[Q.TRACKER_LOG_CLIENT_EVENT]:Q.PLAYER_LOG_CLIENT_EVENT}),this._tracker.on(Q.TRACKER_PLAYED_THRESHOLD_REACHED,this._onPlayedThresholdReached),this._emeManager&&this._emeManager.addListeners({[Q.EME_LICENSE_REQUEST_CAPPED]:this._onLicenseRequestCapped,[Q.EME_LICENSE_REQUEST_ERROR]:this._onLicenseRequestError}),this._bufferManager.addListeners({[Q.BUFFER_APPEND_ERROR]:this._onBufferError,[Q.BUFFER_QUOTA_EXCEEDED]:this._onQuotaExceeded,[Q.BUFFER_UPDATE_END]:this._onBufferUpdateEnd}),this._mediator.addListeners({[J.FRAGMENT_FETCHED]:this._onFragmentFetched,[J.VIDEO_PROFILE_CHANGED]:this._onProfileChanged}),this.proxyEmitAll(this._mediator,{[J.FRAGMENT_FETCH_ERROR]:Q.PLAYER_FRAGMENT_FETCH_ERROR}),this.proxyEmitSync(this._subtitleManager,Q.PLAYER_DISPLAYED_CUES_CHANGED,Q.PLAYER_DISPLAYED_CUES_CHANGED),this.proxyEmit(this._subtitleManager,Q.PLAYER_SUBTITLE_LANGUAGES_LOADED,Q.PLAYER_SUBTITLE_LANGUAGES_LOADED),this.proxyEmitAll(this._videoResolver,{[Q.VIDEO_MANIFEST_RESOLVED]:Q.PLAYER_VIDEO_MANIFEST_RESOLVED,[Q.VIDEO_MANIFEST_RESOLVE_FAILED]:Q.PLAYER_VIDEO_MANIFEST_RESOLVE_FAILED}),this._tracker.addListeners({[Q.TRACKER_FIRST_QUARTILE]:()=>this._emitReporting("first_quartile"),[Q.TRACKER_MIDPOINT]:()=>this._emitReporting("midpoint"),[Q.TRACKER_THIRD_QUARTILE]:()=>this._emitReporting("third_quartile")}),this.addListeners({[Q.PLAYER_PLAYBACK_START]:()=>{this._emitReporting("start"),this._emitReporting("creative_view")},[Q.PLAYER_ENDED]:()=>this._emitReporting("complete"),[Q.PLAYER_ERROR]:()=>this._emitReporting("error")})}_onRateChange(){if(!this._player)return;const e=this._player.playbackRate;null!==this._lastReportedPlaybackSpeed&&this._lastReportedPlaybackSpeed===e||(this._lastReportedPlaybackSpeed=e,0!==e&&this._tracker.trackSpeedChanged(e),this.emit(Q.PLAYER_PLAYBACK_SPEED_CHANGED,Object.assign({playback_speed:e,playback_speed_selected:this._playerSpeed,rebuffering:this._rebuffering,seeking:this._seeking,position:Vt(this._player.currentTime),playbackMetadataStore:this._tracker.getPlaybackMetadataStore()},xe())))}_onLicenseRequestError(e){var t;if(e.data.signal.aborted)return;const s=this._currentContent;if(!s)return;const n=e.data.error,i=null===(t=s.getKeySystemInfo())||void 0===t?void 0:t.keySystem;n.shouldRefreshEndpoint&&i&&this._licenseURLResolver.remove(i,s.getMediaType());const a={timestamp:e.data.timestamp,monotonicTimestamp:e.data.monotonicTimestamp};this._emitError(n,!n.unrecoverable,a,s.toLogJSON())}_onFragmentFetched(e){const{data:t}=e;this._tracker.trackFragment(t),this.emit(Q.PLAYER_FRAGMENT_FETCHED,t)}_onProfileChanged(e){const{data:t}=e;this._tracker.trackProfileChanged(t.profile),this.emit(Q.PLAYER_VIDEO_PROFILE_CHANGED,t)}_onLicenseRequestCapped(e){if(e.data.signal.aborted)return;this._currentContent&&(this.pause(),this.emit(Q.PLAYER_CAPPED,{timestamp:e.data.timestamp,monotonicTimestamp:e.data.monotonicTimestamp}))}_shouldNextErrorBeFatal(){const e=this._currentContent;if(!e)return!1;if(e.hasNonFatalErrors()||!e.isProtected())return!1;if(!this._player)return!1;const t=this._player.error;if(!(t&&t instanceof MediaError))return this._fatalOnNextError=!1,!1;switch(t.code){case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:case MediaError.MEDIA_ERR_DECODE:return!0;default:return!1}}_onNavigatorOffline(){this._tracker.trackNavigatorOffline()}_onBufferError(e){const t={timestamp:e.data.timestamp,monotonicTimestamp:e.data.monotonicTimestamp};this._emitError(e.data.error,e.data.canPlayNext,t,e.data.track)}_onBufferUpdateEnd(){var e;this._setRebufferingState(!0),this._rebuffering&&this._player&&(null===(e=this._currentContent)||void 0===e?void 0:e.strategy)===q.MSE&&this._bufferManager.checkBufferHealth(this._currentContent,this._player.currentTime)}_addPlayerEvents(e){e.addEventListener(Q.MEDIA_TIMEUPDATE,this._onTimeUpdate),e.addEventListener(Q.MEDIA_PLAY,this._onPlay),e.addEventListener(Q.MEDIA_PLAYING,this._onPlaying),e.addEventListener(Q.MEDIA_PAUSE,this._onPause),e.addEventListener(Q.MEDIA_SEEKED,this._onSeeked),e.addEventListener(Q.MEDIA_SEEKING,this._onSeeking),e.addEventListener(Q.MEDIA_ENCRYPTED,this._onEncrypted),e.addEventListener(Q.MEDIA_ENDED,this._onEnded),e.addEventListener(Q.MEDIA_ERROR,this._onError),e.addEventListener(Q.MEDIA_LOADEDMETADATA,this._onLoadedMetadata),e.addEventListener(Q.MEDIA_DURATIONCHANGE,this._onDurationChange),e.addEventListener(Q.MEDIA_WAITING,this._onWaiting),e.addEventListener(Q.MEDIA_CANPLAY,this._onCanPlay),e.addEventListener(Q.MEDIA_CANPLAYTHROUGH,this._onCanPlayThrough),e.addEventListener(Q.MEDIA_RATECHANGE,this._onRateChange),e.addEventListener(Q.MEDIA_VOLUMECHANGE,this._onVolumeChanged),e.addEventListener(Q.INTERNAL_MEDIA_REQUIRES_DURATION,this._onRequiresDuration),e.addEventListener(Q.MEDIA_RESIZE,this._onVideoResize)}_removePlayerEvents(e){e.removeEventListener(Q.MEDIA_TIMEUPDATE,this._onTimeUpdate),e.removeEventListener(Q.MEDIA_PLAY,this._onPlay),e.removeEventListener(Q.MEDIA_PLAYING,this._onPlaying),e.removeEventListener(Q.MEDIA_PAUSE,this._onPause),e.removeEventListener(Q.MEDIA_SEEKED,this._onSeeked),e.removeEventListener(Q.MEDIA_SEEKING,this._onSeeking),e.removeEventListener(Q.MEDIA_ENCRYPTED,this._onEncrypted),e.removeEventListener(Q.MEDIA_ENDED,this._onEnded),e.removeEventListener(Q.MEDIA_ERROR,this._onError),e.removeEventListener(Q.MEDIA_WAITING,this._onWaiting),e.removeEventListener(Q.MEDIA_CANPLAY,this._onCanPlay),e.removeEventListener(Q.MEDIA_RATECHANGE,this._onRateChange),e.removeEventListener(Q.MEDIA_VOLUMECHANGE,this._onVolumeChanged),e.removeEventListener(Q.MEDIA_CANPLAYTHROUGH,this._onCanPlayThrough),e.removeEventListener(Q.MEDIA_LOADEDMETADATA,this._onLoadedMetadata),e.removeEventListener(Q.MEDIA_DURATIONCHANGE,this._onDurationChange),e.removeEventListener(Q.INTERNAL_MEDIA_REQUIRES_DURATION,this._onRequiresDuration),e.removeEventListener(Q.MEDIA_RESIZE,this._onVideoResize)}_recreateMediaElement(e,t,s,n){var i,a,o,r;if(n.aborted)return Mt.info("Recreate player dropped: operation aborted."),Promise.resolve(null);const l=this._player;let d=Promise.resolve(null);if(l){const n=!this._newElementPerTrack&&!("AUDIO"===l.tagName&&"video"===t)&&!(l===this._audioProcessor.getPlayer()&&!(null===(i=this._upcomingContent)||void 0===i?void 0:i.isProtected()))&&function(e,t){let s=!0;return Object.keys(t).forEach((n=>{const i=t[n];'audio/mp2t;codecs="mp4a.40.2"'!==i&&i&&!e.canPlayType(i)&&(s=!1)})),s}(l,e);if(n){Mt.info("Reusing media element.");return(!(e.audio===this._activeMimeTypes.audio&&e.video===this._activeMimeTypes.video)||this._newBufferPerTrack)&&s===q.MSE&&(Mt.info("Recreating buffer."),this._bufferManager.recreate(e),this._activeMimeTypes=e),Promise.resolve({player:l,mediaKeys:l.mediaKeys})}this._removePlayerEvents(l),l.pause(),d=this._cleanMediaKeys(l),this._useResizeObserver&&this._enableAbrOnElementSize&&(null===(a=this._resizeObserver)||void 0===a||a.disconnect()),this._player=null,null===(o=this._playerContainerManager)||void 0===o||o.eject(l,"video"),null===(r=this._playerContainerManager)||void 0===r||r.eject(l,"audio")}Mt.info(`Creating new media element for media type ${t}.`);const c=this._createPlayer(t),u=this._playerVolume;return c.volume=this._cubicVolume?Math.pow(u,3):u,c.autoplay=!1,c.loop=!1,c.muted=this._muted,"playsInline"in c&&(c.playsInline=!0),this._player=c,this._playerActivated=!1,this._addPlayerEvents(c),s===q.MSE&&this._bufferManager.recreate(e),this._activeMimeTypes=e,this._useResizeObserver&&this._enableAbrOnElementSize&&(this._resizeObserver=new ResizeObserver((e=>{for(const t of e){const e=t.contentRect;at(this._currentContent)&&this._currentContent.adapt({currentElementSize:{height:e.height,width:e.width}})}})),this._player&&this._resizeObserver.observe(this._player)),d.then((e=>({player:c,mediaKeys:e})))}_getContainerElement(e){var t;if("string"==typeof e){const s=document.querySelector(e);if(s)return s;const n=new ee(i.PLAYER_CONTAINER_ELEMENT_NOT_FOUND,"Container element was not found in the DOM");return n.listPlayerIgnore=!0,this._emitWarning(n,null===(t=this._currentContent)||void 0===t?void 0:t.toLogJSON()),null}return e||null}_onVideoResize(){if(!(this._player instanceof HTMLVideoElement))return;const{videoWidth:e,videoHeight:t}=this._player;this.emit(Q.PLAYER_VIDEO_RESIZED,Object.assign({width:e,height:t},xe()))}_onDurationChange(){var e;const t=null===(e=this._abortController)||void 0===e?void 0:e.signal,s=()=>{if(!this._player)return;if(null==t?void 0:t.aborted)return void Mt.info("Duration changed drop: operation aborted.");const e=Vt(this._player.duration),s=Vt(this._player.currentTime);this._tracker.setActualDuration(e),this.emit(Q.PLAYER_DURATION_CHANGED,Object.assign({position:s,duration:e,playbackMetadataStore:this._tracker.getPlaybackMetadataStore()},xe()))};this._loaded?s():this.once(Q.PLAYER_LOAD,s)}_onPlay(){var e;if(!this._player||!this._currentContent)return;const t=Vt(this._seeking&&this._lastReportedPosition?this._lastReportedPosition:this._player.currentTime);this._tracker.trackPlay(t,this._player.playbackRate),this.emit(Q.PLAYER_PLAY,Object.assign({position:t,logData:null!==(e=this._currentContent.getLogData())&&void 0!==e?e:null},xe()))}_onPlaying(){if(!this._player)return;this._playerActivated=!0;const e=this._currentContent,t=Vt(this._seeking&&this._lastReportedPosition?this._lastReportedPosition:this._player.currentTime);this._tracker.trackPlaying(t),this.emit(Q.PLAYER_PLAYING,Object.assign({position:t,logData:e?e.getLogData():null,playbackMetadataStore:this._tracker.getPlaybackMetadataStore()},xe()))}_onPause(){var e;if(!this._player)return;const t=this._seeking&&this._lastReportedPosition?this._lastReportedPosition:this._player.currentTime,s=Vt(t);this._tracker.trackPaused(s),this._lastReportedPosition=t;const n=this._currentContent?this._currentContent.getLogData():null;this._pauseToken=setTimeout((()=>{clearTimeout(this._syntheticEndedToken),this.emit(Q.PLAYER_PAUSED,Object.assign({playbackMetadataStore:this._tracker.getPlaybackMetadataStore(),position:s,logData:n},xe()))}),10),this._player&&(null===(e=this._currentContent)||void 0===e?void 0:e.strategy)===q.MSE&&this._bufferManager.checkBufferHealth(this._currentContent,this._player.currentTime)}_onSeeked(){if(this._seeking=!1,!this._player||!this._currentContent)return;const e=Vt(this._player.currentTime);this._tracker.trackPositionChanged(e),this.emit(Q.PLAYER_POSITION_CHANGED,Object.assign({previousPosition:null!==this._lastReportedPosition?Vt(this._lastReportedPosition):null,position:e,logData:this._currentContent.getLogData(),playbackMetadataStore:this._tracker.getPlaybackMetadataStore()},xe()))}_onSeeking(){if(this._seeking=!0,this.emit(Q.PLAYER_SEEKING,Object.assign({},xe())),this._setRebufferingState(),!this._player)return;const e=this._currentContent;if((null==e?void 0:e.strategy)!==q.MSE)return;if(e.isProtected()&&this._disableBufferingBeforeLicense&&!this._licenseRequested)return void Mt.log("Dropping seek event: buffering before license disabled.");const t=this._player.currentTime;this._bufferManager.isPositionInCurrentFillRange(e,t)||(Mt.log("Aborting buffer operations."),this._bufferManager.abort(this._clearBufferOnSeek));const s=this._bufferManager;s.checkBufferHealth(e,t,!1);const n=s.getBufferedSegmentInfoForTime(t);this._checkPlayingProfile(n)}_onRequiresDuration(){this._currentContent&&this._currentContent.isProtected()&&this._player&&(this._player.duration=this._currentContent.getCalculatedDuration())}_onQuotaExceeded(){var e;this._player&&(null===(e=this._currentContent)||void 0===e?void 0:e.strategy)===q.MSE&&this._rebufferOnQuotaExceeded&&(Mt.info("Exceeded quota: rebuffering current track."),this._bufferManager.abort(!0),this._player.currentTime=this._player.currentTime,this._bufferManager.checkBufferHealth(this._currentContent,this._player.currentTime,!0))}_onEncrypted(e){Mt.info("Got Encrypted event");this._currentContent&&this.emitSync(Q.INTERNAL_ENCRYPTED,Object.assign({initData:e.initData,fromPolyfill:!!e.fromPolyfill},xe()))}_onEnded(){!this._currentContent||this._synthesizeEnded&&this._currentContent.isProtected()||(Mt.info("Native ended emitted."),this._emitEnded())}_onSyntheticEnded(){this._synthesizeEnded&&this._currentContent&&this._currentContent.isProtected()&&(Mt.info("Synthetic ended emitted."),this._emitEnded())}_onError(){var e,t,s,n;if(!this._player)return;const a=this._player.error;let o,r=!1;const l=this._currentContent;let d,c,u,p,m=!1;l&&(r=l.isProtected(),o=l.toLogJSON(),m=l.hasNonFatalErrors(),l.unload());let h=!0;const _=!l||m||!this._fatalOnNextError,y=a&&a.msExtendedCode?`0x${(a.msExtendedCode>>>0).toString(16).toUpperCase()}`:null,b=`data:${(null==o?void 0:o.fileId)||"unknown"}`;if(a instanceof MediaError){switch(a.code){case MediaError.MEDIA_ERR_ABORTED:d=i.MEDIA_ABORTED,c="Media aborted.";break;case MediaError.MEDIA_ERR_NETWORK:d=i.MEDIA_NETWORK_ERROR,c="Network error.",u={isNetworkRelated:!0};break;case MediaError.MEDIA_ERR_DECODE:d=i.MEDIA_DECODING_ERROR,c="Media decoding error.",h=_;break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:d=i.MEDIA_NOT_SUPPORTED,c="Media not supported.",h=_;break;default:d=i.PLAYER_MEDIA_ERROR,c="Media error.",p=!0}c+=` (${a.message||y||b||a.toString()})`}else d=i.PLAYER_PLAYBACK_ERROR,c="Error message undefined",p=!0;this._bufferManager.abort(!0);const g=new ee(d,c,u);h||(g.unrecoverable=!0),g.listPlayerIgnore=m,g.debug.src_url=b,g.debug.protected=r,g.debug.extendedCode=y,g.debug.rawExCode=a&&a.msExtendedCode||null,g.debug.audio_profile=null===(t=null===(e=this._currentPlayingProfile)||void 0===e?void 0:e.audio)||void 0===t?void 0:t.id,g.debug.video_profile=null===(n=null===(s=this._currentPlayingProfile)||void 0===s?void 0:s.video)||void 0===n?void 0:n.id,p&&a&&(g.debug.nativeCode=a.code||null,g.debug.errorData=a);const f=xe();this._emitError(g,h,f,o)}_onLoadedMetadata(){this.emitSync(Q.INTERNAL_PLAYER_LOADED_METADATA,Object.assign({},xe()))}_onCanPlay(){const{timestamp:e,monotonicTimestamp:t}=xe();this._setRebufferingState(),this.emitSync(Q.INTERNAL_PLAYER_CANPLAY,{timestamp:e,monotonicTimestamp:t}),this._tracker.trackFirstBytesLatency(t),this.emit(Q.PLAYER_FIRST_BYTES,{timestamp:e,monotonicTimestamp:t,position:this._player?Vt(this._player.currentTime):0})}_onCanPlayThrough(){this._setRebufferingState(),this.emitSync(Q.INTERNAL_PLAYER_CANPLAYTHROUGH,Object.assign({},xe()))}_onWaiting(){var e;clearTimeout(this._syntheticEndedToken);const t=this._player;if(!t||!this._currentContent)return;const s=t.seeking;this._setRebufferingState();const n=!!at(this._currentContent)&&this._currentContent.canLowerBitrate(),i=this._tracker;this.emit(Q.PLAYER_BUFFERING_START,Object.assign(Object.assign({position:Vt(t.currentTime),msPlayed:this._tracker.getMSPlayed(),canLowerBitrate:n,seeking:s},i.getStallsInformation()),xe()));const a=null===(e=this._abortController)||void 0===e?void 0:e.signal;this._getRebufferingLatency().then((e=>{(null==a?void 0:a.aborted)||(s||this._tracker.trackMsStalled(e),this.emit(Q.PLAYER_BUFFERING_END,Object.assign(Object.assign({position:Vt(t.currentTime),msPlayed:this._tracker.getMSPlayed(),canLowerBitrate:n,msStalled:e,seeking:s},i.getStallsInformation()),xe())))}))}_onPlayedThresholdReached(e){this._currentContent&&this._player&&this.emit(Q.PLAYER_PLAYED_THRESHOLD_REACHED,Object.assign({played:e.data.played,threshold:e.data.threshold,position:Vt(this._player.currentTime)},xe()))}_emitEnded(){this._currentContent&&"video"===this._currentContent.getMediaType()&&this.emit(Q.PLAYER_ENDED_VIDEO,Object.assign({},xe())),clearTimeout(this._pauseToken),this.emit(Q.PLAYER_ENDED,Object.assign({},xe()))}_emitError(e,t,s,n){Mt.error("Player Error",e,n,t),this._tracker.setHadError(!0),!this._disableCache&&n&&n.fileId&&this._cache.remove(n.fileId),this.emit(Q.PLAYER_ERROR,{playId:this._playId,error:e,track:n,canPlayNext:t,position:this._player?Vt(this._player.currentTime):0,timestamp:s.timestamp,monotonicTimestamp:s.monotonicTimestamp})}_emitWarning(e,t){Mt.warn("Player Warning",e,t,!0),this._tracker.trackWarning(),this.emit(Q.PLAYER_WARNING,Object.assign({playId:this._playId,error:e,track:t,canPlayNext:!0,position:this._player?Vt(this._player.currentTime):0},xe()))}_emitReporting(e){if(!ot(this._currentContent))return;const t=this._currentContent.getTrackingEventData(e);t&&0!==t.urls.length&&this.emitAndWait(Gt[e],t,(e=>{if(!e.defaultPrevented)for(const s of t.urls)this._transport.request(s,{forget:!0})}))}_prepareMediaElement(e,t){if(t.aborted||!this._upcomingContent)return Mt.info("Loading content dropped: operation aborted."),Promise.resolve(!1);const s=this._upcomingContent.getMediaTypeMimeTypes();return this._recreateMediaElement(s,this._upcomingContent.getMediaType(),this._upcomingContent.strategy,t).then((s=>{var n;if(!s||t.aborted)return Mt.info("Loading content dropped after recreate: operation aborted."),Promise.resolve(!1);const{player:i,mediaKeys:a}=s;if("VIDEO"===i.tagName&&(e.poster?i.poster=e.poster:i.removeAttribute("poster")),i.muted=!!e.muted,i.loop=!!e.loop,!this._emeManager||!(null===(n=this._upcomingContent)||void 0===n?void 0:n.isProtected()))return Promise.resolve(!0);const o=e=>{var t;const s=xe();return e.unrecoverable=!0,this._emitError(e,!1,s,null===(t=this._upcomingContent)||void 0===t?void 0:t.toLogJSON()),Promise.reject(e)};return!a||this._newMediaKeysPerTrack||void 0===this._newMediaKeysPerTrack&&!i.mediaKeys||(null==a?void 0:a.shouldRefreshPerTrack)?(Mt.info("Creating media keys"),this._emeManager.createMediaKeys(i).then((()=>!0),o)):i.mediaKeys!==a?(Mt.info("Reusing previous media keys"),this._emeManager.setMediaKeys(i,a).then((()=>!0),o)):Promise.resolve(!0)}))}_isRebufferingTargetReached(){var e;const t=this._player,s=this._currentContent;if(!t||!s)return!1;if(s.strategy===q.URL)return t.readyState>2;const n=null!==(e=this._rebufferTarget[s.getMediaType()])&&void 0!==e?e:0;if(!n)return!0;const i=Math.max(t.currentTime,1),a=Math.min(n,Math.floor(t.duration-i)),o=t.buffered;for(let r=0,l=o.length;r<l;r++){const e=o.start(r),t=o.end(r);if(e<=i&&i<=t&&a<=t-i)return!0}return!1}_setPlaybackRate(){var e;const t=this._player,s=this._currentContent;if(!t||!s)return;if(s.strategy===q.MSE&&this._rebuffering)return void(t.playbackRate=0);const n=(null===(e=this._loadingOptions)||void 0===e?void 0:e.useDefaultPlaybackSpeed)?1:this._playerSpeed;t.playbackRate=n,t.defaultPlaybackRate=n}_setRebufferingState(e){const t=this._rebuffering,s=!this._isRebufferingTargetReached();e&&s||(this._rebuffering=s,this._setPlaybackRate(),!t&&this._rebuffering?(Mt.log("Rebuffering start"),this.emit(Q.PLAYER_REBUFFERING_START,Object.assign({},xe()))):t&&!this._rebuffering&&(Mt.log("Rebuffering end"),this._tracker.trackPlayLatency(),this.emit(Q.PLAYER_REBUFFERING_END,Object.assign({},xe()))))}_checkPlayingProfile(e,t){var s,n,i,a;const o=this._currentPlayingProfile;let r=!!t;if((null===(s=null==o?void 0:o.audio)||void 0===s?void 0:s.id)!==(null===(n=null==e?void 0:e.audio)||void 0===n?void 0:n.profileId)||(null===(i=null==o?void 0:o.video)||void 0===i?void 0:i.id)!==(null===(a=null==e?void 0:e.video)||void 0===a?void 0:a.profileId)){const t=e?{audio:e.audio?{id:e.audio.profileId,mimeType:e.audio.mimeType,bitrate:e.audio.bitrate}:void 0,video:e.video?{id:e.video.profileId,mimeType:e.video.mimeType,bitrate:e.video.bitrate,width:e.video.width,height:e.video.height,resolution:e.video.resolution}:void 0}:null;this._currentPlayingProfile=t,r=!0}r&&this.emit(Q.PLAYER_PLAYING_PROFILE_CHANGED,Object.assign({profile:this._currentPlayingProfile},xe()))}_configureLoadingTimeout(e,t,s){const n=null!=s?s:this._loadingTimeout,a=new ee(i.PLAYER_TIMEOUT_ERROR,`Timeout: track could not be loaded within ${n} ms.`);return n?setTimeout((()=>{if(e.aborted)return;null==t||t.abort();const s=Object.assign({},xe());this._emitError(a,!0,s)}),n):void 0}_handleLoadingComplete(e,t){var s;clearTimeout(t);const n=this._currentContent&&this._currentContent.getMediaType();return this._player&&n&&(null===(s=this._playerContainerManager)||void 0===s||s.inject(this._player,n)),this._upcomingContent=null,e}_handleLoadingError(e,t,s,n,i){if(clearTimeout(n),this._upcomingContent=null,s.aborted)return Promise.resolve(!1);const a=xe();if(this._tracker.trackLoadFailed(),this.emit(Q.PLAYER_LOADING_FAILED,Object.assign({uri:e,logData:t.logData},a)),i){const s=i.track||{uri:e,fileId:t.fileId,mediaFormat:t.format,deviceId:t.logData.deviceId};this._emitError(i,"StorageError"!==i.name||!!i.canPlayNext,a,s)}return Promise.reject(i)}_handleLoadedMetadata(e,t,s){if(e.aborted)return void Mt.info("LoadedMetadata operations dropped: operation aborted.");this._loaded=!0;const n=this._player;if(!n)return;this._setRebufferingState(),this._bufferManager.dequeueUpdates();const i=s.position>n.duration?0:s.position;(isNaN(n.currentTime)||n.currentTime<i)&&(Mt.info("Resetting initial position after metadata."),n.currentTime=i,this._lastReportedPosition=n.currentTime),this._tracker.trackLoadDone(Vt(n.currentTime)),this.emitSync(Q.PLAYER_LOAD,Object.assign({autoplay:s.autoplay,position:Vt(i),logData:t},xe()));let a=()=>{n.currentTime<i&&(Mt.info("Resetting initial position after playable."),n.currentTime=i,this._lastReportedPosition=n.currentTime)};s.autoplay&&!n.error&&(a=()=>{if(n.currentTime<i&&(Mt.info("Resetting initial position after playable."),n.currentTime=i,this._lastReportedPosition=n.currentTime),e.aborted)return void Mt.info("Play trigger dropped: operation aborted");new Promise((e=>e(this._player&&this._player.play()))).then((()=>this._audioProcessor.resume())).catch((e=>{if(e){if("NotSupportedError"===e.name)return Promise.reject(e);if("NotAllowedError"===e.name)return this.emit(Q.PLAYER_AUTOPLAY_FAILED,Object.assign({},xe())),Promise.reject(e)}return this._player?this._player.play():Promise.resolve()})).catch((()=>{this._onPause()}))}),n.readyState>2?(Mt.info("Ready to play, triggering play."),a()):(Mt.info("Waiting to be playable."),this.once(Q.INTERNAL_PLAYER_CANPLAY,a))}_handleCanPlayThrough(e){var t;e.aborted?Mt.info("CanPlayThrough operations dropped: operation aborted."):(this._tracker.trackCanPlayThrough(),(null===(t=this._currentContent)||void 0===t?void 0:t.strategy)!==q.MSE&&this._tracker.trackPlayLatency())}_loadContent(e,t){if(t.aborted||!this._upcomingContent)return Mt.info("Loading content dropped: operation aborted."),Promise.resolve(!1);if(!this._player)throw new ee(i.PLAYER_INVALID_INTERNAL_STATE,"Cannot load content without an HTMLMediaElement");this._canPreloadEmitted=!1;const s=this._upcomingContent;this._upcomingContent=null,this._currentContent=s,this._setAudioGain(s),this._subtitleManager.setVideoContent(function(e){return!!e&&"getSubtitles"in e&&"getSubtitleLanguages"in e}(s)?s:null);const n=e.callback;n&&this.once(Q.PLAYER_LOAD,(()=>{t.aborted?Mt.info("Load content event dropped: operation aborted."):n()})),this.once(Q.INTERNAL_PLAYER_LOADED_METADATA,this._handleLoadedMetadata.bind(this,t,this._currentContent.getLogData(),e)),this.once(Q.INTERNAL_PLAYER_CANPLAYTHROUGH,this._handleCanPlayThrough.bind(this,t));let a=e.position;const o="getCalculatedDuration"in s?s.getCalculatedDuration():1/0;o&&a>o&&(a=e.position=0);try{this._player.currentTime=a,this._lastReportedPosition=this._player.currentTime}catch(d){Mt.warn("Cannot set initial position before loading.",d)}this._setRebufferingState();const r=e.playbackSpeed;!e.useDefaultPlaybackSpeed&&r&&this.setPlaybackSpeed(r),this._tracker.setProtected(s.isProtected()),this._tracker.trackStrategy(s.strategy);const l=s.constructor.name;return this._tracker.setContentClass(l),Mt.info(`Detecting strategy for ${l}`),s.strategy===q.MSE?this._loadMSEContent(s,e,t):this._loadURLContent(s,e,t)}_loadURLContent(e,t,s){var n,a;if(!this._player||!e)return Promise.reject(new ee(i.PLAYER_INVALID_INTERNAL_STATE,"Invalid playback state."));Mt.info("Loading URL content.");const o=e.getURL();if(!o)return Promise.reject(new ee(i.PLAYER_INVALID_INTERNAL_STATE,"Content not loaded."));const r=this._tracker;if(r.setUrl(o),e.isProtected()){Mt.info("URL content is protected");const e=t=>{t.data.fromPolyfill&&(this.removeListener(Q.INTERNAL_ENCRYPTED,e),this._requestLicense(s,{initData:t.data.initData}))};this.on(Q.INTERNAL_ENCRYPTED,e)}if("video"===e.getMediaType()&&it(e)){const t=e.getMediaProfileInfo();r.trackVideoLoadStart({audioProfile:null!==(n=t.audio.selected)&&void 0!==n?n:void 0,videoProfile:null!==(a=t.video.selected)&&void 0!==a?a:void 0})}r.trackBufferLoadStart(),r.trackBufferURL(o,{bandwidth:0});const l=e.getLoadingApproach();if("src"===l.approach)Mt.info("URL content loaded using src attribute"),this._player.src=o;else{Mt.info("URL content loaded using source element");const e=document.createElement("source");e.src=o,e.type=l.type,this._player.appendChild(e)}return this._player.load(),Promise.resolve(!0)}_loadMSEContent(e,t,s){var n,a;if(!this._player||!e)return Promise.reject(new ee(i.PLAYER_INVALID_INTERNAL_STATE,"Invalid playback state."));if(Mt.info(`Loading MSE Content: ${e.getFileId()}`),e.isProtected()){Mt.log("MSE content is protected");const n=()=>this._requestLicense(s).then((()=>{s.aborted||(this._licenseRequested=!0,this._disableBufferingBeforeLicense&&this._bufferManager.checkBufferHealth(e,t.position,!0))}));this._disableLicensePrefetch?this.once(Q.INTERNAL_ENCRYPTED,n):this._bufferManager.once(Q.BUFFER_SOURCE_OPEN,n)}const o=this._bufferManager,r=o.getMediaSource();if(!r)return Promise.reject(new ee(i.PLAYER_INVALID_INTERNAL_STATE,"No media source."));if("video"===e.getMediaType()&&it(e)){const t=e.getMediaProfileInfo();this._tracker.trackVideoLoadStart({audioProfile:null!==(n=t.audio.selected)&&void 0!==n?n:void 0,videoProfile:null!==(a=t.video.selected)&&void 0!==a?a:void 0})}return this._player.src=URL.createObjectURL(r),this._setPlaybackRate(),new Promise(((n,i)=>{o.once(Q.BUFFER_SOURCE_OPEN,(()=>{if(s.aborted)return void n(!1);this._tracker.trackBufferLoadStart(),this._getRebufferingLatency().then((e=>{s.aborted||this._tracker.trackInitialRebuffering(e)}));("video"===e.getMediaType()?o.setDuration(e.getCalculatedDuration()):Promise.resolve(!0)).then((()=>!s.aborted&&(e.isProtected()&&this._disableBufferingBeforeLicense?o.injectInitSegment(e):(this._bufferManager.checkBufferHealth(e,t.position,!0),!0)))).then(n,i)}))}))}_getRebufferingLatency(){return new Promise((e=>{if(!this._player)return void e(0);const t=(0,W.X)();this.once(Q.PLAYER_REBUFFERING_END,(()=>{e((0,W.r)(t))}))}))}_requestLicense(e,t={}){if(e.aborted){const e="Request license dropped: operation aborted.";return Mt.info(e),Promise.resolve(!1)}if(!this._player||!this._currentContent||!this._emeManager)return Promise.resolve(!1);const s=(0,W.X)(),n=this._player.mediaKeys,i=this._currentContent,a=i.getFileId(),o=i.getLogData(),r=i.toLogJSON(),l=i.getKeySystemInfo();if(!l)return Promise.resolve(!1);const d=l.keySystem;if(!d)return Promise.resolve(!1);const c=i.getLicenseEndpoint();let u;if(c)u=Promise.resolve(c);else{if(!a)return Promise.reject(new TypeError("Missing: fileId or licenseEndpoint"));u=this._licenseURLResolver.get(d,i.getMediaType()).then((e=>e.replace(/\{contentId\}/,a)))}const p=this._emeManager,m=this._tracker;return m.setKeySystem(d),m.setKeySystemImpl(l.keySystemImpl),m.setKeySystemLabel(l.keySystemLabel),Promise.all([u,i.getInitParams()]).then((([i,a])=>{if(!a)return Promise.resolve(!1);m.setLicenseSessionLatency((0,W.r)(s));const o=a.initDataType,r=t.initData||a.initData;if(n&&r&&o){const t={keySystem:d,signal:e,initData:r,mediaKeys:n,licenseServer:i,initDataType:o};return p.createSessionWithParams(t)}return Promise.resolve(!1)})).then((t=>{if(e.aborted)return Mt.info("License tracking dropped: operation aborted."),Promise.resolve(!1);"boolean"!=typeof t&&"elapsed"in t&&(m.setLicenseGenerationLatency(t.elapsed.generate),m.setLicenseRequestLatency(t.elapsed.request),m.setLicenseUpdateLatency(t.elapsed.update));const n=(0,W.r)(s);return m.setKeyLatency(n),this.emit(Q.PLAYER_KEY_RECEIVED,Object.assign({requestTime:n,logData:o},xe())),Mt.info("License updated."),Promise.resolve(!0)})).catch((t=>{if(e.aborted)return Promise.resolve(!1);const s=!t||!("canPlayNext"in t)||t.canPlayNext,n=xe();return this._emitError(t,!!s,n,r),Promise.reject(t)}))}_onTimeUpdate(){var e;if(!this._loaded||!(null===(e=this._player)||void 0===e?void 0:e.readyState)||!this._currentContent)return;const t=this._currentContent,s=this._player.currentTime,n=this._player.duration;if(!this._seeking){if(t.isProtected()&&this._disableBufferingBeforeLicense&&!this._licenseRequested)return void Mt.log("Dropping time update event: buffering before license disabled.");if(this._lastReportedPosition=s,t.strategy===q.MSE){const e=this._bufferManager;e.checkBufferHealth(t,s,!1);const n=e.getBufferedSegmentInfoForTime(s);this._checkPlayingProfile(n)}const e=Vt(s),n=t.getLogData();this._tracker.trackProgress(e,at(t)?t.getCurrentBitrates().video:0),this.emit(Q.PLAYER_PROGRESS,Object.assign({position:e,played:this._tracker.getMSPlayed(),interval:500,logData:n,playbackMetadataStore:this._tracker.getPlaybackMetadataStore()},xe()))}const i=n-s<=this._preloadThreshold;!this._canPreloadEmitted&&i?(this._canPreloadEmitted=!0,this.emit(Q.PLAYER_CAN_PRELOAD,Object.assign({},xe()))):this._canPreloadEmitted&&!i&&(this._canPreloadEmitted=!1),clearTimeout(this._syntheticEndedToken),this._synthesizeEnded&&t.isProtected()&&this._isPlaying()&&(this._syntheticEndedToken=setTimeout(this._onSyntheticEnded,Vt(n-s)))}_onVolumeChanged(){if(!this._player)return;const e=this._playerVolume,t=this._volumeCommandId;this._volumeCommandId=null,this.emit(Q.PLAYER_VOLUME_CHANGED,Object.assign({volume:e,commandId:null!=t?t:void 0},xe()))}_isPlaying(){return!!this._player&&!this._player.paused}_cleanMediaKeys(e,t=this._emeManager){return t?t.removeMediaKeys(e).catch((e=>(Mt.warn("Failed to remove current media keys.",e),null))):Promise.resolve(null)}_checkKeySystemAccess(){if(!this._newKeySystemAccessPerTrack||!this._player||!this._emeManager)return Promise.resolve();const e=this._player,t=this._emeManager;return this._cleanMediaKeys(e,t).then((()=>t.requestMediaKeySystemAccess())).then((()=>{})).catch((e=>(Mt.warn("Failed to request new media key system access.",e),Promise.reject(e))))}_createContent(e,t={manifestLatency:0,resolveLatency:0},s=!1){return(this._emeManager?this._emeManager.getKeySystemInfo():this.getMediaConfig().then((e=>({keySystem:$.INVALID_SPOTIFY_KEY,keySystemImpl:"",keySystemLabel:"",audioFormats:e.formatsInfo.audio,videoFormats:e.formatsInfo.video})))).then((s=>{var n;return function(e,t){var s,n,a,o;const r=Ot(e,t);switch(e.format){case X.MP3:{const n=null!==(s=e.url)&&void 0!==s?s:e.resolvedURL;return n?new gt(Object.assign(Object.assign({},r),{url:n})).load():e.fileId?new Pt(Object.assign(Object.assign({},r),{fileId:e.fileId,resolver:t.audioResolver})).load():Promise.reject(new ee(i.INVALID_TRACK,`Invalid ${e.format} Track: No url or fileId.`))}case X.GENERIC_MEDIA:{const t=null!==(n=e.url)&&void 0!==n?n:e.resolvedURL;return t?new gt(Object.assign(Object.assign({},r),{url:t})).load():Promise.reject(new ee(i.INVALID_TRACK,`Invalid ${e.format} Track: No url.`))}case X.MP4:case X.MP4_DUAL:case X.MP4_CBCS:case X.MP4_FLAC:{if(!e.fileId)return Promise.reject(new ee(i.INVALID_TRACK,`Invalid ${e.format} Track: No fileId.`));const s=Object.assign(Object.assign({},r),{transport:t.transport,abrManager:t.abrManager,fileId:e.fileId,keySystemSettings:we[t.keySystemInfo.keySystem],resolver:t.audioResolver,fileFormat:e.fileFormat,preloadedManifest:e.preloadedManifest,preresolvedURL:null!==(a=e.url)&&void 0!==a?a:e.resolvedURL});return t.keySystemInfo.keySystem===$.FAIRPLAY?new xt(s).load(t.measures):new It(s).load(t.measures)}case X.MANIFEST_ID:return Dt(e,t);case X.AD_MANIFEST:{const s=null!==(o=e.url)&&void 0!==o?o:e.resolvedURL;if(!s)return Promise.reject(new ee(i.INVALID_TRACK,`Invalid ${e.format} Track: No url.`));const n=Object.assign(Object.assign({},r),{abrManager:t.abrManager,transport:t.transport,manifestURL:s,preloadedManifest:e.preloadedManifest});return new jt(n).load(t.measures).then((s=>{const n=s.getManifestId();if(!n)return s;const i=Object.assign(Object.assign({},e),{fileId:n,format:X.MANIFEST_ID}),a={trackingData:s.getTrackingEvents(),metadata:s.getContentMetadata()};return Dt(i,t,a)}))}default:return Promise.reject(new ee(i.INVALID_TRACK,"Cannot create PlayableContent: Invalid MediaFormat."))}}(e,{transport:this._transport,abrManager:this._abrManager,mediator:this._mediator,keySystemInfo:s,audioResolver:this._audioResolver,videoResolver:this._videoResolver,enableAbrOnElementSize:this._enableAbrOnElementSize,disableCache:this._disableCache,disallowProfile:this._disallowProfile,allowMixedAVC1Codecs:this._allowMixedAVC1Codecs,measures:t,mediaPlaybackMode:null===(n=e.options)||void 0===n?void 0:n.mediaPlaybackMode})})).then((n=>{if(s)return n;const i=this._tracker;i.setResolveLatency(t.resolveLatency),i.setManifestLatency(t.manifestLatency);const a=this._getCacheKey(e);return a&&this._cache.set(a,n),n}))}_preinitMediaElement(){if(this._player||!this._emeManager)return Promise.resolve(this);const e=(0,r.createAbortControllerLike)();return this._emeManager.getKeySystemInfo().then((t=>{var s,n;const i={audio:null===(s=t.audioFormats[0])||void 0===s?void 0:s.contentType,video:null===(n=t.videoFormats[0])||void 0===n?void 0:n.contentType};return i.audio||i.video?this._recreateMediaElement(i,i.video?"video":"audio",t.keySystem===$.FAIRPLAY?q.URL:q.MSE,e.signal):null})).then((()=>this),(e=>(Mt.warn("Cannot precreate media element:",null==e?void 0:e.message),this)))}_setAudioGain(e){var t;null===(t=this._audioProcessor)||void 0===t||t.setAudioGain(e.getAudioGain())}_getCacheKey({fileId:e,url:t,format:s}){var n;const i=null!==(n=null!=e?e:t)&&void 0!==n?n:null;return!this._disableCache&&Bt[s]?i:null}_getContentPromise(e,t){const s=this._cache,n=this._getCacheKey(e);if(n){const i=this._preloadingTracks[n],a=s.get(n);if(i)return Mt.info("Waiting for preloading track.",n),i.then((e=>(Mt.info("Preloading succeeded.",n),t.setResolveLatency(e.resolveLatency),t.setManifestLatency(e.manifestLatency),s.get(n)))).catch((()=>(Mt.info("Preloading failed, creating new track",n),this._createContent(e))));if(a)return this._newKeySystemAccessPerTrack&&this._emeManager?this._emeManager.getKeySystemInfo().then((({keySystem:s})=>{var i;return s===(null===(i=a.getKeySystemInfo())||void 0===i?void 0:i.keySystem)?(Mt.info("Using cached track.",n,a),t.setMemoryCached(!0),a):(Mt.info("Mismatched keysystem for cached track. Creating new track",n),this._createContent(e))})):(Mt.info("Using cached track.",n,a),t.setMemoryCached(!0),Promise.resolve(a))}return Mt.info("Creating new content",n),this._createContent(e)}_adaptVideoBitrateBasedOnVisibility(){if(!this._enableAbrOnVisibilityChange||!at(this._currentContent))return;const e=void 0===this._isVideoVisible||this._isVideoVisible,t=e?this._preferredBitrate:1e-32;this._abrManager.overrideBitrate(t),this._currentContent.adapt({backgrounded:!e})}getMediaSource(){return this._bufferManager.getMediaSource()}load(e,t,s){var n,a,o,l,d,c,u,p;const m=Date.now(),h=(0,W.X)(),_=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)}(t.uriProperty,e)?t.uriProperty:"uri",y=e[_];if(Mt.info("load",y),!y)return Promise.reject(new ee(i.PLAYER_CANNOT_FIND_PLAYABLE_URI,"Cannot find a playable URI."));if(!e.logData)return Promise.reject(new Error("Invalid track: logging info not specified"));this.stop(e.logData,e.mediaType);const b=null===(n=this._currentContent)||void 0===n?void 0:n.getMediaPlaybackMode();this._loaded=!1,this._licenseRequested=!1,this._rebuffering=!1,this._seeking=!1,this._lastReportedPosition=null,this._currentContent=null,this._checkPlayingProfile(null,!0),this._subtitleManager.setVideoContent(null),t.muted&&this.setMuted(!0),this._adaptVideoBitrateBasedOnVisibility(),this._preloadThreshold=t.preloadThreshold||this._preloadThreshold;const g=++this._playId;this._abortController=(0,r.createAbortControllerLike)();const f=this._abortController.signal,v=this._configureLoadingTimeout(f,this._abortController,t.loadingTimeout);void 0!==v&&f.addEventListener("abort",(()=>clearTimeout(v))),this.emit(Q.PLAYER_BEFORE_LOAD,Object.assign({track:e,options:t,logData:e.logData,uri:y},xe())),this._bufferManager.setPlayId(g);const E=(null===(a=e.options)||void 0===a?void 0:a.useDefaultPlaybackSpeed)?1:null!==(l=null===(o=e.options)||void 0===o?void 0:o.playbackSpeed)&&void 0!==l?l:this._playerSpeed,w={position:Ht(t.position||0),autoplay:null===(d=t.autoplay)||void 0===d||d,poster:e.poster,useDefaultPlaybackSpeed:!!(null===(c=e.options)||void 0===c?void 0:c.useDefaultPlaybackSpeed),playbackSpeed:E,callback:s,muted:null!==(u=t.muted)&&void 0!==u&&u,loop:null!==(p=t.loop)&&void 0!==p&&p};this._loadingOptions=w;const S=this._tracker;return S.trackLoadStart({loadTime:m,loadStartMonotonic:h,uri:y,fileId:e.fileId,playId:g.toString(),logData:e.logData,mediaType:e.mediaType,contentType:e.contentType,contentMetadata:e.metadata,isVideoVisible:this._isVideoVisible,videoSurface:this._videoSurface,muted:this._muted,startingSpeed:E,playIntended:w.autoplay,playedThreshold:t.playedThreshold}),this._checkKeySystemAccess().then((()=>this._getContentPromise(e,S))).then((t=>{var s;if(t.isProtected()&&!this._emeManager)throw new ee(i.DISALLOW_PROTECTED_TRACK_ERROR,"Protected tracks not supported");const n=t.getMediaPlaybackMode(),a=null===(s=this._player)||void 0===s?void 0:s.currentTime;"video"===t.getMediaType()&&b!==n&&this.emit(Q.PLAYER_MEDIA_PLAYBACK_MODE_CHANGED,Object.assign({playbackMode:null!=n?n:"video",position:Vt(a||0),playbackMetadataStore:S.getPlaybackMetadataStore()},xe())),t.setLogData(e.logData),t.strategy===q.MSE&&S.setCalculatedDuration(Vt(t.getCalculatedDuration())),this._upcomingContent=t})).then((()=>this._prepareMediaElement(w,f))).then((()=>{var e;this._subtitleManager.setPlayer(this._player),(null===(e=this._upcomingContent)||void 0===e?void 0:e.isProtected())&&(Mt.info("Attaching HTMLMediaElement to the audio processor"),this._audioProcessor.setPlayer(this._player))})).then((()=>this._loadContent(w,f))).then((e=>this._handleLoadingComplete(e,v)),this._handleLoadingError.bind(this,y,e,f,v))}preload(e){const t=this._getCacheKey(e),s=this._cache;if(!t||s.get(t)||!this._emeManager)return Promise.resolve(null);const n=this._preloadingTracks,i=n[t];if(i)return i;Mt.info("Preloading track",t);const a={manifestLatency:0,resolveLatency:0},o=this._createContent(e,a,!0).then((e=>{if(e.strategy!==q.MSE)return e;const t=e.getSegmentForTime(0);if(!t)return e;return this._tracker.setContentClass(e.constructor.name),e.getBufferSetForSegment(t).then((()=>e))})).then((e=>(s.set(t,e),delete n[t],Mt.info("Cached",t),a))).catch((e=>(delete n[t],Mt.warn("Preloading error",e),this.emit(Q.PLAYER_PRELOADING_ERROR,Object.assign({error:e,track:e.track||null,canPlayNext:!("canPlayNext"in e)||e.canPlayNext,preloading:!0},xe())),Promise.reject(e))));return n[t]=o,o}togglePlay(){return this._isPlaying()?this.pause():this.resume()}setSubtitleLanguage(e){this._subtitleManager.setLanguage(e)}getSubtitleLanguages(){return this._subtitleManager.getAvailableLanguages()}getActiveSubtitleLanguage(){return this._subtitleManager.getActiveLanguage()}deactivateCueEvents(){this._subtitleManager.deactivateListeners()}activateCueEvents(){this._subtitleManager.activateListeners()}setVolume(e,t){var s;if(!this.emitSync(Q.PLAYER_BEFORE_VOLUME_CHANGE,Object.assign({volume:e,options:t},xe())).defaultPrevented){if(e<0||e>1)throw new ee(i.PLAYER_ATTEMPTED_VOLUME_OUT_OF_RANGE,"Volume should be in range [0, 1]");this._playerVolume=e,this._volumeCommandId=null!==(s=null==t?void 0:t.commandId)&&void 0!==s?s:null,this._player&&(this._muted&&e>0&&this.setMuted(!1),this._player.volume=this._cubicVolume?e*e*e:e)}}getVolume(){return this._playerVolume}getPlayerState(){var e,t,s,n,i;const a=this._player,o=this._currentContent,r={src:(null==a?void 0:a.src)?`data:${(null==o?void 0:o.getFileId())||"unknown"}`:void 0,height:(null==a?void 0:a.clientHeight)||0,width:(null==a?void 0:a.clientWidth)||0},l={};if(o){const e=o.getMediaTypeMimeTypes();l.audio_format=e.audio,l.video_format=e.video,"video"===o.getMediaType()&&a instanceof HTMLVideoElement&&(l.video_height=a.videoHeight,l.video_width=a.videoWidth,r.poster=a.poster)}let d=null;if(ot(o)){const e=o.getTrackingEvents();e&&(d={mute:e.mute,unmute:e.unmute,rewind:e.rewind,fullscreen:e.fullscreen,accept_invitation_linear:e.accept_invitation_linear,close_linear:e.close_linear,exit_fullscreen:e.exit_fullscreen})}const c=null!==(e=null==o?void 0:o.isProtected())&&void 0!==e&&e,u=null!==(t=null==o?void 0:o.getKeySystemInfo())&&void 0!==t?t:void 0;return{playing:!!a&&!a.paused,position:a?Vt(a.currentTime):0,duration:a?Vt(a.duration):0,volume:null!==(s=this._playerVolume)&&void 0!==s?s:1,muted:this._muted,loop:null!==(n=null==a?void 0:a.loop)&&void 0!==n&&n,playback_speed:null!==(i=null==a?void 0:a.playbackRate)&&void 0!==i?i:0,playback_speed_selected:this._playerSpeed,buffering:this._rebuffering,media_type:(null==o?void 0:o.getMediaType())||null,media_info:l,protected:c,protection_info:c?{keysystem:null==u?void 0:u.keySystem,keysystem_impl:null==u?void 0:u.keySystemImpl,keysystem_config:null==u?void 0:u.keySystemLabel}:{},player_element:r,content_metadata:(null==o?void 0:o.getContentMetadata())||{},tracking_data:d}}getPlayerPosition(){return this._player?Vt(this._player.currentTime):0}seek(e){var t;if(!this._player)return;const s=null===(t=this._abortController)||void 0===t?void 0:t.signal,n=()=>{if(!this._player||(null==s?void 0:s.aborted))return void Mt.info("Seek dropped: operation aborted.");let t=Ht(e);t<0?t=0:t>=this._player.duration&&(t=this._player.duration),this._seeking||(this._lastReportedPosition=this._player.currentTime),this._player.currentTime=t};this._loaded?n():this.once(Q.PLAYER_LOAD,n),this._getRebufferingLatency().then((e=>{(null==s?void 0:s.aborted)||this._tracker.trackSeekRebuffering(e)}))}pause(){return this._audioProcessor.suspend().then((()=>this._player&&this._isPlaying()?(this._emitReporting("pause"),Promise.resolve(this._player.pause())):Promise.resolve()))}resume(){return this._audioProcessor.resume().then((()=>{if(this._player&&!this._isPlaying()){this._emitReporting("resume");const e=Vt(this._player.currentTime);return this._tracker.trackPlay(e,this._player.playbackRate),Promise.resolve(this._player.play())}return Promise.resolve()}))}stop(e,t){var s,n,i;const a=[],o=e||{};this.emit(Q.PLAYER_BEFORE_STOP,Object.assign(Object.assign({},xe()),{logData:o})),null===(s=this._abortController)||void 0===s||s.abort();let r=-1;if(this._player){let e=this._player.currentTime;this._seeking&&this._lastReportedPosition&&(e=this._lastReportedPosition),r=Vt(e)}this._tracker.trackStopped(r,e,this.getStatistics()||void 0),this._bufferManager.abort(!0),this._emeManager&&a.push(this._emeManager.destroySessions());const l=this._player;if(l){this._subtitleManager.clear(),this._fatalOnNextError=this._shouldNextErrorBeFatal(),this._fatalOnNextError&&Mt.warn("MediaError detected: next immediate media error will be fatal.");const e=l.src;if(e)Ut.test(e)&&URL.revokeObjectURL(e),l.removeAttribute("src");else{const e=Ue(l.getElementsByTagName("source"));Mt.info(`HTMLSourceElements to removed: ${e.length}`);for(const t of e)l.removeChild(t);Mt.info("Releasing HLS URLs")}l.load()}null===(n=this._currentContent)||void 0===n||n.unload();const d=this._currentContent&&this._currentContent.getMediaType();return l&&d&&(null===(i=this._playerContainerManager)||void 0===i||i.eject(l,d,t),l.ownerDocument!==document&&document.adoptNode(l)),this.emit(Q.PLAYER_STOPPED,Object.assign({},xe())),Promise.all(a).then((()=>!0))}setMuted(e=!0){const t=this._player;t&&(this._muted=e,t.muted=e,this.emitSync(Q.PLAYER_MUTED_CHANGED,Object.assign({muted:e,position:Vt(t.currentTime),playbackMetadataStore:this._tracker.getPlaybackMetadataStore()},xe())))}hideSubtitles(){this._subtitleManager.hide()}showSubtitles(){this._subtitleManager.show()}areSubtitlesShown(){return this._subtitleManager.visible()}getKeySystemInfo(){return this._emeManager?this._emeManager.getKeySystemInfo():Promise.resolve(null)}getVideoVariants(){const e=this._currentContent;if("video"!==(null==e?void 0:e.getMediaType()))return[];const t=[];if(!it(e))return t;const s=e.getMediaProfileInfo().video.available;for(const n of s)t.push({width:n.video_width,height:n.video_height,bitrate:n.video_bitrate});return t}setPreferredBitrate(e){return"number"!=typeof e?Promise.resolve(Z.INVALID):(this._preferredBitrate=e,this._currentContent&&"video"===this._currentContent.getMediaType()&&e>0&&this._bufferManager.abort(!0),this._abrManager.overrideBitrate(e),Promise.resolve(Z.SUCCESS))}getCurrentBandwidth(){return this._abrManager.getBandwidthEstimate()}setBackgrounded(e){this.setIsVideoVisible(!e)}setIsVideoVisible(e){var t;if(this._isVideoVisible===e)return;const s=null===(t=this._player)||void 0===t?void 0:t.currentTime;this._isVideoVisible=e,this._tracker.setIsVideoVisible(e),this.emit(Q.PLAYER_VIDEO_VISIBILITY_CHANGED,Object.assign({visible:e,playbackMetadataStore:this._tracker.getPlaybackMetadataStore(),position:Vt(s||0)},xe())),this._adaptVideoBitrateBasedOnVisibility()}setVideoResolution(e){var t,s,n;this._videoResolution=Object.assign(Object.assign({},this._videoResolution),e),(n=this._currentContent)&&"setVideoResolution"in n&&(null===(s=(t=this._currentContent).setVideoResolution)||void 0===s||s.call(t,this._videoResolution))}adaptToElementSize(e){at(this._currentContent)&&this._currentContent.adapt({currentElementSize:e})}activateElement(){var e;return this._playerActivated||!this._player||this._player.src?(this._audioProcessor.resume(),!1):(null===(e=this._player)||void 0===e||e.load(),this._playerActivated=!0,!0)}getMediaConfig(){return void 0===this._mediaConfig?function(e,t){const s=t||Yt("video"),n=e=>{s.canPlayType("audio/mp3")&&(e.formats.audio.push("audio/mp3"),e.formatsInfo.audio.push({mimeType:"audio/mp3",codec:"mp3",contentType:'audio/mp3; codecs="mp3"'}),e.supports.unprotected_audio=!0)};if(e)return e.getKeySystemInfo().then((e=>{const{audioFormats:t,videoFormats:s}=e,i={supports:{protected_audio:!!t.length,unprotected_audio:!0,protected_video:!!s.length,unprotected_video:!0},formats:{audio:t.map((e=>e.contentType)),video:s.map((e=>e.contentType))},formatsInfo:{audio:[...t],video:[...s]}};return i.keysystem=e.keySystem,i.keysystem_impl=e.keySystemImpl,n(i),i}));const i="undefined"!=typeof window&&window.MediaSource?e=>MediaSource.isTypeSupported(e):e=>"probably"===s.canPlayType(e)||"probably"===s.canPlayType(e.split(";")[0]),a=Re([Se[0]],i),o=[],r=[],l=[],d=[];if(a){const{audioCapabilities:e,videoCapabilities:t}=a;for(const s of e)o.push(s.contentType),l.push(Ae(s.contentType));for(const s of t)r.push(s.contentType),d.push(Ae(s.contentType))}const c={supports:{protected_audio:!1,unprotected_audio:!!o.length,protected_video:!1,unprotected_video:!!r.length},formats:{audio:o,video:r},formatsInfo:{audio:l,video:d}};return n(c),Promise.resolve(c)}(this._emeManager,this._player).then((e=>(this._mediaConfig=e,this._mediaConfig))):Promise.resolve(this._mediaConfig)}setPlaybackSpeed(e){return!(!isFinite(e)||e<=0)&&(this._playerSpeed=null!=e?e:1,this._setPlaybackRate(),!0)}getStatistics(){return this._player&&this._currentContent?this._statistics.getSample(this._player,this._currentContent):null}getAudioProcessor(){return this._audioProcessor}setMediaPlaybackMode(e){const t=this._player,s=this._currentContent;if(!t||!s)return!1;if("video"!==s.getMediaType())return!1;if(s.getMediaPlaybackMode()===e)return!1;const n=t.currentTime;return this.emit(Q.PLAYER_MEDIA_PLAYBACK_MODE_CHANGED,Object.assign({playbackMode:e,playbackMetadataStore:this._tracker.getPlaybackMetadataStore(),position:Vt(n||0)},xe())),s.setMediaPlaybackMode(e),!0}setVideoSurface(e){var t;if(this._videoSurface===e)return;this._videoSurface=e,this._tracker.setVideoSurface(e);const s=null===(t=this._player)||void 0===t?void 0:t.currentTime;this.emit(Q.PLAYER_VIDEO_SURFACE_CHANGED,Object.assign({videoSurface:e,position:Vt(s||0),playbackMetadataStore:this._tracker.getPlaybackMetadataStore()},xe()))}getVideoSurface(){return this._videoSurface}}var zt=s(5482),Wt=s(42806);class qt extends Error{constructor(e,t,s={}){super(t),this.debug={},this.name="LoggingError",this.message=t,this.code=e,this.debug=s}}const Qt=k.m.forTag("playback.logger");var $t;!function(e){e.FATAL="Fatal",e.ERROR="Error",e.WARNING="Warning"}($t||($t={}));class Zt extends d.bk{constructor(e){var t;super(),this._currentTrackingData=null,this._sequenceId=0,this._sequenceSessionStorage={},this._sessionId="0",this._deviceInfo={},this._transport=e.transport,this._logSender=e.logSender,this._player=e.player,this._sdkId=null!==(t=e.sdkId)&&void 0!==t?t:G.Z7.EMPTY,this._init(e)}static create(e){return new Zt(e)}_init(e){const t=this._player;t.on(Q.PLAYER_LOAD,this._onPlayerLoad.bind(this)),t.on(Q.PLAYER_ERROR,this._onError.bind(this,!1)),t.on(Q.PLAYER_WARNING,this._onError.bind(this,!0)),t.on(Q.PLAYER_PRELOADING_ERROR,this._onError.bind(this,!1)),t.on(Q.PLAYER_TRACKING_DATA_CREATED,this._onTrackingDataCreated.bind(this)),t.on(Q.PLAYER_TRACKING_DATA_FINALIZED,this._onTrackingDataFinalized.bind(this)),t.on(Q.PLAYER_PLAYBACK_START,this._onPlaybackStart.bind(this)),t.on(Q.PLAYER_LOG_CLIENT_EVENT,this._logClientEvent.bind(this)),Promise.resolve(e.deviceInfo).then((e=>{e&&(this._deviceInfo=e)})).catch((()=>{}))}_emitError(e,t){this.emit(Q.LOGGER_ERROR,Object.assign({error:e,trackingData:t},xe()))}_onError(e,t){var s,n,a;const o=t.data,r=this._currentTrackingData;if(!r||r.noLog)return;const l=o.error,d=null!==(s=null==l?void 0:l.debug)&&void 0!==s?s:{};d.position="position"in o?o.position:0;const c={track:o.track||{},debug:d,preloading:"preloading"in o&&!!o.preloading,session_id:this._sessionId,playback_id:r.playbackId||null,player_play_id:"playId"in o?o.playId:null,http_status_code:null!==(n=null==l?void 0:l.status)&&void 0!==n?n:null,license_server:null!==(a=null==l?void 0:l.licenseServer)&&void 0!==a?a:null};this._logError(l.code||i.UNKNOWN,l,c,r,e),this._logPlaybackError(r,l,c,this._deviceInfo,e)}_onPlayerLoad(e){const t=e.data.logData;if(t)if(t.impressionURLs)for(const s of t.impressionURLs)this._logImpression(s);else t.impressionURL&&this._logImpression(t.impressionURL)}_onPlaybackStart(e){const t=e.data.trackingData;t.noLog||t.noStats||this._logPlaybackStart(t)}_onTrackingDataCreated(e){const t=e.data.trackingData;t.noLog?this._currentTrackingData=null:(this._currentTrackingData=t,this._setSessionId(),t.noTSV||this._setSequenceId())}_setSessionId(){this._sessionId=this._transport.getInitTime().toString()}_setSequenceId(){this._sessionId&&(this._sequenceId=this._getSequenceId(this._sessionId))}_onTrackingDataFinalized(e){const t=e.data.trackingData;if(t.noLog)return;const s=this._sessionId!==this._transport.getInitTime().toString();if(s&&this._setSessionId(),t.playbackId&&!t.noTSV){if(s&&this._setSequenceId(),!t.playIntended&&!t.played)return void this._rollbackSequenceId(this._sessionId);this._logTrackStreamVerification(t)}t.noStats||this._logPlaybackStats(t)}_logTrackStreamVerification(e){const t={play_track:e.currentTrackUri,playback_id:e.playbackId,ms_played:e.msPlayed,ms_nominal_played:e.msNominalPlayed,session_id:this._sessionId,sequence_id:this._sequenceId,next_playback_id:e.nextPlaybackId,playback_service:e.playbackService};Qt.debug("Logged TrackStreamVerification",t),this._logSender.logTrackStreamVerification(t).catch((s=>{var n,a,o;const r=new qt(i.TSV_SENDING_FAILED,s.message||"Unknown reason.",{isNetworkRelated:!0});this._logError(r.code,s,t,e,!1);const l={track:{},debug:Object.assign(Object.assign({},null!==(n=null==s?void 0:s.debug)&&void 0!==n?n:{}),{isNetworkRelated:!0,segmentTimeStart:e.segmentTimeStart,segmentTimeEnd:e.segmentTimeEnd,segmentByteStart:e.segmentByteStart,segmentByteEnd:e.segmentByteEnd}),preloading:!1,session_id:this._sessionId,playback_id:e.playbackId,player_play_id:null,http_status_code:null!==(a=null==s?void 0:s.status)&&void 0!==a?a:null,license_server:null!==(o=null==s?void 0:s.licenseServer)&&void 0!==o?o:null};this._logPlaybackError(e,s,l,this._deviceInfo,!1),this._emitError(r,e)}))}_logPlaybackStats(e){const t={play_track:e.currentTrackUri,file_id:e.fileId,playback_id:e.playbackId,internal_play_id:e.internalPlayId,memory_cached:e.memoryCached,persistent_cached:e.persistentCached,audio_format:e.audioCodec||"",video_format:e.videoCodec||"",manifest_id:e.fileId,protected:e.isProtected,key_system:e.keySystem,key_system_impl:e.keySystemImpl,urls_json:JSON.stringify(e.urls),start_time:e.loadTime,end_time:e.stopTime,external_start_time:e.externalLoadTime,ms_play_latency:e.msPlayLatency,ms_init_latency:e.msInitLatency,ms_head_latency:e.msHeadLatency,ms_first_bytes_latency:e.msFirstBytesLatency,ms_manifest_latency:e.msManifestLatency,ms_resolve_latency:e.msResolveLatency,ms_license_session_latency:e.msLicenseSessionLatency,ms_license_generation_latency:e.msLicenseGenerationLatency,ms_license_request_latency:e.msLicenseRequestLatency,ms_license_update_latency:e.msLicenseUpdateLatency,ms_played:e.msPlayed,ms_nominal_played:e.msNominalPlayed,ms_file_duration:e.msFileDuration,ms_actual_duration:e.msActualDuration,ms_metadata_duration:e.msMetadataDuration,ms_start_position:e.startPosition,ms_end_position:e.position,ms_initial_rebuffer:e.msInitialRebuffering,ms_seek_rebuffer:e.msSeekRebuffering,ms_seek_rebuffer_longest:e.maxMsSeekRebuffering,ms_stall_rebuffer:e.msStalled,ms_stall_rebuffer_longest:e.maxMsStalled,ms_played_per_surface:e.msPlayedPerSurface,n_stalls:e.nStalls,n_rendition_upgrade:e.nRenditionUpgrade,n_rendition_downgrade:e.nRenditionDowngrade,bps_bandwidth_max:e.bpsBandwidthMax,bps_bandwidth_min:e.bpsBandwidthMin,bps_bandwidth_avg:e.bpsBandwidthAvg,n_seekback:e.nSeeksBackward,n_seekforward:e.nSeeksForward,audio_start_bitrate:e.audioStartBitrate,video_start_bitrate:e.videoStartBitrate,start_bitrate:e.startBitrate||e.bitrate||0,audio_quality:e.audioQuality,time_weighted_bitrate:e.timeWeightedBitrate,reason_start:e.reasonStart,reason_end:e.reasonEnd,initially_paused:!e.playIntended,had_error:e.hadError,n_warnings:e.nWarnings,n_navigator_offline:e.nOffline,session_id:this._sessionId,sequence_id:this._sequenceId,client_id:e.clientId,correlation_id:e.correlationId,n_dropped_video_frames:e.droppedVideoFrames,n_total_video_frames:e.totalVideoFrames,resolution_max:e.maxResolution||0,resolution_min:e.minResolution||0,total_bytes:e.totalBytes,strategy:e.strategy};Qt.info("Logging PlaybackStats"),this._logSender.logJSSDKPlaybackStats(t).catch((s=>{var n,a,o;const r=new qt(i.PLAYBACK_STATS_SENDING_FAILED,s.message||"Unknown reason.",{isNetworkRelated:!0});this._logError(r.code,s,t,e,!1);const l={track:{},debug:Object.assign(Object.assign({},null!==(n=null==s?void 0:s.debug)&&void 0!==n?n:{}),{isNetworkRelated:!0,segmentTimeStart:e.segmentTimeStart,segmentTimeEnd:e.segmentTimeEnd,segmentByteStart:e.segmentByteStart,segmentByteEnd:e.segmentByteEnd}),preloading:!1,session_id:this._sessionId,playback_id:e.playbackId,player_play_id:null,http_status_code:null!==(a=null==s?void 0:s.status)&&void 0!==a?a:null,license_server:null!==(o=null==s?void 0:s.licenseServer)&&void 0!==o?o:null};this._logPlaybackError(e,s,l,this._deviceInfo,!1),this._emitError(r,e)}))}_logPlaybackStart(e){const t={play_track:e.currentTrackUri,file_id:e.fileId,playback_id:e.playbackId,session_id:this._sessionId,ms_start_position:e.startPosition,initially_paused:!e.playIntended,client_id:e.clientId,correlation_id:e.correlationId};Qt.info("Logging PlaybackStart"),this._logSender.logJSSDKPlaybackStart(t).catch((s=>{var n,a,o;const r=new qt(i.PLAYBACK_START_SENDING_FAILED,s.message||"Unknown reason.",{isNetworkRelated:!0});this._logError(r.code,s,t,e,!1);const l={track:{},debug:Object.assign(Object.assign({},null!==(n=null==s?void 0:s.debug)&&void 0!==n?n:{}),{isNetworkRelated:!0,segmentTimeStart:e.segmentTimeStart,segmentTimeEnd:e.segmentTimeEnd,segmentByteStart:e.segmentByteStart,segmentByteEnd:e.segmentByteEnd}),preloading:!1,session_id:this._sessionId,playback_id:e.playbackId,player_play_id:null,http_status_code:null!==(a=null==s?void 0:s.status)&&void 0!==a?a:null,license_server:null!==(o=null==s?void 0:s.licenseServer)&&void 0!==o?o:null};this._logPlaybackError(e,s,l,this._deviceInfo,!1),this._emitError(r,e)}))}_getSequenceId(e){let t=this._sequenceSessionStorage[e];return t||(t=0),t+1>=9007199254740991&&(t=0),this._sequenceSessionStorage[e]=t+1,t}_rollbackSequenceId(e){const t=this._sequenceSessionStorage[e];t&&(this._sequenceSessionStorage[e]=Math.max(t-1,0))}_logImpression(e){this._transport.request(e,{forget:!0}).catch((function(e){Qt.warn("Unable to send impression request",e)}))}_logClientEvent(e){const t={source:e.data.source||G.Z7.EMPTY,source_version:A.tagged||G.Z7.UNKNOWN,event:e.data.event||G.Z7.EMPTY,json_data:JSON.stringify(e.data.payload||{})};this._logSender.logJSSDKClientEvent(t).catch((e=>Qt.warn("Failed to log client event",t,e)))}_logError(e,t,s,n,i){const a={source:"playback",source_version:A.tagged||G.Z7.UNKNOWN,type:e||G.Z7.UNKNOWN,message:t&&t.message||G.Z7.EMPTY,stack:'""',json_data:JSON.stringify(s||{}),json_data_version:"1.0.0",client_id:n.clientId,correlation_id:n.correlationId};i?this._logSender.logJSSDKWarning(a).catch((e=>Qt.warn("Failed to log warning",a,e))):this._logSender.logJSSDKError(a).catch((e=>Qt.warn("Failed to log error",a,e)))}_logPlaybackError(e,t,s,n,i){let a=$t.ERROR;i&&(a=$t.WARNING),t.unrecoverable&&(a=$t.FATAL);const{preloading:o,player_play_id:r}=s,l=s&&s.debug?s.debug:{},{isNetworkRelated:d=!1,segmentTimeStart:c,segmentTimeEnd:u,segmentByteStart:p,segmentByteEnd:m}=l,h=(0,zt.__rest)(l,["isNetworkRelated","segmentTimeStart","segmentTimeEnd","segmentByteStart","segmentByteEnd"]);h.src_url&&(h.src_url=void 0);const _={sdk_id:this._sdkId,playback_id:e.playbackId,session_id:this._sessionId,package_version:A.tagged||G.Z7.EMPTY_VERSION,feature_identifier:e.featureIdentifier,device_id:n.id||G.Z7.EMPTY,device_model:n.model||G.Z7.EMPTY,device_brand:n.brand||G.Z7.EMPTY,os_name:n.os_name||G.Z7.EMPTY,os_version:n.os_version||G.Z7.EMPTY,play_track:e.currentTrackUri,content_id:e.fileId,content_class:e.contentClass,content_type:e.contentType,media_type:e.mediaType,position:e.position,strategy:e.strategy,protected:e.isProtected,url:"data:"===e.url.substring(0,5)?`${e.url.slice(0,69)}...`:e.url,preloading:o,player_sequence_index:r||void 0,key_system:e.keySystem,key_system_label:e.keySystemLabel,key_system_impl:e.keySystemImpl,segment_byte_start:p,segment_byte_end:m,segment_time_start:c,segment_time_end:u,trace_id:(0,Wt.$C)(32),category:t&&t.name||G.Z7.UNKNOWN,severity:a,code:t&&t.code||G.Z7.EMPTY,message:t&&t.message||G.Z7.EMPTY,http_status_code:t&&t.status||void 0,license_server:t&&t.licenseServer||G.Z7.EMPTY,is_network_related:d,debug:Object.keys(h).length>0?h:void 0};this._logSender.logJSSDKPlaybackError(_).catch((t=>Qt.warn("Failed to log playback error",e,t)))}}class Xt extends Error{constructor(e=i.STORAGE_ERROR,t="Storage Error",s={}){super(t),this.status=-1,this.fileId="",this.debug={},this.canPlayNext=!0,this.code=e,this.message=t,this.name="StorageError",this.debug=s}}const Jt=k.m.forTag("playback.storage_resolve");class es{constructor(e){this._transport=e}_parseResponse(e,t){var s;let n;if(200!==t.status)return n=new Xt(i.STORAGE_FAILED_WITH_STATUS,`Storage Resolve responded with ${t.status}`,{isNetworkRelated:!0}),n.status=t.status,n.fileId=e,Promise.reject(n);const a=t.body;if(!(null===(s=null==a?void 0:a.cdnurl)||void 0===s?void 0:s.length))return n=new Xt(i.STORAGE_RETURNED_NO_TRACKS,`Storage Resolve returned no tracks for fileId ${e}`),n.fileId=e,Promise.reject(n);const o={uri:a.cdnurl[0],uris:a.cdnurl,protection:"cenc"};return Promise.resolve(o)}getCDNURL(e,t){Jt.info("Requesting CDN URL for ",e);const s="files/audio/interactive",n=`@webgate/storage-resolve/${t?`v2/${s}/${t}/${e}`:`${s}/${e}`}?version=10000000&product=9&platform=39&alt=json`;return this._transport.request(n,{responseType:"json",retry:{condition:(e,t)=>{const s=e.getStatusFamily();return 429===e.status||s===t.SERVER_ERROR||s===t.CONNECTION_ERROR}}}).then(this._parseResponse.bind(this,e))}getManifest(e){const t=`https://seektables.scdn.co/seektable/${e}.json`;return Jt.info("Requesting JSON manifest for ",e),this._transport.request(t,{responseType:"json",retry:{condition:(e,t)=>{const s=e.getStatusFamily();return 429===e.status||s===t.SERVER_ERROR||s===t.CONNECTION_ERROR}}}).then((t=>{let s;return 200!==t.status?(s=new Xt(i.STORAGE_TRACK_MANIFEST_FAILED,`Track manifest request failed with status code ${t.status}`,{isNetworkRelated:!0}),s.debug.file_id=e,s.status=t.status,Promise.reject(s)):t.body?t.body:(s=new Xt(i.STORAGE_TRACK_MANIFEST_EMPTY,"Received empty manifest."),s.debug.file_id=e,s.status=t.status,Promise.reject(s))}))}}class ts extends Error{constructor(e,t){super(t),this.debug={},this.name="TrackingError",this.message=t,this.code=e}}class ss{constructor(){this._version="1.0.0",this._map={}}clear(){this._map={}}track(e,t){let s=this._map[e];s||(s={url:e,segments:0,bandwidths:[],totalBandwidth:0},this._map[e]=s),s.segments+=1,s.bandwidths.push(t.bandwidth),s.totalBandwidth+=t.bandwidth}toJSON(){const e=[];for(const t in this._map){if(!this._map[t])continue;const s=this._map[t];s&&e.push({url:t,segments:s.segments,avg_bw:parseFloat((s.totalBandwidth/s.bandwidths.length).toFixed(7))})}return{version:this._version,urls:e}}}class ns{constructor(){this._bitrates={},this._isFinalized=!1,this._needsEndSegment=!1,this._segments=[],this._cdnURLTracker=new ss,this.currentSpeed=1,this.audioCodec=null,this.bitrate=0,this.audioQuality=void 0,this.urls={},this.url="",this.currentTrackUri="",this.displayTrack="",this.mediaType="",this.externalLoadTime=0,this.fileId="",this.gaiaDevId="none",this.hadError=!1,this.internalPlayId="",this.isProtected=!1,this.keySystem="",this.keySystemImpl="",this.keySystemLabel="",this.lastPlayPosition=-1,this.loadTime=0,this.localTimeMs=-1,this.maxContinuous=0,this.msInitialRebuffering=0,this.maxMsSeekRebuffering=0,this.maxMsStalled=0,this.memoryCached=!1,this.msActualDuration=0,this.msMetadataDuration=0,this.msFileDuration=0,this.msHeadLatency=null,this.msInitLatency=null,this.msKeyLatency=null,this.msLicenseGenerationLatency=null,this.msLicenseRequestLatency=null,this.msLicenseSessionLatency=null,this.msLicenseUpdateLatency=null,this.msManifestLatency=null,this.msPlayed=0,this.msNominalPlayed=0,this.msPlayedUnion=0,this.msPlayLatency=null,this.msFirstBytesLatency=null,this.msResolveLatency=null,this.msSeekRebuffering=0,this.msSeeksBackward=0,this.msSeeksForward=0,this.nextPlaybackId="",this.nOffline=0,this.noLog=!1,this.noTSV=!1,this.noStats=!1,this.nWarnings=0,this.msStalled=0,this.nSeeksBackward=0,this.nSeeksForward=0,this.nSpeedChanges=0,this.nStalls=0,this.nRenditionUpgrade=0,this.nRenditionDowngrade=0,this.bpsBandwidthMax=0,this.bpsBandwidthMin=0,this.bpsBandwidthAvg=0,this.totalBandwidth=0,this.lastBitrate=0,this.persistentCached=!1,this.playbackId="",this.playContext="",this.played=!1,this.position=0,this.reasonEnd="unknown",this.reasonStart="unknown",this.referrer="unknown",this.referrerVendor="unknown",this.referrerVersion="unknown",this.sourceEnd="unknown",this.sourceStart="unknown",this.startPosition=0,this.stopTime=0,this.streamingRule="none",this.timeWeightedBitrate=0,this.totalBytes=0,this.playIntended=!1,this.audioStartBitrate=null,this.videoStartBitrate=null,this.videoCodec=null,this.clientId="unknown",this.correlationId="unknown",this.droppedVideoFrames=0,this.totalVideoFrames=0,this.maxResolution=0,this.minResolution=0,this.playbackService="",this.strategy="",this.segmentTimeStart=null,this.segmentTimeEnd=null,this.segmentByteStart=null,this.segmentByteEnd=null,this.contentClass="",this.contentType="unknown",this.featureIdentifier="",this.muted=!1,this.logData={},this.msPlayedPerSurface={},this.deviceInfo=null}static create(){return new ns}_calculateUnion(){const e=this._segments.slice(0);let t=0,s=0,n=0,i=0,a=0,o=0,r=this.maxContinuous;for(;a<e.length;a++)a%2!=0&&void 0!==e[a-1]&&"start"===e[a-1].type&&(o=e[a].time-e[a-1].time,r=o>r?o:r);for(this.maxContinuous=r,e.sort(((e,t)=>e.time-t.time));i<e.length;i++)"start"===e[i].type&&(0===s&&(n=i),++s),"end"===e[i].type&&(--s,0===s&&(t+=e[i].time-e[n].time));return t}_calculateWeightedBitrate(e){const t=this._bitrates;let s=0;for(const n in t)n&&Object.prototype.hasOwnProperty.call(t,n)&&e>0&&(s+=parseInt(n,10)*t[n]/e);return Math.round(s)}registerVideoVariant(e){var t;const s=null===(t=e.videoProfile)||void 0===t?void 0:t.video_bitrate;s&&(this._bitrates[s]=this._bitrates[s]||0,this.startBitrate||(this.startBitrate=s)),e.audioProfile&&(this.audioCodec=e.audioProfile.audio_codec,this.audioStartBitrate=e.audioProfile.audio_bitrate),e.videoProfile&&(this.videoCodec=e.videoProfile.video_codec,this.videoStartBitrate=e.videoProfile.video_bitrate,this.lastBitrate=e.videoProfile.video_bitrate,this.minResolution=e.videoProfile.video_resolution,this.maxResolution=e.videoProfile.video_resolution)}addStartSegment(){this._segments.push({type:"start",time:this.position}),this._needsEndSegment=!0}addEndSegment(){this._needsEndSegment&&(this._segments.push({type:"end",time:this.position}),this._needsEndSegment=!1)}addMSPlayed(e){if(!e)return;if(e<0)throw new TypeError(`Cannot add negative msNominalPlayed value: ${e}`);const t=e/this.currentSpeed;this.msPlayed+=t,this.msNominalPlayed+=e,this.videoSurface&&this.isVideoVisible&&"video"===this.mediaType&&(this.msPlayedPerSurface[this.videoSurface]=(this.msPlayedPerSurface[this.videoSurface]||0)+t)}addSpeedChange(e){++this.nSpeedChanges,this.currentSpeed=e}trackBitrate(e,t){const s=e||"dummy";this._bitrates[s]=this._bitrates[s]||0,this._bitrates[s]+=t}trackBufferURL(e,t){const s=e.substring(0,5);"data:"!==s&&"blob:"!==s&&this._cdnURLTracker.track(e,t)}finalize(){if(this._isFinalized)throw new ts(i.TRACK_DATA_ALREADY_FINALIZED,"TrackData already finalized.");this.msPlayedUnion=this._calculateUnion(),this.nSeeksBackward||this.nSeeksForward||this.nSpeedChanges||(this.msNominalPlayed=this.maxContinuous=this.msPlayedUnion,this.msPlayed=this.msNominalPlayed/this.currentSpeed,this.nSpeedChanges=0);const e=this.msPlayed;return this.timeWeightedBitrate=this._calculateWeightedBitrate(e),this.startBitrate||(this.startBitrate=this.bitrate),this.urls=this._cdnURLTracker.toJSON(),this._isFinalized=!0,!0}getURLsJSON(){var e,t;return null!==(t=null===(e=this._cdnURLTracker.toJSON().urls)||void 0===e?void 0:e.map((({url:e})=>e)))&&void 0!==t?t:[]}getPlaybackStats(){let e;switch(this.keySystem){case $.WIDEVINE:e="widevine";break;case $.PLAYREADY:case $.PLAYREADY_HARDWARE:e="playready";break;default:e="none"}return{ms_total_est:this.msActualDuration,ms_metadata_duration:this.msMetadataDuration,ms_manifest_latency:this.msManifestLatency||0,ms_latency:this.msPlayLatency||0,ms_first_bytes_latency:this.msFirstBytesLatency||0,start_offset_ms:this.startPosition,ms_initial_buffering:this.msInitialRebuffering,ms_initial_rebuffer:this.msInitialRebuffering,ms_seek_rebuffering:this.msSeekRebuffering,ms_stalled:this.msStalled,max_ms_seek_rebuffering:this.maxMsSeekRebuffering,max_ms_stalled:this.maxMsStalled,n_stalls:this.nStalls,n_rendition_upgrade:this.nRenditionUpgrade,n_rendition_downgrade:this.nRenditionDowngrade,bps_bandwidth_max:this.bpsBandwidthMax,bps_bandwidth_min:this.bpsBandwidthMin,bps_bandwidth_avg:this.bpsBandwidthAvg,audiocodec:this.audioCodec?this.audioCodec.toLowerCase():void 0,videocodec:this.videoCodec?this.videoCodec.toLowerCase():void 0,audio_start_bitrate:this.audioStartBitrate,video_start_bitrate:this.videoStartBitrate,start_bitrate:this.startBitrate||this.bitrate||void 0,full_screen:void 0,time_weighted_bitrate:this.timeWeightedBitrate,buffering_percentage:void 0,prefetched_bytes:void 0,prefetched_bytes_loaded:void 0,prefetched_initial_bitrate:void 0,key_system:e,ms_key_latency:this.msKeyLatency||0,total_bytes:this.totalBytes,local_time_ms:this.localTimeMs,ms_played_background:void 0,n_dropped_video_frames:this.droppedVideoFrames,n_total_video_frames:this.totalVideoFrames,resolution_max:this.maxResolution,resolution_min:this.minResolution,strategy:this.strategy,ms_played_per_surface:this.msPlayedPerSurface}}isFinalized(){return this._isFinalized}}class is{constructor(){this._store={}}set(e,t){this._store[e]=t}get(e){var t;return null!==(t=this._store[e])&&void 0!==t?t:null}}const as=k.m.forTag("playback.tracker");class os extends d.bk{constructor(e={deviceInfo:null}){super(),this._playedThreshold=31e3,this._playedThresholdReached=!1,this._trackingData=null,this._playbackMetadataStore=null,this._quartileTrackingEvents={firstEventFired:!1,midEventFired:!1,thirdEventFired:!1},this._playbackHistory=[],this._deviceInfo=null,this._playedThreshold=e.playerThreshold||31e3,this._deviceInfo=e.deviceInfo||null}static create(e){return new os(e)}_checkPlayedThreshold(){const e=this._trackingData;!e||!this._playedThreshold||this._playedThresholdReached||e.msPlayed<this._playedThreshold||(this._playedThresholdReached=!0,this.emit(Q.TRACKER_PLAYED_THRESHOLD_REACHED,{played:e&&e.msPlayed||0,threshold:this._playedThreshold}))}_checkPercentileThresholds(){const e=this._trackingData;if(!e)return;const t=e.msActualDuration||e.msFileDuration;if(!t)return;const s=Math.ceil(t/4);!this._quartileTrackingEvents.firstEventFired&&e.position>=s&&(this._quartileTrackingEvents.firstEventFired=!0,this.emit(Q.TRACKER_FIRST_QUARTILE,null)),!this._quartileTrackingEvents.midEventFired&&e.position>=2*s&&(this._quartileTrackingEvents.midEventFired=!0,this.emit(Q.TRACKER_MIDPOINT,null)),!this._quartileTrackingEvents.thirdEventFired&&e.position>=3*s&&(this._quartileTrackingEvents.thirdEventFired=!0,this.emit(Q.TRACKER_THIRD_QUARTILE,null))}getMSPlayed(){return this._trackingData?this._trackingData.msPlayed:0}getStallsInformation(){return this._trackingData?{nStalls:this._trackingData.nStalls,msTotalStalled:this._trackingData.msStalled}:{nStalls:0,msTotalStalled:0}}trackLoadStart(e){var t;const s=ns.create();this._trackingData=s,this._playbackMetadataStore=new is,this._playedThresholdReached=!1,this._quartileTrackingEvents={firstEventFired:!1,midEventFired:!1,thirdEventFired:!1},s.fileId=null!==(t=e.fileId)&&void 0!==t?t:"",s.currentTrackUri=e.uri,s.loadTime=e.loadTime,s.loadStartMonotonic=e.loadStartMonotonic,s.internalPlayId=e.playId,s.playIntended=e.playIntended,s.contentType=e.contentType||"unknown",s.currentSpeed=e.startingSpeed||0,this._playedThreshold=e.playedThreshold;const n=e.logData;s.externalLoadTime=n.externalLoadTime||0,s.playbackId=n.playbackId||"",s.reasonStart=n.reason||"unknown",s.sourceStart=n.source||"unknown",s.clientId=n.clientId||"",s.correlationId=n.correlationId||"",s.playbackService=n.playbackService||"",s.featureIdentifier=n.featureIdentifier||"";const i=n.referrer||{};s.referrer=void 0!==i.name?i.name:"unknown",s.referrerVersion=void 0!==i.version?i.version:"unknown",s.referrerVendor=void 0!==i.vendor?i.vendor:"unknown";const a=n.format||{};a.codec&&(s.audioCodec=a.codec.toLowerCase());const o=e.mediaType;s.mediaType=o,a.bitrate&&("audio"===o?s.audioStartBitrate=a.bitrate:"video"===o&&(s.videoStartBitrate=a.bitrate),s.bitrate=a.bitrate),a.audioQuality&&(s.audioQuality=a.audioQuality),s.isVideoVisible=e.isVideoVisible,s.videoSurface=e.videoSurface,s.muted=e.muted,s.currentSpeed=e.startingSpeed,s.gaiaDevId=n.deviceId||"none",s.noLog=n.noLog||!1,s.noTSV=n.noTSV||!1,s.noStats=n.noStats||!1,s.logData=n,s.deviceInfo=this._deviceInfo;const r=e.contentMetadata;s.contentMetadata=r,"number"==typeof(null==r?void 0:r.displayDuration)&&(s.msMetadataDuration=r.displayDuration),this.emit(Q.TRACKER_TRACKING_DATA_CREATED,Object.assign({trackingData:s,playbackMetadataStore:this._playbackMetadataStore},xe()))}trackBufferLoadStart(){const e=this._trackingData;e&&(e.bufferLoadStartMonotonic=(0,W.X)())}trackBytesDownloaded(e){const t=this._trackingData;t&&(t.totalBytes+=e)}trackLoadDone(e){const t=this._trackingData;t&&(t.bufferLoadStartMonotonic&&(t.msInitLatency=(0,W.r)(t.bufferLoadStartMonotonic)),t.localTimeMs=Date.now(),t.position=e,t.addStartSegment())}trackPlay(e,t){const s=this._trackingData;s&&(s.played||this.emit(Q.TRACKER_PLAYBACK_START,{trackingData:s}),s.played=!0,s.position=e,s.startPosition=e,s.addSpeedChange(t||1))}trackCanPlayThrough(){if(!this._trackingData)return;const e=(0,W.X)();this.trackHeadLatency(e)}trackPlayLatency(e=(0,W.X)()){const t=this._trackingData;!t||t.nSeeksBackward||t.nSeeksForward||t.loadStartMonotonic&&(t.msPlayLatency=(0,W.r)(t.loadStartMonotonic,e))}trackHeadLatency(e=(0,W.X)()){const t=this._trackingData;t&&t.bufferLoadStartMonotonic&&(t.msHeadLatency=(0,W.r)(t.bufferLoadStartMonotonic,e))}trackFirstBytesLatency(e=(0,W.X)()){const t=this._trackingData;t&&t.loadStartMonotonic&&(t.msFirstBytesLatency=(0,W.r)(t.loadStartMonotonic,e))}trackBufferURL(e,t){const s=this._trackingData;s&&s.trackBufferURL(e,t)}trackNavigatorOffline(){const e=this._trackingData;e&&(e.nOffline+=1)}trackInitialRebuffering(e){const t=this._trackingData;t&&(t.msInitialRebuffering=e)}trackSeekRebuffering(e){const t=this._trackingData;t&&(e>t.maxMsSeekRebuffering&&(t.maxMsSeekRebuffering=e),t.msSeekRebuffering+=e)}trackMsStalled(e){const t=this._trackingData;t&&(e>t.maxMsStalled&&(t.maxMsStalled=e),t.msStalled+=e,t.nStalls++)}trackLoadFailed(){const e=this._trackingData;e&&(this.trackPlayLatency(),e.position=0,e.addStartSegment())}trackStopped(e,t,s){var n,i,a,o;const r=this._trackingData;if(!r||r.isFinalized())return;if(r.stopTime=Date.now(),r.lastPlayPosition>=0&&e>=0&&r.lastPlayPosition<e){const t=e-r.lastPlayPosition;r.addMSPlayed(t)}r.addEndSegment(),r.sourceEnd=t.source||"unknown",r.reasonEnd=t.reason||"unknown",r.nextPlaybackId=t.playbackId||"",r.droppedVideoFrames=null!==(i=null===(n=null==s?void 0:s.video)||void 0===n?void 0:n.droppedVideoFrames)&&void 0!==i?i:0,r.totalVideoFrames=null!==(o=null===(a=null==s?void 0:s.video)||void 0===a?void 0:a.totalVideoFrames)&&void 0!==o?o:0,r.finalize(),as.info("Tracker data finalized.");const l=r.getPlaybackStats();this.emit(Q.TRACKER_TRACKING_DATA_FINALIZED,Object.assign({trackingData:r,playbackStats:l,playbackMetadataStore:this._playbackMetadataStore},xe())),""!==r.playbackId&&-1!==this._playbackHistory.indexOf(r.playbackId)&&this.emit(Q.TRACKER_LOG_CLIENT_EVENT,{source:"playback:tracker",event:"playback_id_reuse",payload:{playbackId:r.playbackId,playbackHistory:[...this._playbackHistory]}}),10===this._playbackHistory.length&&(this._playbackHistory=this._playbackHistory.slice(1)),this._playbackHistory.push(r.playbackId)}trackPositionChanged(e){const t=this._trackingData;if(!t)return;const s=t.position;e!==s&&(t.addEndSegment(),e>s?(t.nSeeksForward++,t.msSeeksForward+=e-s):e<s&&(t.nSeeksBackward++,t.msSeeksBackward+=s-e),t.position=e,t.lastPlayPosition=-1,t.addStartSegment())}trackPlaying(e){const t=this._trackingData;if(t){if(t.lastPlayPosition>=0&&t.lastPlayPosition<e){const s=e-t.lastPlayPosition;t.addMSPlayed(s)}t.position=e,t.lastPlayPosition=e}}trackPaused(e){const t=this._trackingData;if(t){if(t.lastPlayPosition>=0&&t.lastPlayPosition<e){const s=e-t.lastPlayPosition;t.addMSPlayed(s)}t.position=e,t.lastPlayPosition=e}}trackProgress(e,t){const s=this._trackingData;if(!(null==s?void 0:s.played))return;let n=0;if(s.lastPlayPosition>=0){if(n=e-s.lastPlayPosition,n<0)return void as.warn("Skipping msPlayed calculation: late progress event.");s.addMSPlayed(n)}this._checkPlayedThreshold(),s.position=e,s.lastPlayPosition=e,this._checkPercentileThresholds(),t&&s.trackBitrate(t,n)}trackSpeedChanged(e){const t=this._trackingData;t&&t.addSpeedChange(e)}trackVideoLoadStart(e){const t=this._trackingData;t&&t.registerVideoVariant(e)}trackWarning(){const e=this._trackingData;e&&e.nWarnings++}trackOffline(){const e=this._trackingData;e&&e.nOffline++}trackStrategy(e){const t=this._trackingData;t&&(t.strategy=e)}setActualDuration(e){const t=this._trackingData;t&&(t.msActualDuration=e)}setKeySystem(e){const t=this._trackingData;t&&(t.keySystem=e)}setKeySystemImpl(e){const t=this._trackingData;t&&(t.keySystemImpl=e)}setManifestLatency(e){const t=this._trackingData;t&&(t.msManifestLatency=e)}setKeyLatency(e){const t=this._trackingData;t&&(t.msKeyLatency=e)}setMemoryCached(e){const t=this._trackingData;t&&(t.memoryCached=e)}setPersistentCached(e){const t=this._trackingData;t&&(t.persistentCached=e)}setProtected(e){const t=this._trackingData;t&&(t.isProtected=e)}setHadError(e){const t=this._trackingData;t&&(t.hadError=e)}setLicenseSessionLatency(e){const t=this._trackingData;t&&(t.msLicenseSessionLatency=e)}setLicenseGenerationLatency(e){const t=this._trackingData;t&&(t.msLicenseGenerationLatency=e)}setLicenseRequestLatency(e){const t=this._trackingData;t&&(t.msLicenseRequestLatency=e)}setLicenseUpdateLatency(e){const t=this._trackingData;t&&(t.msLicenseUpdateLatency=e)}setResolveLatency(e){const t=this._trackingData;t&&(t.msResolveLatency=e)}setCalculatedDuration(e){const t=this._trackingData;t&&(t.msFileDuration=e)}setVideoSurface(e){this._trackingData&&(this._trackingData.videoSurface=e)}setIsVideoVisible(e){this._trackingData&&(this._trackingData.isVideoVisible=e)}trackFragment(e){const t=this._trackingData;if(!t)return;const{bandwidth:s,resolution:n}=e;n&&((n<t.minResolution||!t.minResolution)&&(t.minResolution=n),n>t.maxResolution&&(t.maxResolution=n)),(s<t.bpsBandwidthMin||!t.bpsBandwidthMin)&&(t.bpsBandwidthMin=s),s>t.bpsBandwidthMax&&(t.bpsBandwidthMax=s),t.bpsBandwidthAvg=t.bpsBandwidthAvg?(t.bpsBandwidthAvg+s)/2:s}trackProfileChanged(e){const t=this._trackingData;if(!t)return;const{bitrate:s}=e;s<t.lastBitrate&&t.nRenditionDowngrade++,s>t.lastBitrate&&t.nRenditionUpgrade++,t.lastBitrate=s}setContentClass(e){const t=this._trackingData;t&&(t.contentClass=e)}setKeySystemLabel(e){const t=this._trackingData;t&&(t.keySystemLabel=e)}setUrl(e){const t=this._trackingData;t&&(t.url=e)}setMediaType(e){const t=this._trackingData;t&&(t.mediaType=e)}setContentType(e="unknown"){const t=this._trackingData;t&&(t.contentType=e)}getPlaybackMetadataStore(){return this._playbackMetadataStore}}class rs extends d.bk{constructor(e){super(),this._transport=e,this._parseManifestResponse=this._parseManifestResponse.bind(this)}static create(e){return new rs(e)}_parseManifestResponse(e){var t;const s=e.metadata.startTime;if(200!==e.status){const t=new Xt(i.STORAGE_VIDEO_MANIFEST_FAILED,`Video manifest request failed with status ${e.status}`,{isNetworkRelated:!0});return t.status=e.status,t.debug=e.body,this.emit(Q.VIDEO_MANIFEST_RESOLVE_FAILED,Object.assign({url:e.url,error:t,start_time:s},xe())),Promise.reject(t)}const n=e.body,a=null===(t=e.headers)||void 0===t?void 0:t.get("content-length");return this.emit(Q.VIDEO_MANIFEST_RESOLVED,Object.assign({url:e.url,manifest_size:a?parseInt(a,10):JSON.stringify(n).length,start_time:s,end_time:Date.now()},xe())),Promise.resolve(n)}getInitSegmentURLs(e,t,s,n){let i="";s&&(i=e+t.replace("{{profile_id}}",s.id.toString(10)).replace("{{file_type}}",s.file_type));let a="";return n&&(a=e+t.replace("{{profile_id}}",n.id.toString(10)).replace("{{file_type}}",n.file_type)),{audio:i,video:a,audioLogging:i,videoLogging:a}}getSegmentURLs(e,t,s,n,i){let a="";n&&(a=e+t.replace("{{profile_id}}",n.id.toString(10)).replace("{{file_type}}",n.file_type));let o="";return i&&(o=e+t.replace("{{profile_id}}",i.id.toString(10)).replace("{{file_type}}",i.file_type)),{audio:a.replace("{{segment_timestamp}}",s.toString()),video:o.replace("{{segment_timestamp}}",s.toString()),audioLogging:a,videoLogging:o}}getManifest(e,t=!1){const s=`${t?"@webgate/manifests/v9/unauth/json/sources":"@webgate/manifests/v9/json/sources"}/${e}/options/supports_drm`;return this._transport.request(s,{authorize:!t,responseType:"json",parseResponseHeaders:!0,retry:{condition:(e,t)=>{const s=e.getStatusFamily();return 429===e.status||s===t.SERVER_ERROR||s===t.CONNECTION_ERROR}},metadata:{startTime:Date.now()}}).then(this._parseManifestResponse)}}var ls=s(45332);class ds extends Error{constructor(e,t,s={}){super(),this.status=-1,this.debug={},this.canPlayNext=!0,this.unrecoverable=!1,this.name="LicenseError",this.code=e,this.message=t,this.debug=s}static fatal(e,t,s={}){const n=new ds(e,t,s);return n.unrecoverable=!0,n.canPlayNext=!1,n}}class cs{constructor(e){this._sdk={name:"",version:""},this._securityLevel=null,this._urls={},e.sdk&&(this._sdk=e.sdk),e.securityLevel&&(this._securityLevel=e.securityLevel),this._transport=e.transport,this._useTestLicenseServer=!!e.useTestLicenseServer,this._transport.on(this._transport.EVENT_CONNECTION_ID,(()=>{this._urls={}}))}_getFallbackLicenseURL(e,t){switch(e){case"com.widevine.alpha":return`@webgate/${this._useTestLicenseServer?"widevine-license-test":"widevine-license"}/v1/${t}/license`;case"com.microsoft.playready":return`@webgate/playready-license/v1/${t}/license/{contentId}`;case"com.apple.fps.1_0":return`@webgate/fairplay-license/v1/${t}/license`;default:return}}get(e,t){const s=`${e}:${t}`,n=this._urls[s];if(n&&n.expires>Date.now()+6e4)return Promise.resolve(n.uri);const a=this._useTestLicenseServer?"&use_test_license_server=true":"",o=`@webgate/melody/v1/license_url?keysystem=${e}&mediatype=${t}&sdk_name=${this._sdk.name}&sdk_version=${this._sdk.version}${a}`;return this._transport.request(o,{responseType:"json",signal:(0,r.createAbortSignalWithTimeout)(1e3),retry:{condition:e=>{const t=e.getStatusFamily();return 429===e.status||t===ls.t.SERVER_ERROR||t===ls.t.CONNECTION_ERROR}}}).then((n=>{const a=n.body;if(a&&200===n.status)return a.expires*=1e3,a.uri=`@webgate/${a.uri}`,this._securityLevel&&(a.uri+=[-1!==a.uri.indexOf("?")?"&":"?","sl=",this._securityLevel].join("")),this._urls[s]=a,a.uri;let o;if(a)if(400===n.status&&a&&"deprecated-version"===a.code)o=ds.fatal(i.LICENSE_RESOLVER_DEPRECATED_VERSION,"This version of the SDK is no longer supported. Please upgrade");else if(n.getStatusFamily()===ls.t.SERVER_ERROR){const s=this._getFallbackLicenseURL(e,t);if(s)return s;o=new ds(i.LICENSE_RESOLVER_CANT_RESOLVE_URL,`Unsupported keysystem ${e}`,{isNetworkRelated:!0})}else o=new ds(i.LICENSE_RESOLVER_CANT_RESOLVE_URL,`License URL endpoint responded with status ${n.status}`,{isNetworkRelated:!0});else o=ds.fatal(i.LICENSE_RESOLVE_INVALID_RESPONSE,"License URL endpoint responded with invalid response");return o.status=n.status,Promise.reject(o)}),(s=>{let n;if(s.code===r.TransportErrors.HTTP_REQUEST_TIMEOUT){const s=this._getFallbackLicenseURL(e,t);if(s)return s;n=new ds(i.LICENSE_RESOLVER_CANT_RESOLVE_URL,`Unsupported keysystem ${e}`,{isNetworkRelated:!0})}return n=new ds(i.LICENSE_RESOLVER_CANT_RESOLVE_URL,"License URL endpoint request failed",{isNetworkRelated:!0}),Promise.reject(n)}))}remove(e,t){this._urls[`${e}:${t}`]=null}}class us{constructor(e){this._melodyLogger=new G.nj(e)}logTrackStreamVerification(e){return this._melodyLogger.sendLog("/v1/msg/batch",{type:"track_stream_verification",message:e},{batch:!0})}logJSSDKPlaybackStats(e){return this._melodyLogger.sendLog("/v1/msg/batch",{type:"jssdk_playback_stats",message:e},{batch:!0})}logJSSDKPlaybackStart(e){return this._melodyLogger.sendLog("/v1/msg/batch",{type:"jssdk_playback_start",message:e},{batch:!0})}logJSSDKError(e){return this._melodyLogger.sendLog("/v1/msg/batch",{type:"jssdk_error",message:e},{batch:!0})}logJSSDKWarning(e){return this._melodyLogger.sendLog("/v1/msg/batch",{type:"jssdk_warning",message:e},{batch:!0})}logJSSDKClientEvent(e){return this._melodyLogger.sendLog("/v1/msg/batch",{type:"client_event",message:e},{batch:!0})}logJSSDKPlaybackError(e){return this._melodyLogger.sendLog("/v1/msg/batch",{type:"jssdk_playback_error",message:e},{batch:!0})}}var ps;!function(e){e[e.ABORTED=101]="ABORTED",e[e.NETWORK=102]="NETWORK",e[e.MEDIA_DECODING=103]="MEDIA_DECODING",e[e.SRC_NOT_SUPPORTED=104]="SRC_NOT_SUPPORTED",e[e.EME=105]="EME",e[e.GENERIC=100]="GENERIC"}(ps||(ps={}));const ms={[i.MEDIA_ABORTED]:ps.ABORTED,[i.MEDIA_DECODING_ERROR]:ps.MEDIA_DECODING,[i.MEDIA_NOT_SUPPORTED]:ps.SRC_NOT_SUPPORTED,[i.MEDIA_NETWORK_ERROR]:ps.NETWORK};function hs(e){let t=ms[e];return/_REQUEST_|_RESPONSE$/.test(e)?t=ps.NETWORK:t||(t=/^EME_/.test(e)?ps.EME:ps.GENERIC),t}function _s(e){var t;const s=e.match(/^https?:\/\/([^/]+@)?([^/?#]+)/);return null!==(t=null==s?void 0:s[2])&&void 0!==t?t:""}var ys,bs;!function(e){e.READY="playerready",e.VIDEO_CHANGE="videochange",e.PLAY="play",e.PLAYING="playing",e.PAUSE="pause",e.TIMEUPDATE="timeupdate",e.SEEKING="seeking",e.SEEKED="seeked",e.ERROR="error",e.ENDED="ended",e.RENDITION_CHANGE="renditionchange",e.REBUFFERSTART="rebufferstart",e.REBUFFEREND="rebufferend",e.REQUEST_COMPLETED="requestcompleted",e.REQUEST_FAILED="requestfailed",e.REQUEST_CANCELED="requestcanceled"}(ys||(ys={})),function(e){e.MUSIC_VIDEO="Music Video",e.VODCAST="Video Podcast",e.AD="Ad"}(bs||(bs={}));const gs={episode:bs.VODCAST,track:bs.MUSIC_VIDEO,ad:bs.AD},fs={player_is_paused:!0,player_width:0,player_height:0,video_source_height:0,video_source_width:0,player_is_fullscreen:void 0,player_autoplay_on:void 0,player_preload_on:void 0,video_source_url:void 0,video_source_mime_type:void 0,video_source_duration:void 0,video_poster_url:void 0,player_language_code:void 0};class vs{constructor(e){this._playerId=`spotify-playback-${Date.now()}`,this._currentContentInfo=null,this._readyDeferred=(0,c.u)(),this._isMuxInitialized=!1,this._muxInitData=null,this._player=e.player,this._mux=e.mux,this._getPlayheadTime=this._getPlayheadTime.bind(this),this._getStateData=this._getStateData.bind(this),this._init(e)}static create(e){return new vs(e)}_init(e){Promise.all([Promise.resolve(e.deviceInfo)]).then((([t])=>{var s;this._muxInitData={data:Object.assign({env_key:e.envKey||"2qbjhhcl4u87btjbo7dh8vi2n",player_name:null!==(s=null==t?void 0:t.platform_name)&&void 0!==s?s:null==t?void 0:t.platform,player_version:null==t?void 0:t.version,viewer_device_manufacturer:null==t?void 0:t.brand,viewer_device_category:null==t?void 0:t.type,viewer_device_name:null==t?void 0:t.model,player_software_name:e.sdk||"spotify-playback",player_software_version:e.sdkVersion||A.version,player_mux_plugin_name:"spotify-playback-mux-reporter",player_mux_plugin_version:A.version},e.muxCustomDimensions),getPlayheadTime:this._getPlayheadTime,getStateData:this._getStateData,disablePlayheadRebufferTracking:!0},this._player.addListeners({[Q.PLAYER_BEFORE_LOAD]:this._onBeforeLoad.bind(this),[Q.PLAYER_PLAY]:this._onPlay.bind(this),[Q.PLAYER_PLAYING]:this._onPlaying.bind(this),[Q.PLAYER_PAUSED]:this._onPause.bind(this),[Q.PLAYER_PROGRESS]:this._onProgress.bind(this),[Q.PLAYER_SEEKING]:this._onSeeking.bind(this),[Q.PLAYER_POSITION_CHANGED]:this._onPositionChanged.bind(this),[Q.PLAYER_ERROR]:this._onError.bind(this),[Q.PLAYER_ENDED]:this._onEnded.bind(this),[Q.PLAYER_DURATION_CHANGED]:this._onDurationChanged.bind(this),[Q.PLAYER_VIDEO_RESIZED]:this._onVideoResized.bind(this),[Q.PLAYER_VIDEO_PROFILE_CHANGED]:this._onVideoProfileChanged.bind(this),[Q.PLAYER_FRAGMENT_FETCHED]:this._onFragmentFetched.bind(this),[Q.PLAYER_FRAGMENT_FETCH_ERROR]:this._onFragmentFetchError.bind(this),[Q.PLAYER_VIDEO_MANIFEST_RESOLVED]:this._onVideoManifestResolved.bind(this),[Q.PLAYER_VIDEO_MANIFEST_RESOLVE_FAILED]:this._onVideoManifestResolveFailed.bind(this),[Q.PLAYER_REBUFFERING_START]:this._onRebufferingStart.bind(this),[Q.PLAYER_REBUFFERING_END]:this._onRebufferingEnd.bind(this)})})).then(this._readyDeferred.resolve,this._readyDeferred.reject)}_getPlayheadTime(){return this._player.getPlayerPosition()}_getStateData(){return this._currentContentInfo?Object.assign(Object.assign({},this._currentContentInfo.stateData),{player_language_code:this._player.getActiveSubtitleLanguage()}):null}_onDurationChanged(e){this._currentContentInfo&&(this._currentContentInfo.stateData.video_source_duration=e.data.duration)}_onVideoResized(e){this._currentContentInfo&&(this._currentContentInfo.stateData.player_width=e.data.width,this._currentContentInfo.stateData.player_height=e.data.height)}_onBeforeLoad(e){const{track:t,options:s,logData:n}=e.data,i=!!this._currentContentInfo;if("video"!==t.mediaType||(null==n?void 0:n.noLog)||(null==n?void 0:n.noMuxEvents))return i&&this._mux.emit(this._playerId,ys.VIDEO_CHANGE,{}),void(this._currentContentInfo=null);const a={video_id:t.fileId,video_title:(null==n?void 0:n.displayTitle)||void 0,video_series:(null==n?void 0:n.displayGroup)||void 0,video_duration:(null==n?void 0:n.displayDuration)||void 0},o=t.logData.uriType;o&&o in gs&&(a.video_content_type=gs[o]||void 0);const r=Object.assign({},fs);this._currentContentInfo={track:t,options:s,videoData:a,stateData:r},!this._isMuxInitialized&&this._muxInitData?(this._mux.init(this._playerId,this._muxInitData),this._mux.emit(this._playerId,ys.READY),this._isMuxInitialized=!0):i&&this._mux.emit(this._playerId,ys.VIDEO_CHANGE,a)}_onPlay(){var e,t;if(!this._currentContentInfo)return;const s=this._currentContentInfo.stateData,n=this._player.getPlayerState(),i=n.media_info,a=(null===(t=null===(e=this._currentContentInfo)||void 0===e?void 0:e.options)||void 0===t?void 0:t.autoplay)||!1,{width:o,height:r,src:l,poster:d}=n.player_element;s.player_is_paused=!n.playing,s.player_width=o||0,s.player_height=r||0,s.video_source_height=i.video_height||0,s.video_source_width=i.video_width||0,s.player_autoplay_on=a,s.video_source_url=l,s.video_source_mime_type=i.video_format,s.video_source_duration=n.duration,s.video_poster_url=d,this._mux.emit(this._playerId,ys.PLAY,this._currentContentInfo.videoData)}_onPlaying(){if(!this._currentContentInfo)return;this._currentContentInfo.stateData.player_is_paused=!1;const{buffering:e}=this._player.getPlayerState();e||this._mux.emit(this._playerId,ys.PLAYING)}_onPause(){this._currentContentInfo&&(this._currentContentInfo.stateData.player_is_paused=!0,this._mux.emit(this._playerId,ys.PAUSE))}_onProgress(e){this._currentContentInfo&&this._mux.emit(this._playerId,ys.TIMEUPDATE,{player_playhead_time:e.data.position})}_onSeeking(){this._currentContentInfo&&this._mux.emit(this._playerId,ys.SEEKING)}_onPositionChanged(){this._currentContentInfo&&this._mux.emit(this._playerId,ys.SEEKED)}_onError(e){var t,s;const n=null===(s=null===(t=e.data)||void 0===t?void 0:t.error)||void 0===s?void 0:s.code;this._currentContentInfo&&n&&this._mux.emit(this._playerId,ys.ERROR,{player_error_code:hs(n),player_error_message:n})}_onEnded(){this._currentContentInfo&&this._mux.emit(this._playerId,ys.ENDED)}_onVideoProfileChanged(e){if(!this._currentContentInfo)return;const t=e.data.profile,s=this._currentContentInfo.stateData;s.video_source_height=t.height||0,s.video_source_width=t.width||0,s.video_source_mime_type=t.mimeType,this._mux.emit(this._playerId,ys.RENDITION_CHANGE,{video_source_bitrate:t.bitrate,video_source_width:t.width,video_source_height:t.height})}_onFragmentFetched(e){const t=e.data;if(!this._currentContentInfo&&"video"!==t.media_type)return;const s=`${t.segment_type}${t.init?"_init":""}`;this._mux.emit(this._playerId,ys.REQUEST_COMPLETED,{request_type:s,request_hostname:_s(t.url),request_start:t.start_time,request_response_end:t.end_time,request_bytes_loaded:t.byte_length})}_onFragmentFetchError(e){const t=e.data;if(!this._currentContentInfo&&"video"!==t.media_type)return;const s=`${t.segment_type}${t.init?"_init":""}`;this._mux.emit(this._playerId,ys.REQUEST_FAILED,{request_type:s,request_hostname:_s(t.url),request_start:t.start_time,request_error:t.error.code,request_error_code:t.error.status,request_error_text:""})}_onVideoManifestResolved(e){const t=e.data;this._currentContentInfo&&this._mux.emit(this._playerId,ys.REQUEST_COMPLETED,{request_type:"manifest",request_hostname:_s(t.url),request_start:t.start_time,request_response_end:t.end_time,request_bytes_loaded:t.manifest_size})}_onVideoManifestResolveFailed(e){const t=e.data;this._currentContentInfo&&this._mux.emit(this._playerId,ys.REQUEST_FAILED,{request_type:"manifest",request_hostname:_s(t.url),request_start:t.start_time,request_error:t.error.code,request_error_code:t.error.status,request_error_text:""})}_onRebufferingStart(){this._currentContentInfo&&this._mux.emit(this._playerId,ys.REBUFFERSTART)}_onRebufferingEnd(){if(!this._currentContentInfo)return;this._mux.emit(this._playerId,ys.REBUFFEREND);const{playing:e}=this._player.getPlayerState();e&&this._mux.emit(this._playerId,ys.PLAYING)}ready(){return this._readyDeferred.promise}}var Es,ws,Ss,Rs,Ts;function As(e){return"uri"in e}!function(e){e.NULL_VALUE="NULL_VALUE",e.LIST_START="LIST_START",e.LIST_END="LIST_END",e.FORBIDDEN="FORBIDDEN",e.IGNORE="IGNORE",e.PAUSE="PAUSE"}(Es||(Es={})),function(e){e.AAC_LC="mp4a.40.2",e.AAC_HE="mp4a.40.5",e.FLAC="flac",e.OPUS="opus",e.VP9="vp9",e.VP8="vp8",e.H264_31="avc1.4d401f"}(ws||(ws={})),function(e){e.UNKNOWN="UNKNOWN",e.DEFAULT="DEFAULT",e.LOW="LOW",e.NORMAL="NORMAL",e.HIGH="HIGH",e.VERY_HIGH="VERY_HIGH",e.HIFI="HIFI"}(Ss||(Ss={})),function(e){e.NONE="NONE",e.CONTEXT="CONTEXT",e.TRACK="TRACK"}(Rs||(Rs={})),function(e){e.EMPTY="EMPTY",e.SW_CRYPTO="SW_CRYPTO",e.SW_DECODE="SW_DECODE",e.HW_CRYPTO="HW_CRYPTO",e.HW_DECODE="HW_DECODE",e.HW_ALL="HW_ALL"}(Ts||(Ts={}));class xs extends d.bk{constructor(e){if(super(),this._trackPlayerPromise=(0,c.u)(),this._maxListErrors=5,this._uid=0,this._loadedList=null,this._loadedOptions=null,this._currentTrack=null,this._currentTrackOptions=null,this._listPlayCount=0,this._listErrorCount=0,this._shuffled=!1,this._repeatMode=Rs.NONE,this._currentSeqId=0,!e.trackPlayer)throw new TypeError("Argument `options.trackPlayer` not found.");e.maxListErrors&&(this._maxListErrors=e.maxListErrors),this._setListOptions=this._setListOptions.bind(this),this._replaceCurrentList=this._replaceCurrentList.bind(this),this._handleCapped=this._handleCapped.bind(this),this._handlePlaying=this._handlePlaying.bind(this),this._handlePaused=this._handlePaused.bind(this),this._handleEnded=this._handleEnded.bind(this),this._handleCanPreload=this._handleCanPreload.bind(this),this._handleError=this._handleError.bind(this),this._handlePositionChanged=this._handlePositionChanged.bind(this),this._handleDurationChanged=this._handleDurationChanged.bind(this),this._handleTimeout=this._handleTimeout.bind(this),this._handlePlayerInitError=this._handlePlayerInitError.bind(this),this._handleProgress=this._handleProgress.bind(this),this._handlePlayedThresholdReached=this._handlePlayedThresholdReached.bind(this),this._handleBeforeLoad=this._handleBeforeLoad.bind(this),this._init(e.trackPlayer)}static create(e){return new xs(e)}_init(e){this._trackPlayerPromise.promise.catch((()=>{})),Promise.resolve(e).then((e=>{this._attachPlayerEvents(e),this._trackPlayerPromise.resolve(e)})).catch(this._handlePlayerInitError)}_attachPlayerEvents(e){e.addListeners({[Q.PLAYER_CAN_PRELOAD]:this._handleCanPreload,[Q.PLAYER_CAPPED]:this._handleCapped,[Q.PLAYER_ENDED]:this._handleEnded,[Q.PLAYER_ERROR]:this._handleError,[Q.PLAYER_PAUSED]:this._handlePaused,[Q.PLAYER_PLAYING]:this._handlePlaying,[Q.PLAYER_TIMEOUT]:this._handleTimeout,[Q.PLAYER_POSITION_CHANGED]:this._handlePositionChanged,[Q.PLAYER_DURATION_CHANGED]:this._handleDurationChanged,[Q.PLAYER_PROGRESS]:this._handleProgress,[Q.PLAYER_BEFORE_LOAD]:this._handleBeforeLoad,[Q.PLAYER_PLAYED_THRESHOLD_REACHED]:this._handlePlayedThresholdReached}),this.proxyEmitAllSync(e,{[Q.PLAYER_BEFORE_VOLUME_CHANGE]:Q.LIST_PLAYER_BEFORE_VOLUME_CHANGE,[Q.PLAYER_VOLUME_CHANGED]:Q.LIST_PLAYER_VOLUME_CHANGED,[Q.PLAYER_LOAD]:Q.LIST_PLAYER_PLAYER_LOAD,[Q.REPORTING_START]:Q.REPORTING_START,[Q.REPORTING_CREATIVE_VIEW]:Q.REPORTING_CREATIVE_VIEW,[Q.REPORTING_FIRST_QUARTILE]:Q.REPORTING_FIRST_QUARTILE,[Q.REPORTING_MIDPOINT]:Q.REPORTING_MIDPOINT,[Q.REPORTING_THIRD_QUARTILE]:Q.REPORTING_THIRD_QUARTILE,[Q.REPORTING_COMPLETE]:Q.REPORTING_COMPLETE,[Q.REPORTING_PAUSE]:Q.REPORTING_PAUSE,[Q.REPORTING_RESUME]:Q.REPORTING_RESUME,[Q.REPORTING_ERROR]:Q.REPORTING_ERROR}),this.proxyEmitAll(e,{[Q.PLAYER_AUTOPLAY_FAILED]:Q.LIST_PLAYER_AUTOPLAY_FAILED,[Q.PLAYER_TRACKING_DATA_CREATED]:Q.LIST_PLAYER_TRACKING_DATA_CREATED,[Q.PLAYER_TRACKING_DATA_FINALIZED]:Q.LIST_PLAYER_TRACKING_DATA_FINALIZED,[Q.PLAYER_BUFFER_STALLED]:Q.LIST_PLAYER_BUFFER_STALLED,[Q.PLAYER_BUFFERING_START]:Q.LIST_PLAYER_BUFFERING_START,[Q.PLAYER_BUFFERING_END]:Q.LIST_PLAYER_BUFFERING_END,[Q.PLAYER_REBUFFERING_START]:Q.LIST_PLAYER_REBUFFERING_START,[Q.PLAYER_REBUFFERING_END]:Q.LIST_PLAYER_REBUFFERING_END,[Q.PLAYER_VIDEO_ELEMENT_APPENDED]:Q.LIST_PLAYER_VIDEO_ELEMENT_APPENDED,[Q.PLAYER_VIDEO_ELEMENT_REMOVED]:Q.LIST_PLAYER_VIDEO_ELEMENT_REMOVED,[Q.PLAYER_DISPLAYED_CUES_CHANGED]:Q.LIST_PLAYER_DISPLAYED_CUES_CHANGED,[Q.PLAYER_VIDEO_PROFILE_CHANGED]:Q.LIST_PLAYER_VIDEO_PROFILE_CHANGED,[Q.PLAYER_PLAYBACK_SPEED_CHANGED]:Q.LIST_PLAYER_PLAYBACK_SPEED_CHANGED,[Q.PLAYER_MUTED_CHANGED]:Q.LIST_PLAYER_MUTED_CHANGED,[Q.PLAYER_SEEKING]:Q.LIST_PLAYER_SEEKING,[Q.PLAYER_SUBTITLE_LANGUAGES_LOADED]:Q.LIST_PLAYER_SUBTITLE_LANGUAGES_LOADED,[Q.PLAYER_PLAYING_PROFILE_CHANGED]:Q.LIST_PLAYER_PLAYING_PROFILE_CHANGED,[Q.PLAYER_FIRST_BYTES]:Q.LIST_PLAYER_FIRST_BYTES,[Q.PLAYER_BEFORE_STOP]:Q.LIST_PLAYER_BEFORE_STOP,[Q.PLAYER_VIDEO_VISIBILITY_CHANGED]:Q.LIST_PLAYER_VIDEO_VISIBILITY_CHANGED,[Q.PLAYER_MEDIA_PLAYBACK_MODE_CHANGED]:Q.LIST_PLAYER_MEDIA_PLAYBACK_MODE_CHANGED,[Q.PLAYER_VIDEO_SURFACE_CHANGED]:Q.LIST_PLAYER_VIDEO_SURFACE_CHANGED})}_translatePosition(e){var t,s,n;return null!==(n=null===(s=null===(t=this._loadedList)||void 0===t?void 0:t.translatePosition)||void 0===s?void 0:s.call(t,e))&&void 0!==n?n:e}_translateDuration(e){var t,s,n;const i=isNaN(e)?0:e;return null!==(n=null===(s=null===(t=this._loadedList)||void 0===t?void 0:t.translateDuration)||void 0===s?void 0:s.call(t,i))&&void 0!==n?n:i}_handleProgress(e){this.emit(Q.LIST_PLAYER_PROGRESS,Object.assign(Object.assign({},e.data),{position:this._translatePosition(e.data.position)}))}_handleBeforeLoad(e){this.emit(Q.LIST_PLAYER_BEFORE_PLAYER_LOAD,Object.assign(Object.assign({},e.data),{options:Object.assign(Object.assign({},e.data.options),{position:this._translatePosition(e.data.options.position)})}))}_handlePlayerInitError(e){this._trackPlayerPromise.reject(new ee(i.LIST_PLAYER_NO_TRACK_PLAYER,e.message||"Track player promise was rejected."))}_handleCapped(e){const t=this._currentTrack;t&&this.emit(Q.LIST_PLAYER_CAPPED,Object.assign({uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList},e.data))}_handlePlaying(e){const t=this._currentTrack;t&&this.emit(Q.LIST_PLAYER_PLAYING,{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,timestamp:e.data.timestamp,monotonicTimestamp:e.data.monotonicTimestamp,position:this._translatePosition(e.data.position),playbackMetadataStore:e.data.playbackMetadataStore})}_handlePaused(e){const t=this._currentTrack;t&&this.emit(Q.LIST_PLAYER_PAUSED,{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,timestamp:e.data.timestamp,monotonicTimestamp:e.data.monotonicTimestamp,position:this._translatePosition(e.data.position),playbackMetadataStore:e.data.playbackMetadataStore})}_handleCanPreload(){this._preloadUpcomingTrack().catch((()=>{}))}_handleEnded(e){const t=this._currentTrack;t&&(this.emit(Q.LIST_PLAYER_TRACK_ENDED,Object.assign({uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList},e.data)),this.next(g.TRACK_DONE))}_handleTimeout(e){const t=this._currentTrack;t&&(this.emit(Q.LIST_PLAYER_TRACK_TIMEOUT,Object.assign({uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList},e.data)),this.next(g.TRACK_ERROR))}_handlePositionChanged(e){const t=this._currentTrack;t&&this.emit(Q.LIST_PLAYER_POSITION_CHANGED,{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,previousPosition:null!==e.data.previousPosition?this._translatePosition(e.data.previousPosition):e.data.previousPosition,position:this._translatePosition(e.data.position),timestamp:e.data.timestamp,monotonicTimestamp:e.data.monotonicTimestamp,playbackMetadataStore:e.data.playbackMetadataStore})}_handleDurationChanged(e){const t=this._currentTrack;t&&this.emit(Q.LIST_PLAYER_DURATION_CHANGED,{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,position:this._translatePosition(e.data.position),duration:this._translateDuration(e.data.duration),timestamp:e.data.timestamp,monotonicTimestamp:e.data.monotonicTimestamp,playbackMetadataStore:e.data.playbackMetadataStore})}_handlePlayedThresholdReached(e){const t=this._currentTrack;t&&this.emit(Q.LIST_PLAYER_PLAYED_THRESHOLD_REACHED,{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,threshold:e.data.threshold,position:this._translatePosition(e.data.position),timestamp:e.data.timestamp,monotonicTimestamp:e.data.monotonicTimestamp})}_handleError(e){const t=this._currentTrack,s=e.data;if(!t)return;s.position=this._translatePosition(e.data.position),this.emit(Q.LIST_PLAYER_ERROR,s),this.emitSync(Q.LIST_PLAYER_ERROR_SYNC,s);const n=!!s.error&&s.error.listPlayerIgnore;n||this._listErrorCount++,s.canPlayNext&&(n||this._listErrorCount<=this._maxListErrors?this.next(g.TRACK_ERROR):this.emit(Q.LIST_PLAYER_MAX_LIST_ERRORS_REACHED,{count:this._listErrorCount,threshold:this._maxListErrors,timestamp:e.data.timestamp,monotonicTimestamp:e.data.monotonicTimestamp}))}_handleTrackLoaded(e){this.emitSync(Q.LIST_PLAYER_TRACK_LOADED,e)}_incrementSeqId(){return this._currentSeqId>=9007199254740991?this._currentSeqId=0:this._currentSeqId+=1,this._currentSeqId}_getTrackPlayer(){return this._trackPlayerPromise.promise}_setListIndex(e,t){const s=t.index&&-1!==t.index?t.index:0;return Promise.all([e,t,e.startAt(s)])}_setListOptions([e,t,s]){return Promise.all([e.setShuffle(!!this._shuffled),e.setRepeatMode(this._repeatMode)]).then((()=>[e,t]))}_replaceCurrentList([e,t]){return this.emitSync(Q.LIST_PLAYER_BEFORE_LIST_CHANGE,Object.assign({newList:e,newOptions:t,oldList:this._loadedList,oldOptions:this._loadedOptions},xe())),this._loadedList=e,this._loadedOptions=t,this._listPlayCount=0,this._listErrorCount=0,this.emit(Q.LIST_PLAYER_LIST_CHANGED,Object.assign({list:e,options:t},xe())),Z.SUCCESS}_changeTrack(e,t,s){if(this._currentSeqId!==s)return Promise.resolve(Z.CANCELLED);this.emitSync(Q.LIST_PLAYER_BEFORE_TRACK_LOAD,Object.assign({list:this._loadedList,newTrack:e,oldTrack:this._currentTrack},xe())),this._uid++;const n=++this._listPlayCount,i=this._loadedOptions;let a,o=!0,r=0,l=3e4,d=!1,c=!1;i&&(1===n?(o=!i.paused,r=i.initialPosition||i.position||0):r=i.position||0,d=i.muted||!1,c=i.loop||!1);const u=t===g.TRACK_DONE;if(e.options){const t=e.options;void 0!==t.paused&&(o=!t.paused),void 0!==t.position&&(r=t.position),void 0!==t.playedThreshold&&(l=t.playedThreshold),void 0!==t.loadingTimeout&&(a=t.loadingTimeout),void 0!==t.muted&&(d=t.muted),void 0!==t.loop&&(c=t.loop)}this._currentTrack=e,this._currentTrackOptions={reason:t,paused:!o,position:r,playedThreshold:l,muted:d,loop:c};const p=this._handleTrackLoaded.bind(this,Object.assign({uid:this._uid,track:this._currentTrack,options:this._currentTrackOptions,list:this._loadedList},xe()));return this._getTrackPlayer().then((t=>this._currentSeqId!==s?Z.CANCELLED:(Promise.resolve(t.load(e,{uriProperty:"playableURI",autoplay:o,position:r,playedThreshold:l,continuePrevious:u,loadingTimeout:a,muted:d,loop:c},p)).catch((()=>{})),Z.SUCCESS)))}_preloadUpcomingTrack(){const e=this._loadedList;return e?e.peekNext({reason:g.TRACK_DONE,listConstants:Es}).then((e=>e===Es.FORBIDDEN?Z.FORBIDDEN:e===Es.NULL_VALUE?Z.INVALID:e===Es.LIST_END?Z.LIST_END:As(e)&&e.playable?this.preloadTrack(e):Z.INVALID)):Promise.reject(new ee(i.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."))}preloadTrack(e){return this._getTrackPlayer().then((t=>(t.preload(e).catch((()=>{})),Z.SUCCESS)))}activateElement(){return this._getTrackPlayer().then((e=>(e.activateElement(),Z.SUCCESS)))}load(e,t){const s=function(e={}){const t={index:-1,position:0,initialPosition:0,playbackSpeed:1,duration:-1,paused:!1,reason:g.UNKNOWN,muted:!1,loop:!1};return void 0!==e.index&&(t.index=e.index),void 0!==e.position&&(t.position=e.position),void 0!==e.initialPosition&&(t.initialPosition=e.initialPosition),void 0!==e.duration&&(t.duration=e.duration),void 0!==e.paused&&(t.paused=e.paused),void 0!==e.playbackSpeed&&(t.playbackSpeed=e.playbackSpeed),void 0!==e.reason&&(t.reason=e.reason),void 0!==e.muted&&(t.muted=e.muted),void 0!==e.loop&&(t.loop=e.loop),t}(t||this._loadedOptions||{});return this._setListIndex(e,s).then(this._setListOptions).then(this._replaceCurrentList)}play(e,t){return this.load(e,t).then((()=>{if(this._loadedList!==e)return Z.CANCELLED;const t=this._loadedOptions?this._loadedOptions.reason:g.UNKNOWN;return this.next(t)}))}canChangeTrack(){return this._loadedList?this._loadedList.peekNext({reason:g.FORWARD_BUTTON,listConstants:Es}).then((e=>e!==Es.FORBIDDEN)):Promise.resolve(!0)}next(e){if(!e)return Promise.reject(new ee(i.LIST_PLAYER_INVALID_ARGUMENT,"The argument `reason` is required."));const t=this._loadedList;if(!t)return Promise.reject(new ee(i.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."));this.emitSync(Q.LIST_PLAYER_BEFORE_NEXT,Object.assign({list:t,reason:e},xe()));const s=this._incrementSeqId(),n={reason:e,listConstants:Es};return t.next(n).then((n=>this._currentSeqId!==s?Z.CANCELLED:n===Es.FORBIDDEN?Z.FORBIDDEN:n===Es.NULL_VALUE?this.next(e):n===Es.LIST_END?(this.emit(Q.LIST_PLAYER_LIST_ENDED,Object.assign({list:t,reason:g.END_PLAY},xe())),this.clear(e),Z.LIST_END):As(n)?n.playable?this._changeTrack(n,e,s):(this.emit(Q.LIST_PLAYER_TRACK_UNPLAYABLE,Object.assign({track:n,list:t},xe())),this.next(e)):Z.INVALID))}previous(e){if(!e)return Promise.reject(new ee(i.LIST_PLAYER_INVALID_ARGUMENT,"The argument `reason` is required."));const t=this._loadedList;if(!t)return Promise.reject(new ee(i.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."));this.emitSync(Q.LIST_PLAYER_BEFORE_PREVIOUS,Object.assign({list:t,reason:e},xe()));const s=this._incrementSeqId(),n={reason:e,listConstants:Es};return t.previous(n).then((n=>this._currentSeqId!==s?Z.CANCELLED:n===Es.FORBIDDEN?Z.FORBIDDEN:n===Es.NULL_VALUE?this.previous(e):n===Es.LIST_START?(this.emit(Q.LIST_PLAYER_LIST_ENDED,Object.assign({list:t,reason:g.END_PLAY},xe())),this.clear(e),Z.LIST_END):As(n)?n.playable?this._changeTrack(n,e,s):(this.emit(Q.LIST_PLAYER_TRACK_UNPLAYABLE,Object.assign({track:n,list:t},xe())),this.previous(e)):Z.INVALID))}pause(){return this._loadedList?this._currentTrack?this._getTrackPlayer().then((e=>e.pause().then((()=>Z.SUCCESS)).catch((e=>"AbortError"===(null==e?void 0:e.name)?Z.CANCELLED:Z.FORBIDDEN)))):Promise.resolve(Z.SUCCESS):Promise.reject(new ee(i.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."))}resume(){return this._loadedList?this._currentTrack?this._getTrackPlayer().then((e=>e.resume().then((()=>Z.SUCCESS)).catch((e=>"AbortError"===(null==e?void 0:e.name)?Z.CANCELLED:Z.FORBIDDEN)))):Promise.resolve(Z.SUCCESS):Promise.reject(new ee(i.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."))}togglePlay(){return this._loadedList?this._currentTrack?this._getTrackPlayer().then((e=>e.togglePlay().then((()=>Z.SUCCESS)).catch((e=>"AbortError"===(null==e?void 0:e.name)?Z.CANCELLED:Z.FORBIDDEN)))):Promise.resolve(Z.SUCCESS):Promise.reject(new ee(i.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."))}stop(e){const t={reason:e||g.UNKNOWN},s=this._currentTrack;return s&&s.logData&&(t.source=s.logData.source,t.playbackService=s.logData.playbackService),this._incrementSeqId(),this._getTrackPlayer().then((e=>(e.stop(t),this.emit(Q.LIST_PLAYER_STOPPED,Object.assign({uid:this._uid,options:this._currentTrackOptions,list:this._loadedList},xe())),Z.SUCCESS)))}clear(e){return this.stop(e).then((()=>(this._loadedList=null,this._loadedOptions=null,this._currentTrack=null,this._currentTrackOptions=null,this.emit(Q.LIST_PLAYER_CLEARED,Object.assign({},xe())),Z.SUCCESS)))}setShuffle(e){const t=!!e;if(this._shuffled!==t){this._shuffled=t,this.emit(Q.LIST_PLAYER_SHUFFLE_CHANGED,Object.assign({player:this,shuffled:t},xe()));const e=this._loadedList;e&&e.setShuffle(this._shuffled)}return Promise.resolve(Z.SUCCESS)}setRepeatMode(e){if(!(e in Rs))return Promise.reject(new ee(i.LIST_PLAYER_INVALID_ARGUMENT,"The value of repeat mode is not a correct RepeatMode enum value"));if(this._repeatMode!==e){this._repeatMode=e,this.emit(Q.LIST_PLAYER_REPEAT_MODE_CHANGED,Object.assign({player:this,repeatMode:e},xe()));const t=this._loadedList;t&&t.setRepeatMode(this._repeatMode)}return Promise.resolve(Z.SUCCESS)}getVolume(){return this._getTrackPlayer().then((e=>e.getVolume()))}setVolume(e,t=null){return this._getTrackPlayer().then((s=>(s.setVolume(e,{commandId:null!=t?t:void 0}),Z.SUCCESS)))}seek(e,t=g.SEEK){var s,n;const a=this._loadedList;if(!a)return Promise.reject(new ee(i.LIST_PLAYER_NO_LIST,"Cannot perform operation; no list was loaded."));if("function"==typeof a.allowSeeking&&!a.allowSeeking())return Promise.reject(new ee(i.LIST_PLAYER_FORBIDDEN,"The operation is not allowed."));const o=null!==(n=null===(s=a.handleSeek)||void 0===s?void 0:s.call(a,e,{reason:t,listConstants:Es}))&&void 0!==n?n:e;return o===Es.PAUSE?this.pause().then((t=>(this.emit(Q.LIST_PLAYER_SEEK_HANDLED,Object.assign({position:e,reason:o},xe())),t))):o===Es.IGNORE?(this.emit(Q.LIST_PLAYER_SEEK_HANDLED,Object.assign({position:e,reason:o},xe())),Promise.resolve(Z.SUCCESS)):this._currentTrack?this._getTrackPlayer().then((e=>(e.seek(o),Z.SUCCESS))):Promise.resolve(Z.SUCCESS)}getListConstants(){return Es}getLoadedList(){return this._loadedList}getLoadedOptions(){return this._loadedOptions}getPlayerState(){return this._getTrackPlayer().then((e=>{const t=e.getPlayerState();return Object.assign(Object.assign({},t),{position:this._translatePosition(t.position),duration:this._translateDuration(t.duration)})}))}getState(){return this.getPlayerState().then((e=>({playbackState:e,track:this._currentTrack,list:this._loadedList,options:this._loadedOptions})))}getMediaConfig(){return this._getTrackPlayer().then((e=>e.getMediaConfig()))}hideSubtitles(){return this._getTrackPlayer().then((e=>e.hideSubtitles())).then((()=>Z.SUCCESS))}showSubtitles(){return this._getTrackPlayer().then((e=>e.showSubtitles())).then((()=>Z.SUCCESS))}areSubtitlesShown(){return this._getTrackPlayer().then((e=>e.areSubtitlesShown()))}getSubtitleLanguages(){return this._getTrackPlayer().then((e=>e.getSubtitleLanguages()))}getActiveSubtitleLanguage(){return this._getTrackPlayer().then((e=>{var t;return null!==(t=e.getActiveSubtitleLanguage())&&void 0!==t?t:null}))}deactivateCueEvents(){return this._getTrackPlayer().then((e=>e.deactivateCueEvents())).then((()=>Z.SUCCESS))}activateCueEvents(){return this._getTrackPlayer().then((e=>e.activateCueEvents())).then((()=>Z.SUCCESS))}getCurrentBandwidth(){return this._getTrackPlayer().then((e=>e.getCurrentBandwidth()))}setSubtitleLanguage(e){return this._getTrackPlayer().then((t=>t.setSubtitleLanguage(e))).then((()=>Z.SUCCESS))}setPlaybackSpeed(e){return this._getTrackPlayer().then((t=>t.setPlaybackSpeed(e))).then((e=>e?Z.SUCCESS:Z.FORBIDDEN))}setMuted(e){return this._getTrackPlayer().then((t=>(t.setMuted(e),Z.SUCCESS)))}getStatistics(){return this._getTrackPlayer().then((e=>e.getStatistics()))}getAudioProcessor(){return this._getTrackPlayer().then((e=>e.getAudioProcessor()))}adaptToElementSize(e){return this._getTrackPlayer().then((t=>(t.adaptToElementSize(e),Z.SUCCESS)))}setIsVideoVisible(e){return this._getTrackPlayer().then((t=>(t.setIsVideoVisible(e),Z.SUCCESS)))}setMediaPlaybackMode(e){return this._getTrackPlayer().then((t=>t.setMediaPlaybackMode(e))).then((e=>e?Z.SUCCESS:Z.FORBIDDEN))}setVideoSurface(e){return this._getTrackPlayer().then((t=>(t.setVideoSurface(e),Z.SUCCESS)))}getVideoSurface(){return this._getTrackPlayer().then((e=>e.getVideoSurface()))}}const Cs=k.m.forTag("playback.init");function Is(e){return new Promise(((t,s)=>{var n,i,a,o,r,l,d,c,u,p,m,h,_;if(!e.transport)return void s(new TypeError("Argument transport is required."));if("undefined"!=typeof window){("boolean"==typeof window.isSecureContext?window.isSecureContext:function(){if("undefined"==typeof window||!window.location)return!1;const e=window.location;if("https"===e.protocol||"file"===e.protocol)return!0;const t=e.hostname;return!!/^127(\.[0-255]){3}$|^locahost\.?$|\.localhost\.?$/.test(t)}())||null===(n=window.console)||void 0===n||n.warn("%cDRM might not be available from unsecure contexts","background: #222; color: #bada55; font-size: 40px")}if(e.playerContainerManager&&("function"!=typeof(null===(i=e.playerContainerManager)||void 0===i?void 0:i.eject)||"function"!=typeof(null===(a=e.playerContainerManager)||void 0===a?void 0:a.inject)))return void s(new TypeError("Both inject and eject PlayerContainerManager functions must be present."));const{transport:y}=e,[b="",g=""]=(e.sdkId||"").split(":"),f=Object.assign(Object.assign({},e),{tracker:os.create({deviceInfo:(null===(o=e.loggerOptions)||void 0===o?void 0:o.deviceInfo)?Promise.resolve(null===(r=e.loggerOptions)||void 0===r?void 0:r.deviceInfo):null}),audioResolver:new es(y),videoResolver:new rs(y),licenseURLResolver:new cs({transport:y,sdk:{name:b,version:g},securityLevel:e.securityLevel,useTestLicenseServer:e.useTestLicenseServer}),newBufferPerTrack:null===(l=e.newBufferPerTrack)||void 0===l||l,preinitMediaElement:null===(d=e.preinitMediaElement)||void 0===d||d,audioProcessorOptions:Object.assign(Object.assign({},e.audioProcessorOptions),{disable:null!==(u=null===(c=e.audioProcessorOptions)||void 0===c?void 0:c.disable)&&void 0!==u?u:!!e.createPlayer})});e.unauthenticatedLogs&&!(null===(p=e.loggerOptions)||void 0===p?void 0:p.endpoint)&&(e.loggerOptions=Object.assign(Object.assign({},e.loggerOptions),{endpoint:"https://spclient.wg.spotify.com/melody/unauth"})),(null===(m=null==e?void 0:e.loggerOptions)||void 0===m?void 0:m.deviceInfo)||Promise.all([null===(h=e.loggerOptions)||void 0===h?void 0:h.platform,null===(_=e.loggerOptions)||void 0===_?void 0:_.clientVersion]).then((([t,s])=>{e.loggerOptions=Object.assign(Object.assign({},e.loggerOptions),{deviceInfo:{platform:t,version:s}})})),Kt.create(f).then((t=>{const s=Object.assign({disableMux:!0},e.loggerOptions),n=function(e){return new us(e)}(Object.assign(Object.assign({},s),{transport:y,sdkId:e.sdkId,platform:Promise.resolve(s.deviceInfo).then((e=>{var t;return null!==(t=null==e?void 0:e.platform)&&void 0!==t?t:""})),clientVersion:Promise.resolve(s.deviceInfo).then((e=>{var t;return null!==(t=null==e?void 0:e.version)&&void 0!==t?t:""}))})),i=Zt.create({transport:y,player:t,logSender:n,sdkId:e.sdkId,deviceInfo:s.deviceInfo});return s.disableMux||vs.create({player:t,mux:K,envKey:null==s?void 0:s.muxEnvKey,sdk:b,sdkVersion:g,deviceInfo:s.deviceInfo,muxCustomDimensions:s.muxCustomDimensions}).ready().then((()=>Cs.info("MuxReporter ready")),(e=>Cs.error("Failed to instantiate MuxReporter",null==e?void 0:e.message))),{player:t,logger:i}})).then(t,s)}))}const ks=k.m.forTag("media_session");function Ns(e){return Math.round(1e3*e)}class Ps{constructor(e){this._currentURI=null,this._streamer=e.streamer,this._handleAction=this._handleAction.bind(this),this._updateMediaSession=this._updateMediaSession.bind(this),this._updateMediaSessionMetadata=this._updateMediaSessionMetadata.bind(this),this._init()}static create(e){return"undefined"!=typeof window&&"undefined"!=typeof navigator&&"mediaSession"in navigator&&"MediaMetadata"in window?new Ps(e):(ks.warn("The MediaSession API is not supported."),null)}_init(){this._streamer.on("state_changed",this._updateMediaSession)}_handleAction(e){switch(e.action){case"play":this._streamer.resume();break;case"pause":this._streamer.pause();break;case"seekto":{const t=e.seekTime;null!=t&&this._streamer.seek(Ns(t))}break;case"seekforward":{const t=e.seekOffset;this._streamer.getCurrentState().then((e=>{if(!e)return;const{position:s,duration:n}=e,i=Math.min(n,Math.max(0,t?s+Ns(t):s+15e3));this._streamer.seek(i)}))}break;case"seekbackward":{const t=e.seekOffset;this._streamer.getCurrentState().then((e=>{if(!e)return;const{position:s}=e,n=Math.max(0,t?s-Ns(t):s-15e3);this._streamer.seek(n)}))}break;case"nexttrack":this._streamer.nextTrack();break;case"previoustrack":this._smartPreviousTrack()}}_clearHandlers(){navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.setActionHandler("seekto",null),navigator.mediaSession.setActionHandler("nexttrack",null),navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("seekbackward",null)}_smartPreviousTrack(){this._streamer.getCurrentState().then((e=>{if(!e)return Promise.reject(new f(n.HARMONY_NO_TRACKS_LOADED,"No current state."));const{disallows:t,position:s,track_window:i}=e;return t.seeking||s<3e3&&i.previous_tracks.length>0?this._streamer.previousTrack():this._streamer.seek(0)}))}_updateMediaSessionMetadata({name:e,artists:t,album:s}){var n;const i=null===(n=null==s?void 0:s.images)||void 0===n?void 0:n.map((({url:e,width:t,height:s})=>({src:e,sizes:`${t}x${s}`}))),a={title:e||"",artist:(null==t?void 0:t.map((e=>null==e?void 0:e.name)).join(", "))||"",album:(null==s?void 0:s.name)||"",artwork:i};navigator.mediaSession.metadata=new window.MediaMetadata(a)}_updateMediaSession({data:e}){var t;const s=e.state,n=null===(t=null==s?void 0:s.track_window)||void 0===t?void 0:t.current_track;if(!s||!n)return this._currentURI=null,navigator.mediaSession.metadata=null,navigator.mediaSession.playbackState="none",void this._clearHandlers();navigator.mediaSession.playbackState=s.paused?"paused":"playing",this._currentURI!==n.uri&&(this._currentURI=n.uri,this._updateMediaSessionMetadata(n));const{position:i,duration:a}=s,o=Math.min(Math.max(0,i),a);a&&navigator.mediaSession.setPositionState({position:o,duration:a}),navigator.mediaSession.setActionHandler("play",this._handleAction),navigator.mediaSession.setActionHandler("pause",this._handleAction);const r=s.disallows;navigator.mediaSession.setActionHandler("seekto",r.seeking?null:this._handleAction),navigator.mediaSession.setActionHandler("nexttrack",r.skipping_next?null:this._handleAction),navigator.mediaSession.setActionHandler("previoustrack",this._handleAction),"episode"===n.type?(navigator.mediaSession.setActionHandler("seekforward",this._handleAction),navigator.mediaSession.setActionHandler("seekbackward",this._handleAction)):(navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("seekbackward",null))}}class Ls extends d.bk{constructor(e){super(),this._client=e.client,this._initialVolume=e.initialVolume,this._listPlayer=e.listPlayer,this._playerPromise=e.playerPromise,this._playbackServiceClient=e.playbackServiceClient,this._playbackStateObserver=e.playbackStateObserver,this._stopOnBackground=e.stopOnBackground,this._enableMediaSession=e.enableMediaSession,this._init()}_init(){this._client.addListeners({before_disconnect:this._onClientBeforeDisconnect.bind(this),before_offline_disconnect:this._onClientBeforeOfflineDisconnect.bind(this)});const e=this._listPlayer;e.addListeners({[Q.LIST_PLAYER_CAPPED]:this._onCapped.bind(this),[Q.LIST_PLAYER_TRACK_ENDED]:this._onTrackEnded.bind(this),[Q.LIST_PLAYER_BEFORE_VOLUME_CHANGE]:this._onBeforeVolumeChange.bind(this),[Q.LIST_PLAYER_VOLUME_CHANGED]:this._onVolumeChanged.bind(this),[Q.LIST_PLAYER_ERROR]:e=>{this._onError(e,_.PLAYBACK)}}),this.proxyEmitAll(e,{[Q.LIST_PLAYER_AUTOPLAY_FAILED]:"autoplay_failed",[Q.LIST_PLAYER_TRACK_LOADED]:"track_loaded",[Q.LIST_PLAYER_DURATION_CHANGED]:"duration_changed",[Q.LIST_PLAYER_POSITION_CHANGED]:"position_changed",[Q.LIST_PLAYER_PROGRESS]:"progress",[Q.LIST_PLAYER_BUFFER_STALLED]:"stalled",[Q.LIST_PLAYER_BUFFERING_END]:"buffering_end",[Q.LIST_PLAYER_BUFFERING_START]:"buffering_start",[Q.LIST_PLAYER_REBUFFERING_END]:"rebuffering_end",[Q.LIST_PLAYER_REBUFFERING_START]:"rebuffering_start",[Q.LIST_PLAYER_MAX_LIST_ERRORS_REACHED]:"max_list_errors_reached",[Q.LIST_PLAYER_VIDEO_ELEMENT_APPENDED]:"video_element_appended",[Q.LIST_PLAYER_VIDEO_ELEMENT_REMOVED]:"video_element_removed",[Q.LIST_PLAYER_LIST_ENDED]:"context_ended",[Q.LIST_PLAYER_SEEK_HANDLED]:"streamer_seek_handled",[Q.LIST_PLAYER_DISPLAYED_CUES_CHANGED]:"displayed_cues_changed",[Q.LIST_PLAYER_SUBTITLE_LANGUAGES_LOADED]:"subtitle_languages_loaded",[Q.LIST_PLAYER_PLAYBACK_SPEED_CHANGED]:"speed_changed",[Q.LIST_PLAYER_PLAYING_PROFILE_CHANGED]:"playing_profile_changed",[Q.LIST_PLAYER_MEDIA_PLAYBACK_MODE_CHANGED]:"media_playback_mode_changed",[Q.LIST_PLAYER_VIDEO_VISIBILITY_CHANGED]:"video_visibility_changed",[Q.LIST_PLAYER_VIDEO_SURFACE_CHANGED]:"video_surface_changed"}),this.proxyEmitAllSync(e,{[Q.REPORTING_START]:"reporting_start",[Q.REPORTING_FIRST_QUARTILE]:"reporting_first_quartile",[Q.REPORTING_MIDPOINT]:"reporting_midpoint",[Q.REPORTING_THIRD_QUARTILE]:"reporting_third_quartile",[Q.REPORTING_COMPLETE]:"reporting_complete",[Q.REPORTING_PAUSE]:"reporting_pause",[Q.REPORTING_RESUME]:"reporting_resume",[Q.REPORTING_CREATIVE_VIEW]:"reporting_creative_view",[Q.REPORTING_ERROR]:"reporting_error"});const t=this._playbackServiceClient;t.addListeners({logout:this._onPlaybackClientLogout.bind(this),error:e=>{this._onError(e,e.data.source)}}),this.proxyEmitAll(t,{max_subscriptions_reached:"max_subscriptions_reached",deregistered:"deregistered",registered:"registered",registration_aborted:"registration_aborted",internal_endcontent:"internal_endcontent"}),this.proxyEmit(this._playbackStateObserver,"state_changed","state_changed"),this._stopOnBackground&&document.addEventListener&&document.addEventListener("visibilitychange",(()=>{document.hidden&&this.stop()&&this.emitSync("stopped_on_background",null)})),this._enableMediaSession&&Ps.create({streamer:this}),this._playerPromise.then((e=>{e.setVolume(this._initialVolume),this.emit("player_initialization_done",null)}),(e=>{this.emit("player_initialization_failed",{reason:e.message,error:e})}))}_assertOperationSuccess(e){return e===Z.SUCCESS}_onTrackEnded(){this.emit("track_ended",null)}_onClientBeforeDisconnect(e){e.data.awaitPromise(this.deregister().catch((()=>{})))}_onClientBeforeOfflineDisconnect(e){e.data.awaitPromise(this.pause().catch((()=>{})))}_onBeforeVolumeChange(e){var t;this.emitSync("before_volume_change",{volume:e.data.volume,remote:!!(null===(t=e.data.options)||void 0===t?void 0:t.commandId)}).defaultPrevented&&e.preventDefault()}_onVolumeChanged(e){this.emit("volume_changed",{volume:e.data.volume,remote:!!e.data.commandId})}_onCapped(){this.emit("playback_capped",null)}_onError(e,t){const{error:s}=e.data;s&&(s.registration&&this.emit("registration_error",{error:s}),this.emit("error",{source:t,error:s}),this._client.notifyError(t,s))}_onPlaybackClientLogout(){this.emit("logged_out",null)}stop(){return this._playbackServiceClient.stop()}register(){return this._playbackServiceClient.register()}deregister(){return this._playbackServiceClient.deregister()}resume(){return this._listPlayer.resume().then(this._assertOperationSuccess)}pause(){return this._listPlayer.pause().then(this._assertOperationSuccess)}nextTrack(e=g.FORWARD_BUTTON){return this._listPlayer.next(e).then(this._assertOperationSuccess)}canChangeTrack(){return this._listPlayer.canChangeTrack()}previousTrack(e=g.BACK_BUTTON){return this._listPlayer.previous(e).then(this._assertOperationSuccess)}togglePlay(){return this._listPlayer.togglePlay().then(this._assertOperationSuccess)}setVolume(e){return this._listPlayer.setVolume(e).then(this._assertOperationSuccess)}getVolume(){return this._listPlayer.getVolume()}seek(e){return this._listPlayer.seek(e).then(this._assertOperationSuccess)}getCurrentState(){return this._playbackStateObserver.getCurrentState()}getVideoVariants(){return this._playerPromise.then((e=>e.getVideoVariants()))}setPreferredBitrate(e){return this._playerPromise.then((t=>t.setPreferredBitrate(e).then(this._assertOperationSuccess)))}setVideoResolution(e){return this._playerPromise.then((t=>t.setVideoResolution(e)))}setBackgrounded(e){return this.setPlayerVisibility(!e)}setPlayerVisibility(e){return this._listPlayer.setIsVideoVisible(e).then(this._assertOperationSuccess)}getPlayerVisibility(){return Promise.resolve(!1)}setIsVideoVisible(e){return this._listPlayer.setIsVideoVisible(e).then(this._assertOperationSuccess)}setVideoSurface(e){return this._listPlayer.setVideoSurface(e).then(this._assertOperationSuccess)}activateElement(){return this._playerPromise.then((e=>e.activateElement()))}hideSubtitles(){return this._listPlayer.hideSubtitles().then(this._assertOperationSuccess)}showSubtitles(){return this._listPlayer.showSubtitles().then(this._assertOperationSuccess)}areSubtitlesShown(){return this._listPlayer.areSubtitlesShown()}getSubtitleLanguages(){return this._listPlayer.getSubtitleLanguages()}getActiveSubtitleLanguage(){return this._listPlayer.getActiveSubtitleLanguage()}setSubtitleLanguage(e){return this._listPlayer.setSubtitleLanguage(e).then(this._assertOperationSuccess)}getMediaConfig(){return this._listPlayer.getMediaConfig()}setPlaybackSpeed(e){return this._listPlayer.setPlaybackSpeed(e).then(this._assertOperationSuccess)}deactivateSubtitleEvents(){return this._listPlayer.deactivateCueEvents().then(this._assertOperationSuccess)}activateSubtitleEvents(){return this._listPlayer.activateCueEvents().then(this._assertOperationSuccess)}hasOptimisticUpdates(){return this._playbackServiceClient.hasOptimisticUpdates()}}var js,Os,Ds=s(35746);class Ms extends Error{constructor(e,t,s={}){super(t),this.status=-1,this.maxedSubscriptions=!1,this.unrecoverable=!1,this.debug={},this.registration=!1,this.code=e,this.name="TrackPlayerAPIClientError",this.debug=s}static fatal(e,t,s={}){const n=new Ms(e,t,s);return n.unrecoverable=!0,n}}function Us(e,t){return e&&"RECOMMENDATION"===(null==t?void 0:t.context_enhancement)?Os.SMART:Os[e?"ON":"OFF"]}!function(e){e.ON="ON",e.OFF="OFF",e.NONE="NONE"}(js||(js={})),function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON",e[e.SMART=2]="SMART"}(Os||(Os={}));const Bs=/^disallow_([^]+)_reasons$/;function Gs(e){var t,s;const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=!!(null===(s=null===(t=null==e?void 0:e[i])||void 0===t?void 0:t.reasons)||void 0===s?void 0:s.length));return n}function Fs(e){var t,s,n,i,a,o,r,l;const d={};for(const c in e)if(Object.prototype.hasOwnProperty.call(e,c)){d[c]={};for(const u in null===(t=e[c])||void 0===t?void 0:t.values)if(Object.prototype.hasOwnProperty.call(null===(s=e[c])||void 0===s?void 0:s.values,u)){(d[c]||{})[u]=!(!(null===(a=null===(i=null===(n=e[c])||void 0===n?void 0:n.values)||void 0===i?void 0:i[u])||void 0===a?void 0:a.reasons)||!(null===(l=null===(r=null===(o=e[c])||void 0===o?void 0:o.values)||void 0===r?void 0:r[u])||void 0===l?void 0:l.reasons.length))}}return d}function Vs(e){const t={};for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s))if("disallow_setting_modes"===s)t.setting_modes=Fs(e[s]);else if("disallow_signals"===s)t.signals=Gs(e[s]);else{const n=e[s];if(Array.isArray(n)){const e=!(!n||!n.length);t[s.replace(Bs,"$1")]=e}}return t}function Hs(e,t){const s=null==t?void 0:t.toLowerCase(),n={episode:s||"unknown",track:"music",ad:"ad",interruption:"ad",media:"narration"};return(null==e?void 0:e.type)&&e.type in n?n[e.type]:"unknown"}const Ys=k.m.forTag("tp.stream.PlaybackStateObserver");class Ks extends d.bk{constructor(e,t={}){super(),this._tpApiClient=e,this._numPreviousTracks=t.numPrevious||2,this._numNextTracks=t.numNextTracks||2,this._currentState=null,this._init()}static create(e,t){return new Ks(e,t)}_init(){this._tpApiClient.on("state_changed",this._onStateChanged.bind(this)),this._tpApiClient.on("state_cleared",this._onStateCleared.bind(this))}_onStateChanged(e){var t,s,n,i,a,o,r,l,d;const{stateMachine:c,stateRef:u,position:p,paused:m,loading:h,currentTrackInfo:_,contextMetadata:y}=e.data,b=null==c?void 0:c.states;if(!c||!(null==b?void 0:b.length)||!u)return void Ys.warn("_onStateChanged called with no current state",e);const g=b[u.state_index],f=c.tracks[null==g?void 0:g.track];if(!g||!f)return void Ys.warn("_onStateChanged called with no current state or track",e);const{options:v}=g;let E=null!==(t=_.duration)&&void 0!==t?t:0;const w=this._createTrackWindow(c,g,E);E||(E=null!==(n=null===(s=w.current_track)||void 0===s?void 0:s.duration_ms)&&void 0!==n?n:0);!!!(null==v?void 0:v.playback_speed)&&_.isPlaybackSpeedRestricted&&(g.restrictions=Object.assign({disallow_setting_playback_speed_reasons:["not_supported_by_content_type"]},g.restrictions));const S=function(e,t){const s=Object.assign({},e);return delete s.disallow_pausing_reasons,delete s.disallow_resuming_reasons,t?s.disallow_pausing_reasons=["already_paused"]:s.disallow_resuming_reasons=["not_paused"],s}(g.restrictions||{},m),R=Vs(S),T={current:m?0:null!==(i=_.currentPlaybackSpeed)&&void 0!==i?i:1,selected:R.setting_playback_speed?1:null!==(a=_.selectedPlaybackSpeed)&&void 0!==a?a:1,restricted:!!R.setting_playback_speed},A={timestamp:Date.now(),context:{uri:null!==(r=null===(o=f.metadata)||void 0===o?void 0:o.context_uri)&&void 0!==r?r:null,metadata:y},position:p,duration:E,paused:m,playback_quality:null!==(l=_.playbackQuality)&&void 0!==l?l:Ss.UNKNOWN,playback_features:{hifi_status:null!==(d=_.hifiStatus)&&void 0!==d?d:js.NONE,playback_speed:T,signal_ids:g.signals||[],modes:(null==v?void 0:v.modes)||{}},shuffle:this._getShuffleSetting(c),shuffle_mode:Us(null==v?void 0:v.shuffling_context,null==v?void 0:v.modes),repeat_mode:this._getRepeatSetting(c),track_window:w,restrictions:S,disallows:R,loading:h,playback_speed:T.current,playback_id:g.state_id};this._currentState=A,this.emit("state_changed",{state:A?Object.assign({},A):null})}_createTrackWindow(e,t,s){const n=e.states;return{current_track:this._getTrackMetadata(e,t,s),next_tracks:this._getNextStates(t,n).map((t=>this._getTrackMetadata(e,t,null))).filter((e=>!!e)),previous_tracks:this._getPreviousStates(t,n).map((t=>this._getTrackMetadata(e,t,null))).filter((e=>!!e))}}_onStateCleared(){this._currentState=null,this.emit("state_changed",{state:null})}_getRepeatSetting(e){const t=e.attributes.options;return t.repeating_track?y.TRACK:t.repeating_context?y.CONTEXT:y.OFF}_getShuffleSetting(e){return e.attributes.options.shuffling_context}_getNextStates(e,t){const s=this._numNextTracks,n=[];let i=e;for(;i&&"show_next"in i.transitions&&i.transitions.show_next;){const e=t[i.transitions.show_next.state_index];if(e&&n.push(e),i=e,n.length>=s)break}return n}_getPreviousStates(e,t){const s=this._numPreviousTracks,n=[];let i=e;for(;i&&"show_prev"in i.transitions&&i.transitions.show_prev;){const e=t[i.transitions.show_prev.state_index];if(e&&n.unshift(e),i=e,n.length>=s)break}return n}_getTrackMetadata(e,t,s){var n;const i=null==e?void 0:e.tracks[t.track];if(!(null==i?void 0:i.metadata))return null;const a=i.metadata,o=i.manifest&&"manifest_ids_video"in i.manifest,r=i.track_type.toLowerCase(),l=(0,Ds.o_h)(a.uri),d=a.linked_from_uri?(0,Ds.o_h)(a.linked_from_uri):null,c=Hs(l,a.episode_content_type),u=null===(n=a.images)||void 0===n?void 0:n.map((e=>{if(0===e.url.indexOf("spotify:image:")){const t=e.url.split(":").slice(-1)[0];return Object.assign(Object.assign({},e),{url:`https://i.scdn.co/image/${t}`})}return e}));return{id:l?l.id:null,uri:a.uri,type:(null==l?void 0:l.type)||"unknown",uid:t.track_uid,linked_from:{uri:a.linked_from_uri||null,id:d?d.id:null},media_type:o?"video":"audio",track_type:r,content_type:c,name:a.name,duration_ms:s||a.duration,artists:a.authors,album:{uri:a.group_uri,name:a.group_name,images:u},is_playable:!0,metadata:t.track_metadata||{}}}getCurrentState(){const e=this._currentState;if(e&&!e.paused){const t=Date.now(),s=e.position+(t-e.timestamp);e.position=s,e.timestamp=t}return Promise.resolve(this._currentState?Object.assign({},this._currentState):null)}}class zs{constructor(e,t){this._stateMachine=null,this._currentState=null,this._currentStateIndex=null,this._pausedState=!1,this._initialPlaybackPosition=null,this._contextMetadata=null,this._uri=e,this._manifestTrackResolver=t}static create(e,t){return new zs(e,t)}_transitionTo(e,t,s=!1){return new Promise((n=>{var i;const a=e.reason,o=e.listConstants;if(!t)return n(o.FORBIDDEN);const r=this._stateMachine;if(!r)return n(o.NULL_VALUE);const l=r.states[t.state_index];if(!l)return n(o.NULL_VALUE);const d=r.tracks[l.track];if(!(null===(i=null==d?void 0:d.metadata)||void 0===i?void 0:i.uri))return n(o.NULL_VALUE);if(!this._currentState)return n(o.NULL_VALUE);const c=this._currentState,u=c.decoy?!!c.paused:t.paused;s||(this._currentState=l,this._currentStateIndex=t.state_index,this._pausedState=!!u);let p=0;return s||null===this._initialPlaybackPosition?"initial_playback_position"in l&&(p=l.initial_playback_position||0):(p=this._initialPlaybackPosition,this._initialPlaybackPosition=null),this._manifestTrackResolver.resolveFromStateTrack(d).then((e=>{var t,s,i;if(!e)return n(o.NULL_VALUE);let r=this._uri;d.metadata&&d.metadata.context_uri&&(r=d.metadata.context_uri);const c=(0,Ds.o_h)(d.metadata.uri),m=a,h=d.ms_played_until_update,_={playbackQuality:e.playbackQuality,hifiStatus:e.hifi_status},y=null===(t=this._currentState)||void 0===t?void 0:t.preferred_media_type,b={uri:e.uri,playableURI:e.uri,fileId:e.fileId,resolvedURL:e.resolvedURL,contentType:Hs(c,d.metadata.episode_content_type),playable:e.playable,isAd:e.isAd,format:e.format,fileFormat:e.fileFormat,mediaType:e.mediaType,noManifest:e.noManifest,metadata:_,options:{position:p,paused:u,playedThreshold:h,useDefaultPlaybackSpeed:!(0,Ds.gHQ)(e.uri),playbackSpeed:null===(i=null===(s=this._currentState)||void 0===s?void 0:s.options)||void 0===i?void 0:i.playback_speed},logData:{noLog:!!e.noLog,noTSV:!!e.noTSV,deviceId:this._deviceId,playbackId:l.state_id?l.state_id:void 0,reason:m,displayTrack:e.uri,playContext:r,impressionURL:e.impressionURL,impressionURLs:e.impressionURLs,format:{codec:e.format,bitrate:e.bitrate},uriType:e.uriType,displayTitle:d.metadata.name,displayGroup:d.metadata.group_name,displayDuration:d.metadata.duration,playbackService:"track-playback"},stateId:l.state_id?l.state_id:void 0,audioGain:e.gainDb};return y&&(b.options.mediaPlaybackMode=y.toLowerCase()),n(b)}))}))}setPaused(e){this._pausedState=e}isPaused(){return this._currentStateIndex&&this._currentStateIndex<0&&this._currentState&&this._currentState.transitions.advance?!!this._currentState.transitions.advance.paused:this._pausedState}setInitialPosition(e){this._initialPlaybackPosition=e}setStateMachine(e){this._stateMachine=e}setDeviceId(e){this._deviceId=e}setContextMetadata(e){this._contextMetadata=e}getContextMetadata(){return this._contextMetadata||{}}startAtState(e){const t=this._stateMachine&&this._stateMachine.states[e.state_index];if(!t)throw new Ms(n.TP_MISSING_INITIAL_STATE,"Invalid state reference.");const s=t.transitions;this._currentStateIndex=-1,this._currentState={decoy:!0,paused:!!e.paused,track:-1,state_id:null,transitions:{advance:e,show_next:s.show_next,show_prev:s.show_prev,skip_next:e,skip_prev:s.skip_prev},options:t.options,duration_override:t.duration_override,position_offset:t.position_offset}}setCurrentState(e){const t=e.state_index;this._currentStateIndex=t,this._currentState=this._stateMachine&&this._stateMachine.states[t]}getStateMachine(){return this._stateMachine}getInternalStateRef(){let e=this._pausedState,t=this._currentStateIndex;if(!t)return null;if(t&&t<0){const s=this._currentState&&this._currentState.transitions.advance;s&&(t=s.state_index,e=!!s.paused)}return{paused:e,state_index:t}}getStateRef(){const e=this._stateMachine;if(!e||null===this._currentStateIndex)return null;let t,s;if(this._currentStateIndex<0){const n=this._currentState&&this._currentState.transitions.advance;n&&(t=e.states[n.state_index],s=n.paused)}else t=e.states[this._currentStateIndex],s=this._pausedState;return t?{state_machine_id:e.state_machine_id,state_id:t.state_id,paused:!!s}:null}getCurrentTrack(){const e=this._stateMachine;if(!e||null===this._currentStateIndex)return null;let t;if(this._currentStateIndex<0){const s=this._currentState&&this._currentState.transitions.advance;s&&(t=e.states[s.state_index])}else t=e.states[this._currentStateIndex];return t?e.tracks[t.track]:null}startAt(){return Promise.resolve(Z.SUCCESS)}setShuffle(){return Promise.resolve(Z.SUCCESS)}setRepeatMode(){return Promise.resolve(Z.SUCCESS)}next(e){const t=this._currentState;let s=null;if(t){const n=t.transitions;if(e.reason===g.FORWARD_BUTTON)"skip_next"in n&&(s=n.skip_next);else"advance"in n&&(s=n.advance)}return this._transitionTo(e,s,!1)}peekNext(e){const t=this._currentState;let s=null;if(t){const n=t.transitions;if(e.reason===g.FORWARD_BUTTON)"skip_next"in n&&(s=n.skip_next);else"advance"in n&&(s=n.advance)}return this._transitionTo(e,s,!0)}previous(e){const t=this._currentState;let s=null;if(t){s=t.transitions.skip_prev}return this._transitionTo(e,s,!1)}translatePosition(e){var t,s;return(null!==(s=null===(t=this._currentState)||void 0===t?void 0:t.position_offset)&&void 0!==s?s:0)+e}translateDuration(e){var t,s;return null!==(s=null===(t=this._currentState)||void 0===t?void 0:t.duration_override)&&void 0!==s?s:e}handleSeek(e,t){var s;return(null===(s=this._currentState)||void 0===s?void 0:s.duration_override)&&t.reason!==g.REMOTE?t.listConstants.IGNORE:e}allowSeeking(){return!!this._currentState&&!this._currentState.disallow_seeking}getCurrentState(){return this._currentState}}const Ws=/^https:\/\//,qs={[C.FILE_URLS_MP3]:X.MP3,[C.FILE_URLS_EXTERNAL]:X.MP3,[C.FILE_IDS_MP3]:X.MP3,[C.FILE_IDS_MP4]:X.MP4,[C.FILE_IDS_MP4_DUAL]:X.MP4,[C.FILE_IDS_CBCS]:X.MP4_CBCS,[C.FILE_IDS_MP4FLAC]:X.MP4_FLAC,[C.MANIFEST_IDS_VIDEO]:X.MANIFEST_ID,[C.MANIFEST_URLS_VIDEO_AD]:X.AD_MANIFEST,[C.MANIFEST_URLS_AUDIO_AD]:X.AD_MANIFEST};class Qs{constructor(e){this._descriptor=e.descriptor,this._listPlayer=e.listPlayer}static create(e){return new Qs(e)}_resolveFromStateTrack(e,t,s){var n,i,a,o;const r=e.manifest,l=e.metadata.uri,d=(0,Ds.o_h)(l);let c=null;for(const u of s){const e=r[u];if(e)for(const s of e){if(!s.file_id&&!Ws.test(null!==(n=s.file_url)&&void 0!==n?n:""))continue;const e=!(!d||d.type!==Ds.NQG.AD&&d.type!==Ds.NQG.INTERRUPTION);if(u===C.FILE_IDS_MP3&&!e)continue;let r,p;if(r=s.track_type?s.track_type.toLowerCase():u===C.MANIFEST_IDS_VIDEO?"video":"audio",s.format){const e=parseInt(s.format,10);yt[e]&&(p=e)}const m=null!==(i=s.bitrate)&&void 0!==i?i:u===C.FILE_IDS_MP4FLAC?1411200:128e3,h=null!==(a=s.bitrate)&&void 0!==a?a:u===C.FILE_IDS_MP4FLAC?7e5:128e3,_=qs[u];if(c={uri:l,uriType:d&&d.type?d.type:void 0,fileId:null!==(o=s.file_id)&&void 0!==o?o:"",resolvedURL:s.file_url,mediaType:r,format:_,bitrate:h,fileFormat:null!=p?p:void 0,playbackQuality:s.audio_quality,hifi_status:s.hifi_status,impressionURL:s.impression_url,impressionURLs:s.impression_urls,gainDb:s.gain_db,isAd:e,noLog:!1,noTSV:e,noManifest:_===X.MP3,playable:!0},u===C.MANIFEST_IDS_VIDEO||m<=t)return c}}return c}resolveFromStateTrack(e){return Promise.all([Promise.resolve(this._descriptor),this._listPlayer.getCurrentBandwidth()]).then((([t,s])=>this._resolveFromStateTrack(e,s,t.getManifestFormats())))}}var $s,Zs,Xs=s(7527);!function(e){e.TRACK_DATA_FINALIZED="track_data_finalized",e.DEREGISTER="deregister",e.REGISTER="register",e.BEFORE_TRACK_LOAD="before_track_load",e.CAPPED="capped",e.ERROR="error",e.PAUSE="pause",e.RESUME="resume",e.PLAYED_THRESHOLD_REACHED="played_threshold_reached",e.POSITION_CHANGED="position_changed",e.SPEED_CHANGED="speed_changed",e.STARTED_PLAYING="started_playing",e.PROGRESS="progress",e.PING="ping",e.MODIFY_CURRENT_STATE="modify_current_state",e.STATE_CLEAR="state_clear",e.VIDEO_SURFACE_CHANGED="video_surface_changed",e.IS_VIDEO_ON_CHANGED="is_video_on_changed",e.MEDIA_PLAYBACK_MODE_CHANGED="media_playback_mode_changed",e.VIDEO_VISIBILITY_CHANGED="video_visibility_changed"}($s||($s={})),function(e){e.FATAL="Fatal",e.ERROR="Error",e.WARNING="Warning"}(Zs||(Zs={}));const Js=k.m.forTag("tpapiclient"),en=k.m.forTag("tpapiclient.endsong"),tn=k.m.forTag("tpapiclient.endsongs"),sn=/^hm:\/\/track-playback\/v1/,nn=/^hm:\/\/play-token\/lost/,an=function(e,t){const s=e.getStatusFamily();return s===t.SERVER_ERROR||s===t.CONNECTION_ERROR},on={condition:an,maxRetries:8},rn={condition:an,maxRetries:2};class ln extends d.bk{constructor(e){super(),this._deviceId=null,this._sequenceNumber=0,this._currentContext=null,this._loading=!1,this._lastSentStateUpdatePayload=null,this._isSendingConflict=!1,this._queuedRejectedStates=[],this._isSendingUpdate=!1,this._queueSendUpdate=[],this._currentTrackInfo={},this._registered=!1,this._isDeregistering=!1,this._waitingForTrackingData=(0,c.u)(),this._lastProcessedStateId=null,this._limitStateUpdates=!1,this._lastUpdateStateMonotonicTime=(0,W.X)(),this._initialUpdateSent=!1,this._startedPlayingUpdateSent=!1,this._nextFinalizedDataPayload=null,this._switchingContext=!1,this._connectionId=null,this._transport=e.transport,this._logger=e.logger,this._endpoint=e.endpoint||"http://@webgate/track-playback",this._listPlayer=e.listPlayer,this._ListClass=e.ListClass,this._currentGaiaVolume=e.initialVolume*m,this._clientVersion=e.clientVersion,this._manifestTrackResolver=e.manifestTrackResolver,this._currentTrackInfo.isVideoVisible=e.initialIsVideoVisible,this._currentTrackInfo.videoSurface=e.initialVideoSurface,this._descriptorPromise=Promise.resolve(e.descriptor),this._init(),this._performCommand=this._performCommand.bind(this),this._handleRegisterResponse=this._handleRegisterResponse.bind(this),this._handleStateConflictResponse=this._handleStateConflictResponse.bind(this),this.register=this.register.bind(this),this._parseDescriptor=this._parseDescriptor.bind(this),this._volumeDebouncer=new Xs.a(this._sendVolume.bind(this),{blockInitial:!0})}static create(e){return new ln(e)}_init(){this._waitingForTrackingData=(0,c.u)(),this._waitingForTrackingData.resolve(!0),this._transport.on(this._transport.EVENT_CONNECTION_ID,this._onConnectionId.bind(this)),this._transport.matchMessages(nn,this._onPlayTokenLost.bind(this)),this._transport.matchMessages(sn,this._onTrackPlaybackMessage.bind(this)),this._listPlayer.addListeners({[Q.LIST_PLAYER_CAPPED]:this._onCapped.bind(this),[Q.LIST_PLAYER_ERROR_SYNC]:this._onError.bind(this),[Q.LIST_PLAYER_BEFORE_NEXT]:this._onBeforeTrackChange.bind(this),[Q.LIST_PLAYER_BEFORE_PREVIOUS]:this._onBeforeTrackChange.bind(this),[Q.LIST_PLAYER_BEFORE_PLAYER_LOAD]:this._onBeforePlayerLoad.bind(this),[Q.LIST_PLAYER_PLAYER_LOAD]:this._onListPlayerLoad.bind(this),[Q.LIST_PLAYER_BEFORE_TRACK_LOAD]:this._onBeforeTrackLoad.bind(this),[Q.LIST_PLAYER_POSITION_CHANGED]:this._onPositionChanged.bind(this),[Q.LIST_PLAYER_DURATION_CHANGED]:this._onDurationChanged.bind(this),[Q.LIST_PLAYER_VOLUME_CHANGED]:this._onVolumeChanged.bind(this),[Q.LIST_PLAYER_PLAYBACK_SPEED_CHANGED]:this._onSpeedChanged.bind(this),[Q.LIST_PLAYER_PAUSED]:this._onPlayPause.bind(this,!0),[Q.LIST_PLAYER_PLAYING]:this._onPlayPause.bind(this,!1),[Q.LIST_PLAYER_PLAYED_THRESHOLD_REACHED]:this._onPlayThresholdReached.bind(this),[Q.LIST_PLAYER_PROGRESS]:this._onProgress.bind(this),[Q.LIST_PLAYER_TRACKING_DATA_CREATED]:this._onTrackDataCreatedEvent.bind(this),[Q.LIST_PLAYER_TRACKING_DATA_FINALIZED]:this._onTrackDataFinalizedEvent.bind(this),[Q.LIST_PLAYER_VIDEO_VISIBILITY_CHANGED]:this._onVisibilityChanged.bind(this),[Q.LIST_PLAYER_MEDIA_PLAYBACK_MODE_CHANGED]:this._onMediaPlaybackModeChanged.bind(this),[Q.LIST_PLAYER_VIDEO_SURFACE_CHANGED]:this._onVideoSurfaceChanged.bind(this)}),this._descriptorPromise.then((e=>{e.on("descriptor_changed",(()=>{this._parseDescriptor(e),this._updateDeviceInfo()}))}))}_onBeforeTrackChange(){var e,t;if(this._nextFinalizedDataPayload||this._switchingContext)return;const s=null!==(t=null===(e=this._currentContext)||void 0===e?void 0:e.getStateRef())&&void 0!==t?t:null,n=this._generateStatePayload(s,$s.TRACK_DATA_FINALIZED);this._setSequenceNumber(n),this._nextFinalizedDataPayload=n}_onBeforeTrackLoad(e){var t;this._loading=!0,this._switchingContext=!1,this._currentTrackInfo.duration=void 0,this._stateEventPositionOverride=null===(t=e.data.newTrack.options)||void 0===t?void 0:t.position}_onBeforePlayerLoad(e){var t,s,n,i,a,o,r,l,d;const c=this._currentContext;if(!c)return;const u=c.getCurrentTrack(),p=c.getCurrentState(),m=null!==(s=null!==(t=null==p?void 0:p.duration_override)&&void 0!==t?t:null==u?void 0:u.metadata.duration)&&void 0!==s?s:0,{data:h}=e,_=h.track.metadata||{},y=null===(n=null==p?void 0:p.options)||void 0===n?void 0:n.playback_speed,b=!!y;this._currentTrackInfo={duration:m,mediaType:h.track.mediaType.toUpperCase(),fileFormat:h.track.fileFormat,bitrate:null===(a=null===(i=h.logData)||void 0===i?void 0:i.format)||void 0===a?void 0:a.bitrate,playbackQuality:_.playbackQuality,hifiStatus:_.hifiStatus,isPlaybackSpeedRestricted:b?!!(null===(r=null===(o=null==p?void 0:p.restrictions)||void 0===o?void 0:o.disallow_setting_playback_speed_reasons)||void 0===r?void 0:r.length):!!(null===(l=h.track.options)||void 0===l?void 0:l.useDefaultPlaybackSpeed),currentPlaybackSpeed:null!=y?y:this._currentTrackInfo.selectedPlaybackSpeed,selectedPlaybackSpeed:null!=y?y:this._currentTrackInfo.selectedPlaybackSpeed,isMediaPlaybackModeVideo:"video"===((null===(d=h.track.options)||void 0===d?void 0:d.mediaPlaybackMode)||h.track.mediaType),videoSurface:this._currentTrackInfo.videoSurface,isVideoVisible:this._currentTrackInfo.isVideoVisible};const g=h.options;c.setPaused(!g.autoplay),this._setCurrentTrackPosition(g&&g.position||0),this._updateState($s.BEFORE_TRACK_LOAD),this._startedPlayingUpdateSent=!1,this._initialUpdateSent=!1}_onCapped(){this._listPlayer.clear(g.CAPPED),this._currentContext=null,this._updateState($s.CAPPED),this._setCurrentTrackPosition(void 0),this._lastProcessedStateId=null,this.emit("state_cleared",null)}_onConnectionId(e){this._connectionId=e.data.id,this._isDeregistering||(this._registered=!1,Promise.all([this._listPlayer.getVolume(),this._descriptorPromise.then(this._parseDescriptor)]).then(this.register,(e=>{Js.info("Skipping registration due to error",e),this.emit("registration_aborted",{reason_error:e,source:_.TRACK_PLAYBACK})})).catch((()=>{})))}_onDurationChanged(e){var t;const s=null===(t=this._currentContext)||void 0===t?void 0:t.getCurrentTrack();(null==s?void 0:s.metadata.uri)===e.data.track.uri&&this._currentTrackInfo.duration!==e.data.duration&&(this._currentTrackInfo.duration=e.data.duration,this._setCurrentTrackPosition(e.data.position),this._emitStateChanged())}_onError(e){"position"in e.data&&(this._setCurrentTrackPosition(e.data.position),this._updateState($s.ERROR))}_onSpeedChanged(e){this._currentTrackInfo.currentPlaybackSpeed=e.data.playback_speed,this._currentTrackInfo.selectedPlaybackSpeed=e.data.playback_speed_selected,this._setAllTrackPositions(e.data.position),this._updateState($s.SPEED_CHANGED)}_onPlayPause(e,t){const s=this._currentContext;s&&(s.setPaused(e),"position"in t.data&&this._setAllTrackPositions(t.data.position),t.data.track.stateId&&this._shouldSendUpdateForEvent(t.data.track.stateId)?this._updateState(e?$s.PAUSE:$s.RESUME):(this._lastProcessedStateId=null,this._emitStateChanged()))}_onPlayThresholdReached(e){this._initialUpdateSent=!0,this._setAllTrackPositions(e.data.position),this._updateState($s.PLAYED_THRESHOLD_REACHED)}_onPlayTokenLost(){this._listPlayer.pause().catch((function(){}))}_onPositionChanged(e){this._loading||(this._setCurrentTrackPosition(e.data.position),this._logger.logClientEvent({source:"harmony:track_playback:client",source_version:A.tagged,source_vendor:"spotify",event:e.type,event_version:"1.0.0",json_data:{track:e.data.track,event_position:e.data.position,prev_position:this._previousTrackPosition,curr_position:this._currentTrackPosition}},"object"),e.data.position===this._previousTrackPosition&&this._logger.logClientEvent({source:"harmony:track_playback:client",source_version:A.tagged,source_vendor:"spotify",event:`${e.type} - same position as previous event`,event_version:"1.0.0",json_data:{track:e.data.track,event_position:e.data.position,prev_position:this._previousTrackPosition,curr_position:this._currentTrackPosition}},"object"),e.data.track&&this._shouldSendUpdateForEvent(e.data.track.stateId)?this._updateState($s.POSITION_CHANGED):(this._lastProcessedStateId=null,this._emitStateChanged()))}_onProgress(e){if(this._loading||!this._currentContext)return;this._setAllTrackPositions(e.data.position),!this._startedPlayingUpdateSent&&e.data.played>1e3&&(this._startedPlayingUpdateSent=!0,this._updateState($s.STARTED_PLAYING));if(!e.data.logData)return;const t=this._currentContext.getCurrentTrack(),s=t&&"number"==typeof t.ms_playing_update_interval?t.ms_playing_update_interval:null;this._initialUpdateSent&&null!==s&&s>0&&(0,W.X)()-this._lastUpdateStateMonotonicTime>s&&this._updateState($s.PROGRESS)}_onTrackDataCreatedEvent(){this._waitingForTrackingData=(0,c.u)()}_onTrackDataFinalizedEvent(e){const t=this._nextFinalizedDataPayload;t&&(t.playback_stats=e.data.playbackStats,this._updateState($s.TRACK_DATA_FINALIZED,t)),this._nextFinalizedDataPayload=null,this._waitingForTrackingData&&this._waitingForTrackingData.resolve(!0)}_onListPlayerLoad(e){this._loading=!1;const t=this._currentContext;t&&(t.setPaused(!e.data.autoplay),this._setCurrentTrackPosition(e.data.position||0))}_onTrackPlaybackMessage(e){const t=e.payloads;Array.isArray(t)&&t.length&&this._performCommand(t[0])}_onVolumeChanged(e){var t;if(this._currentGaiaVolume=e.data.volume*m,!this._registered)return;const s=null!==(t=e.data.commandId)&&void 0!==t?t:"",n={seq_num:void 0,volume:this._currentGaiaVolume,command_id:s};this._volumeDebouncer.async(n)}_onMediaPlaybackModeChanged(e){this._currentTrackInfo.isMediaPlaybackModeVideo="video"===e.data.playbackMode,this._updateState($s.MEDIA_PLAYBACK_MODE_CHANGED)}_onVisibilityChanged(e){this._currentTrackInfo.isVideoVisible=e.data.visible,this._updateState($s.VIDEO_VISIBILITY_CHANGED)}_onVideoSurfaceChanged(e){this._currentTrackInfo.videoSurface=e.data.videoSurface,this._updateState($s.VIDEO_SURFACE_CHANGED)}_clearSessionData(){this._connectionId=null,this._sequenceNumber=0,this._currentContext=null,this._lastSentStateUpdatePayload=null,this._isSendingConflict=!1,this._isSendingUpdate=!1,this._queueSendUpdate=[],this._previousTrackPosition=void 0,this._currentTrackPosition=void 0,this._currentTrackInfo={},this._lastProcessedStateId=null,this.emit("state_cleared",null)}_createStateRef(e,t){if(!t)return null;const s=e.states[t.state_index];if(!s)throw new Ms(n.TP_CANNOT_CREATE_STATE_REF,"Invalid state reference.");return{state_machine_id:e.state_machine_id,state_id:s.state_id,paused:t.paused}}_deregisterFromService(e){let t=null;const s=this._currentContext;s&&(e&&(s.setPaused(!e.playing),this._setAllTrackPositions(e.position)),t=s.getStateRef());const n=this._generateStatePayload(t,$s.DEREGISTER);this._setSequenceNumber(n);const i=`${this._endpoint}/v1/devices/${this._deviceId}`;return this._transport.request(i,{authorize:!0,method:"DELETE",payload:JSON.stringify(n),responseType:"json",retry:rn}).then((e=>{if(200!==e.status&&204!==e.status)return this._registered=!0,!1;const{body:t}=e;return t&&(t.endsong&&en.log(t.endsong),t.endsongs&&(tn.log(t.endsongs),this.emit("internal_endcontent",{endcontents:t.endsongs}))),this._clearSessionData(),this.emit("deregistered",null),!0}))}_emitError(e){this.emit("error",{error:e,source:_.TRACK_PLAYBACK}),e.registration||(this._logger.logJSSDKError({source:"tpapi-client",source_version:A.tagged,type:e.code,message:e&&e.message,stack:e&&e.stack,json_data:e.debug,json_data_version:"1.0.0"},"object").catch((function(e){Js.error("Track-Playback Logging Error",e)})),this._listPlayer.getState().then((t=>{var s,n,i,a,o,r,l,d,c,u;const p=e.debug,{isNetworkRelated:m=!1}=p,h=(0,zt.__rest)(p,["isNetworkRelated"]),_={sdk_id:this._clientVersion,playback_id:(null===(s=t.track)||void 0===s?void 0:s.logData.playbackId)||G.Z7.EMPTY,session_id:this._transport.getInitTime().toString(),device_id:(null===(n=this._deviceInfo)||void 0===n?void 0:n.device_id)||G.Z7.EMPTY,device_model:(null===(i=this._deviceInfo)||void 0===i?void 0:i.model)||G.Z7.EMPTY,device_brand:(null===(a=this._deviceInfo)||void 0===a?void 0:a.brand)||G.Z7.EMPTY,os_name:(null===(o=this._deviceInfo)||void 0===o?void 0:o.os_name)||G.Z7.EMPTY,os_version:(null===(r=this._deviceInfo)||void 0===r?void 0:r.os_version)||G.Z7.EMPTY,play_track:(null===(l=t.track)||void 0===l?void 0:l.uri)||G.Z7.EMPTY,content_id:(null===(d=t.track)||void 0===d?void 0:d.fileId)||G.Z7.EMPTY,content_type:(null===(c=t.track)||void 0===c?void 0:c.contentType)||G.Z7.UNKNOWN,media_type:(null===(u=t.track)||void 0===u?void 0:u.mediaType)||G.Z7.UNKNOWN,position:t.playbackState.position,trace_id:O(32),category:e&&e.name||G.Z7.UNKNOWN,severity:e.unrecoverable?Zs.FATAL:Zs.ERROR,code:e&&e.code||G.Z7.EMPTY,message:e&&e.message||G.Z7.EMPTY,http_status_code:e&&e.status,is_network_related:m,debug:Object.keys(h).length>0?h:void 0};this._logger.logJSSDKHarmonyError(_).catch((function(e){Js.error("Track-Playback Logging Error",e)}))})))}_emitStateChanged(){const e=this._currentContext;if(!e)return;let t=this._currentTrackPosition||0;void 0!==this._stateEventPositionOverride&&(t=this._stateEventPositionOverride,this._stateEventPositionOverride=void 0),this.emit("state_changed",{position:t,currentTrackInfo:this._currentTrackInfo,stateMachine:e.getStateMachine(),stateRef:e.getInternalStateRef(),paused:e.isPaused(),contextMetadata:e.getContextMetadata(),loading:this._loading})}_generateStatePayload(e,t){var s;const n=this._currentTrackInfo;return{seq_num:void 0,seq_nums:void 0,state_ref:e,sub_state:{playback_speed:(null==e?void 0:e.paused)?0:null!==(s=this._currentTrackInfo.currentPlaybackSpeed)&&void 0!==s?s:1,position:this._currentTrackPosition,duration:n.duration||void 0,media_type:n.mediaType,bitrate:n.bitrate,audio_quality:n.playbackQuality,format:n.fileFormat,video_surface:n.videoSurface,is_video_on:n.isVideoVisible&&n.isMediaPlaybackModeVideo},previous_position:this._previousTrackPosition,playback_stats:void 0,rejected_state_refs:void 0,debug_source:t}}_handleRegisterResponse(e){let t;if(429===e.status)return t=Ms.fatal(n.TP_MAX_SUBSCRIPTIONS_REACHED,"Max connections reached"),t.maxedSubscriptions=!0,t.status=e.status,this.emit("max_subscriptions_reached",{error:t}),Promise.reject(t);if(403===e.status&&e.body&&"PREMIUM_REQUIRED"===e.body.error_type?t=Ms.fatal(n.TP_REGISTRATION_FAILED_NON_PREMIUM,"Cannot register to Track Playback with non-premium user."):200!==e.status?t=Ms.fatal(n.TP_REGISTRATION_FAILED_WITH_STATUS,`track-playback service responded with status ${e.status} when registering device`,{isNetworkRelated:!0}):e.body||(t=Ms.fatal(n.TP_NO_RESPONSE_BODY,"Unexpected empty response body from registration request.")),t)return t.status=e.status,Promise.reject(t);const s=e.body;return s.endsong&&en.log(s.endsong),s.endsongs&&(tn.log(s.endsongs),this.emit("internal_endcontent",{endcontents:s.endsongs})),this._sequenceNumber=s.initial_seq_num,this._registered=!0,this.emit("registered",{deviceId:this._deviceId}),Promise.resolve(!0)}_handleStateConflictResponse(e){var t;if(e.status>=200&&e.status<300){const s=null===(t=e.body)||void 0===t?void 0:t.commands;if(!s||!s.length)return;for(let e=0,t=s.length;e<t;e++)this._performCommand(s[e])}else{const t=new Ms(n.TP_CONFLICT_REQUEST_FAILED_WITH_STATUS,`Track-Playback service responded with ${e.status}`,{isNetworkRelated:!0});t.status=e.status,this._emitError(t)}}_handleStateUpdateResponse(e,t){let s;if(200!==t.status)return s=new Ms(n.TP_PARSE_STATE_UPDATE_FAILED_WITH_STATUS,`Service responded with status ${t.status}`,{isNetworkRelated:!0}),s.status=t.status,Promise.reject(s);if(!t.body)return s=new Ms(n.TP_UPDATE_REQUEST_EMPTY_RESPONSE,"Unexpected empty response body from state update request."),s.status=t.status,Promise.reject(s);const i=t.body;i.endsong&&en.log(i.endsong),i.endsongs&&(tn.log(i.endsongs),this.emit("internal_endcontent",{endcontents:i.endsongs}));const a=this._currentContext;if(!a)return Promise.resolve();const o=i.state_machine,r=i.updated_state_ref;return this._isCurrentStateRef(e)?(a.setStateMachine(o),a.setCurrentState(r),a.setContextMetadata(i.context_metadata||null),this._emitStateChanged(),Promise.resolve()):Promise.resolve()}_isCurrentStateRef(e){const t=this._currentContext?this._currentContext.getStateRef():null;return!t&&!e||!(!t||!e)&&(t.state_machine_id===e.state_machine_id&&t.state_id===e.state_id&&t.paused===e.paused)}_logUnsentStateUpdate(e){Js.info("Unsent state update.",e),this._logger.logClientEvent({source:"tpapi-client",source_version:A.tagged,source_vendor:"spotify",event:"unsent-state-update",event_version:"1.0.0",json_data:e},"object").catch((e=>{Js.error("Track-Playback Logging Error",e)}))}_logout(){this._listPlayer.pause().catch((()=>{})),this.emit("state_cleared",null),this.deregister().then((e=>{this._currentContext=null,this._setCurrentTrackPosition(void 0),e&&this.emit("logout",null)}))}_parseDescriptor(e){return this._deviceId=e.getId(),this._deviceInfo=e.toTrackPlaybackDeviceInfo(),!0}_performCommand(e){switch(e.type){case"set_volume":this._setVolume(e);break;case"log_out":this._logout();break;case"replace_state":this._replaceState(e);break;case"ping":this._updateState($s.PING);break;default:this._emitError(new Ms(n.TP_UNKNOWN_COMMAND,"Received unknown command.",{command:e}))}}_rejectState(e){const t=this._queuedRejectedStates;if(void 0!==e&&t.push(e),!this._registered||this._isSendingConflict||!t.length)return;this._isSendingConflict=!0;const s=t.splice(0,5),n=this._currentContext?this._currentContext.getStateRef():null,i=this._generateStatePayload(n);i.rejected_state_refs=s,this._setSequenceNumbers(i,s.length);const a=()=>{this._isSendingConflict=!1,this._rejectState()},o=`${this._endpoint}/v1/devices/${this._deviceId}/state_conflict`;this._transport.request(o,{authorize:!0,method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",payload:JSON.stringify(i),retry:rn}).then(this._handleStateConflictResponse).then(a,a)}_replaceState(e){var t,s,n,i;const a=this._listPlayer,o=e.state_machine,r=e.state_ref,l=this._createStateRef(o,r);if(!this._isCurrentStateRef(e.prev_state_ref))return void this._rejectState(l);if(!r)return void this._clearContextAndState();const d=null!==(s=null===(t=this._currentContext)||void 0===t?void 0:t.getStateRef())&&void 0!==s?s:null;if(function(e,t){if(!e)throw new Error(`Assertion failed: ${t}`)}(null!==l,"New state reference is null"),this._currentContext&&(null==d?void 0:d.state_id)===l.state_id){const t=this._currentContext;t.setStateMachine(o),t.setCurrentState(r),t.setContextMetadata(e.context_metadata||null);let s=!1;t.isPaused()!==r.paused&&(s=!0),r.paused?(t.setPaused(!0),a.pause()):(t.setPaused(!1),a.resume());const i=o.states[r.state_index],l=null===(n=null==i?void 0:i.options)||void 0===n?void 0:n.playback_speed;l&&l!==this._currentTrackInfo.currentPlaybackSpeed&&(a.setPlaybackSpeed(l),s=!0);const d=parseInt(e.seek_to,10);t.allowSeeking()&&!isNaN(d)&&(a.seek(d,g.REMOTE),this._setCurrentTrackPosition(d),s=!0);const c=null==i?void 0:i.preferred_media_type;c&&(Js.log(`Setting media playback mode to ${c}`),a.setMediaPlaybackMode(c.toLowerCase())),s?this._emitStateChanged():(this._lastProcessedStateId=null,this._updateState($s.MODIFY_CURRENT_STATE))}else{this._lastProcessedStateId=null!==(i=l.state_id)&&void 0!==i?i:null,this._currentContext&&this._onBeforeTrackChange();const t=this._ListClass.create("spotify:app:jsspeaker",this._manifestTrackResolver);t.setStateMachine(o),t.startAtState(r),this._deviceId&&t.setDeviceId(this._deviceId),this._currentContext=t;const s=e.seek_to||0;t.setInitialPosition(s),this._loading=!0,this._switchingContext=!0,a.play(t,{reason:g.REMOTE})}}_clearContextAndState(){const e=this._listPlayer;e.pause().catch((function(){})),e.clear(g.REMOTE),this._currentContext=null,this._updateState($s.STATE_CLEAR),this._setAllTrackPositions(void 0),this._lastProcessedStateId=null,this.emit("state_cleared",null),this._loading=!0}_sendDevicesRequest(e,t){let s=`${this._endpoint}/v1/devices`;return"PUT"===e&&(s=`${s}/${this._deviceId}`),this._transport.request(s,{authorize:!0,method:e||"POST",headers:{"Content-Type":"application/json"},responseType:"json",payload:JSON.stringify(t),retry:on})}_sendVolume(e){const t=`${this._endpoint}/v1/devices/${this._deviceId}/volume`;return this._setSequenceNumber(e),this._transport.request(t,{authorize:!0,method:"PUT",headers:{"Content-Type":"application/json"},payload:JSON.stringify(e)})}_setAllTrackPositions(e){this._previousTrackPosition=e,this._currentTrackPosition=e}_setCurrentTrackPosition(e){void 0!==e&&void 0!==this._currentTrackPosition&&e===this._currentTrackPosition||(this._previousTrackPosition=this._currentTrackPosition,this._currentTrackPosition=e)}_setSequenceNumber(e){return void 0===e.seq_num&&(e.seq_num=++this._sequenceNumber),e}_setSequenceNumbers(e,t){e.seq_nums=[];for(let s=0;s<t;s++)e.seq_nums.push(++this._sequenceNumber);return e}_setVolume(e){var t;const s=e.volume/m;this._listPlayer.setVolume(s,null!==(t=e.command_id)&&void 0!==t?t:`tpcommand-${Date.now()}`)}_shouldSendUpdateForEvent(e){return!(!e||e===this._lastProcessedStateId)}_updateDeviceInfo(){this._registered&&this._deviceInfo&&this._sendDevicesRequest("PUT",this._deviceInfo).then((e=>{204===e.status&&this.emit("registration_updated",null)}))}_updateState(e,t){var s,i;if(!this._registered)return;let a,o;if(t?(a=t.state_ref,o=t):(a=null!==(i=null===(s=this._currentContext)||void 0===s?void 0:s.getStateRef())&&void 0!==i?i:null,o=this._generateStatePayload(a,e)),!this._shouldSendPayload(o))return void Js.info("State update ignored (duplicate).",o);if(this._emitStateChanged(),this._isSendingUpdate&&this._limitStateUpdates)return this._logUnsentStateUpdate(o),void this._queueSendUpdate.push(e);this._isSendingUpdate=!0,this._queueSendUpdate=[],this._setSequenceNumber(o),this._lastSentStateUpdatePayload=o;const r=()=>{this._isSendingUpdate=!1,this._queueSendUpdate.length&&this._updateState(this._queueSendUpdate[this._queueSendUpdate.length-1]),Js.info("State update sent.",e,o)},l=`${this._endpoint}/v1/devices/${this._deviceId}/state`;this._lastUpdateStateMonotonicTime=(0,W.X)(),this._transport.request(l,{authorize:!0,method:"PUT",headers:{"Content-Type":"application/json"},responseType:"json",payload:JSON.stringify(o),retry:on}).then(this._handleStateUpdateResponse.bind(this,a)).then(r,(e=>{!function(e){return"object"==typeof e&&null!==e&&"code"in e}(e)?this._emitError(new Ms(n.TP_STATE_UPDATE_FAILED,`${e}`,{isNetworkRelated:!0})):this._emitError(e),r()}))}_shouldSendPayload(e){const t=this._lastSentStateUpdatePayload;if(!t||!t.state_ref||!e.state_ref)return!0;const s=e.state_ref,n=t.state_ref;if(s.paused!==n.paused||s.state_id!==n.state_id||s.state_machine_id!==n.state_machine_id)return!0;const i=e.sub_state,a=t.sub_state;if(i.playback_speed!==a.playback_speed||i.position!==a.position||i.video_surface!==a.video_surface||i.is_video_on!==a.is_video_on)return!0;if(e.previous_position!==t.previous_position)return!0;return Math.abs((i.duration||0)-(a.duration||0))>=51}stop(){return!(!this._registered||!this._currentContext)&&(this._clearContextAndState(),!0)}deregister(){return this._registered?(this._isDeregistering=!0,this._registered=!1,this._listPlayer.getPlayerState().then((e=>Promise.all([this._deregisterFromService(e),this._waitingForTrackingData.promise,this._listPlayer.stop().catch((()=>{}))]).then((([e])=>(this._isDeregistering=!1,e)))),(()=>(this._isDeregistering=!1,this._registered=!0,!1)))):Promise.resolve(!1)}register(){if(this._registered)return Promise.resolve(!1);if(!this._deviceInfo)return Promise.reject(new Error("Need DeviceInfo for device registration."));if(!this._connectionId)return Promise.reject(new Error("Need connection-id for device registration"));let e;const t=this._currentContext;return t&&(e=this._generateStatePayload(t.getStateRef(),$s.REGISTER),this._setSequenceNumber(e)),this._sendDevicesRequest("POST",{device:this._deviceInfo,outro_endcontent_snooping:"true"==={}.OUTRO_SNOOPING,connection_id:this._connectionId,client_version:this._clientVersion,previous_session_state:e,volume:this._currentGaiaVolume}).then(this._handleRegisterResponse).catch((e=>(e&&!e.maxedSubscriptions&&(e.registration=!0,this._emitError(e)),!1)))}hasOptimisticUpdates(){return!1}}function dn(e,t={}){return function(e,t,s={}){var n,i,a,o,r,l,d;const c=e.getSDKId(),u=e.getPublicTransport(),p=e.getLogger(),m=e.getDeviceDescriptor(),h=null!==(n=s.initialVolume)&&void 0!==n?n:1,_=Is(Object.assign(Object.assign({},s),{transport:u,sdkId:e.getUntaggedSDKId(),loggerOptions:{disableMux:null===(o=null!==(a=null===(i=null==s?void 0:s.mux)||void 0===i?void 0:i.disable)&&void 0!==a?a:null==s?void 0:s.disableMux)||void 0===o||o,muxEnvKey:null!==(l=null===(r=null==s?void 0:s.mux)||void 0===r?void 0:r.envKey)&&void 0!==l?l:null==s?void 0:s.muxEnvKey,deviceInfo:m.then((e=>({platform_name:e.getPlatformName(),platform:e.getPlatformIdentifier(),version:e.getPlatformVersion(),os_name:e.getOSName(),os_version:e.getOSVersion(),brand:e.getBrand(),model:e.getModel(),type:e.getType()}))),muxCustomDimensions:null===(d=null==s?void 0:s.mux)||void 0===d?void 0:d.customDimensions,platform:e.getPlatformIdentifier(),clientVersion:e.getPlatformVersion()}})).then((({player:e})=>e)),y=_.then((e=>e.getMediaConfig())),b=Promise.all([m,y]).then((([e,t])=>(e.getCapability("audio_podcasts")&&!s.disableExternalFiles&&e.appendManifestFormat(C.FILE_URLS_EXTERNAL),t.keysystem===$.FAIRPLAY?e.appendManifestFormat(C.FILE_IDS_CBCS):t.keysystem!==$.WIDEVINE||s.preferMultiDRMFormat?e.appendManifestFormat(C.FILE_IDS_MP4_DUAL,C.FILE_IDS_MP4,C.MANIFEST_URLS_AUDIO_AD):(-1!==t.formats.audio.indexOf('audio/mp4; codecs="flac"')&&e.getCapability("lossless_playback")&&e.appendManifestFormat(C.FILE_IDS_MP4FLAC),e.appendManifestFormat(C.FILE_IDS_MP4,C.FILE_IDS_MP4_DUAL,C.MANIFEST_URLS_AUDIO_AD)),t.supports.protected_video&&e.getCapability("video_playback")&&e.prependManifestFormat(C.MANIFEST_IDS_VIDEO),t.supports.unprotected_video&&e.getCapability("video_ads")&&e.prependManifestFormat(C.MANIFEST_URLS_VIDEO_AD),e))),g=xs.create({trackPlayer:_}),f=Qs.create({descriptor:m,listPlayer:g}),{playbackServiceClient:v,playbackStateObserver:E}=t({initialVolume:h,listPlayer:g,logger:p,transport:u,clientVersion:c,descriptor:b,endpoint:s.endpoint,manifestTrackResolver:f,initialVideoSurface:s.initialVideoSurface,initialIsVideoVisible:s.initialIsVideoVisible});return new Ls({client:e,playbackServiceClient:v,playbackStateObserver:E,initialVolume:h,playerPromise:_,listPlayer:g,stopOnBackground:s.stopOnBackground,enableMediaSession:s.enableMediaSession})}(e,(e=>{const t=ln.create(Object.assign(Object.assign({},e),{ListClass:zs}));return{playbackServiceClient:t,playbackStateObserver:Ks.create(t)}}),t)}var cn,un=s(7671);!function(e){e.LOCAL_PLAYER_DISABLED="local_player_disabled",e.STOPPED="stopped",e.REMOTE_ACTIVATED="remote_activated",e.UNKNOWN="unknown"}(cn||(cn={}));class pn extends Error{constructor(e,t){super(t),this.status=-1,this.maxedSubscriptions=!1,this.unrecoverable=!1,this.debug={},this.code=e,this.name="PlayerAPIClientError"}static fatal(e,t){const s=new pn(e,t);return s.unrecoverable=!0,s}}class mn{constructor(e){this._transport=e.transport,this._metadataCache=new z.q(e.cacheSize||20)}static create(e){return new mn(e)}_decorateTrackWindow(e){const t=this._metadataCache,s={current_track:null,next_tracks:[],previous_tracks:[]};let n,i,a;const o=e=>{var t;const s=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.track_player;e&&s&&(e.media_type="video"===s?"video":"audio")};e.current_track&&(i=t&&e.current_track&&"uri"in e.current_track&&t.get(e.current_track.uri),s.current_track=Object.assign({uid:e.current_track.uid,metadata:e.current_track.metadata},i||e.current_track),o(s.current_track)),n=e.next_tracks.length;for(;n--;)a=e.next_tracks[n],i=t&&a&&"uri"in a&&t.get(a.uri),s.next_tracks[n]=Object.assign({uid:a.uid,metadata:a.metadata},i||a),o(s.next_tracks[n]);for(n=e.previous_tracks.length;n--;)a=e.previous_tracks[n],i=t&&a&&"uri"in a&&t.get(a.uri),s.previous_tracks[n]=Object.assign({uid:a.uid,metadata:a.metadata},i||a),o(s.previous_tracks[n]);return s}_buildTrackList(e){const t=[],s={},n=[e.current_track,...e.next_tracks,...e.previous_tracks];for(const i of n)i&&!s[i.uri]&&t.push(i.uri);return t}_cacheMetadata(e,t){const s=[],n=[],i=[],a=this._metadataCache;for(const o of e){if(a.get(o))continue;const e=(0,Ds.o_h)(o);e&&(e.type===Ds.NQG.TRACK?n.push(e.id):"chapter"===(null==t?void 0:t.contentType)?i.push(e.id):e.type===Ds.NQG.EPISODE&&s.push(e.id))}return s.length||n.length||i.length?Promise.all([this._requestMultiData("episodes",s),this._requestMultiData("tracks",n),this._requestMultiData("chapters",i)]).then((([e,t,s])=>!!e||!!t||!!s)):Promise.resolve(!0)}_requestMultiData(e,t){if(!t.length)return Promise.resolve(!1);const s=this._metadataCache,n=["https://@webapi/v1/",e,"?ids=",t.join(","),"&market=from_token"].join("");return this._transport.request(n,{responseType:"json"}).then((t=>{var n;if(200!==t.status)return!1;const i=null===(n=t.body)||void 0===n?void 0:n[e];if(!i)return!1;let a=i.length;for(;a--;){let t=i[a];t&&("episodes"===e?t=this._formatEpisodeData(t):"chapters"===e?t=this._formatChapterData(t):(t.track_type="audio",t.media_type="audio",t.content_type="tracks"===e?"music":"undefined"),s&&s.set(t.uri,t),s&&t.linked_from&&t.linked_from.uri&&s.set(t.linked_from.uri,t))}return!0}))}_formatEpisodeData(e){const t="audio"===e.show.media_type?"audio":"video";return{id:e.id,uri:e.uri,type:"episode",media_type:t,track_type:e.show.media_type,content_type:"podcast",name:e.name,artists:[{uri:e.show.uri,name:e.show.publisher}],album:{uri:e.show.uri,name:e.show.name,images:e.images},duration_ms:e.duration_ms||0,is_playable:!0}}_formatChapterData(e){return{id:e.id,uri:e.uri,type:"episode",name:e.name,media_type:e.audiobook.media_type,track_type:"audio",content_type:"chapter",artists:[{uri:e.audiobook.uri,name:e.audiobook.name}],album:{name:e.audiobook.name,uri:e.audiobook.uri,images:e.images},duration_ms:e.duration_ms||0,is_playable:!0}}formatLocalTrack(e,t){if(!e||e.type!==Ds.NQG.LOCAL_TRACK)return null;return{uri:e.toURI(),type:"local",uid:t,media_type:"audio",track_type:"audio",content_type:"music",name:e.track,artists:[{uri:(0,Ds.DY5)(e.artist).toURI(),name:e.artist}],album:{uri:(0,Ds.dx2)(e.artist,e.album).toURI(),name:e.album,images:[{url:""}]},duration_ms:e.duration?1e3*e.duration:0,is_playable:!1}}formatAd(e,t){if(!e||e.type!==Ds.NQG.AD&&e.type!==Ds.NQG.INTERRUPTION)return null;if(!t||!t.metadata)return null;const s=t.metadata;return{id:e.id,uri:e.toURI(),type:e.type,uid:t.uid,media_type:"audio",track_type:"audio",content_type:"ad",name:s.advertiser,artists:[{uri:s.click_url,name:s.buttonMessage||s.advertiser}],album:{uri:s.click_url,name:s.advertiser,images:[{url:s.image_url}]},duration_ms:parseInt(s.duration,10),is_playable:!1}}formatDJNarration(e,t){var s;if(!e||"true"!==(null===(s=t.metadata)||void 0===s?void 0:s.is_narration))return null;if(!t||!t.metadata)return null;const n=t.metadata;return{id:e.id,uri:e.toURI(),type:e.type,uid:t.uid,name:n.title,media_type:"audio",track_type:"audio",content_type:"narration",album:{name:n.album_title,images:[{url:n.image_url}]},artists:[{uri:"",name:n.artist_name}]}}formatGenericTrack(e,t){var s,n,i,a,o,r;const l=t.metadata||{};return{id:null!==(s=null==e?void 0:e.id)&&void 0!==s?s:"",uri:null!==(n=null==e?void 0:e.toURI())&&void 0!==n?n:t.uri,type:null!==(i=null==e?void 0:e.type)&&void 0!==i?i:"unknown",uid:t.uid,name:l.title,media_type:"video"===l.track_player?"video":"audio",duration_ms:l.duration||0,track_type:void 0,content_type:"unknown",album:{name:null!==(a=l.album_title)&&void 0!==a?a:"",uri:null!==(o=l.album_uri)&&void 0!==o?o:"",images:l.image_url&&[{url:l.image_url}]},artists:[{uri:null!==(r=l.artist_uri)&&void 0!==r?r:"",name:l.artist_name}]}}decorateTrackWindow(e,t,s){const n=null!=t?t:this._buildTrackList(e);return this._cacheMetadata(n,{contentType:null==s?void 0:s.contentType}).then((t=>t?this._decorateTrackWindow(e):e))}}const hn=/^[0-9a-f]{32}$/i,_n=()=>O(32),yn=e=>{if(e&&(t=e,!hn.test(t)))throw new TypeError(`Invalid commandId. Expected a 32 character hex string but got: ${e}`);var t;return e||_n()},bn=k.m.forTag("harmony.controller"),gn={disallow_pausing_reasons:!0,disallow_peeking_next_reasons:!0,disallow_peeking_prev_reasons:!0,disallow_resuming_reasons:!0,disallow_seeking_reasons:!0,disallow_skipping_next_reasons:!0,disallow_skipping_prev_reasons:!0,disallow_toggling_repeat_context_reasons:!0,disallow_toggling_repeat_track_reasons:!0,disallow_toggling_shuffle_reasons:!0,disallow_transferring_playback_reasons:!0,disallow_setting_playback_speed_reasons:!0,disallow_setting_modes:!0,disallow_signals:!0,disallow_add_to_queue_reasons:!0,disallow_set_queue_reasons:!0,disallow_updating_context_reasons:!0,disallow_removing_from_context_tracks_reasons:!0,disallow_removing_from_next_tracks_reasons:!0,disallow_reordering_in_context_tracks_reasons:!0,disallow_reordering_in_next_tracks_reasons:!0,disallow_inserting_into_context_tracks_reasons:!0,disallow_inserting_into_next_tracks_reasons:!0,disallow_remote_control_reasons:!0},fn={unknown:Ss.UNKNOWN,default:Ss.DEFAULT,low:Ss.LOW,normal:Ss.NORMAL,normalized:Ss.NORMAL,high:Ss.HIGH,veryhigh:Ss.VERY_HIGH,hifi:Ss.HIFI},vn={on:js.ON,off:js.OFF,none:js.NONE};function En(e,t){if(!e)return[];const s=[],n=[Ds.NQG.TRACK,Ds.NQG.EPISODE];for(let i=0,a=e.length;i<a;i++){let a,o=e[i];if(!o)throw new TypeError("Null value inside track array.");if("string"==typeof o?(a=(0,Ds.o_h)(o),o={uri:o}):a=(0,Ds.o_h)(o.uri),!/^spotify:(meta:|delimiter)/.test(o.uri)){if(!a)throw new TypeError(`Invalid uri string: ${a}`);if(-1===n.indexOf(a.type))throw new TypeError(`Invalid track uri: ${o.uri}`)}o.metadata||(o.metadata={}),t&&t.queued&&(o.metadata.is_queued="true"),s.push(o)}return s}function wn(e){if(e){if(/^.+:\/\//.test(e))return e;throw new TypeError(`Invalid page url: ${e}`)}}class Sn extends d.bk{constructor(e){super(),this._suppressed=!1,this._lastDeviceInfoData=null,this._state=null,this._lastPlayerState=null,this._isOrphanedState=!1,this._progressPosition=0,this._lastProgressMonotonicTime=(0,W.X)(),this._trackingIntervalId=0,this._queue=null,this._client=e.client,this._serverTime=e.serverTime,this._version=e.version,this._playerClient=e.playerClient,this._disableProgress=!!e.disableProgress,this._transport=this._client.getPublicTransport(),this._decorate=!!e.decorateTrackWindow,this._metadataDecorator=new mn({transport:this._transport}),this._onClientBeforeDisconnect=this._onClientBeforeDisconnect.bind(this),this._onDeviceStateChanged=this._onDeviceStateChanged.bind(this),this._onPlayerStateChanged=this._onPlayerStateChanged.bind(this),this._onProgressTracking=this._onProgressTracking.bind(this),this._client.on("before_disconnect",this._onClientBeforeDisconnect),this.proxyEmit(this._playerClient,"max_subscriptions_reached","max_subscriptions_reached"),this.proxyEmit(this._playerClient,"devices_changed","devices_changed"),this.proxyEmit(this._playerClient,"registered","registered"),this.proxyEmit(this._playerClient,"deregistered","deregistered"),this._playerClient.on("device_state_changed",this._onDeviceStateChanged),this._playerClient.on("player_state_changed",this._onPlayerStateChanged)}static create(e){return new Sn(e)}_onClientBeforeDisconnect(e){e&&e.data.awaitPromise(this._playerClient.deregister().catch((()=>{})))}_onDeviceStateChanged(e){var t,s;const{deviceState:n,hasOrphanedState:i}=e.data,a=!!(null===(s=null===(t=this._lastDeviceInfoData)||void 0===t?void 0:t.deviceInfo)||void 0===s?void 0:s.local);this._lastDeviceInfoData={deviceInfo:n,hasOrphanedState:i},a&&!(null==n?void 0:n.local)&&this._playerClient.getDevices().then((({localDevice:e})=>{let t=cn.STOPPED;i?e||(t=cn.LOCAL_PLAYER_DISABLED):t=cn.REMOTE_ACTIVATED,this.emit("device_deactivated",{reason:t})})).catch((e=>{bn.warn("Device deactivation checking failed.",e)})),this._suppressed||this.emit("device_info_changed",this._lastDeviceInfoData)}_startProgressTracking(){this._stopProgressTracking(),this._lastProgressMonotonicTime=(0,W.X)(),this._onProgressTracking(),this._trackingIntervalId=setInterval(this._onProgressTracking,500)}_stopProgressTracking(){this._trackingIntervalId&&(clearInterval(this._trackingIntervalId),this._trackingIntervalId=0)}_onProgressTracking(){var e;const t=(0,W.X)(),s=(null===(e=this._lastPlayerState)||void 0===e?void 0:e.playback_speed)||1;this._progressPosition+=s*(t-this._lastProgressMonotonicTime),this.emit("progress",{position:this._progressPosition,timestamp:Date.now()}),this._lastProgressMonotonicTime=t}_generatePlayOptions(e,t){var s;const n={license:null!==(s=this._playerClient.getDeviceLicense())&&void 0!==s?s:""};if(!e)return n;if(("index"in e||"trackUID"in e||"trackURI"in e||"pageIndex"in e)&&(n.skip_to={track_uid:e.trackUID,track_index:e.index,track_uri:e.trackURI,page_index:e.pageIndex}),"initialOffset"in e&&(n.seek_to=e.initialOffset),"paused"in e&&(n.initially_paused=e.paused),"alwaysPlaySomething"in e&&(n.always_play_something=e.alwaysPlaySomething),t)return n;n.player_options_override={};const i=n.player_options_override;if("modes"in e&&(i.modes=e.modes),"shuffle"in e&&(i.shuffling_context=e.shuffle),"repeatMode"in e)switch(e.repeatMode){case y.CONTEXT:i.repeating_context=!0,i.repeating_track=!1;break;case y.TRACK:i.repeating_track=!0,i.repeating_context=!1;break;case y.OFF:i.repeating_track=!1,i.repeating_context=!1}return n}_setFilterAndSort(e,t){t&&t.filter&&e.metadata&&(e.metadata["filtering.predicate"]=t.filter),t&&t.sort&&e.metadata&&(e.metadata["sorting.criteria"]=t.sort)}_setMetadataOptions(e,t){if(!t)return;const s=e.metadata||{};"autoplayCandidate"in t&&(s.autoplay_candidate=t.autoplayCandidate?"true":"false"),e.metadata=s}_generatePlayOrigin(e){if((null==e?void 0:e.featureClasses)&&!Array.isArray(e.featureClasses))throw new TypeError("PlayOptions playOrigin.featureClasses must be an array of strings.");return{feature_identifier:(null==e?void 0:e.featureIdentifier)||"harmony",feature_version:(null==e?void 0:e.featureVersion)||this._version,feature_classes:null==e?void 0:e.featureClasses,view_uri:null==e?void 0:e.viewURI,external_referrer:null==e?void 0:e.externalReferrer,referrer_identifier:null==e?void 0:e.referrerIdentifier,restriction_identifier:null==e?void 0:e.restrictionIdentifier}}_generateLoggingParams(e={}){const{pageInstanceId:t,interactionId:s,commandId:n}=e;try{return Promise.resolve({page_instance_ids:t?[t]:[],interaction_ids:s?[s]:[],command_id:yn(n)})}catch(i){return Promise.reject(i)}}_parseRestrictions(e){const t={};for(const s in e.restrictions)Object.prototype.hasOwnProperty.call(e.restrictions,s)&&gn[s]?t[s]=e.restrictions[s]:gn[s]&&(t[s]=[]);return t}_onPlayerStateChanged(e){this._isOrphanedState=e.data.orphaned,this._parsePlayerState(e.data.playerState).then((t=>{this._state=t,this._suppressed||this.emit("state_changed",{state:t?Object.assign({},t):null,orphaned:e.data.orphaned}),!this._disableProgress&&t&&(this._progressPosition=t.position,t.paused?this._stopProgressTracking():this._startProgressTracking())}))}_isUsingPlayerService(e){var t,s,n;const i=null===(s=null===(t=this._lastDeviceInfoData)||void 0===t?void 0:t.deviceInfo)||void 0===s?void 0:s.version,a=/\/(cloud|track)-playback$/.test(i||""),o=2===(null===(n=null==e?void 0:e.context_metadata)||void 0===n?void 0:n["player.arch"]);return a&&o}_parsePlayerState(e){return this._lastPlayerState=e,e?this._getTrackWindow(e).then((t=>{var s,n,i,a,o,r,l,d,c,u,p,m;const h=!!(null===(s=e.options)||void 0===s?void 0:s.playback_speed)||!1;if(!h){const t=(0,Ds.gHQ)(e.track.uri)?"not_supported_by_device":"not_supported_by_content_type";e.restrictions=Object.assign({disallow_setting_playback_speed_reasons:[t]},e.restrictions)}const _=this._parseRestrictions(e),y=Vs(_),b=this._serverTime.getApproximate();return{context:{uri:e.context_uri||null,metadata:e.context_metadata||{}},duration:e.duration||t.current_track&&"uri"in t.current_track&&t.current_track.duration_ms||0,timestamp:e.is_paused?e.timestamp:b,position:e.is_paused?e.position_as_of_timestamp:this._offsetPosition(e.timestamp,e.position_as_of_timestamp,e.playback_speed,b),playback_id:this._isUsingPlayerService(e)?null:e.playback_id,playback_quality:null!==(a=fn[null!==(i=null===(n=e.playback_quality)||void 0===n?void 0:n.bitrate_level)&&void 0!==i?i:"unknown"])&&void 0!==a?a:Ss.UNKNOWN,playback_features:{hifi_status:vn[null!==(r=null===(o=e.playback_quality)||void 0===o?void 0:o.hifi_status)&&void 0!==r?r:"none"],playback_speed:{current:e.playback_speed,selected:null!==(d=null===(l=e.options)||void 0===l?void 0:l.playback_speed)&&void 0!==d?d:1,restricted:!h||!!(null==y?void 0:y.setting_playback_speed)},signal_ids:e.signals||[],modes:e.modes||{}},paused:!!e.is_paused,shuffle:!(!e.options||!e.options.shuffling_context),shuffle_mode:Us(null===(c=e.options)||void 0===c?void 0:c.shuffling_context,null===(u=e.options)||void 0===u?void 0:u.modes),repeat_mode:this._getStateRepeatMode(e),restrictions:_,disallows:y,track_window:t,loading:null!==(m=null===(p=this._state)||void 0===p?void 0:p.loading)&&void 0!==m&&m,playback_speed:e.playback_speed}})):Promise.resolve(null)}_offsetPosition(e,t,s=1,n){const i=t+((n||this._serverTime.getApproximate())-e)*s;return i<0?0:i}_isRestricted(e,t){if(!e||!e.restrictions)return!1;const s=`disallow_${t}_reasons`;return!!(e.restrictions[s]||[]).length}_getTrackWindow(e){var t,s;const n={current_track:null,next_tracks:[],previous_tracks:[]},i={},a=[];if(!e.track)return Promise.resolve(n);const o=e.track.uri;if(!o)return Promise.resolve(n);const r=(0,Ds.o_h)(o),l=this._metadataDecorator,d=l.formatLocalTrack(r,e.track.uid),c=l.formatAd(r,e.track),u=l.formatDJNarration(r,e.track),p=l.formatGenericTrack(r,e.track);n.current_track=d||c||u||p,n.current_track.metadata=e.track.metadata||{},d||c||u||(i[o]=1,a.push(o)),this._isRestricted(e,"peeking_next")||this._fillWindow(a,n.next_tracks,i,e.next_tracks?e.next_tracks.slice(0,5):[]),this._isRestricted(e,"peeking_prev")||this._fillWindow(a,n.previous_tracks,i,e.prev_tracks?e.prev_tracks.slice(-5):[],!0);const m="true"===(null===(t=e.track.metadata)||void 0===t?void 0:t.is_audiobook_chapter)||"true"===(null===(s=e.track.metadata)||void 0===s?void 0:s.is_audiobook)?"chapter":"unknown";return this._decorate?this._metadataDecorator.decorateTrackWindow(n,a,{contentType:m}):Promise.resolve(n)}_fillWindow(e,t,s,n,i){i&&n.reverse();for(const a of n){const{metadata:n,uri:o,uid:r}=a;if("true"===(null==n?void 0:n.hidden_in_queue))continue;const l=(0,Ds.o_h)(o);if(!o||"spotify:delimiter"===o||l&&(l.type===Ds.NQG.AD||l.type===Ds.NQG.INTERRUPTION))continue;const d=this._metadataDecorator.formatLocalTrack(l,r),c=d||{uri:o,uid:r,type:"unknown"};if(d||o in s||(s[o]=1,e.push(o)),i?t.unshift(Object.assign(Object.assign({},c),{metadata:n})):t.push(Object.assign(Object.assign({},c),{metadata:n})),2===t.length)break}}_getStateRepeatMode(e){const t=e.options;return t&&t.repeating_track?y.TRACK:t&&t.repeating_context?y.CONTEXT:y.OFF}_play(e,t,s){return this._setFilterAndSort(e,s),this._setMetadataOptions(e,s),Promise.all([this._generatePlayOptions(s),this._generateLoggingParams(null==s?void 0:s.loggingParams)]).then((([n,i])=>{const a={context:e,play_origin:this._generatePlayOrigin(s&&s.playOrigin),options:n,logging_params:i};return this._playerClient.play(a,t)}))}_setContextURIOptions(e,t){return this._client.getDeviceDescriptor().then((s=>{const i=e.split("?")[0],a=s.toTrackPlaybackDeviceInfo(),o=`http://@webgate/track-playback/v1/devices/${a.device_id}/context/${encodeURIComponent(i)}/player_options`,r={player_options:t,device_info:Object.assign(Object.assign({},a),{client_version:this._client.getSDKId()})};return this._transport.request(o,{authorize:!0,method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",payload:JSON.stringify(r)}).then((e=>{if(200!==e.status){const t=new Ms(n.TP_SET_OPTIONS_FAILED_WITH_STATUS,`Track-Playback service responded with ${e.status}`,{isNetworkRelated:!0});return t.status=e.status,Promise.reject(t)}return!0})).catch((e=>Promise.reject(e)))}))}_setOptions(e,t,s){return Promise.all([this._generateLoggingParams(null==s?void 0:s.loggingParams),this.getCurrentState(),this.getActiveDevice()]).then((([i,a,o])=>{const r={logging_params:i};if(null==s?void 0:s.contextURI){if(!(0,Ds.o_h)(s.contextURI))return Promise.reject(new TypeError("contextURI is not a valid URI"));if(!((null==a?void 0:a.context.uri)&&(0,Ds.B2u)(a.context.uri,s.contextURI))||!o)return this._setContextURIOptions(s.contextURI,e)}return a?this._playerClient.setOptions(e,t,r):Promise.reject(new pn(n.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing"))}))}getActiveDevice(){return this._playerClient.getActiveDevice()}getCurrentState(e){var t;if(e&&this._isOrphanedState)return Promise.resolve(null);const s=this._state;if(s&&!s.paused){const e=this._serverTime.getApproximate();s.position=this._offsetPosition(s.timestamp,s.position,null===(t=this._lastPlayerState)||void 0===t?void 0:t.playback_speed,e),s.timestamp=e}return Promise.resolve(s?Object.assign({},s):null)}getContextPlayerState(){return bn.warn("The `getContextPlayerState()` method is not well supported. Please avoid using it directly."),this._playerClient.getContextPlayerState()}getDevices(){return this._playerClient.getDevices()}playURI(e,t,s){if(!(0,Ds.o_h)(e))return Promise.reject(new TypeError("Invalid Spotify URI"));const n={uri:e,url:`context://${e}`,metadata:s&&s.contextMetadata||{}};return this._play(n,t,s)}playPages(e,t,s){var n;if(!Array.isArray(e))return Promise.reject(new TypeError("Invalid pages array."));let i;try{i=function(e){var t,s,n;const i=[];for(const a of e)i.push({tracks:Array.isArray(a.tracks)?En(a.tracks):void 0,page_url:null!==(t=wn(a.pageURL))&&void 0!==t?t:void 0,next_page_url:null!==(s=wn(a.nextPageURL))&&void 0!==s?s:void 0,metadata:null!==(n=a.metadata)&&void 0!==n?n:void 0});return i}(e)}catch(o){return Promise.reject(o)}const a={uri:null!==(n=null==s?void 0:s.contextURI)&&void 0!==n?n:"spotify:internal:harmony-play-pages",metadata:(null==s?void 0:s.contextMetadata)||{},pages:i};return this._play(a,t,s)}playTracks(e,t,s){var n;if(!Array.isArray(e))return Promise.reject(new TypeError("Invalid tracks array."));let i;try{i=En(e)}catch(o){return Promise.reject(o)}const a={uri:null!==(n=null==s?void 0:s.contextURI)&&void 0!==n?n:"spotify:internal:harmony-play-tracks",metadata:(null==s?void 0:s.contextMetadata)||{},pages:[{tracks:i}]};return this._play(a,t,s)}updateCurrentContext(e,t={}){return this._playerClient.updateCurrentContext(e,t)}setQueue(e,t,s){if(!Array.isArray(e))return Promise.reject(new TypeError("Invalid nextTracks array."));if(!Array.isArray(t))return Promise.reject(new TypeError("Invalid previousTracks array."));let n,i;try{n=En(e),i=En(t)}catch(o){return Promise.reject(o)}const a={next_tracks:n.length?n:void 0,prev_tracks:i.length?i:void 0};return this._playerClient.setQueue(a,s)}transfer(e,t={}){return this._generateLoggingParams(null==t?void 0:t.loggingParams).then((s=>{const n=Object.assign(Object.assign({},t),{logging_params:s});return this._playerClient.transfer(e,n)}))}pause(e,t){return this._generateLoggingParams(null==t?void 0:t.loggingParams).then((t=>{const s={logging_params:t};return this._playerClient.pause(e,s)}))}resume(e,t){return this._generateLoggingParams(null==t?void 0:t.loggingParams).then((t=>{const s={logging_params:t};return this._playerClient.resume(e,s)}))}togglePlay(e,t){return this._generateLoggingParams(null==t?void 0:t.loggingParams).then((t=>{const s={logging_params:t};return this._playerClient.togglePlay(e,s)}))}nextTrack(e,t){return this._generateLoggingParams(null==t?void 0:t.loggingParams).then((s=>{const n={logging_params:s};return(null==t?void 0:t.track)&&(n.track=S([t.track])[0]),this._playerClient.nextTrack(e,n)}))}previousTrack(e,t){return this._generateLoggingParams(null==t?void 0:t.loggingParams).then((s=>{const n={logging_params:s};return(null==t?void 0:t.track)&&(n.track=S([t.track])[0]),this._playerClient.previousTrack(e,n)}))}seek(e,t){return this._playerClient.seek(e,t)}setShuffle(e,t,s){return this._generateLoggingParams(null==s?void 0:s.loggingParams).then((s=>{const n={logging_params:s};return this._playerClient.setShuffle(e,t,n)}))}toggleShuffle(e,t){return this._generateLoggingParams(null==t?void 0:t.loggingParams).then((t=>{const s={logging_params:t};return this._playerClient.toggleShuffle(e,s)}))}setVolume(e,t){return this._playerClient.setVolume(e,t)}logout(e){return this._playerClient.logout(e)}setRepeatMode(e,t){return this.getCurrentState().then((s=>{if(!s)return Promise.reject(new pn(n.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing"));const i=this._playerClient,a=s.disallows;switch(e){case y.OFF:return(!a.toggling_repeat_context||!a.toggling_repeat_track)&&i.setOptions({repeating_context:!!a.toggling_repeat_context&&void 0,repeating_track:!!a.toggling_repeat_track&&void 0},t);case y.CONTEXT:return!a.toggling_repeat_context&&i.setOptions({repeating_context:!0,repeating_track:!!a.toggling_repeat_track&&void 0},t);case y.TRACK:return!a.toggling_repeat_track&&i.setOptions({repeating_context:!a.toggling_repeat_context||void 0,repeating_track:!0},t);default:return Promise.reject(new TypeError("Unknown repeat mode."))}}))}setPlaybackSpeed(e,t){return this.getCurrentState().then((s=>{if(!s)return Promise.reject(new pn(n.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing"));return this._playerClient.setOptions({playback_speed:e},t)}))}register(){return this._playerClient.register()}suppressEvents(){this._suppressed=!0}unsuppressEvents(){this._suppressed=!1,this._lastDeviceInfoData&&this.emit("device_info_changed",this._lastDeviceInfoData),this._state&&this.emit("state_changed",{state:this._state})}getQueueManager(e,t={}){if(!this._queue){const s=t.reportInitial?this._lastPlayerState:null;this._queue=new T(Object.assign({connectClient:this._playerClient,initialContextPlayerState:s,runner:e},t))}return this._queue}sendCustomSignal(e,t,s){return this._generateLoggingParams(null==s?void 0:s.loggingParams).then((n=>this._playerClient.sendCustomSignal(t,{parameters:null==s?void 0:s.parameters,logging_params:n,signal_id:e})))}playAsNextInQueue(e,t,s){return this._generateLoggingParams(null==s?void 0:s.loggingParams).then((s=>{const n={logging_params:s},i=En(e);return this._playerClient.playAsNextInQueue(i,t,n)}))}setModes(e,t,s){return this._setOptions({modes:e},t,s)}setShuffleMode(e,t,s){return this.getCurrentState().then((i=>{var a,o;const r=(null==i?void 0:i.disallows)||{};let l={};if(null==s?void 0:s.contextURI)return l={shuffling_context:!!e,modes:{context_enhancement:e===Os.SMART?"RECOMMENDATION":"NONE"}},this._setOptions(l,t,s);if(r.toggling_shuffle)return Promise.reject(new pn(n.HARMONY_OPERATION_FORBIDDEN,"Shuffle mode cannot be modified."));if(e===Os.SMART){if(null===(o=null===(a=r.setting_modes)||void 0===a?void 0:a.context_enhancement)||void 0===o?void 0:o.RECOMMENDATION)return Promise.reject(new pn(n.HARMONY_OPERATION_FORBIDDEN,"Setting shuffle mode to SMART is not allowed."));l={shuffling_context:!0,modes:{context_enhancement:"RECOMMENDATION"}}}else l={shuffling_context:!!e,modes:{context_enhancement:"NONE"}};return this._setOptions(l,t,s)}))}}var Rn,Tn=s(72394);!function(e){e.PREMIUM="premium",e.TFT="tft"}(Rn||(Rn={}));const An=/connect-state\/v1\/cluster$/,xn=/^([a-zA-Z0-9_%:-]{1,40}).*$/;function Cn(e){var t,s,n;return!!e.track&&0===(null!==(n=null===(s=null===(t=e.restrictions)||void 0===t?void 0:t.disallow_transferring_playback_reasons)||void 0===s?void 0:s.length)&&void 0!==n?n:0)}const In="::a_";var kn;!function(e){e.NOT_PLAYING_LOCALLY="not_playing_locally",e.NOT_PLAYING_CONTEXT="not_playing_context",e.NOT_PLAYING_TRACK="not_playing_track",e.NOT_PLAYING_MEDIA="not_playing_media",e.NO_PREV_TRACK="no_prev_track",e.NO_NEXT_TRACK="no_next_track",e.NO_SPECIFIC_TRACK="no_specific_track",e.ALREADY_PAUSED="already_paused",e.NOT_PAUSED="not_paused",e.NARRATION="narration",e.PLAYER_CONTEXT_DISALLOW="context_player_disallow",e.MFT_DISALLOW="mft_disallow",e.AD_DISALLOW="ad_disallow",e.PROTOCOL_LIMITATIONS="protocol_limitations",e.UNKNOWN="unknown",e.ALREADY_PLAYING="already_playing",e.THROTTLED="throttled",e.ENDLESS_CONTEXT="endless_context"}(kn||(kn={}));const Nn={[kn.AD_DISALLOW]:b.AD_PLAYING,[kn.NARRATION]:b.NARRATION};function Pn(e){if(!e)return{deviceId:null};const[t,s]=e.split(In);return{deviceId:t,aliasId:s?parseInt(s,10):void 0}}class Ln extends d.bk{constructor(e){super(),this._autoregister=!0,this._connectionId="",this._localDeviceId="",this._localObserverDeviceId=null,this._lastActiveDevice=null,this._lastKnownPlayerState=null,this._lastKnownDevices=[],this._localDevice=null,this._fetchedInitialState=!1,this._lastProcessedTimestamp=0,this._descriptor=e.descriptor,this._transport=e.transport,this._tracker=e.tracker,this._endpoint=e.endpoint||"@webgate/connect-state",this._autoregister=!("autoregister"in e)||!!e.autoregister,this._onConnectionId=this._onConnectionId.bind(this),this._onClusterMessage=this._onClusterMessage.bind(this),this._awaitResponseWithAck=this._awaitResponseWithAck.bind(this),this._transport.on(this._transport.EVENT_CONNECTION_ID,(e=>{this._onConnectionId(e.data.id)})),this._transport.matchMessages(An,this._onClusterMessage),this._descriptorPromise=Promise.resolve(this._descriptor).then((e=>(this._localDeviceId=e.id||"",this._localObserverDeviceId=("hobs_"+this._localDeviceId).replace(xn,"$1"),!0)))}static create(e){return new Ln(e)}_onConnectionId(e){this._connectionId=e,this._autoregister&&this.register()}_onClusterMessage(e){const t=e.payloads&&e.payloads[0];if(!t)return;const s=t.ack_id;s&&this._tracker.trackCommandAcknowledged(s),this._parseCluster(t.cluster)}_resolveTargetDevice(e){return this._descriptorPromise.then((()=>{const t=this._localDeviceId;return Pn(e?e===p?t:e:this._lastActiveDevice?this._lastActiveDevice.id:t)}))}_makeEndpoint(e,t,s){return this._descriptorPromise.then((()=>{const n=this._localDeviceId;return`${this._endpoint}/${e}/${t}/from/${n}/to/${s}`}))}_sendPlayerCommand(e,t=null,s={}){var i,a;s.endpoint=e;const o=(null===(i=s.logging_params)||void 0===i?void 0:i.command_id)||_n();s.logging_params=Object.assign(Object.assign({},s.logging_params),{command_id:o});const r={command:s};return this._tracker.startTracking({commandId:o,commandType:e,interactionIds:null===(a=null==s?void 0:s.loggingParams)||void 0===a?void 0:a.interaction_ids,playOrigin:null==s?void 0:s.play_origin}),this._resolveTargetDevice(t).then((e=>{if(!e.deviceId)throw new pn(n.CONNECTAPI_CLIENT_MISSING_DEVICE_ID,"Operation resulted in a null device id");!r.target_alias_id&&e.aliasId&&(r.target_alias_id=e.aliasId);const t=this._getTargetDeviceInfo(e.deviceId);return this._tracker.trackDeviceInfo(o,t),this._makeEndpoint("v1","player/command",e.deviceId)})).then((e=>this._sendRequest(Tn.I.POST,e,r,o))).then(this._awaitResponseWithAck.bind(this,o)).then((e=>(this._tracker.logCommand(o),e))).catch((e=>{throw this._tracker.logCommand(o),e}))}_sendConnectCommand(e,t=null,s={}){const i="volume"===e?Tn.I.PUT:Tn.I.POST,a="volume"===e||"logout"===e,o=(null==s?void 0:s.command_id)||_n();return this._tracker.startTracking({commandId:o,commandType:e,interactionIds:s.interaction_id?[s.interaction_id]:void 0}),this._resolveTargetDevice(t).then((t=>{if(!t.deviceId)throw new pn(n.CONNECTAPI_CLIENT_MISSING_DEVICE_ID,"Operation resulted in a null device id");t.aliasId&&(a?s.command_options={target_alias_id:t.aliasId}:s.target_alias_id||(s.target_alias_id=t.aliasId));const i=this._getTargetDeviceInfo(t.deviceId);return this._tracker.trackDeviceInfo(o,i),this._makeEndpoint("v1",`connect/${e}`,t.deviceId)})).then((e=>this._sendRequest(i,e,s,o))).then(this._awaitResponseWithAck.bind(this,o)).then((e=>(this._tracker.logCommand(o),e))).catch((e=>{throw this._tracker.logCommand(o),e}))}_sendRequest(e,t,s,n){return this._tracker.trackRequestStart(n),this._transport.request(t,{method:e,headers:{"Content-Type":"application/json"},payload:s?JSON.stringify(s):void 0,responseType:"json",retry:{condition:(e,t)=>{const s=e.getStatusFamily();return s===t.SERVER_ERROR||s===t.CONNECTION_ERROR}}}).catch((e=>Promise.reject(e)))}_awaitResponseWithAck(e,t){var s,i;if(this._tracker.trackRequestComplete(e,t),404===t.status)return Promise.reject(new pn(n.CONNECTAPI_CLIENT_NO_DEVICE,"No such device."));const a=null===(s=t.body)||void 0===s?void 0:s.ack_id;if(200===t.status&&a){if(!1!==(null===(i=this._localDevice)||void 0===i?void 0:i.hidden))return Promise.resolve(!0);const t=(0,c.u)();return this._tracker.trackAcknowledgementRequired(e,a,t),t.promise}return Promise.resolve(202===t.status&&!a)}_parseCluster(e){if(!e)return;const t=parseInt(e.timestamp,10);this._lastProcessedTimestamp>t||(this._lastProcessedTimestamp=t,this._parseClusterDevices(e),this._parseClusterPlayerState(e))}_parseClusterDevices(e){var t;const s=this._lastActiveDevice;this._lastActiveDevice=null,this._lastKnownDevices=[],this._localDevice=null;const n=[];for(const i in e.devices)Object.prototype.hasOwnProperty.call(e.devices,i)&&n.push(i);if(n.sort(),n.length)for(const i of n){const s=this._formatClusterDevice(e,i);this._lastKnownDevices.push(...s);for(const n of s)n.is_active&&(this._lastActiveDevice=n),n.local&&(this._localDevice=n,this._deviceLicense=null===(t=e.devices[n.id])||void 0===t?void 0:t.license)}if(!this._fetchedInitialState||!v(this._lastActiveDevice,s)){const t=e.player_state,n=t&&Cn(t);this.emit("device_state_changed",{deviceState:this._lastActiveDevice,hasOrphanedState:!this._lastActiveDevice&&!!n,disappeared:!!s&&!this._lastActiveDevice})}this.emit("devices_changed",{devices:this._lastKnownDevices,localDevice:this._localDevice})}_shouldDisallowTransfer(e,t){var s,n,i;const a=e.player_state;if(!a)return null;const{track:o,restrictions:r}=a;if(o){let e=(null===(s=o.metadata)||void 0===s?void 0:s["media.type"])||(null===(n=o.metadata)||void 0===n?void 0:n.track_player);const a=null===(i=(0,Ds.o_h)(o.uri))||void 0===i?void 0:i.type;if(e&&"mixed"!==e||(e="audio"),-1===(t.capabilities.supported_types||[]).indexOf(`${e}/${a}`))return b.INCOMPATIBLE}if(r){const e=r.disallow_transferring_playback_reasons;if(null==e?void 0:e.length)for(const t of e)return Nn[t]?Nn[t]||null:b.UNSUPPORTED}const l=e.active_device_id;if(!t.can_play||l===t.device_id)return b.UNAVAILABLE;const d=e.devices[l];return(null==d?void 0:d.license)!==Rn.TFT||t.license===Rn.TFT&&t.device_type!==I.SMARTPHONE?null:b.PREMIUM_REQUIRED}_formatClusterDevice(e,t){const s=e.devices[t],n={};if(s&&Array.isArray(s.metadata))for(let l=0,d=s.metadata.length;l<d;l++){const e=s.metadata[l];n[e.type]=e.metadata}const{capabilities:i}=s,a=this._shouldDisallowTransfer(e,s),o={hidden:!1,id:s.device_id,client_id:s.client_id,is_active:s.device_id===e.active_device_id,is_controllable:!!i.is_controllable,is_observable:!!i.is_observable,local:s.device_id===this._localDeviceId,metadata:n,name:s.name,type:(s.device_type||I.UNKNOWN).toLowerCase(),brand:s.brand,model:s.model,version:s.device_software_version,volume:i.disable_volume?-1:s.volume/m||0,capabilities:{supports_lossless_audio:!!i.supports_lossless_audio,supports_dj:!!i.supports_dj,supports_remote_sleep_timer:!!i.supports_remote_sleep_timer},is_alias:!1,is_alias_group:!1,playback_features:{hifi_status:i.supports_hifi},is_group:!!s.is_group,is_being_activated:!1,disallow_transfer_reason:a};if(!s.device_aliases)return[o];const r=[];for(const l in s.device_aliases){if(!Object.prototype.hasOwnProperty.call(s.device_aliases,l))continue;const e=s.device_aliases[l];if(!e)continue;const t=Object.assign(Object.assign({},o),{id:`${o.id}${In}${e.id}`,name:e.display_name,is_alias:!0,is_alias_group:s.is_group||e.is_group,is_active:o.is_active&&s.selected_alias_id===e.id,is_group:!!e.is_group});r.push(t)}return r}_parseClusterPlayerState(e){this._lastKnownPlayerState=null;const t=e.active_device_id,s=t&&e.devices[t];let n=e.player_state;n&&n.track&&(s&&s.capabilities&&!s.capabilities.is_observable?n=null:(s||(n.is_paused=!0,n.restrictions&&(delete n.restrictions.disallow_resuming_reasons,n.restrictions.disallow_pausing_reasons=["already_paused"])),n.duration=parseInt(n.duration,10),n.position=parseInt(n.position,10),n.position_as_of_timestamp=parseInt(n.position_as_of_timestamp,10),n.timestamp=parseInt(n.timestamp,10),n.next_tracks=n.next_tracks||[],n.prev_tracks=n.prev_tracks||[]),this._lastKnownPlayerState=n);let i=!s&&!!this._lastKnownPlayerState;i&&n&&!Cn(n)&&(this._lastKnownPlayerState=null,i=!1),this.emit("player_state_changed",{playerState:this._lastKnownPlayerState,orphaned:i,isLocal:!!t&&t===this._localDeviceId})}_register(){this._fetchedInitialState=!1;const e=`${this._endpoint}/v1/devices/${this._localObserverDeviceId}`;return this._connectionId||Promise.reject(new pn(n.CONNECTAPI_CLIENT_NO_CONNECTION_ID,"Cannot register: no connection id.")),this._transport.request(e,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","X-Spotify-Connection-Id":this._connectionId},payload:JSON.stringify({member_type:"CONNECT_STATE",device:{device_info:{capabilities:{can_be_player:!1,hidden:!0,needs_full_player_state:!0}}}}),responseType:"json"}).then((e=>{429===e.status?this.emit("max_subscriptions_reached",{error:new pn(n.CONNECTAPI_MAX_SUBSCRIPTIONS_REACHED,"Max connections reached")}):200===e.status&&(this.emit("registered",null),e.body&&(this._parseCluster(e.body),this._fetchedInitialState=!0)),429!==e.status&&408!==e.status||(this._lastKnownDevices=this._lastKnownDevices.map((e=>(e.is_being_activated=!1,e))),this._localDevice&&(this._localDevice.is_being_activated=!1),this.emit("devices_changed",{devices:this._lastKnownDevices,localDevice:this._localDevice}))}))}_getTargetDeviceInfo(e){let t=null;const s=this._lastKnownDevices;for(const n of s)if(n.id===e){t=n;break}return t}register(){return this._connectionId?this._descriptorPromise.then(this._register.bind(this)):Promise.reject(new pn(n.CONNECTAPI_CLIENT_NO_CONNECTION_ID,"Cannot register: no connection id."))}deregister(){const e=`${this._endpoint}/v1/devices/${this._localObserverDeviceId}`;return this._transport.request(e,{method:"DELETE",responseType:"json"}).then((e=>{200===e.status&&this.emit("deregistered",null)}))}getDevices(){return this._fetchedInitialState?Promise.resolve({devices:this._lastKnownDevices,localDevice:this._localDevice}):new Promise((e=>{this.once("device_state_changed",(()=>{e({devices:this._lastKnownDevices,localDevice:this._localDevice})}))}))}getActiveDevice(){return this._fetchedInitialState?Promise.resolve(this._lastActiveDevice):new Promise((e=>{this.once("device_state_changed",(t=>{e(t.data.deviceState)}))}))}getDeviceLicense(){return this._deviceLicense||null}getContextPlayerState(){return this._fetchedInitialState?Promise.resolve(this._lastKnownPlayerState):new Promise((e=>{this.once("player_state_changed",(t=>{e(t.data.playerState)}))}))}play(e,t=null){return e?this._sendPlayerCommand("play",t,e):Promise.reject(new pn(n.CONNECTAPI_CLIENT_INVALID_ARGUMENTS,"Descriptor is required for play commands"))}updateCurrentContext(e=null,t){return this.getContextPlayerState().then((s=>s?s.session_id?s.context_url||t.forceNonUpdateable?this._sendPlayerCommand("update_context",e,{context:{url:t.contextURI?`context://${t.contextURI}`:s.context_url||`context://${s.context_uri}`},session_id:s.session_id}):Promise.resolve(!1):Promise.reject(new pn(n.CONNECTAPI_CLIENT_NO_SESSION_ID,"The current state does not have a session id")):Promise.reject(new pn(n.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing"))))}setQueue(e,t){return this._sendPlayerCommand("set_queue",t,e)}addToQueue(e,t){return this._sendPlayerCommand("add_to_queue",t,{track:e})}transfer(e,t={}){var s,n;this._lastKnownDevices=this._lastKnownDevices.map((t=>(t.is_being_activated=t.id===e,t))),this._localDevice&&(this._localDevice.is_being_activated=e===p),this.emit("devices_changed",{devices:this._lastKnownDevices,localDevice:this._localDevice});const i={restore_paused:"restore"};return"paused"in t&&(i.restore_paused=t.paused?"pause":"resume"),this._sendConnectCommand("transfer",e||p,{transfer_options:i,interaction_id:null===(s=t.logging_params)||void 0===s?void 0:s.interaction_ids[0],command_id:null===(n=t.logging_params)||void 0===n?void 0:n.command_id})}pause(e,t){return this._sendPlayerCommand("pause",e,t)}resume(e,t){return this._sendPlayerCommand("resume",e,t)}togglePlay(e,t){return this.getContextPlayerState().then((s=>s?s.is_paused?this.resume(e,t):this.pause(e,t):Promise.reject(new pn(n.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing"))))}nextTrack(e,t){return this._sendPlayerCommand("skip_next",e,t)}previousTrack(e,t){return this._sendPlayerCommand("skip_prev",e,t)}seek(e,t){return isNaN(e)||e<0?Promise.reject(new pn(n.CONNECTAPI_CLIENT_INVALID_POSITION,"Invalid position.")):this._sendPlayerCommand("seek_to",t,{value:e})}setShuffle(e,t,s){return this._sendPlayerCommand("set_shuffling_context",t,Object.assign({value:!!e},s))}toggleShuffle(e,t){return this.getContextPlayerState().then((s=>{if(!s)return Promise.reject(new pn(n.CONNECTAPI_CLIENT_NO_STATE,"Nothing playing"));const i=s.options&&s.options.shuffling_context;return this.setShuffle(!i,e,t)}))}setRepeatingContext(e,t){return this._sendPlayerCommand("set_repeating_context",t,{value:e})}setRepeatingTrack(e,t){return this._sendPlayerCommand("set_repeating_track",t,{value:!!e})}setOptions(e,t,s){return this._sendPlayerCommand("set_options",t,Object.assign(Object.assign({},e),s))}setVolume(e,t){if(isNaN(e)||e<0)return Promise.reject(new pn(n.CONNECTAPI_CLIENT_INVALID_VOLUME,"Invalid volume."));const s=Math.round(e*m);return this._sendConnectCommand("volume",t,{volume:s})}logout(e){return this._sendConnectCommand("logout",e)}sendCustomSignal(e,t){return this._sendPlayerCommand("signal",e,t)}playAsNextInQueue(e,t,s){return this._sendPlayerCommand("play_as_next_in_queue",t,Object.assign({tracks:e},s))}}var jn,On;!function(e){e.SUCCESS="success",e.ACK_TIMEOUT="ack_timeout",e.HTTP_ERROR="http_error",e.SYSTEM_ERROR="system_error",e.PLAYER_ERROR="player_error",e.UNKNOWN_ERROR="unknown_error"}(jn||(jn={}));class Dn{constructor(e){this._commandDataMap={},this._orphanedAcknowledgements={},this._logger=e}_finalizeData(e){if(!e.response)return jn.UNKNOWN_ERROR;const t=e.response.status,s=e.response.getStatusFamily();return 403===t?(e.response.body&&(e.httpResponse=JSON.stringify(e.response.body)),jn.PLAYER_ERROR):200===t&&e.ackId&&null===e.timings.acknowledgement.end?jn.ACK_TIMEOUT:s===ls.t.SUCCESS?jn.SUCCESS:s===ls.t.CONNECTION_ERROR?jn.SYSTEM_ERROR:t?(e.response.body&&(e.httpResponse=JSON.stringify(e.response.body)),jn.HTTP_ERROR):jn.UNKNOWN_ERROR}_calculateTimings(e){const t={};return e.request.start&&e.request.end&&(t.msRequestLatency=(0,W.r)(e.request.start,e.request.end)),e.acknowledgement.start&&e.acknowledgement.end&&(t.msAckDuration=(0,W.r)(e.acknowledgement.start,e.acknowledgement.end)),t}_waitingOnCommands(){let e=!1;for(const t in this._commandDataMap){if(!Object.prototype.hasOwnProperty.call(this._commandDataMap,t))continue;const s=this._commandDataMap[t];if(s&&!s.response){e=!0;break}}return e}startTracking({commandId:e,commandType:t,interactionIds:s,playOrigin:n}){e&&(this._commandDataMap[e]={commandType:t,ackId:null,interactionIds:(s||[]).join(","),playOrigin:n?JSON.stringify(n):void 0,timings:{request:{start:null,end:null},acknowledgement:{start:null,end:null}}})}trackDeviceInfo(e,t){const s=this._commandDataMap[e];s&&t&&(s.deviceInfo={id:t.id,client_id:t.client_id,target_device_brand:t.brand,target_device_model:t.model})}trackRequestStart(e){const t=this._commandDataMap[e];if(!t)return;const s=(0,W.X)();t.timings.request.start=s,t.timings.acknowledgement.start=s}trackRequestComplete(e,t){const s=this._commandDataMap[e];s&&(s.response=t,s.timings.request.end=(0,W.X)())}trackAcknowledgementRequired(e,t,s){const i=this._commandDataMap[e],a=this._orphanedAcknowledgements[t];if(i)if(i.ackId=t,a)i.timings.acknowledgement.end=a.ackTimeMs,a.deferredPromise.resolve(!0),delete this._orphanedAcknowledgements[t];else{const e=setTimeout((()=>{s.reject(new pn(n.CONNECTAPI_CLIENT_ACK_TIMEOUT,"Command didn't receive an acknowledgement within 30000ms"))}),3e4);s.promise.then((t=>(clearTimeout(e),t))),i.deferredPromise=s}}trackCommandAcknowledged(e){const t=(0,W.X)();for(const s in this._commandDataMap){if(!Object.prototype.hasOwnProperty.call(this._commandDataMap,s))continue;const n=this._commandDataMap[s];if(n&&n.ackId===e)return n.deferredPromise&&n.deferredPromise.resolve(!0),void(n.timings.acknowledgement.end=t)}this._waitingOnCommands()&&(this._orphanedAcknowledgements[e]={deferredPromise:(0,c.u)(),ackTimeMs:t},setTimeout((()=>{this._orphanedAcknowledgements[e]&&delete this._orphanedAcknowledgements[e]}),6e4))}logCommand(e){var t;const s=this._commandDataMap[e];if(!s)return Promise.resolve();const n=this._finalizeData(s),{msAckDuration:i,msRequestLatency:a}=this._calculateTimings(s.timings),o={command_id:e,command_type:s.commandType,ms_ack_duration:null!=i?i:null,ms_request_latency:a,interaction_ids:s.interactionIds,play_origin:s.playOrigin,result:n,http_response:s.httpResponse,http_status_code:null===(t=s.response)||void 0===t?void 0:t.status};s.deviceInfo&&(o.target_device_id=s.deviceInfo.id,o.target_device_brand=s.deviceInfo.target_device_brand,o.target_device_model=s.deviceInfo.target_device_model,o.target_device_client_id=s.deviceInfo.client_id);const r=()=>{delete this._commandDataMap[e]};return this._logger.logJSSDKConnectCommand(o).then(r,r)}}!function(e){e.PLAYER_INITIALIZATION_DONE="PLAYER_INITIALIZATION_DONE",e.PLAYER_INITIALIZATION_FAILED="PLAYER_INITIALIZATION_FAILED",e.STATE_CHANGED="STATE_CHANGED",e.AUTOPLAY_FAILED="AUTOPLAY_FAILED",e.BEFORE_LIST_CHANGE="BEFORE_LIST_CHANGE",e.BEFORE_NEXT="BEFORE_NEXT",e.BEFORE_PREVIOUS="BEFORE_PREVIOUS",e.BEFORE_TRACK_LOAD="BEFORE_TRACK_LOAD",e.BEFORE_PLAYER_LOAD="BEFORE_PLAYER_LOAD",e.BUFFER_STALLED="BUFFER_STALLED",e.BUFFERING_START="BUFFERING_START",e.BUFFERING_END="BUFFERING_END",e.REBUFFERING_START="REBUFFERING_START",e.REBUFFERING_END="REBUFFERING_END",e.CAPPED="CAPPED",e.CLEARED="CLEARED",e.DISPLAYED_CUES_CHANGED="DISPLAYED_CUES_CHANGED",e.SUBTITLE_LANGUAGES_LOADED="SUBTITLE_LANGUAGES_LOADED",e.DURATION_CHANGED="DURATION_CHANGED",e.ERROR="ERROR",e.ERROR_SYNC="ERROR_SYNC",e.FIRST_BYTES="FIRST_BYTES",e.LIST_CHANGED="LIST_CHANGED",e.LIST_ENDED="LIST_ENDED",e.LOAD_VIDEO="LOAD_VIDEO",e.MAX_LIST_ERRORS_REACHED="MAX_LIST_ERRORS_REACHED",e.PAUSED="PAUSED",e.PLAYING="PLAYING",e.PLAYED_THRESHOLD_REACHED="PLAYED_THRESHOLD_REACHED",e.POSITION_CHANGED="POSITION_CHANGED",e.PROGRESS="PROGRESS",e.SEEKING="SEEKING",e.REPEAT_MODE_CHANGED="REPEAT_MODE_CHANGED",e.SHUFFLE_CHANGED="SHUFFLE_CHANGED",e.BEFORE_STOP="BEFORE_STOP",e.STOPPED="STOPPED",e.STOPPED_VIDEO="STOPPED_VIDEO",e.TRACKING_DATA_CREATED="TRACKING_DATA_CREATED",e.TRACKING_DATA_FINALIZED="TRACKING_DATA_FINALIZED",e.TRACK_ENDED="TRACK_ENDED",e.TRACK_LOADED="TRACK_LOADED",e.TRACK_TIMEOUT="TRACK_TIMEOUT",e.TRACK_UNPLAYABLE="TRACK_UNPLAYABLE",e.VOLUME_CHANGED="VOLUME_CHANGED",e.VIDEO_ELEMENT_APPENDED="VIDEO_ELEMENT_APPENDED",e.VIDEO_ELEMENT_REMOVED="VIDEO_ELEMENT_REMOVED",e.SPEED_CHANGED="SPEED_CHANGED",e.MUTED_CHANGED="MUTED_CHANGED",e.PLAYING_PROFILE_CHANGED="PLAYING_PROFILE_CHANGED",e.MEDIA_PLAYBACK_MODE_CHANGED="MEDIA_PLAYBACK_MODE_CHANGED",e.VISIBILITY_CHANGED="VISIBILITY_CHANGED",e.VIDEO_VISIBILITY_CHANGED="VIDEO_VISIBILITY_CHANGED",e.VIDEO_SURFACE_CHANGED="VIDEO_SURFACE_CHANGED",e.REPORTING_START="REPORTING_START",e.REPORTING_FIRST_QUARTILE="REPORTING_FIRST_QUARTILE",e.REPORTING_MIDPOINT="REPORTING_MIDPOINT",e.REPORTING_THIRD_QUARTILE="REPORTING_THIRD_QUARTILE",e.REPORTING_COMPLETE="REPORTING_COMPLETE",e.REPORTING_PAUSE="REPORTING_PAUSE",e.REPORTING_RESUME="REPORTING_RESUME",e.REPORTING_CREATIVE_VIEW="REPORTING_CREATIVE_VIEW",e.REPORTING_ERROR="REPORTING_ERROR"}(On||(On={}));const Mn=e=>e&&e.length>0?e:O(32),Un={MP3:X.MP3,MP4:X.MP4,MP4_DUAL:X.MP4_DUAL,MP4_CBCS:X.MP4_CBCS,MP4_FLAC:X.MP4_FLAC,MANIFEST_ID:X.MANIFEST_ID,AD_MANIFEST:X.AD_MANIFEST,GENERIC_MEDIA:X.GENERIC_MEDIA};class Bn{constructor(e){var t,s,n,i,a,o,r,l;if(this.isAd=!1,!e.uri)throw new TypeError("Missing required `uri` option.");if(!e.fileId&&!(null!==(t=e.url)&&void 0!==t?t:e.resolvedURL))throw new TypeError("Missing: provide either fileId or url");this.uri=e.uri,this.playableURI=this.uri,this.fileId=e.fileId||"",this.playable=null===(s=e.playable)||void 0===s||s,this.mediaType=e.mediaType||"audio",this.metadata=e.metadata||{},this.url=null!==(n=e.url)&&void 0!==n?n:e.resolvedURL,this.noManifest=null!==(i=e.noManifest)&&void 0!==i?i:!!this.url,this.noAuth=null!==(a=e.noAuth)&&void 0!==a&&a,this.preloadedManifest=e.preloadedManifest,this.licenseEndpoint=e.licenseEndpoint,this.fileFormat=e.fileFormat,this.poster=e.poster,this.options=e.options,this.audioGain=e.audioGain,this.mimeType=e.mimeType,this.contentType=e.contentType;const{format:d}=e;if(d){if(!Object.prototype.hasOwnProperty.call(Un,d))throw new TypeError("Invalid `format` option.");this.format=Un[d]}else this.format=this.url&&!this.fileId?X.GENERIC_MEDIA:X.MP4;this.logData=Object.assign(Object.assign({},e.logData),{noLog:!1,noTSV:null===(r=null===(o=e.logData)||void 0===o?void 0:o.noTSV)||void 0===r||r,noStats:!1,playbackId:Mn(null===(l=e.logData)||void 0===l?void 0:l.playbackId)})}static create(e){return new Bn(e)}}class Gn{constructor(e){this._index=-1,this._tracks=[],this._tracks=e.tracks}static create(e){const t=[];for(const s of e.tracks)s instanceof Bn?t.push(s):t.push(Bn.create(s));return new Gn({tracks:t})}startAt(e){return e>this._tracks.length||e<0?this._index=-1:this._index=e-1,Promise.resolve(Z.SUCCESS)}next(e,t){const s=this._index+1;if(s>=this._tracks.length)return Promise.resolve(e.listConstants.LIST_END);const n=this._tracks[s];return t||(this._index=s),n?Promise.resolve(n):Promise.reject(Es.NULL_VALUE)}peekNext(e){return this.next(e,!0)}allowSeeking(){return!0}previous(e){const t=this._index-1;if(t<0)return Promise.resolve(e.listConstants.LIST_START);const s=this._tracks[t];return this._index=t,s?Promise.resolve(s):Promise.reject(Es.NULL_VALUE)}setShuffle(){return Promise.resolve(Z.SUCCESS)}setRepeatMode(){return Promise.resolve(Z.SUCCESS)}}class Fn extends d.bk{constructor(e){super(),this._playerPromise=e.playerPromise,this._listPlayer=e.listPlayer,this._transport=e.transport,this._autoActivateElement=!!e.autoActivateElement,this._init()}static create(e){return new Fn(e)}_init(){const e=this._listPlayer;this.proxyEmitAll(e,{[Q.LIST_PLAYER_AUTOPLAY_FAILED]:On.AUTOPLAY_FAILED,[Q.LIST_PLAYER_BEFORE_LIST_CHANGE]:On.BEFORE_LIST_CHANGE,[Q.LIST_PLAYER_BUFFER_STALLED]:On.BUFFER_STALLED,[Q.LIST_PLAYER_BUFFERING_START]:On.BUFFERING_START,[Q.LIST_PLAYER_BUFFERING_END]:On.BUFFERING_END,[Q.LIST_PLAYER_REBUFFERING_START]:On.REBUFFERING_START,[Q.LIST_PLAYER_REBUFFERING_END]:On.REBUFFERING_END,[Q.LIST_PLAYER_CLEARED]:On.CLEARED,[Q.LIST_PLAYER_DURATION_CHANGED]:On.DURATION_CHANGED,[Q.LIST_PLAYER_ERROR]:On.ERROR,[Q.LIST_PLAYER_LIST_CHANGED]:On.LIST_CHANGED,[Q.LIST_PLAYER_LIST_ENDED]:On.LIST_ENDED,[Q.LIST_PLAYER_MAX_LIST_ERRORS_REACHED]:On.MAX_LIST_ERRORS_REACHED,[Q.LIST_PLAYER_PAUSED]:On.PAUSED,[Q.LIST_PLAYER_PLAYING]:On.PLAYING,[Q.LIST_PLAYER_PLAYED_THRESHOLD_REACHED]:On.PLAYED_THRESHOLD_REACHED,[Q.LIST_PLAYER_POSITION_CHANGED]:On.POSITION_CHANGED,[Q.LIST_PLAYER_PROGRESS]:On.PROGRESS,[Q.LIST_PLAYER_REPEAT_MODE_CHANGED]:On.REPEAT_MODE_CHANGED,[Q.LIST_PLAYER_SEEKING]:On.SEEKING,[Q.LIST_PLAYER_SHUFFLE_CHANGED]:On.SHUFFLE_CHANGED,[Q.LIST_PLAYER_BEFORE_STOP]:On.BEFORE_STOP,[Q.LIST_PLAYER_STOPPED]:On.STOPPED,[Q.LIST_PLAYER_TRACKING_DATA_CREATED]:On.TRACKING_DATA_CREATED,[Q.LIST_PLAYER_TRACKING_DATA_FINALIZED]:On.TRACKING_DATA_FINALIZED,[Q.LIST_PLAYER_TRACK_ENDED]:On.TRACK_ENDED,[Q.LIST_PLAYER_TRACK_LOADED]:On.TRACK_LOADED,[Q.LIST_PLAYER_TRACK_TIMEOUT]:On.TRACK_TIMEOUT,[Q.LIST_PLAYER_TRACK_UNPLAYABLE]:On.TRACK_UNPLAYABLE,[Q.LIST_PLAYER_VOLUME_CHANGED]:On.VOLUME_CHANGED,[Q.LIST_PLAYER_VIDEO_ELEMENT_APPENDED]:On.VIDEO_ELEMENT_APPENDED,[Q.LIST_PLAYER_VIDEO_ELEMENT_REMOVED]:On.VIDEO_ELEMENT_REMOVED,[Q.PLAYER_DISPLAYED_CUES_CHANGED]:On.DISPLAYED_CUES_CHANGED,[Q.PLAYER_SUBTITLE_LANGUAGES_LOADED]:On.SUBTITLE_LANGUAGES_LOADED,[Q.PLAYER_PLAYBACK_SPEED_CHANGED]:On.SPEED_CHANGED,[Q.PLAYER_MUTED_CHANGED]:On.MUTED_CHANGED,[Q.LIST_PLAYER_PLAYING_PROFILE_CHANGED]:On.PLAYING_PROFILE_CHANGED,[Q.LIST_PLAYER_FIRST_BYTES]:On.FIRST_BYTES,[Q.LIST_PLAYER_BEFORE_PLAYER_LOAD]:On.BEFORE_PLAYER_LOAD,[Q.PLAYER_MEDIA_PLAYBACK_MODE_CHANGED]:On.MEDIA_PLAYBACK_MODE_CHANGED,[Q.LIST_PLAYER_VIDEO_VISIBILITY_CHANGED]:On.VIDEO_VISIBILITY_CHANGED}),this.proxyEmitAllSync(e,{[Q.LIST_PLAYER_BEFORE_NEXT]:On.BEFORE_NEXT,[Q.LIST_PLAYER_BEFORE_PREVIOUS]:On.BEFORE_PREVIOUS,[Q.LIST_PLAYER_BEFORE_TRACK_LOAD]:On.BEFORE_TRACK_LOAD,[Q.LIST_PLAYER_ERROR_SYNC]:On.ERROR_SYNC,[Q.REPORTING_START]:On.REPORTING_START,[Q.REPORTING_FIRST_QUARTILE]:On.REPORTING_FIRST_QUARTILE,[Q.REPORTING_MIDPOINT]:On.REPORTING_MIDPOINT,[Q.REPORTING_THIRD_QUARTILE]:On.REPORTING_THIRD_QUARTILE,[Q.REPORTING_COMPLETE]:On.REPORTING_COMPLETE,[Q.REPORTING_PAUSE]:On.REPORTING_PAUSE,[Q.REPORTING_RESUME]:On.REPORTING_RESUME,[Q.REPORTING_CREATIVE_VIEW]:On.REPORTING_CREATIVE_VIEW,[Q.REPORTING_ERROR]:On.REPORTING_ERROR}),this._emitStateChanged=this._emitStateChanged.bind(this),this.on(On.CLEARED,this._emitStateChanged),this.on(On.PAUSED,this._emitStateChanged),this.on(On.PLAYING,this._emitStateChanged),this.on(On.POSITION_CHANGED,this._emitStateChanged),this.on(On.STOPPED,this._emitStateChanged),this.on(On.LIST_CHANGED,this._emitStateChanged),this.on(On.VOLUME_CHANGED,this._emitStateChanged),this.on(On.SPEED_CHANGED,this._emitStateChanged),this.on(On.MUTED_CHANGED,this._emitStateChanged),this.on(On.TRACK_LOADED,this._emitStateChanged),this.on(On.DURATION_CHANGED,this._emitStateChanged),this.on(On.REBUFFERING_START,this._emitStateChanged),this.on(On.REBUFFERING_END,this._emitStateChanged),this._playerPromise.then((()=>this.emit(On.PLAYER_INITIALIZATION_DONE,null))).catch((e=>this.emit(On.PLAYER_INITIALIZATION_FAILED,{error:e}))),this._transport.on(r.TransportEvent.BEFORE_ONLINE_DISCONNECT,(e=>{e.data.awaitPromise(this._listPlayer.stop(g.END_PLAY).catch((e=>{})))}))}_emitStateChanged(){this._listPlayer.getState().then((e=>{this.emit(On.STATE_CHANGED,{state:e})}))}playTracks(e,t){return this._autoActivateElement&&this._listPlayer.activateElement(),new Promise((t=>{t(Gn.create({tracks:e}))})).then((e=>this._listPlayer.play(e,t)))}playList(e,t){return this._autoActivateElement&&this._listPlayer.activateElement(),this._listPlayer.play(e,t)}getState(){return this.getCurrentState()}getCurrentState(){return this._listPlayer.getState()}pause(){return this._listPlayer.pause()}resume(){return this._listPlayer.resume()}togglePlay(){return this._listPlayer.togglePlay()}stop(){return this._listPlayer.stop(g.END_PLAY)}seek(e){return this._listPlayer.seek(e)}nextTrack(){return this._listPlayer.next(g.FORWARD_BUTTON)}previousTrack(){return this._listPlayer.previous(g.BACK_BUTTON)}getVolume(){return this._listPlayer.getVolume()}setVolume(e){return this._listPlayer.setVolume(e)}setPlaybackSpeed(e){return this._listPlayer.setPlaybackSpeed(e)}setMuted(e){return this._listPlayer.setMuted(e)}activateElement(){return this._listPlayer.activateElement()}preloadTrack(e){return this._listPlayer.preloadTrack(e)}hideSubtitles(){return this._listPlayer.hideSubtitles()}showSubtitles(){return this._listPlayer.showSubtitles()}getSubtitleLanguages(){return this._listPlayer.getSubtitleLanguages()}setSubtitleLanguage(e){return this._listPlayer.setSubtitleLanguage(e)}areSubtitlesShown(){return this._listPlayer.areSubtitlesShown()}getActiveSubtitleLanguage(){return this._listPlayer.getActiveSubtitleLanguage()}getMediaConfig(){return this._listPlayer.getMediaConfig()}deactivateSubtitleEvents(){return this._listPlayer.deactivateCueEvents()}activateSubtitleEvents(){return this._listPlayer.activateCueEvents()}setMediaPlaybackMode(e){return this._listPlayer.setMediaPlaybackMode(e)}setPlayerVisibility(e){return this._listPlayer.setIsVideoVisible(e)}setIsVideoVisible(e){return this._listPlayer.setIsVideoVisible(e)}getPlayerVisibility(){return Promise.resolve(!1)}}const Vn=Object.assign(Object.assign({},r.TransportErrors),i),Hn=Bn.create,Yn=Gn.create;function Kn(e){var t,s,n,i,a,o,r;const{transport:l,autoActivateElement:d,config:c}=e,u=null==c?void 0:c.mux,p=Is(Object.assign(Object.assign({},c),{loggerOptions:{platform:e.platform_identifier,disableMux:null===(s=null!==(t=null==u?void 0:u.disable)&&void 0!==t?t:null==c?void 0:c.disableMux)||void 0===s||s,muxEnvKey:null!==(n=null==u?void 0:u.envKey)&&void 0!==n?n:null==c?void 0:c.muxEnvKey,muxCustomDimensions:null==u?void 0:u.customDimensions,deviceInfo:null!==(i=null==u?void 0:u.deviceInfo)&&void 0!==i?i:null===(a=null==c?void 0:c.loggerOptions)||void 0===a?void 0:a.deviceInfo},sdkId:`overture:${A.version}`,transport:l.toPublic(),audioProcessorOptions:{disable:null===(r=null===(o=null==c?void 0:c.audioProcessorOptions)||void 0===o?void 0:o.disable)||void 0===r||r}})).then((e=>e.player)),m=xs.create({trackPlayer:p});return Fn.create({listPlayer:m,playerPromise:p,transport:l,autoActivateElement:d})}const zn=Object.assign(Object.assign(Object.assign({},n),a.L),i);function Wn(e){var t,s,n;const i=e.transport;if(!i)throw new TypeError("No Transport instance provided");const a=function(e){return Y.create(e)}(Object.assign(Object.assign({},e.client),{transport:i,hidden:!!e.hidden,playTokenLostBehavior:e.playTokenLostBehavior||(e.hidden&&!e.onlyLocalState?"stop":"pause")})),o=e.streamer||{},r=e.controller||{};let l,d=null!==(s=null===(t=e.controller)||void 0===t?void 0:t.enableWithoutStreamer)&&void 0!==s&&s;e.streamer&&e.streamer.disabled?(e.hidden=!0,e.onlyLocalState=!1,e.claimInactivePlayerStates=!1,d=!0):(l=dn(a,o),r.autoregister=!1,e.onlyLocalState&&(r.decorateTrackWindow=!1,r.disableProgress=!0));const c=function(e,t={}){const s=e.getPublicTransport(),n=e.getVersionDescriptor().tagged,i=Ln.create({autoregister:!("autoregister"in t)||t.autoregister,descriptor:e.getClientDescriptor(),transport:s,tracker:new Dn(e.getLogger())});return Sn.create({client:e,playerClient:i,version:n,serverTime:un.F.create(s),decorateTrackWindow:"boolean"!=typeof t.decorateTrackWindow||t.decorateTrackWindow,disableProgress:t.disableProgress})}(a,r);return x.create({transport:i,client:a,streamer:l,controller:c,enableControllerWithoutStreamer:d,hidden:e.hidden,onlyLocalState:e.onlyLocalState,claimInactivePlayerStates:e.claimInactivePlayerStates,forceRemoteActions:e.forceRemoteActions,autoActivateElement:null!==(n=e.autoActivateElement)&&void 0!==n?n:"undefined"!=typeof WebKitMediaKeys,experimentalDeactivateOnStop:e.experimentalDeactivateOnStop})}function qn(e){const t=function(e){if("function"!=typeof e.getToken)throw new TypeError("Argument options.getToken must be a function");const t=(0,o.Q)(e.xresolve);return(0,r.createTransport)({providers:{endpoints:s=>t(s).then((t=>{const s=e.endpoints;if(s)for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e)){const n=s[e];l(n)&&(t[e]=n)}return t})),token:()=>new Promise((t=>{e.getToken(((e,s)=>{t(void 0===s?e:[e,s])}))}))},disconnectBeforeUnload:e.disconnectBeforeUnload,forcePolyfillTypes:e.forcePolyfillTypes,reconnectionRetries:e.reconnectionRetries,requestMode:e.requestMode||"fetch"})}(e);return{harmony:Wn(Object.assign(Object.assign({},e),{transport:t})),transport:t}}},34113:(e,t,s)=>{"use strict";s.d(t,{Q:()=>m});var n=s(65987),i=(s(7130),s(87953),s(83471));function a(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;return Math.abs(e-t)<s}function o(e){return e.toString(16).padStart(2,"0")}function r(e){return`${parseFloat((100*e).toFixed(1))}%`}function l(e){var t,s,n,i;e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,s,n){return t+t+s+s+n+n}));const a=/^#?(?<r>[a-f\d]{2})(?<g>[a-f\d]{2})(?<b>[a-f\d]{2})(?<a>[a-f\d]{2})?$/i.exec(e),o=null==a||null===(t=a.groups)||void 0===t?void 0:t.r,r=null==a||null===(s=a.groups)||void 0===s?void 0:s.g,l=null==a||null===(n=a.groups)||void 0===n?void 0:n.b,d=null==a||null===(i=a.groups)||void 0===i?void 0:i.a;if(void 0===o||void 0===r||void 0===l)throw new Error(`Invalid hex color code "${e}"`);return{r:o,g:r,b:l,a:d}}function d(e){const{a:t}=l(e);if(!t)return 1;return function(e,t,s){const n=e.toLocaleString("en",{useGrouping:!1,minimumFractionDigits:t,maximumFractionDigits:s});return Number(n)}(parseInt(t,16)/255,0,2)}function c(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function u(e){let{rgb:{r:t,g:s,b:n}}=e;return.2126*c(t/255)+.7152*c(s/255)+.0722*c(n/255)}function p(e,t){const s=u(e),n=u(t);return(Math.max(s,n)+.05)/(Math.min(s,n)+.05)}class m{constructor(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.rgb=e,this.hsl=t,this.hsv=s,this.a=n}static#e=(()=>{(0,n.A)(this,"BLACK",m.fromRGB({r:0,g:0,b:0})),(0,n.A)(this,"WHITE",m.fromRGB({r:255,g:255,b:255}))})();static fromRGB(e,t){if(e.r<0||e.g<0||e.b<0||e.r>255||e.g>255||e.b>255||t&&t<0||t&&t>1)throw Error(`Invalid RGB color: ${JSON.stringify(e)}, alpha: ${t}`);const s=function(e){let{r:t,g:s,b:n}=e;const i=t/255,o=s/255,r=n/255,l=Math.max(i,o,r),d=Math.min(i,o,r),c=l-d;let u;const p=(l+d)/2,m=l;u=a(c,0)?0:a(m,i)?60*(0+(o-r)/c):a(m,o)?60*(2+(r-i)/c):60*(4+(i-o)/c),u%=360,u<0&&(u+=360);const h=0===p||1===p?0:(m-p)/Math.min(p,1-p);return{h:Math.round(u),s:h,l:p}}(e),n=function(e){let{r:t,g:s,b:n}=e;const i=t/255,o=s/255,r=n/255,l=Math.max(i,o,r),d=l-Math.min(i,o,r);let c;const u=l;c=a(d,0)?0:a(u,i)?60*(0+(o-r)/d):a(u,o)?60*(2+(r-i)/d):60*(4+(i-o)/d),c%=360,c<0&&(c+=360);const p=0===u?0:d/u;return{h:Math.round(c),s:p,v:u}}(e);return new m(e,s,n,t)}static fromHex(e,t){const s=function(e){const{r:t,g:s,b:n}=l(e);return{r:parseInt(t,16),g:parseInt(s,16),b:parseInt(n,16)}}(e),n=d(e);return m.fromRGB(s,t??n)}static fromHSV(e,t){const s=function(e){let{h:t,s,v:n}=e;const i=n*s,a=t/60,o=i*(1-Math.abs(a%2-1));let r;r=a>=0&&a<=1?[i,o,0]:a>1&&a<=2?[o,i,0]:a>2&&a<=3?[0,i,o]:a>3&&a<=4?[0,o,i]:a>4&&a<=5?[o,0,i]:a>5&&a<=6?[i,0,o]:[0,0,0];const l=n-i;return{r:Math.round(255*(r[0]+l)),g:Math.round(255*(r[1]+l)),b:Math.round(255*(r[2]+l))}}(e);return m.fromRGB(s,t)}static fromHSL(e,t){const s=function(e){let{h:t,s,l:n}=e;const i=(1-Math.abs(2*n-1))*s,a=t/60,o=i*(1-Math.abs(a%2-1));let r;r=a>=0&&a<=1?[i,o,0]:a>1&&a<=2?[o,i,0]:a>2&&a<=3?[0,i,o]:a>3&&a<=4?[0,o,i]:a>4&&a<=5?[o,0,i]:a>5&&a<=6?[i,0,o]:[0,0,0];const l=n-i/2;return{r:Math.round(255*(r[0]+l)),g:Math.round(255*(r[1]+l)),b:Math.round(255*(r[2]+l))}}(e);return m.fromRGB(s,t)}static fromInt(e,t){const s=function(e){return{r:e>>16&255,g:e>>8&255,b:255&e}}(e);return m.fromRGB(s,t)}static fromCSS(e,t){const s=function(e,t){const s=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/);if(s){const[,e="",n="",i="",a=""]=s,o=t??parseFloat(a);return{rgb:{r:parseInt(e,10),g:parseInt(n,10),b:parseInt(i,10)},rgbAlpha:Number.isNaN(o)?void 0:o}}return null}(e,t);if(s){const{rgb:e,rgbAlpha:t}=s;return m.fromRGB(e,t)}const n=function(e){const t=e.match(/^#([0-9a-f]{3}|[0-9a-f]{6}|[0-9a-f]{8})$/i);return(null==t?void 0:t[1])??null}(e);if(n)return m.fromHex(n,t);const i=function(e,t){const s=e.match(/^hsla?\((\d+),\s*(\d+)%,\s*(\d+)%(?:,\s*(\d*(?:\.\d+)?))?\)$/);if(s){const[,e="",n="",i="",a=""]=s,o=t??parseFloat(a);return{hsl:{h:parseInt(e,10),s:parseInt(n,10)/100,l:parseInt(i,10)/100},hslAlpha:Number.isNaN(o)?void 0:o}}return null}(e,t);if(i){const{hsl:e,hslAlpha:t}=i;return m.fromHSL(e,t)}throw new Error(`Invalid or unsupported CSS color: ${e}`)}toCSS(e){switch(e){case i.a.HEX:return`#${o((t=this).rgb.r)}${o(t.rgb.g)}${o(t.rgb.b)}`;case i.a.HEXA:return function(e){return`#${o(e.rgb.r)}${o(e.rgb.g)}${o(e.rgb.b)}${o(Math.floor(255*e.a))}`}(this);case i.a.RGB:return function(e){return`rgb(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b})`}(this);case i.a.RGBA:return function(e){return`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.a})`}(this);case i.a.HSL:return function(e){const{h:t,s,l:n}=e.hsl;return`hsl(${t}, ${r(s)}, ${r(n)})`}(this);case i.a.HSLA:return function(e){const{h:t,s,l:n}=e.hsl;return`hsla(${t}, ${r(s)}, ${r(n)}, ${e.a})`}(this);default:throw new Error("Invalid or unsupported CSSColorFormat!")}var t}toRGBA255(){return{r:this.rgb.r,g:this.rgb.g,b:this.rgb.b,a:255*this.a}}contrastAdjust(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4.5,s=m.BLACK;if("light"===e&&(s=m.WHITE),s!==m.BLACK&&s!==m.WHITE)throw new Error("Only supports contrast calculation between black and white.");let n=p(this,s);if(n>=t)return this;let i=this.hsv.v,a=s===m.WHITE?-.02:.02,o=Number.MAX_VALUE,r=null;for(let l=0;l<100&&o>.07&&i>=0&&i<=1;l++){i=Math.min(i+a,1),r=m.fromHSV({h:this.hsv.h,s:this.hsl.s,v:i}),n=p(r,m.WHITE);const e=Math.round(10*Math.abs(n-t))/10;e>o&&(a*=-.5),o=e}return null===r?this:r}toString(){return`${this.rgb.r},${this.rgb.g},${this.rgb.b},${this.a}`}stringify(){return JSON.stringify(this)}static parse(e){const{rgb:t,hsl:s,hsv:n,a:i}=JSON.parse(e);return new m(t,s,n,i)}}},34207:(e,t,s)=>{"use strict";s.d(t,{d:()=>n,k:()=>i});s(7130);function n(e,t){throw new Error(t??`Unexpectedly hit unreachable code! Unhandled discriminated union member: ${JSON.stringify(e)}`)}function i(e,t){try{n(e,t)}catch(s){}}},34698:(e,t,s)=>{"use strict";s.d(t,{f:()=>a});var n=s(9856),i=s.n(n);function a(){return i().getParser(window.navigator.userAgent).getOSName()||"not_applicable"}},34738:(e,t,s)=>{"use strict";s.d(t,{s:()=>r});var n=s(30758),i=s(40638),a=s(22122);const o={throttleTime:100,leading:!0};function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;const s=(0,a.ox)(),{throttleTime:r,...l}=t,d=(0,i.YQ)(e,r,l);(0,n.useEffect)((()=>(null==s||s.addEventListener("resize",d),()=>{null==s||s.removeEventListener("resize",d),d.cancel()})),[d,s])}},35886:(e,t,s)=>{"use strict";s.d(t,{E:()=>d});var n=s(46833),i=s(84567),a=s(46938);const o="C8ZC1K9aTo1bVZR5326H",r="Lg64tO7KvK4aRj40lM6j";var l=s(86070);const d=e=>{let{heading:t,message:s,primaryButtonTitle:d,onPrimaryButtonClick:c}=e;return(0,l.jsxs)("div",{className:o,children:[(0,l.jsx)(n.G,{useBrandColor:!0,height:"48",condensed:!0}),(0,l.jsx)(i.E,{variant:"titleSmall",as:"h1",children:t}),s&&(0,l.jsx)(i.E,{variant:"bodyMedium",as:"p",className:r,children:s}),(0,l.jsx)(a.$,{colorSet:"invertedLight",onClick:c,children:d})]})}},36450:(e,t,s)=>{"use strict";s.d(t,{CT:()=>a,IH:()=>p,IU:()=>o,NW:()=>l,Xn:()=>d,Xq:()=>u,_h:()=>r,eA:()=>m,r0:()=>c});var n=s(41158),i=s(90135);const a="intl-",o=(new RegExp(`${`/${a}`}([a-zA-Z0-9-]+)`),[]),r=[n.h.id,n.h.de,"pt",n.h.ja,n.h.fr,n.h.ar,n.h.es,n.h.tr,n.h.it],l=[...r,...o],d=n.h.en,c=[],u=[],p=[],m=[i.c.ALBUM,i.c.ARTIST,i.c.TRACK,i.c.PREMIUM,i.c.COUNTRY_HUB,i.c.COUNTRY_HUB_SECTION];o[0]??r[0],n.h.hu,r[0],o.length||n.h.ca,n.h.zhCN,n.h.es419,n.h.es},36995:(e,t,s)=>{"use strict";s.d(t,{J:()=>d,L:()=>c});var n=s(85387),i=s(13932),a=s(11876),o=s(94184),r=s(73523),l=s(62411);const d=()=>(0,o.o)(r.P.CountryHubsControl,(0,n.zy)()),c=()=>{const e=(0,o.o)(r.P.CountryHubs,(0,n.zy)()),t=(0,i.NC)(a.g7)===a.Xi.Enabled,{isCrawlerBot:s}=(0,l.d4)((e=>{let{masthead:t}=e;return t}));return(e||t)&&!s}},37503:(e,t,s)=>{"use strict";s.d(t,{n:()=>n});let n=function(e){return e.iOS="iOS",e.android="android",e}({})},38470:(e,t,s)=>{"use strict";s.d(t,{_:()=>_});var n=s(30758),i=s(97500),a=s.n(i);const o="mMx2LUixlnN_Fu45JpFB",r="yOKoknIYYzAE90pe7_SE",l="Yn2Ei5QZn19gria6LjZj";var d=s(8335);const c="VvxVxrxVVFjUD6BNsUub";var u=s(86070);const p=(0,n.memo)((function(e){const{children:t}=e,[s,i]=(0,n.useState)(!1),{ref:a,inView:o}=(0,d.Wx)({triggerOnce:!0});return(0,n.useEffect)((()=>{o&&i(!0)}),[o]),(0,u.jsx)("div",{className:s?void 0:c,ref:a,children:s?t:null})}));function m(e){if(null!==e)return e}const h=e=>{let{children:t,loading:s}=e;return"lazy"!==s||"undefined"==typeof HTMLImageElement||"loading"in HTMLImageElement.prototype?(0,u.jsx)(u.Fragment,{children:t}):(0,u.jsx)(p,{children:t})},_=(0,n.memo)((function(e){const{ariaHidden:t=!1,testid:s,src:i,alt:d="",radius:c=0,className:p="",srcSet:_,draggable:y=!1,sizes:b,children:g,loading:f,width:v,height:E,fadeIn:w=!1,onLoad:S,onError:R}=e,[T,A]=(0,n.useState)("loading");(0,n.useLayoutEffect)((()=>{A("loading")}),[i]);const x=(0,n.useRef)(null),[C,I]=(0,n.useState)(w);return(0,n.useLayoutEffect)((()=>{var e;w&&null!==(e=x.current)&&void 0!==e&&e.complete&&I(!1)}),[w]),i&&"error"!==T?(0,u.jsx)(h,{loading:f,children:(0,u.jsx)("img",{"aria-hidden":t,draggable:y,loading:f,src:i,"data-testid":s,alt:d,className:a()(o,p,{[r]:C,[l]:"loaded"===T}),style:{borderRadius:c||void 0},srcSet:_,sizes:b,width:m(v),height:m(E),onLoad:()=>{A("loaded"),null==S||S()},onError:()=>{A("error"),null==R||R()},ref:x})}):(0,u.jsx)(u.Fragment,{children:g})}))},38758:(e,t,s)=>{"use strict";s.d(t,{E:()=>c});var n=s(62411),i=s(94011),a=s(35746);const o=e=>e===a.NQG.ALBUM,r=(e,t)=>{let{uri:s,header:n}=e,{text:i}=t;const{type:r}=(0,a.o_h)(s);if(o(r)){var l;return("string"==typeof(null==i?void 0:i.subtitle)?null==i?void 0:i.subtitle:null==i||null===(l=i.subtitle)||void 0===l||null===(l=l[0])||void 0===l?void 0:l.name)||""}return(null==n?void 0:n.subtitle)||""},l=(e,t)=>{var s;let{uri:n,header:i}=e,{metadata:r}=t;const{type:l}=(0,a.o_h)(n);return o(l)?{uri:n,name:i.title}:{uri:(null==r||null===(s=r.album)||void 0===s?void 0:s.uri)??""}},d=(e,t)=>{let{uri:s,header:n}=e,{custom:i}=t;const{type:o}=(0,a.o_h)(s);return null!=i&&i.artists?o===a.NQG.ARTIST?{uri:s,name:n.title}:{uri:i.artists[0].uri,name:i.artists[0].name}:null},c=()=>{const e=(0,n.wA)();return{handleHeaderMenuClick:t=>{const s={text:{title:t.header.title,subtitle:t.header.subtitle},custom:{}},n=(a=t,{title:(null==(o=s)||null===(c=o.text)||void 0===c?void 0:c.title)??"",subtitle:r(a,o),image:a.header.backgroundImage??"",album:l(a,o),artist:d(a,o)??void 0});var a,o,c;n.attributes={isAudiobook:Boolean(t.isAudiobook)};const u={contextUri:t.uri,uri:t.uri,metadata:n};e((0,i.O)(u))},onContextMenuClick:t=>()=>{e((0,i.O)(t))},contextMenuData:(0,n.d4)((e=>e.contextMenu)),closeContextMenu:()=>{e((0,i.H)())}}}},38927:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});const n={item:"kZAjDLOBaUEUgIh0u_ar",date:"jqymLdIlkUVKl8shJfKZ",dateMonth:"diaCgR2BgDJgHboSPS1S",dateDay:"RjfBbWVLuXMzwFtTXDL0",info:"ymKJ1kNm06pnfmgmATrg",list:"o_4Hq0EfTskY5qc0ivxe",title:"UmCMpZhcC2lll241N1NU",time:"cR3tL5CgXmgwfJDDKQ2A",timeAndVenue:"bk3jsOor2S1AwKPihqwM",seeAll:"EOV5e4GVgot1kyhgQS7O"}},39835:(e,t,s)=>{"use strict";s.d(t,{B:()=>p});var n=s(9807),i=s(90135),a=s(53182),o=s(54317),r=s(16803),l=s(86075),d=s(25165),c=s(86136),u=s(86070);const p=e=>{let{sources:t,name:s,uri:p,disabled:m=!1,loading:h,followerCount:_,onClick:y}=e;const b=(0,n.s9)();return p?(0,u.jsx)(o.Z,{disabled:m,onClick:y,children:(0,u.jsxs)(c.N,{to:p,children:[(0,u.jsx)(r.M,{sources:t,loading:h,Placeholder:(0,u.jsx)(a.s,{title:s,type:i.c.PLAYLIST})}),(0,u.jsx)(l.Z,{children:s}),!!_&&(0,u.jsx)(d.v,{children:b.get("user.followers",_)})]})}):null}},40389:(e,t,s)=>{"use strict";s.d(t,{Q:()=>n});let n=function(e){return e.SHOW_CONTEXT_MENU="SHOW_CONTEXT_MENU",e.DISMISS_CONTEXT_MENU="DISMISS_CONTEXT_MENU",e}({})},41158:(e,t,s)=>{"use strict";s.d(t,{h:()=>n});let n=function(e){return e.af="af",e.am="am",e.ar="ar",e.arEG="ar-EG",e.arMA="ar-MA",e.arSA="ar-SA",e.az="az",e.bg="bg",e.bn="bn",e.bho="bho",e.bs="bs",e.ca="ca",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.enGB="en-GB",e.es419="es-419",e.es="es",e.esAR="es-AR",e.esMX="es-MX",e.et="et",e.eu="eu",e.fa="fa",e.fi="fi",e.fil="fil",e.frCA="fr-CA",e.fr="fr",e.gl="gl",e.gu="gu",e.he="he",e.hi="hi",e.hr="hr",e.hu="hu",e.id="id",e.is="is",e.it="it",e.ja="ja",e.kn="kn",e.ko="ko",e.lt="lt",e.lv="lv",e.mk="mk",e.ml="ml",e.mr="mr",e.ms="ms",e.nb="nb",e.ne="ne",e.nl="nl",e.or="or",e.paIN="pa-IN",e.paPK="pa-PK",e.pl="pl",e.ptBR="pt-BR",e.ptPT="pt-PT",e.ro="ro",e.ru="ru",e.sk="sk",e.sl="sl",e.sr="sr",e.sv="sv",e.sw="sw",e.ta="ta",e.te="te",e.th="th",e.tr="tr",e.uk="uk",e.ur="ur",e.vi="vi",e.zhCN="zh-CN",e.zhHK="zh-HK",e.zhTW="zh-TW",e.zu="zu",e}({})},41324:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});let n=function(e){return e.AD="ad",e.ALBUM="album",e.ARTIST="artist",e.AUDIOBOOK="audiobook",e.CHAPTER="chapter",e.EPISODE="episode",e.GENRE="genre",e.PLAYLIST="playlist",e.PLAYLISTV2="playlist-v2",e.SHOW="show",e.TRACK="track",e.UNKNOWN="unknown",e.USER="user",e.LIKED_SONGS="liked-songs",e.LOCAL_FILES="local-files",e.YOUR_EPISODES="your-episodes",e}({})},41347:(e,t,s)=>{"use strict";s.d(t,{b:()=>_});var n=s(30758);const i="_9oqBtpu3TVycIiibYRVw",a="TPh_mzbK3mlMyMryy12A",o="XbtJh1dLMx6Oc0yNeSYQ",r="KmSmKRDKzRqLWpFBOqhd";var l=s(38470),d=s(97500),c=s.n(d),u=s(91890),p=s(61042);var m=s(10548),h=s(86070);const _=e=>{let{images:t,fallback:s,circular:d=!1,roundedCorners:_=!1,fadeImageBetween:y,testid:b,size:g,condensed:f=!1}=e;const v=(0,u.m)(t,300),[E,w]=(0,n.useState)(1),S=(0,n.useCallback)((e=>{if(!y)return;const t=e.target,[s,n]=y,i=(a=t.scrollTop,o=s,r=n,Math.min(Math.max(a,o),r));var a,o,r;w(1-(i-s)/(n-s))}),[y]);(0,p.i)(S);const R=g?{width:m.BZ[g],height:m.BZ[g]}:{};return(0,h.jsx)("div",{"data-testid":"entity-image",style:{opacity:E,...R},className:c()(i,{[a]:d,[o]:_,[r]:f}),children:(0,h.jsx)(l._,{src:v,loading:"eager",alt:"",testid:b,children:s})})}},41986:(e,t,s)=>{"use strict";s.d(t,{X:()=>y});var n=s(30758),i=s(62411),a=s(98849),o=s(9702),r=s(31926),l=s(3248),d=s(92751),c=s(29377),u=s(35746),p=s(66093),m=s(82598),h=s(67193),_=s(85387);const y=(e,t,s,y,b)=>{const g=(0,i.wA)(),[f,v]=(0,n.useState)(null),[E,w]=(0,n.useState)(null),S=(0,n.useContext)(r.j),R=(0,c.R)(),T=(0,p.L8)(),A=(0,_.Zp)();return{onRowClick:(s,n)=>async()=>{var i;const r=b===n.uri,c=T.makeTimeMeasurementBuilder("tracklist-row-click");c.addDimension("isAnonymous",`${t}`),c.addDimension("entityType",(null===(i=(0,u.o_h)(n.uri))||void 0===i?void 0:i.type)??"unknown"),c.addMetadata("uri",n.uri);const p=(0,m.R)({playable:n.isPlayable,reason:n.reason??h.$c.Playable}),_=(0,u.o_h)(n.uri);if("episode"===n.rawTrack.type&&p&&_)return void A(_.toURLPath(!0));if(t&&r)return void g((0,o.d5)());if(r&&"track"!==n.rawTrack.type)return void g((0,o.d5)());let f;if(y&&(v(s),setTimeout((()=>{v(null)}),1e3)),t)if("episode"===n.rawTrack.type){var E;c.startPoint("episode-or-chapter-audio-metadata-request");const e=await S.request(l.L,{uri:n.rawTrack.uri}),t=null==e||null===(E=e.data)||void 0===E?void 0:E.episodeUnionV2;if("Chapter"===(null==t?void 0:t.__typename)||"Episode"===(null==t?void 0:t.__typename)){const e=t.showOrAudiobook.data;(0,d.Wm)(e)&&(f=(0,a.eg)(t,e))}c.endPoint("episode-or-chapter-audio-metadata-request")}else"track"===n.rawTrack.type&&(f=(0,a.Hp)(n.rawTrack));const x={trackURI:n.uri,playOrigin:{referrerIdentifier:R}},C=(0,o.xN)(e,null,x,undefined,f);w(s),c.startPoint("play-action-dispatch"),g(C)},shouldDisableRow:(e,n)=>{const i=(e=>{return"audiobook"===e.rawTrack.type?e.isPlayable:!!t||("episode"===e.rawTrack.type?"video"!==(null===(s=e.rawTrack.show)||void 0===s?void 0:s.media_type):e.isPlayable);var s})(n);return!i||(!(!i||!s||E!==e)||!(!i||f!==e||!y))}}}},42054:(e,t,s)=>{"use strict";s.d(t,{D:()=>l});s(16961),s(32807),s(88747);var n=s(30758);const i="NkWIcfgnWR9AXfikmWai",a="OvmkrxKmI82x4jlgEZG0";var o=s(6434),r=s(86070);const l=n.memo((function(e){let{onClick:t,children:s}=e;return(0,r.jsx)("button",{"data-testid":"clickable-timestamp",className:a,onClick:()=>{const e=d(s),n=1e3*e.split(":").reverse().reduce(((e,t,s)=>e+parseInt(t,10)*Math.pow(60,s)),0);t(n)},children:(0,r.jsx)(o.Z,{className:i,variant:"ballad",children:s})})}));function d(e){let t="";return n.Children.map(e,(e=>{"string"==typeof e||"number"==typeof e?t+=e:n.isValidElement(e)&&e.props.children&&(t+=d(e.props.children))})),t}},42398:(e,t,s)=>{"use strict";s.d(t,{UA:()=>c,fE:()=>d,kr:()=>l});s(7130);var n=s(41350),i=s(82639);let a,o=null;function r(e){let{isAnonymous:t,transport:s,tokenProvider:a}=e;const{DEBUG_SEMANTIC_METRICS:o}={};if("1"===o)return[new n.ConsoleReporter];if(!s&&!a)throw new Error("[SemanticMetricsHelper] An instance of either transport or tokenProvider is required!");let r={environment:"undefined"!=typeof window?"browser":"nodejs"};return t||(r={...r,getToken:async e=>{if(a){const t=await(0,i.C)(a);e(await t())}else s&&e(s.getLastToken())}}),[(0,n.createUniversalReporter)(r),..."2"===o?[new n.ConsoleReporter]:[]]}function l(e,t){var s;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{sendMetric:l,flush:d}=(0,n.createSemanticMetrics)({key:e,dev:!(null!==(s="production")&&s.startsWith("prod")),reporter:r({tokenProvider:t,isAnonymous:i})});a=l,o=d}async function d(e){if(!a)throw new Error("Invalid call to sendMetric before initSemanticMetrics.");return e.tags||(e.tags={}),"review_build"in e.tags||(e.tags.review_build="1"==={}.IS_REVIEW_BUILD?"true":"false"),a(e)}async function c(){if(!o)throw new Error("Invalid call to flushMetrics before initSemanticMetrics.");return o()}},42558:(e,t,s)=>{"use strict";s.d(t,{k:()=>u});var n=s(30758),i=s(60749),a=s(7769),o=s(9807),r=s(87801),l=s(71767),d=s(90135),c=s(86070);const u=(0,n.memo)((e=>{const t=(0,o.s9)().getLocaleForURLPath(),s="/"===e.to,u=(0,r.W)({uri:d.c.HOME,type:"locale"})&&s?(0,l.hF)("/",t):e.to,{onClick:p,onDoubleClick:m,onKeyDown:h,className:_,tabIndex:y,children:b,end:g}=e,f=(0,a.W)(),v=(0,n.useCallback)((e=>{f({intent:"navigate",type:"click",targetUri:u}),p&&p(e)}),[f,p,u]);return(0,c.jsx)(i.k2,{draggable:!1,end:g,to:u,"aria-label":e["aria-label"],className:_,tabIndex:y,onClick:v,onDoubleClick:m,onKeyDown:h,children:b})}))},42587:(e,t,s)=>{"use strict";s.d(t,{Cd:()=>m,FN:()=>_,Go:()=>d,Hj:()=>h,J8:()=>u,P_:()=>p,RQ:()=>y,Zc:()=>r,eX:()=>c,sG:()=>b,vL:()=>g});const{WEB_API_URL:n,SPCLIENT_WG_URL:i,PARTNER_API_ENDPOINT:a,ACCOUNTS_HOST:o,EXP_WG_ENDPOINT:r,INT_WG_ENDPOINT:l}={WEB_API_URL:"https://api.spotify.com",SPCLIENT_WG_URL:"https://spclient.wg.spotify.com",EXP_WG_ENDPOINT:"https://exp.wg.spotify.com",ACCOUNTS_HOST:"https://accounts.spotify.com",PARTNER_API_ENDPOINT:"https://api-partner.spotify.com",INT_WG_ENDPOINT:"https://wgint.spotify.net"},d="",c=`${i}/playlist/v2`,u=`${a}/pathfinder/v1`,p=`${l}/curiosity/v1`,m=`${a}/pathfinder/v2`,h=`${i}/color-lyrics/v2`,_=`${i}/soundfinder/v1`,y=`${i}/spotify.audiobookcashier.v1.AudiobookCashier`,b=`${i}/playlistextender`,g=`${i}/url-dispenser/v1`},44396:(e,t,s)=>{"use strict";s.d(t,{T:()=>a});var n=s(66590),i=s(86070);const a=e=>{let{color:t=n.Ql9,height:s="30",className:a}=e;return(0,i.jsxs)("svg",{className:a,width:"114",role:"img",height:s,viewBox:"0 0 114 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("title",{id:"spotify-premium-logo-icon",children:"Spotify logo"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.7835 10.7851C37.7835 10.6921 37.86 10.6156 37.9545 10.6156L40.1039 10.6246C41.8485 10.6246 42.849 11.4421 42.849 12.9076C42.849 14.2486 41.745 15.1501 40.1039 15.1501L37.9545 15.1411C37.86 15.1411 37.7835 15.0646 37.7835 14.9701V10.7851ZM40.296 8.11502L35.232 8.10602C35.1375 8.10602 35.061 8.18252 35.061 8.27552V21.8085C35.061 21.903 35.1375 21.9795 35.232 21.9795H37.614C37.707 21.9795 37.7835 21.903 37.7835 21.8085V17.631L40.026 17.64C43.4175 17.64 45.6105 15.759 45.6105 12.81C45.6105 9.95852 43.524 8.11502 40.296 8.11502Z",fill:t}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M58.4025 13.4759C59.9115 13.4759 60.6195 14.6519 60.7964 15.8174H55.956C56.217 14.3879 57.1605 13.4759 58.4025 13.4759ZM58.4218 11.217C55.4805 11.217 53.262 13.5765 53.262 16.704V16.743C53.262 19.911 55.5375 22.2105 58.6725 22.2105C60.264 22.2105 61.599 21.6705 62.6473 20.604C62.718 20.5305 62.8723 20.355 62.9775 20.2335C63.039 20.163 63.0315 20.058 62.961 19.995L61.5795 18.7695C61.5165 18.714 61.4235 18.714 61.362 18.7695C61.212 18.9075 60.957 19.14 60.93 19.161C60.24 19.7115 59.553 19.953 58.7115 19.953C57.2985 19.953 56.268 19.098 55.98 17.7075H63.4305L63.4485 17.4975C63.4663 17.28 63.4831 17.079 63.4831 16.878C63.4831 14.061 61.9185 11.217 58.4218 11.217Z",fill:t}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M76.7895 11.217C75.414 11.217 74.289 11.76 73.3575 12.876C72.7245 11.8035 71.6474 11.217 70.296 11.217C68.8529 11.217 67.968 11.9145 67.356 12.645V11.5995C67.356 11.5065 67.2795 11.43 67.1865 11.43H64.8435C64.749 11.43 64.6724 11.5065 64.6724 11.5995V21.8085C64.6724 21.903 64.749 21.9795 64.8435 21.9795H67.1865C67.2795 21.9795 67.356 21.903 67.356 21.8085V16.0665C67.356 14.622 68.1465 13.6875 69.3675 13.6875C70.5719 13.6875 71.2635 14.5275 71.2635 15.99V21.8085C71.2635 21.903 71.34 21.9795 71.433 21.9795H73.776C73.8705 21.9795 73.9469 21.903 73.9469 21.8085V16.047C73.9469 14.5695 74.6985 13.6875 75.9585 13.6875C77.5245 13.6875 77.8529 14.9505 77.8529 16.0095V21.8085C77.8529 21.903 77.9295 21.9795 78.024 21.9795H80.367C80.4615 21.9795 80.5365 21.903 80.5365 21.8085V15.294C80.5365 12.741 79.1355 11.217 76.7895 11.217Z",fill:t}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M93.0376 17.361C93.0376 18.795 92.2021 19.7205 90.9106 19.7205C89.6131 19.7205 88.8991 18.897 88.8991 17.4V11.5995C88.8991 11.5065 88.8226 11.43 88.7279 11.43H86.3849C86.2921 11.43 86.2156 11.5065 86.2156 11.5995V18.096C86.2156 20.622 87.6736 22.191 90.0211 22.191C91.2421 22.191 92.2321 21.7155 93.0376 20.7405V21.8085C93.0376 21.903 93.1141 21.9795 93.2071 21.9795H95.5501C95.6446 21.9795 95.7211 21.903 95.7211 21.8085V11.5995C95.7211 11.5065 95.6446 11.43 95.5501 11.43H93.2071C93.1141 11.43 93.0376 11.5065 93.0376 11.5995V17.361Z",fill:t}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M109.308 11.217C107.934 11.217 106.808 11.76 105.876 12.876C105.243 11.8035 104.166 11.217 102.815 11.217C101.373 11.217 100.487 11.9145 99.876 12.6435V11.5995C99.876 11.5065 99.7995 11.43 99.705 11.43H97.362C97.269 11.43 97.1925 11.5065 97.1925 11.5995V21.8085C97.1925 21.903 97.269 21.9795 97.362 21.9795H99.705C99.7995 21.9795 99.876 21.903 99.876 21.8085V16.0665C99.876 14.622 100.665 13.6875 101.888 13.6875C103.092 13.6875 103.782 14.5275 103.782 15.99V21.8085C103.782 21.903 103.859 21.9795 103.953 21.9795H106.296C106.389 21.9795 106.466 21.903 106.466 21.8085V16.047C106.466 14.5695 107.217 13.6875 108.477 13.6875C110.045 13.6875 110.373 14.9505 110.373 16.0095V21.8085C110.373 21.903 110.45 21.9795 110.543 21.9795H112.886C112.98 21.9795 113.057 21.903 113.057 21.8085V15.294C113.057 12.741 111.656 11.217 109.308 11.217Z",fill:t}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.7354 11.232H52.4204C51.0464 11.2425 49.9229 11.919 49.1909 13.167V11.5995C49.1909 11.5065 49.1144 11.43 49.0199 11.43H46.6769C46.5824 11.43 46.5074 11.5065 46.5074 11.5995V21.8085C46.5074 21.903 46.5824 21.9795 46.6769 21.9795H49.0199C49.1144 21.9795 49.1909 21.903 49.1909 21.8085V17.922C49.1909 15.5085 50.3533 14.106 52.3859 14.0565L52.3889 14.055H52.7354C52.8119 14.055 52.8734 13.9935 52.8734 13.9155V11.3715C52.8734 11.295 52.8119 11.232 52.7354 11.232Z",fill:t}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M84.5339 11.4975H82.2195C82.1265 11.4975 82.05 11.574 82.05 11.667V21.768C82.05 21.8625 82.1265 21.9375 82.2195 21.9375H84.5339C84.6285 21.9375 84.7035 21.8625 84.7035 21.768V11.667C84.7035 11.574 84.6285 11.4975 84.5339 11.4975Z",fill:t}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M83.388 6.8985C82.4715 6.8985 81.7275 7.641 81.7275 8.5575C81.7275 9.4755 82.4715 10.2195 83.388 10.2195C84.306 10.2195 85.0485 9.4755 85.0485 8.5575C85.0485 7.641 84.306 6.8985 83.388 6.8985Z",fill:t}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.8725 13.2975C19.038 10.4265 11.0625 10.1625 6.44685 11.5635C5.7045 11.7885 4.9215 11.37 4.6965 10.629C4.4715 9.88648 4.89 9.10348 5.6325 8.87848C10.9305 7.26898 19.7385 7.58098 25.305 10.884C25.9723 11.28 26.19 12.141 25.7955 12.807C25.3995 13.473 24.5385 13.6935 23.8725 13.2975ZM23.715 17.55C23.376 18.1005 22.656 18.273 22.1055 17.9355C18.075 15.4575 11.9279 14.7405 7.15953 16.188C6.54003 16.374 5.88753 16.026 5.70003 15.408C5.51253 14.79 5.86203 14.1375 6.48003 13.95C11.9279 12.297 18.7005 13.098 23.3295 15.9435C23.88 16.281 24.0525 17.001 23.715 17.55ZM21.8789 21.6345C21.609 22.077 21.0345 22.215 20.5935 21.9465C17.0715 19.794 12.6375 19.3065 7.41602 20.5005C6.91352 20.616 6.41102 20.2995 6.29702 19.797C6.18152 19.293 6.49502 18.792 7.00052 18.678C12.714 17.3715 17.6159 17.934 21.5685 20.349C22.0095 20.619 22.149 21.195 21.8789 21.6345ZM15 0C6.7155 0 0 6.7155 0 15C0 23.2845 6.7155 30 15 30C23.2845 30 30 23.2845 30 15C30 6.7155 23.2845 0 15 0Z",fill:t})]})}},44460:(e,t,s)=>{"use strict";s(7130);var n=s(99576),i=s(62411),a=s(83407),o=s(42649),r=s(34921),l=s(34846),d=s(13932),c=s(53229),u=s(42398),p=s(28522),m=s(18611),h=s(72233);const _=["open.spotifycdn.com","xpui.app.spotify.com"],y=e=>{(0,m.Cp)(e)},b=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;try{(0,h.T)({dsn:e,allowUrls:_,sampleRate:.1,tracesSampleRate:0,environment:"production",release:t,...s,integrations:i,ignoreErrors:[/\/[\dA-F]{8}-[\dA-F]{4}-[\dA-F]{4}-[\dA-F]{4}-[\dA-F]{12}\/main\.js/,/^NotFoundError: Failed to execute '(removeChild|insertBefore)' on 'Node': The node.*child.*this node.$/,/ResizeObserver loop limit exceeded/,"PresentationRequest",/^TransportError: [A-F0-9]{40}$/,/^This Suspense boundary received an update before it finished hydrating/]});const a=(0,p.o5)();n&&a.setTag("container",n),""!==document.referrer&&a.setExtra("referrer",document.referrer)}catch(a){}};var g=s(90813),f=s(9856),v=s.n(f),E=s(98108),w=s(84232),S=s(30847),R=s(77469);var T=function(e){return e.DEALER="dealer",e.WEBGATE="spclient",e}(T||{});const A=3e3;function x(){let{timeout:e=A}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=function(e){const t=`https://apresolve.spotify.com/?type=${T.DEALER}&type=${T.WEBGATE}`;return async()=>{const s=new AbortController,n=setTimeout((()=>s.abort()),e);let i;try{const e=await fetch(t,{signal:s.signal});clearTimeout(n),i=await e.json()}catch(Bl){if(s.signal.aborted)throw new Error(`x-resolve request timed out after ${e} ms`);throw Bl}if(!i[T.DEALER][0]||!i[T.WEBGATE][0])throw new Error("x-resolve responded with incomplete results");const a=i[T.DEALER][0],o=i[T.WEBGATE][0];return{dealer:`wss://${a.replace(/:443$/,"")}`,webgate:`https://${o.replace(/:443$/,"")}`,webapi:"https://api.spotify.com/"}}}(e),s=(0,R.Q)({});return async function(e){try{return await t(e)}catch(n){return await s(e)}}}var C=s(82639);const I={disconnectBeforeUnload:!0,reconnectionRetries:3,requestMode:"fetch"};class k{name="allow-offline-requests";constructor(){this.onBeforeProcessRequest=this.onBeforeProcessRequest.bind(this)}onBeforeProcessRequest(e){var t;const{data:s}=e;null!==(t=s.options)&&void 0!==t&&null!==(t=t.metadata)&&void 0!==t&&t.noRequestTransform||navigator.onLine||(s.options=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===e?t:{...e,...t}}(s.options,{allowOffline:!0,authorize:!1}))}attach(e,t){t.on(E.PluginEvent.TRANSPORT_BEFORE_PROCESS_REQUEST,this.onBeforeProcessRequest)}detach(e,t){t.removeListener(E.PluginEvent.TRANSPORT_BEFORE_PROCESS_REQUEST,this.onBeforeProcessRequest)}}function N(){return new k}function P(e,t){const s=function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e({providers:{endpoints:t,token:(0,C.C)(s)},...I,...n})}(E.createBaseTransport,x(),e,t.transportOptions);return t.useDealer&&s.addPlugin(w.kJ,{WebSocket}),s.addPlugin(N),s.addPlugin(S.dW,function(e){const t=v().getParser(window.navigator.userAgent),s=t.getPlatform();let n;switch(s.type){case v().PLATFORMS_MAP.mobile:n="smartphone";break;case v().PLATFORMS_MAP.tablet:n="tablet";break;case v().PLATFORMS_MAP.desktop:n="computer";break;case v().PLATFORMS_MAP.tv:n="tv";break;default:n=void 0}return{clientInfo:{clientID:"f6a40776580943a7bc5173125a1e8832",clientVersion:"1.2.68.323.gdf80a5a5",os:t.getOSName(!0)??"unknown",osVersion:t.getOSVersion()??"unknown",deviceBrand:s.vendor??"unknown",deviceModel:s.model??"unknown",containerVersion:void 0,deviceID:e.deviceId,deviceType:n,platformIdentifier:void 0}}}(t.clientInfoOptions)),s.on(E.TransportEvent.CONNECTED,(()=>{s.isAuthenticated()||s.authenticate()})),s.on(E.TransportEvent.DISCONNECTED,(()=>{s.connect()})),s.connect(),s}s(16961),s(24929);var L=s(63585),j=s(42587),O=s(66362);(0,L.u)("GraphQLLoader");function D(e){let{isInternalRequest:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function(s,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const r=await async function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6?arguments[6]:void 0;try{var r;const l=await async function(e,t,s,n,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6?arguments[6]:void 0;const{name:r}=t;return e.build().withHost(o?j.P_:j.Cd).withMethod("POST").withoutMarket().withPath("/query").withJsonContentType().withQueryParameters(n).withBody({variables:s,operationName:r,extensions:M(t)}).withHeaders(i).withEndpointIdentifier(`/query/${r}`).withAbortSignal(a).send()}(e,t,s,n,i,a,o);return null!==(r=l.body)&&void 0!==r&&null!==(r=r.errors)&&void 0!==r&&r.some((e=>"PersistedQueryNotFound"===e.message))?U(e,t,s,n,o):l}catch(l){if(l instanceof O.O&&(l.status===B||l.status===G))return U(e,t,s,n,o);throw l}}(e,s,n,i,a,o,t);return r.body}}function M(e){return{persistedQuery:{version:1,sha256Hash:e.sha256Hash}}}async function U(e,t,s,n,i){const{name:a,value:o}=t;if(null===o)throw new Error(`Fallback query for "${a}" is not available!`);return e.build().withHost(i?j.P_:j.J8).withMethod("POST").withoutMarket().withPath("/query").withJsonContentType().withBody({operationName:a,variables:s,query:o,extensions:M(t)}).withQueryParameters({...n}).withEndpointIdentifier(`/query/${a}`).send()}const B=405,G=412;var F=s(6323);var V=s(31926),H=s(30758),Y=s(86070);const K=e=>{let{request:t,children:s}=e;const n=(0,H.useMemo)((()=>({request:t})),[t]);return(0,Y.jsx)(V.j.Provider,{value:n,children:s})};s(89370),s(32807);(0,L.u)("GraphQLBatchedLoader");var z=s(98490),W=s(11876);const q=()=>"performance"in window,Q=()=>q()&&"mark"in window.performance;var $=s(37503);const Z="LOCATION_CHANGE",X="HISTORY_REFERRER";let J=function(e){return e.HOME="home",e.DEEPLINK="deeplink",e.SEARCH="search",e.OTHER="other",e}({});var ee=s(79855);const te={me:null,product:null,locale:"en",textDirectionality:"",isAnonymous:!1,features:{},country:"",browserOS:$.n.android,canGoBack:!1,canGoForward:!1};const se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.GE:return{...e,locale:t.locale,textDirectionality:t.textDirectionality,features:t.features,isAnonymous:t.isAnonymous,product:t.product,me:t.me,country:t.country,browserOS:t.browserOS};case ee.l3:return window.location.assign("/"),e;case ee.g7:return{...e,product:t.productState};case ee.eb:return{...e,features:{...e.features,...t.features}};case Z:return{...e,history:{location:t.location,action:t.routerAction},canGoBack:"default"!==t.location.key};case X:return{...e,referrer:t.referrer};default:return e}};var ne=s(96195),ie=(s(21321),s(10699),s(14016)),ae=s(33727);ie.$.define((()=>({shuffle_mode:0,timestamp:1659960134527,context:{uri:"spotify:playlist:37i9dQZF1EIWR2Z7ggXEKn",metadata:{context_description:"Drake Mix"}},position:1685,duration:15047,paused:!0,playback_quality:ae.PlaybackQuality.UNKNOWN,playback_features:{hifi_status:ae.HiFiStatus.NONE,change_playback_speed:!0,signal_ids:[]},shuffle:!0,repeat_mode:0,track_window:{current_track:{id:"58Q8h9EMrcZRwDWq8zNmPQ",uri:"spotify:ad:58Q8h9EMrcZRwDWq8zNmPQ",type:"ad",uid:"",linked_from:{uri:null,id:null},media_type:"audio",track_type:"audio",name:"Advertisement",duration_ms:15047,artists:[{name:"McDonald's",uri:"https://ad.doubleclick.net/ddm/trackclk/N831870.159423SPOTIFY/B26671304.324148074;dc_trk_aid=516576697;dc_trk_cid=160142122;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;ltd="}],album:{uri:"",name:"",images:[{url:"https://i.scdn.co/image/ab67616600001e01c07c6f959e75ca9ee37795ce"},{url:"https://i.scdn.co/image/ab67616600001e01c07c6f959e75ca9ee37795ce"}]},is_playable:!0},next_tracks:[],previous_tracks:[]},restrictions:{disallow_seeking_reasons:["ad_disallow"],disallow_peeking_next_reasons:["unknown_reason"],disallow_peeking_prev_reasons:["unknown_reason"],disallow_skipping_next_reasons:["ad_disallow"],disallow_skipping_prev_reasons:["ad_disallow"],disallow_toggling_repeat_track_reasons:["unknown_reason"],disallow_pausing_reasons:["already_paused"]},disallows:{seeking:!0,peeking_next:!0,peeking_prev:!0,skipping_next:!0,skipping_prev:!0,toggling_repeat_track:!0,pausing:!0},loading:!1,playback_speed:1,playback_id:"341278ce969362b914b5bf93fbd63835"})));var oe=s(97526);const re={current:null,hasSkippedThisSession:!1,isBuffering:!1,heardAudio:!1,initiatedPlayback:!1};const le=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe.Dc:return{...e,isBuffering:!1,bufferingTrigger:oe.dL.none};case oe.Qu:return{...e,isBuffering:!0,bufferingTrigger:t.trigger};case oe.b7:return{...e,current:t.state};case oe.aV:return{...e,heardAudio:!0};case oe.OP:return{...e,initiatedPlayback:!0};case oe.se:return{...e,hasSkippedThisSession:!0};case Z:return(e=>e)(e,t.location);default:return e}};var de=s(80398);const ce={hasPreviousLikes:!1,isBanned:!1,entityView:null,albumUri:""};const ue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.QG:return{...e,hasPreviousLikes:t.hasPreviousLikes};case de.IG:return{...e,isBanned:t.isBanned};default:return e;case de.mH:return{...e,showAccessInfo:t.showAccessInfo}}};var pe=s(20260);const me={message:null,type:pe.kQ.DEFAULT,action:null};const he=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe.qF:return{...e,message:null,action:null};case pe.YN:return{...e,message:t.message,type:t.toastType,action:t.toastAction};default:return e}};s(8200),s(36886),s(56831),s(4118),s(5981),s(63074),s(39724);const _e="SHOW_NOW_PLAYING_BAR",ye="SHOW_NOW_PLAYING_VIEW",be="HIDE_NOW_PLAYING_VIEW",ge="SHOW_CONNECT",fe="HIDE_CONNECT",ve="PROTECTED_CONTENT_DISALLOW",Ee="HARMONY_UNRECOVERABLE_ERROR",we="SHOW_DIALOG",Se="HIDE_DIALOG";let Re=function(e){return e.CONNECT="CONNECT",e.SIGNUP="SIGNUP",e.LOGIN_TO_LISTEN="LOGIN_TO_LISTEN",e.SIGNUP_TO_LISTEN="SIGNUP_TO_LISTEN",e.BACKGROUND_PLAYBACK_ERROR="BACKGROUND_PLAYBACK_ERROR",e.ERROR_BOUNDARY="ERROR_BOUNDARY",e.RATING="RATING",e.ADD_TO_PLAYLIST="ADD_TO_PLAYLIST",e.AUDIOBOOK_CONSUMPTION_CAP="AUDIOBOOK_CONSUMPTION_CAP",e.GATED_CONTENT="GATED_CONTENT",e.VIDEO_UPSELL="VIDEO_UPSELL",e}({}),Te=function(e){return e.NOW_PLAYING_BAR="now_playing_bar",e.OVERFLOW_MENU="overflow_menu",e.CONNECT="connect",e}({});const Ae={modal:Te.NOW_PLAYING_BAR,nowPlayingView:!1,dialog:null,errorView:!1},xe=new Set;function Ce(e,t,s){return xe.add(t),e.dialog?e:{...e,dialog:t,context:s}}const Ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return{...e,modal:Te.NOW_PLAYING_BAR};case ye:return{...e,nowPlayingView:!0};case be:return{...e,nowPlayingView:!1};case ve:return{...e,errorView:!0};case Ee:return Ce(e,Re.ERROR_BOUNDARY);case ge:return{...e,modal:Te.CONNECT};case fe:return{...e,modal:""};case we:return Ce(e,t.id,t.context);case Se:return function(e,t){return xe.delete(t),{...e,dialog:xe.values().next().value||null,context:void 0}}(e,t.id);case"SHOW_OVERFLOW_MENU":return{...e,modal:Te.OVERFLOW_MENU};case"HIDE_OVERFLOW_MENU":return{...e,modal:Te.NOW_PLAYING_BAR};default:return e}};s(54615);const ke="SHOW_OR_AUDIOBOOK_REQUEST_SUCCESS",Ne="EPISODE_OR_CHAPTER_REQUEST_SUCCESS";var Pe=s(7882);function Le(e){return!!e&&"__typename"in e&&"Audiobook"===(null==e?void 0:e.__typename)}function je(e){return!!e&&"__typename"in e&&"Podcast"===(null==e?void 0:e.__typename)}function Oe(e){return"Episode"===(null==e?void 0:e.__typename)}function De(e){return"Chapter"===(null==e?void 0:e.__typename)}const Me=e=>"ContextEpisodePage"===(null==e?void 0:e.__typename)||"ContextChapterPage"===(null==e?void 0:e.__typename),Ue=e=>"ContextEpisodePage"===(null==e?void 0:e.__typename),Be=e=>"ContextChapterPage"===(null==e?void 0:e.__typename),Ge=e=>!!e&&("__typename"in e&&"UpsellAccessExplanation"===e.__typename),Fe=e=>!!e&&"__typename"in e&&["Podcast","Audiobook"].includes(e.__typename);var Ve=s(65438),He=s(46658);const Ye={items:{},recommendations:{},saved:{}},Ke=e=>{if((0,Ve.W$)(e.content)&&e.content.totalCount>0){const t=e.content.items.filter((e=>(0,Ve.UG)(null==e?void 0:e.itemV2)||(0,Ve.ax)(null==e?void 0:e.itemV2)||(0,Ve.fR)(null==e?void 0:e.itemV2)));return{...e,content:{...e.content,items:t}}}return e},ze=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.P4:{const{uri:s,data:n}=t,i=e.items[s],a=i&&(0,He.V)(i)?((e,t)=>(0,Ve.W$)(e.content)&&(0,Ve.W$)(t.content)?{...e,content:{...t.content,items:[...e.content.items,...t.content.items]}}:e)(i,Ke(n)):Ke(n);return{...e,items:{...e.items,[s]:a}}}case de.gl:case de.Y3:case de.SO:{const{uri:s,data:n}=t;return{...e,items:{...e.items,[s]:n}}}case de.FE:{const{uri:s}=t;return e.items[s]&&delete e.items[s],e}case de.Um:{const{uri:s}=t,n=e.items[t.uri];return(0,Pe.q)(n)?{...e,items:{...e.items,[s]:{...n,publicPlaylistsV2:{...n.publicPlaylistsV2,items:[...n.publicPlaylistsV2.items,...t.data.publicPlaylistsV2.items]}}}}:e}case de.Ju:return{...e,saved:{...e.saved,[t.uri]:t.isLiked}};case ke:{const o=e.items[t.uri],r=t.data,l=Fe(r),d=Fe(o);return l&&void 0===o||(a=o,Fe(i=r)&&Fe(a)&&Me(null==i?void 0:i.pages)&&Me(null==a?void 0:a.pages)&&i.pages.pagingInfo.nextOffset===a.pages.pagingInfo.nextOffset)?{...e,items:{...e.items,[t.uri]:r},saved:{[t.uri]:r.saved}}:l&&d&&Me(r.pages)?{...e,items:{...e.items,[t.uri]:(s=o,n=r.pages,Me(s.pages)?{...s,pages:{...n,items:[...s.pages.items,...n.items]}}:s)}}:e}case Ne:return{...e,items:{...e.items,[t.uri]:t.data}};default:return e}var s,n,i,a};var We=s(40389);const qe={contextUri:void 0,uri:void 0,isVisible:!1,metadata:void 0},Qe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We.Q.SHOW_CONTEXT_MENU:return{...e,...t.data,isVisible:!0};case We.Q.DISMISS_CONTEXT_MENU:return{...e,isVisible:!1};default:return e}};var $e=s(92591),Ze=s(35746),Xe=s(91890);const Je=e=>null!==e,et=(e,t,s,n)=>({title:e,href:t,color:s,imageUrl:(0,Xe.m)(n,91)}),tt=e=>{var t;let{content:s}=e;return"BrowseSectionContainerWrapper"===s.__typename&&"BrowseSectionContainer"===s.data.__typename&&null!==(t=s.data.data)&&void 0!==t&&t.cardRepresentation?(e=>{var t;let{navigationUri:s,title:n,artwork:i,backgroundColor:a}=e;const o=null===(t=(0,Ze.o_h)(s))||void 0===t?void 0:t.toURLPath(!0),r=null==n?void 0:n.transformedLabel;return o&&r?et(r,o,null==a?void 0:a.hex,null==i?void 0:i.sources):null})(s.data.data.cardRepresentation):"BrowseXlinkResponseWrapper"===s.__typename&&"BrowseClientFeature"===s.data.__typename?(e=>{var t;let{backgroundColor:s,title:n,featureUri:i,artwork:a}=e;const o="spotify:charts:root"===i?"/genre/0JQ5DAudkNjCgYMM0TZXDr":null===(t=(0,Ze.o_h)(i,{parseUnknown:!0}))||void 0===t?void 0:t.toURLPath(!0),r=null==n?void 0:n.transformedLabel;return o&&r?et(r,o,null==s?void 0:s.hex,null==a?void 0:a.sources):null})(s.data):null},st=e=>{var t;let{data:s,sectionItems:n}=e;return{title:(null==s||null===(t=s.title)||void 0===t?void 0:t.transformedLabel)??"",items:n.items.map(tt).filter(Je)}},nt=e=>{let{sections:t}=e;return(null==t?void 0:t.items.map(st))??[]},it={isLoading:!1,sections:null,hasFailedAttempts:!1},at=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $e.pV:return{...e,isLoading:!0};case $e.T:return{...e,sections:nt(t.data),isLoading:!1};case $e.KZ:return{...e,isLoading:!1,hasFailedAttempts:!0};default:return e}};var ot=s(50721);const rt=250,lt=e=>null!==e,dt=e=>{var t;let{content:s}=e;if("PlaylistResponseWrapper"!==s.__typename&&"ArtistResponseWrapper"!==s.__typename&&"TrackResponseWrapper"!==s.__typename&&"UserResponseWrapper"!==s.__typename&&"AlbumResponseWrapper"!==s.__typename&&"EpisodeOrChapterResponseWrapper"!==s.__typename&&"PodcastOrAudiobookResponseWrapper"!==s.__typename&&"BrowseSectionContainerWrapper"!==s.__typename&&"BrowseXlinkResponseWrapper"!==s.__typename&&"MerchResponseWrapper"!==s.__typename)return null;const{data:n}=s;return"Playlist"===n.__typename?(e=>{var t,s;let{uri:n,name:i,images:a,followers:o,description:r}=e;const l=null===(t=(0,Ze.o_h)(n))||void 0===t?void 0:t.toURLPath(!0);return l?{title:i,href:l,followers:o,description:r,imageUrl:(0,Xe.m)(null===(s=a.items[0])||void 0===s?void 0:s.sources,rt)}:null})(n):"Artist"===n.__typename?(e=>{var t,s;let{uri:n,profile:i,visuals:a}=e;const o=null===(t=(0,Ze.o_h)(n))||void 0===t?void 0:t.toURLPath(!0);return o?{title:i.name,href:o,imageUrl:(0,Xe.m)(null===(s=a.avatarImage)||void 0===s?void 0:s.sources,rt)}:null})(n):"Track"===n.__typename?(e=>{var t,s,n;let{uri:i,name:a,albumOfTrack:o,artists:r}=e;const l=null===(t=(0,Ze.o_h)(i))||void 0===t?void 0:t.toURLPath(!0);return l?{title:a,href:l,imageUrl:(0,Xe.m)(null==o||null===(s=o.coverArt)||void 0===s?void 0:s.sources,rt),description:null===(n=r.items[0])||void 0===n?void 0:n.profile.name}:null})(n):"User"===n.__typename?(e=>{var t;let{uri:s,name:n,avatar:i}=e;const a=null===(t=(0,Ze.o_h)(s))||void 0===t?void 0:t.toURLPath(!0);return a?{title:n,href:a,imageUrl:(0,Xe.m)(null==i?void 0:i.sources,rt)}:null})(n):"Album"===n.__typename?(e=>{var t;let{uri:s,name:n,coverArt:i,artists:a}=e;const o=null===(t=(0,Ze.o_h)(s))||void 0===t?void 0:t.toURLPath(!0);return o?{title:n,href:o,imageUrl:(0,Xe.m)(null==i?void 0:i.sources,rt),artistsNames:a.items.map((e=>{let{profile:t}=e;return t.name}))}:null})(n):"Audiobook"===n.__typename?(e=>{var t;let{uri:s,name:n,coverArt:i,authorsV2:a}=e;const o=null===(t=(0,Ze.o_h)(s))||void 0===t?void 0:t.toURLPath(!0);if(!o)return null;const r=a.map((e=>e.name));return{title:n,href:o,imageUrl:(0,Xe.m)(null==i?void 0:i.sources,rt),authorsNames:r}})(n):"Merch"===n.__typename?(e=>{var t;const s=e.url;return s?{title:e.nameV2,href:s,imageUrl:(0,Xe.m)(null===(t=e.image)||void 0===t?void 0:t.sources,rt),description:e.price}:null})(n):"Chapter"===n.__typename||"Episode"===n.__typename||"Podcast"===n.__typename?(e=>{var t;let{uri:s,name:n,coverArt:i}=e;const a=null===(t=(0,Ze.o_h)(s))||void 0===t?void 0:t.toURLPath(!0);return a?{title:n,href:a,imageUrl:(0,Xe.m)(null==i?void 0:i.sources,rt)}:null})(n):"BrowseSectionContainerWrapper"===s.__typename&&"BrowseSectionContainer"===s.data.__typename&&null!==(t=s.data.data)&&void 0!==t&&t.cardRepresentation?(e=>{var t;let{navigationUri:s,title:n,artwork:i}=e;const a=null===(t=(0,Ze.o_h)(s))||void 0===t?void 0:t.toURLPath(!0),o=null==n?void 0:n.transformedLabel;return a&&o?{title:o,href:a,imageUrl:(0,Xe.m)(null==i?void 0:i.sources,rt)}:null})(s.data.data.cardRepresentation):"BrowseClientFeature"===n.__typename?(e=>{var t;let{featureUri:s,title:n,artwork:i}=e;const a=null===(t=(0,Ze.o_h)(s))||void 0===t?void 0:t.toURLPath(!0),o=null==n?void 0:n.transformedLabel;return a&&o?{title:o,href:a,imageUrl:(0,Xe.m)(null==i?void 0:i.sources,rt)}:null})(n):null},ct=e=>{var t;let{__typename:s,data:n,sectionItems:i}=e;return"BrowseSection"!==s?null:{type:(a=null==n?void 0:n.__typename,"BrowseRelatedSectionData"===a?ot.h.Chips:ot.h.Cards),title:(null==n||null===(t=n.title)||void 0===t?void 0:t.transformedLabel)??"",items:i.items.map(dt).filter(lt)};var a},ut=e=>{let{sections:t}=e;return(null==t?void 0:t.items.map(ct).filter(lt))??[]};var pt=s(63886);const mt={},ht={isLoading:!1,hasError:!1,title:null,subtitle:null,sections:[]},_t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt.SL:return{...e,[t.uri]:{...ht,isLoading:!0}};case pt.Mg:var s,n,i;return"BrowseSectionContainer"!==(null===(s=t.data)||void 0===s?void 0:s.__typename)?e:{...e,[t.uri]:{...ht,title:(null===(n=t.data.header)||void 0===n||null===(n=n.title)||void 0===n?void 0:n.transformedLabel)??"",subtitle:(null===(i=t.data.header)||void 0===i||null===(i=i.subtitle)||void 0===i?void 0:i.transformedLabel)??"",sections:ut(t.data),isLoading:!1}};case pt.j0:return{...e,[t.uri]:{...ht,isLoading:!1,hasError:!0}};default:return e}},yt=(0,ne.HY)({grid:at,pages:_t});var bt=s(68626);const gt={fetched:!1,items:[]},ft="COLOR_EXTRACTOR_SUCCESS",vt={colors:{}};var Et=s(48975);const wt={isFetching:!1,results:null,query:null,error:null,recentSearches:[]},St=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Et.kP:return{...e,isFetching:!0,offset:t.data.offset,query:t.data.query};case Et.kc:return{...e,isFetching:!1,results:t.data,title:t.data.title};case Et.F$:return{...e,recentSearches:t.recentSearches};case Et.ub:return{...e,recentSearches:[...e.recentSearches||[],t.data]};default:return e}},Rt="LYRICS_LOADING",Tt="LYRICS_LOADED",At="LYRICS_ERROR";let xt=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const Ct={status:xt.UNAVAILABLE};const It=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt:return{...e,status:xt.LOADING};case Tt:return{...e,status:xt.LOADED,data:t.response,uri:t.uri};case At:return{status:xt.UNAVAILABLE};default:return e}};let kt=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const Nt="SEO_LYRICS_LOADING",Pt="SEO_LYRICS_LOADED",Lt="SEO_LYRICS_ERROR",jt="UNAUTH_ENABLED",Ot={status:kt.UNAVAILABLE,unauthEnabled:!1};const Dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jt:return{...e,unauthEnabled:t.value};case Nt:return e.unauthEnabled?{...e,status:kt.LOADING}:{...e,status:kt.LOADED,data:{hasLyrics:!1},uri:t.uri};case Pt:return{...e,status:kt.LOADED,data:t.response,uri:t.uri};case Lt:return{status:kt.UNAVAILABLE};default:return e}},Mt="DEVICE_INFO_CHANGED",Ut="DEVICES_CHANGED",Bt="SET_VOLUME",Gt="TRANSFER_CONTENT",Ft={device:null,devices:[],manualTransferDeviceId:null},Vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mt:{const s=e.devices.map((e=>(e&&(e.is_active=((e,t)=>Boolean(t)&&e.id===t.id&&t.is_active)(e,t.device)),e))).filter((e=>e));return{...e,device:t.device,devices:s}}case Ut:return{...e,devices:t.devices};case Gt:return{...e,manualTransferDeviceId:t.deviceId};default:return e}};s(88747);var Ht=s(66348);const Yt=e=>{var t,s;if(!e)return null;const{data:n}=e;switch(null==n?void 0:n.__typename){case"HomeGenericSectionData":case"HomeRecentlyPlayedSectionData":case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":return(null===(t=n.title)||void 0===t?void 0:t.transformedLabel)??null;case"HomeOnboardingSectionData":return(null===(s=n.title)||void 0===s||null===(s=s.baseText)||void 0===s?void 0:s.text)??null;default:return null}},Kt=300,zt=e=>{var t;const s=(0,Ze.o_h)(e.uri);return{title:e.name,uri:null==s?void 0:s.toURI(),href:null==s?void 0:s.toURLPath(),imageUrl:(0,Xe.m)(null===(t=e.coverArt)||void 0===t?void 0:t.sources,Kt),renderAsCircle:!1}},Wt=e=>{var t;const s=(0,Ze.o_h)(e.uri),n=e.authorsV2.map((e=>{let{name:t}=e;return t}));return{title:e.name,authors:n,uri:null==s?void 0:s.toURI(),href:null==s?void 0:s.toURLPath(),imageUrl:(0,Xe.m)(null===(t=e.coverArt)||void 0===t?void 0:t.sources,Kt),renderAsCircle:!1}},qt=e=>e.sectionItems.items.reduce(((e,t)=>{const s=t.content;if("PlaylistResponseWrapper"!==s.__typename&&"ArtistResponseWrapper"!==s.__typename&&"TrackResponseWrapper"!==s.__typename&&"UserResponseWrapper"!==s.__typename&&"EpisodeOrChapterResponseWrapper"!==s.__typename&&"PodcastOrAudiobookResponseWrapper"!==s.__typename&&"AlbumResponseWrapper"!==s.__typename)return e;if("Episode"===s.data.__typename||"Podcast"===s.data.__typename||"Album"===s.data.__typename)e.push(zt(s.data));else if("Audiobook"===s.data.__typename)e.push(Wt(s.data));else if("Chapter"===s.data.__typename){const t="Audiobook"===s.data.audiobookV2.data.__typename?Wt(s.data.audiobookV2.data):zt(s.data);e.push(t)}else if("Playlist"===s.data.__typename){var n;const t=(0,Ze.o_h)(s.data.uri);e.push({title:s.data.name,uri:null==t?void 0:t.toURI(),href:null==t?void 0:t.toURLPath(),imageUrl:(0,Xe.m)(null===(n=s.data.images.items[0])||void 0===n?void 0:n.sources,Kt),renderAsCircle:!1})}else if("Artist"===s.data.__typename){var i;const t=(0,Ze.o_h)(s.data.uri);e.push({title:s.data.profile.name,uri:null==t?void 0:t.toURI(),href:null==t?void 0:t.toURLPath(),imageUrl:(0,Xe.m)(null===(i=s.data.visuals.avatarImage)||void 0===i?void 0:i.sources,Kt),renderAsCircle:!0})}else if("Track"===s.data.__typename){var a;const t=(0,Ze.o_h)(s.data.uri);e.push({title:s.data.name,uri:null==t?void 0:t.toURI(),href:null==t?void 0:t.toURLPath(),imageUrl:(0,Xe.m)(null===(a=s.data.albumOfTrack)||void 0===a||null===(a=a.coverArt)||void 0===a?void 0:a.sources,Kt),renderAsCircle:!1})}else if("User"===s.data.__typename){var o;const t=(0,Ze.o_h)(s.data.uri);e.push({title:s.data.name,uri:null==t?void 0:t.toURI(),href:null==t?void 0:t.toURLPath(),imageUrl:(0,Xe.m)(null===(o=s.data.avatar)||void 0===o?void 0:o.sources,Kt),renderAsCircle:!1})}return e}),[]),Qt=qt,$t={isLoading:!1,hasError:!1,data:null},Zt=(e,t)=>(e.push({title:Yt(t),uri:t.uri,items:qt(t)}),e),Xt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ht.Xc:var s;return{...e,isLoading:!1,data:{greetingLabel:(null===(s=t.data.greeting)||void 0===s?void 0:s.transformedLabel)??null,sections:t.data.sectionContainer.sections.items.reduce(Zt,[])}};case Ht.Um:return{...e,hasError:!0};default:return e}},Jt="INTERNAL_LINK_RECOMMENDER_TRACKS_REQUEST",es="INTERNAL_LINK_RECOMMENDER_TRACKS_REQUEST_SUCCESS",ts="INTERNAL_LINK_RECOMMENDER_TRACKS_REQUEST_ERROR",ss="INTERNAL_LINK_RECOMMENDER_SHOWS_REQUEST",ns="INTERNAL_LINK_RECOMMENDER_SHOWS_REQUEST_SUCCESS",is="INTERNAL_LINK_RECOMMENDER_SHOWS_REQUEST_ERROR",as="INTERNAL_LINK_RECOMMENDER_EPISODES_REQUEST",os="INTERNAL_LINK_RECOMMENDER_EPISODES_REQUEST_SUCCESS",rs="INTERNAL_LINK_RECOMMENDER_EPISODES_REQUEST_ERROR",ls="INTERNAL_LINK_RECOMMENDER_SIMILAR_ALBUMS_REQUEST",ds="INTERNAL_LINK_RECOMMENDER_SIMILAR_ALBUMS_REQUEST_SUCCESS",cs="INTERNAL_LINK_RECOMMENDER_SIMILAR_ALBUMS_REQUEST_ERROR",us="INTERNAL_LINK_RECOMMENDER_MORE_ALBUMS_BY_ARTIST_REQUEST",ps="INTERNAL_LINK_RECOMMENDER_MORE_ALBUMS_BY_ARTIST_SUCCESS",ms="INTERNAL_LINK_RECOMMENDER_MORE_ALBUMS_BY_ARTIST_ERROR",hs="INTERNAL_LINK_RECOMMENDER_SIMILAR_AUDIOBOOKS_REQUEST",_s="INTERNAL_LINK_RECOMMENDER_SIMILAR_AUDIOBOOKS_SUCCESS",ys="INTERNAL_LINK_RECOMMENDER_SIMILAR_AUDIOBOOKS_ERROR",bs="INTERNAL_LINK_RECOMMENDER_TRACK_PLAYLISTS_REQUEST",gs="INTERNAL_LINK_RECOMMENDER_TRACK_PLAYLISTS_SUCCESS",fs="INTERNAL_LINK_RECOMMENDER_TRACK_PLAYLISTS_ERROR";let vs=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const Es={tracks:{status:vs.UNAVAILABLE},shows:{status:vs.UNAVAILABLE},episodes:{status:vs.UNAVAILABLE},similarAlbums:{status:vs.UNAVAILABLE},moreAlbums:{status:vs.UNAVAILABLE},similarAudiobooks:{status:vs.UNAVAILABLE},trackPlaylists:{status:vs.UNAVAILABLE}};const ws=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Es,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Jt:return{...e,tracks:{...e.tracks,uri:t.uri,status:vs.LOADING}};case es:return{...e,tracks:{data:t.response,uri:t.uri,status:vs.LOADED}};case ts:return{...e,tracks:{...e.tracks,status:vs.UNAVAILABLE}};case ss:return{...e,shows:{...e.shows,uri:t.uri,status:vs.LOADING}};case ns:return{...e,shows:{data:t.response,uri:t.uri,status:vs.LOADED}};case is:return{...e,shows:{...e.shows,status:vs.UNAVAILABLE}};case as:return{...e,episodes:{...e.episodes,uri:t.uri,status:vs.LOADING}};case os:return{...e,episodes:{data:t.response,uri:t.uri,status:vs.LOADED}};case rs:return{...e,episodes:{...e.episodes,status:vs.UNAVAILABLE}};case ls:return{...e,similarAlbums:{...e.similarAlbums,uri:t.uri,status:vs.LOADING}};case ds:return{...e,similarAlbums:{data:t.response,uri:t.uri,status:vs.LOADED}};case cs:return{...e,similarAlbums:{...e.similarAlbums,status:vs.UNAVAILABLE}};case us:return{...e,moreAlbums:{...e.moreAlbums,uri:t.uri,status:vs.LOADING}};case ps:return{...e,moreAlbums:{data:t.response,uri:t.uri,status:vs.LOADED}};case ms:return{...e,moreAlbums:{...e.moreAlbums,status:vs.UNAVAILABLE}};case hs:return{...e,similarAlbums:{...e.similarAlbums,uri:t.uri,status:vs.LOADING}};case _s:return{...e,similarAudiobooks:{data:t.response,uri:t.uri,status:vs.LOADED}};case ys:return{...e,similarAlbums:{...e.similarAlbums,status:vs.UNAVAILABLE}};case bs:return{...e,trackPlaylists:{...e.trackPlaylists,uri:t.uri,status:vs.LOADING}};case gs:return{...e,trackPlaylists:{data:t.response,uri:t.uri,status:vs.LOADED}};case fs:return{...e,trackPlaylists:{...e.trackPlaylists,status:vs.UNAVAILABLE}};default:return e}},Ss="PLAYLIST_RECOMMENDED_TRACKS_REQUEST",Rs="PLAYLIST_RECOMMENDED_TRACKS_REQUEST_SUCCESS",Ts="PLAYLIST_RECOMMENDED_TRACKS_REQUEST_ERROR",As="PLAYLIST_RECOMMENDED_TRACKS_REMOVE";let xs=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const Cs={playlist:{status:xs.UNAVAILABLE}};const Is=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ss:return{...e,playlist:{uri:t.uri,status:xs.LOADING}};case Rs:return{...e,playlist:{data:t.response,uri:t.uri,status:xs.LOADED}};case As:return{...e,playlist:{...e.playlist,data:t.newRecommendedTracks}};case Ts:return{...e,playlist:{status:xs.UNAVAILABLE}};default:return e}},ks={isCrawlerBot:!1,isSSRFooterTest:!1,contextUrl:{origin:"",pathname:""}};const Ns=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ks,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MASTHEAD_REQUEST_SUCCESS":return{...e,data:t.masthead};case"MASTHEAD_IS_CRAWLER_BOT":return{...e,isCrawlerBot:t.isCrawlerBot};case"MASTHEAD_IS_SSR_TEST":return{...e,isSSRFooterTest:t.isSSRFooterTest};case"MASTHEAD_IS_SSR_TEST_CONTEXT":return{...e,contextUrl:t.contextUrl};default:return e}};var Ps=s(55758);const Ls={},js={isLoading:!1,hasError:!1,section:null},Os=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ls,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ps.bx:return{...e,[t.uri]:{...js,isLoading:!0}};case Ps.pq:{const s=t.data;return null===s?e:{...e,[t.uri]:{...js,section:{title:Yt(s),uri:t.uri,items:Qt(s)},isLoading:!1}}}case Ps.Ix:return{...e,[t.uri]:{...js,isLoading:!1,hasError:!0}};default:return e}},Ds="COUNTRY_HUB_PAGE_REQUEST",Ms="COUNTRY_HUB_PAGE_REQUEST_SUCCESS",Us="COUNTRY_HUB_PAGE_REQUEST_ERROR";let Bs=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const Gs={};const Fs="CONCERT_LOCATION_DATA_REQUEST",Vs="CONCERT_LOCATION_DATA_REQUEST_SUCCESS",Hs="CONCERT_LOCATION_DATA_REQUEST_ERROR",Ys="CONCERT_FEED_DATA_REQUEST_SUCCESS",Ks=()=>({type:Hs}),zs={concertFeed:null,location:null},Ws="SEO_EXPERIMENT_REQUEST",qs="SEO_EXPERIMENT_REQUEST_SUCCESS",Qs="SEO_EXPERIMENT_REQUEST_ERROR";let $s=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const Zs={status:$s.UNAVAILABLE};const Xs={session:se,connect:Vt,entities:ze,playback:le,request:ue,search:St,toast:he,ui:Ie,home:Xt,onDemandPlaylists:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;const{type:s}=t;return s===bt.Wu?{...e,fetched:!0,items:t.payload}:e},contextMenu:Qe,colorExtraction:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;if(t.type===ft){const{url:s,color:n}=t;return{...e,colors:{...e.colors,[s]:n}}}return e},lyrics:It,seoLyrics:Dt,seoExperiment:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ws:return{...e,uri:t.uri,status:$s.LOADING};case qs:return{...e,...t.seoExperiment,status:$s.LOADED};case Qs:return{...e,status:$s.UNAVAILABLE};default:return e}},browse:yt,internalLinkRecommender:ws,playlistRecommendedTracks:Is,concertHub:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ys:return{...e,concertFeed:t.data};case Vs:return{...e,location:t.data};default:return e}},masthead:Ns,section:Os,countryHubs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gs,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ds:return{...e,countryCode:t.countryCode,page:{status:Bs.LOADING}};case Ms:return{...e,countryCode:e.countryCode??t.countryCode,page:{...e.page,data:t.data,status:Bs.LOADED}};case Us:return{...e,page:{...e.page,status:Bs.UNAVAILABLE}};default:return e}}},Js=()=>(0,ne.HY)(Xs);var en=s(61228);function tn(){return{type:ye}}function sn(){return{type:be}}function nn(){return{type:ve}}function an(e,t){return{type:we,id:e,bool:!0,context:t}}function on(e){return{type:Se,id:e,bool:!1}}function rn(){return an(Re.SIGNUP_TO_LISTEN)}const ln=e=>{const t=v().getParser(e);return`web_player ${t.getOSName()||"not_applicable"} ${t.getOSVersion()};${t.getBrowserName().split(" ").join("_")} ${t.getBrowserVersion()};${window.matchMedia("(display-mode: standalone)").matches?"mobileInstall":"mobile"}`.toLowerCase()};var dn=s(92192),cn=s(22158);class un{eventMap=(()=>new Map)();on=(e,t)=>{const s=this.eventMap;let n;s.has(e)?n=s.get(e):(n=[],s.set(e,n)),n.indexOf(t)>=0||(this.target.on(e,t),n.push(t))};removeListener=(e,t)=>{const s=this.eventMap;if(!s.has(e))return;const n=s.get(e);n.indexOf(t)<0||(this.target.removeListener(e,t),n.splice(n.indexOf(t),1))};removeAllListeners=()=>{this.eventMap&&this.target&&this.eventMap.forEach(((e,t)=>{e.forEach((e=>{this.target.removeListener(t,e)}))}))};addAllListeners=()=>{this.eventMap&&this.target&&this.eventMap.forEach(((e,t)=>{e.forEach((e=>{this.target.on(t,e)}))}))};setTarget=e=>{this.removeAllListeners(),this.target=e,this.addAllListeners()}}var pn=s(41350);const mn="STORE_DEFERRED_ACTION",hn="PULL_DEFERRED_ACTION";let _n=function(e){return e.PLAY="play",e.PLAYING="playing",e.USER_INVESTMENT="user-investment",e}({});const yn=(e,t)=>({type:mn,storeAction:e,actionIntent:t});var bn=s(24162),gn=s(9702);const fn=e=>{let{dispatch:t,event:s}=e;(0,m.Cp)(s.data);const n=s.data.error;switch(s.type){case dn.b.PLAYER_INITIALIZATION_FAILED:if(navigator.webdriver)return;t(nn());break;case dn.b.ERROR:n.type===bn.Q.CONNECTAPI_CLIENT_NO_DEVICE&&t({type:Ee});break;default:t((0,gn.xK)(n))}};var vn=s(6458);const En=new class{get(){return new un}};let wn=null;const Sn=()=>(wn||(wn=En.get()),wn);let Rn=new class{get(){return Promise.resolve().then(s.bind(s,33727))}};const Tn=e=>{let{deviceType:t,options:s}=e;return!s||Boolean(s.type&&t&&s.type!==t)},An=()=>{let e,t,s,n,i,a=!1;const r=function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const l=ln(window.navigator.userAgent),d="userAgent"in navigator&&!(0,en.$M)(navigator.userAgent);return e&&!Tn({deviceType:n,options:r})||(e=Rn.get().then((e=>{let{createHarmony:c}=e;const p={id:null,randomizeId:!0,type:r.type??cn.b.SMARTPHONE,name:"Mobile Web Player",brand:"spotify",model:"mobile_web_player",platform_identifier:l,metadata:{product_id:"*"}};return s=(0,vn.V)(),t=c({transport:s,client:{descriptor:p},streamer:{createPlayer:()=>document.createElement("audio"),disallowRobustnessValues:[ae.Robustness.SW_DECODE,ae.Robustness.EMPTY]},claimInactivePlayerStates:d,onlyLocalState:!1,autoActivateElement:!0}),n=r.type||cn.b.SMARTPHONE,Sn().setTarget(t),new Promise(((e,s)=>{t.on(dn.b.LOCAL_PLAYER_ENABLED,(()=>{e(t),i&&i({type:hn}),a=!0;try{if(q()&&"measure"in window.performance&&Q()){(0,o.dV)("playback_load_end");const e=(0,o.h$)({markStart:"playback_load_start",markEnd:"playback_load_end",measureName:"time_to_playback_ready",keepEntries:!0}),[{duration:t}={}]=e;Boolean(t)&&(0,u.fE)({metric_type:pn.MetricTypes.TIMER,what:"playback-ready",value:pn.Time.fromMillis(t).asNanos()}).catch((()=>({})))}}catch{}})),t.on(dn.b.PLAYER_INITIALIZATION_FAILED,(e=>{fn({dispatch:i,event:e})})),t.on(dn.b.LOCAL_PLAYER_DISABLED,(e=>{s(new Error(e.type))})),t.on(dn.b.AUTHENTICATION_ERROR,(e=>{fn({dispatch:i,event:e})})),t.on(dn.b.CONNECTION_ERROR,(e=>{fn({dispatch:i,event:e})})),t.on(dn.b.ERROR,(e=>{fn({dispatch:i,event:e})})),t.on(dn.b.MAX_LIST_ERRORS_REACHED,(e=>{fn({dispatch:i,event:e})})),t.on(dn.b.MAX_SUBSCRIPTIONS_REACHED,(e=>{fn({dispatch:i,event:e})})),t.on(dn.b.SERVICE_REGISTRATION_ERROR,(e=>{fn({dispatch:i,event:e})})),t.on(dn.b.UNRECOVERABLE_FAILURE,(e=>{fn({dispatch:i,event:e})})),t.on(dn.b.STOPPED_ON_BACKGROUND,(()=>{i(an(Re.BACKGROUND_PLAYBACK_ERROR))}))}))}))),e},l=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Tn({deviceType:n,options:e})?async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await r(e);return new Promise((e=>{n.once(dn.b.LAST_ACTIVE_DEVICE_INFO_CHANGED,(()=>{e(n)})),t&&s.disconnect()}))}(e):t&&a?t:r(e)};return{getInstance:l,on:async(e,t)=>{await l(),Sn().on(e,t)},removeListener:async(e,t)=>{await l(),Sn().removeListener(e,t)},getLocalDeviceType:()=>n,setDispatch:e=>{i=e}}};let xn=new class{get(){return An}},Cn=null;const In=()=>(Cn||(Cn=xn.get()()),Cn),kn="DISCONNECTED",Nn="LOAD",Pn="RECONNECTED",Ln="RECONNECTING";function jn(){return{type:kn}}function On(){return{type:Pn}}const Dn=e=>({type:Gt,deviceId:e});const Mn={position:void 0},Un=new class{constructor(){this.topics={},this.lastUid=-1}subscribe(e,t){Object.prototype.hasOwnProperty.call(this.topics,e)||(this.topics[e]=[]);const s=++this.lastUid;if(!!0)throw new Error("Failed to create token");return this.topics[e].push({token:s,func:t}),s}unsubscribe(e){Object.keys(this.topics).forEach((t=>{this.topics[t].forEach(((s,n)=>{s.token===e&&this.topics[t].splice(n,1)}))}))}publish(e,t){Object.prototype.hasOwnProperty.call(this.topics,e)&&this.topics[e].forEach((e=>{e.func(t)}))}};class Bn{static subscribe(e,t){return Un.subscribe(e,t)}static unsubscribe(e){Un.unsubscribe(e)}static setPosition(e){Mn.position=e,Un.publish("position",e)}static getPosition(){return Mn.position}}class Gn{progressTimer=null;static connectToStore(e,t){In().setDispatch(e),this.dispatch=e,this.getState=t}static subscribe(){const e=In();e.on(dn.b.STATE_CHANGED,this.onStateChanged),e.on(dn.b.PLAYER_INITIALIZATION_FAILED,this.onPlayerInitializationFailed),e.on(dn.b.BUFFERING_START,this.onBufferingStart),e.on(dn.b.BUFFERING_END,this.onBufferingEnd),e.on(dn.b.PROGRESS,this.onProgress),e.on(dn.b.RECONNECTING,this.onReconnecting),e.on(dn.b.RECONNECTED,this.onReconnected),e.on(dn.b.ERROR,this.onError)}static subscribeConnect(){In().on(dn.b.LAST_ACTIVE_DEVICE_INFO_CHANGED,this.onLastActiveDeviceInfoChanged),In().on(dn.b.DEVICES_CHANGED,this.onDevicesChanged)}static onStateChanged=e=>{var t;null===(t=this.dispatch)||void 0===t||t.call(this,(0,gn.Sx)(e.data.state))};static onPlayerInitializationFailed=e=>{var t,s;null===(t=this.dispatch)||void 0===t||t.call(this,nn()),(0,m.Cp)(e.data.error),null===(s=this.dispatch)||void 0===s||s.call(this,(0,gn.xK)(e.data.error))};static onBufferingStart=()=>{};static onBufferingEnd=()=>{var e;null===(e=this.dispatch)||void 0===e||e.call(this,(0,gn.ab)())};static onProgress=e=>{var t,s;let{data:n}=e;const i=null===(t=this.getState)||void 0===t?void 0:t.call(this),a=null==i||null===(s=i.playback)||void 0===s||null===(s=s.current)||void 0===s?void 0:s.duration,o=n.position;var r,l;(Bn.setPosition(o),a-o<500)&&(null===(r=this.dispatch)||void 0===r||r.call(this,(0,gn.vn)()));i&&(e=>{var t,s,n,i;return(null===(t=e.playback)||void 0===t?void 0:t.initiatedPlayback)&&!(null!==(s=e.playback)&&void 0!==s&&s.heardAudio)&&(null===(n=e.playback)||void 0===n?void 0:n.current)&&!(null!==(i=e.playback)&&void 0!==i&&null!==(i=i.current)&&void 0!==i&&i.paused)})(i)&&(null===(l=this.dispatch)||void 0===l||l.call(this,(0,gn.BZ)()))};static onReconnecting=()=>{var e;null===(e=this.dispatch)||void 0===e||e.call(this,{type:Ln})};static onReconnected=()=>{var e;null===(e=this.dispatch)||void 0===e||e.call(this,On())};static onError=e=>{var t;(0,m.Cp)(e.data.error),null===(t=this.dispatch)||void 0===t||t.call(this,(0,gn.xK)(e.data.error))};static onLastActiveDeviceInfoChanged=e=>{var t,s;null===(t=this.dispatch)||void 0===t||t.call(this,(s=e.data.deviceInfo,{type:Mt,device:s}))};static onDevicesChanged=e=>{var t,s;null===(t=this.dispatch)||void 0===t||t.call(this,(s=e.data.devices,{type:Ut,devices:s}))}}const Fn=e=>{var t;return!(null==e||null===(t=e.connect)||void 0===t||null===(t=t.device)||void 0===t||!t.local)},Vn=e=>(e=>{var t;return!(null===(t=e.playback)||void 0===t||null===(t=t.current)||void 0===t||!t.paused)&&Fn(e)})(e)||(e=>{var t;return!(null===(t=e.playback)||void 0===t||null===(t=t.current)||void 0===t||!t.paused||Fn(e))})(e)||(e=>{var t;return!(null!==(t=e.playback)&&void 0!==t&&null!==(t=t.current)&&void 0!==t&&t.paused||Fn(e))})(e),Hn=(e,t)=>{(e=>(e=>{var t,s;return!(null!==(t=e.playback)&&void 0!==t&&t.initiatedPlayback)&&(!(null===(s=e.playback)||void 0===s||!s.current)||(e=>{var t,s;return null===(null==e||null===(t=e.playback)||void 0===t?void 0:t.current)&&null===(null==e||null===(s=e.connect)||void 0===s?void 0:s.device)})(e))})(e)&&Vn(e))(e)&&t((0,gn.pv)())},Yn=e=>t=>s=>{const n=t(s);if(e.getState().session.isAnonymous)return n;switch(s.type){case Mt:((e,t)=>{var s;let{connect:n,playback:i,session:a}=e;const o=!i.device||i.device.id!==t.id,r=t&&t.local,l=n.manualTransferDeviceId&&t.id===n.manualTransferDeviceId,d=(null==a||null===(s=a.history)||void 0===s||null===(s=s.location)||void 0===s||null===(s=s.search)||void 0===s?void 0:s.includes("bounce=true"))||!1;return o&&t&&!r&&!l&&!d})(e.getState(),s.device)?e.dispatch(an(Re.CONNECT)):e.dispatch(on(Re.CONNECT));break;case Nn:Gn.subscribeConnect();break;case Bt:a=s.volume,In().getInstance().then((e=>{e.setVolume(a)}));break;case Gt:i=s.deviceId,In().getInstance().then((e=>{e.transfer(i)})),Hn(e.getState(),e.dispatch)}var i,a;return n};var Kn=s(60568);function zn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=`https://open.spotify.com${e}`;let s="";const n=/^\/\w+\/([a-zA-Z0-9]+)[/\w+]*/.exec(e);null!=n&&n[1]&&(s=n[1]);let i=e,a=e;const o=e.match(/^\/search\/(.*)\/(.*)/);return/^\/genre\//.test(e)||/^\/view\//.test(e)?a="/browse/genres":"/"===e?(a="/browse",i="/browse/featured"):"/browse/charts"===e?a="/charts":"/collection/tracks"===e||/^\/user\/.+\/collection/.test(e)?a="/collection/songs":"/search"===e?a="/search":o?(a="podcasts"===o[2]?"/search/shows":`/search/${o[2]}`,i=`/search/${o[2]}`):e.match(/\/search\/(?<query>.*)/)?(a="/search",i="/search/results"):"/download"===e?a="/upsell":"/queue"===e?a="/nowplaying/queue":/^\/artist\/[a-zA-Z0-9]+\/related/.test(e)?(i=(0,Ze.ITr)(s).toString(),a="/artist/related"):/^\/artist\/[a-zA-Z0-9]+\/about/.test(e)?(i=(0,Ze.ITr)(s).toString(),a="/artist/about"):(0,Ze.ecE)(t)?(i=(0,Ze.ITr)(s).toString(),a="/artist"):(0,Ze.tbX)(t)?(i=(0,Ze.Pse)(s).toString(),a="/playlist"):(0,Ze._Tv)(t)?(i=(0,Ze.Q00)(s).toString(),a="/album"):(0,Ze.gHQ)(t)?(i=(0,Ze.iMK)(s).toString(),a="/episode"):(0,Ze.WB1)(t)?(i=(0,Ze.Mci)(s).toString(),a="/shows"):(0,Ze.APS)(t)?(i=(0,Ze.Qjr)(s).toString(),a="/profile"):(0,Ze.U_m)(t)&&(i=(0,Ze.Mce)(s).toString(),a="/track"),{viewUri:i,mappedPageId:a}}const Wn=[{regExp:/^\/$/,pageIdentifier:"/home"},{regExp:/^\/genre/,pageIdentifier:"/genre"},{regExp:/^\/view/,pageIdentifier:"/view"},{regExp:/^\/browse/,pageIdentifier:"/browse"},{regExp:/^\/search/,pageIdentifier:"/search"},{regExp:/^\/upsell/,pageIdentifier:"/upsell"},{regExp:/^\/collection/,pageIdentifier:"/collection"},{regExp:/^\/artist/,pageIdentifier:"/artist"},{regExp:/^\/playlist/,pageIdentifier:"/playlist"},{regExp:/^\/album/,pageIdentifier:"/album"},{regExp:/^\/episode/,pageIdentifier:"/episode"},{regExp:/^\/show/,pageIdentifier:"/show"},{regExp:/^\/user/,pageIdentifier:"/user"},{regExp:/^\/track/,pageIdentifier:"/track"},{regExp:/^\/concerts/,pageIdentifier:"/concerts"},{regExp:/^\/concert\//,pageIdentifier:"/concert"},{regExp:/^\/made-for-you/,pageIdentifier:"/made-for-you"},{regExp:/^\/prerelease/,pageIdentifier:"/prerelease"}],qn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=Wn.find((t=>{let{regExp:s}=t;return s.test(e)}));return(null==t?void 0:t.pageIdentifier)??"unknown"},Qn=()=>e=>t=>{var s,n;switch(t.type){case Kn.pn:(0,m.Cp)(t.err,{tags:{type:"generic-error"},extra:{...t.data}}),(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"mobile-web-player-generic-error",value:1,tags:{pathname:qn(null===(s=window)||void 0===s||null===(s=s.location)||void 0===s?void 0:s.pathname)}});break;case oe.gn:(0,m.Cp)(t.err,{tags:{type:"harmony-error"},extra:{...t.err}}),(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"mobile-web-player-harmony-error",value:1,tags:{pathname:qn(null===(n=window)||void 0===n||null===(n=n.location)||void 0===n?void 0:n.pathname)}});break;case de.LX:var i;0,(0,m.Cp)(t.error,{tags:{type:"mobile-web-player-entity-request-error"},extra:{...t.error}}),(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"mobile-web-player-entity-request-error",value:1,tags:{pathname:qn(null===(i=window)||void 0===i||null===(i=i.location)||void 0===i?void 0:i.pathname)}})}return e(t)};var $n=s(51728),Zn=s(82418),Xn=s(87420);let Jn,ei,ti,si,ni;const ii=15e3,ai=e=>Math.round(1e3*e),oi=e=>{var t,s,n,i;const{position:a}=e.data,o=null===(t=e.data)||void 0===t||null===(t=t.logData)||void 0===t?void 0:t.playContext,r=null===(s=e.data)||void 0===s||null===(s=s.logData)||void 0===s?void 0:s.displayTrack,l=Jn.getState(),d=null===(n=l.playback)||void 0===n?void 0:n.bufferingTrigger;if(null!=l&&null!==(i=l.playback)&&void 0!==i&&i.isBuffering){let e=!1;switch(d){case oe.dL.seek:e=!0;break;case oe.dL.skip:case oe.dL.playUri:(si!==o||ni!==r||ei>a)&&(e=!0,si=o,ni=r);break;case oe.dL.progress:case oe.dL.toggle:ei<a&&(e=!0)}e&&Jn.dispatch((0,gn.ab)())}ei=a},ri=e=>{var t,s;const n=e.getState(),{current:i}=n.playback;i&&(null!=n&&null!==(t=n.playback)&&void 0!==t&&null!==(t=t.current)&&void 0!==t&&t.paused||null!=n&&null!==(s=n.playback)&&void 0!==s&&s.isBuffering||(void 0!==ei&&ei===ti?e.dispatch((0,gn.lp)(oe.dL.progress)):ti=ei))},li=()=>"mediaSession"in navigator,di=e=>{const{url:t,width:s,height:n}=e;return{src:t,sizes:s&&n?`${s}x${n}`:void 0}},ci=(e,t,s)=>{var n,i,a,o;if(!li())return;if(((e,t,s)=>{var n;if(!li())return;const i=null==s||null===(n=s.track_window)||void 0===n?void 0:n.current_track;if(!i)return;const{album:a,artists:o,name:r}=i,l=(null==a?void 0:a.images)??[];navigator.mediaSession.metadata=new window.MediaMetadata({title:r||"",artist:(o||[]).map((e=>null==e?void 0:e.name)).join(e.getSeparator()),album:(null==a?void 0:a.name)||"",artwork:l.map(di)})})(e,0,s),a=null==s||null===(n=s.track_window)||void 0===n||null===(n=n.current_track)||void 0===n?void 0:n.uri,Boolean(a&&(null===(o=(0,Ze.o_h)(a))||void 0===o?void 0:o.type)===Ze.NQG.EPISODE))navigator.mediaSession.setActionHandler("nexttrack",null),navigator.mediaSession.setActionHandler("previoustrack",null),navigator.mediaSession.setActionHandler("seekforward",(e=>{let{seekOffset:s}=e;t.dispatch((0,gn.q3)(s?ai(s):ii))})),navigator.mediaSession.setActionHandler("seekbackward",(e=>{let{seekOffset:s}=e;t.dispatch((0,gn.ER)(s?ai(s):ii))}));else{var r,l;navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("seekbackward",null);const e=null!=s&&null!==(r=s.disallows)&&void 0!==r&&r.skipping_next?null:()=>t.dispatch((0,gn.lJ)());navigator.mediaSession.setActionHandler("nexttrack",e);const n=null!=s&&null!==(l=s.disallows)&&void 0!==l&&l.skipping_prev?null:()=>t.dispatch((0,gn.qd)());navigator.mediaSession.setActionHandler("previoustrack",n)}navigator.mediaSession.setActionHandler("play",(()=>t.dispatch((0,gn.d5)()))),navigator.mediaSession.setActionHandler("pause",(()=>t.dispatch((0,gn.d5)())));const d=null!=s&&null!==(i=s.disallows)&&void 0!==i&&i.seeking?null:e=>{let{seekTime:s}=e;null!=s&&t.dispatch((0,gn.jF)(ai(s)))};navigator.mediaSession.setActionHandler("seekto",d)},ui=e=>{let{enablePlayback:t,i18n:s,timekeeper:n}=e;return e=>i=>a=>{var o,r,l,d,c,u,p,m,h,_;const y=e.getState();if(!t||y.session.isAnonymous)return i(a);const{current:b}=y.playback,g=null==b||null===(o=b.context)||void 0===o?void 0:o.uri,f=In(),v=null==y||null===(r=y.playback)||void 0===r||null===(r=r.current)||void 0===r||null===(r=r.track_window)||void 0===r||null===(r=r.current_track)||void 0===r||null===(r=r.album)||void 0===r?void 0:r.uri,E=f.getLocalDeviceType()===cn.b.COMPUTER,w=v&&g&&((0,Ze.gHQ)(g)||(0,Ze.WB1)(g)),S=(null==y||null===(l=y.entities)||void 0===l?void 0:l.items[(null==y||null===(d=y.playback)||void 0===d||null===(d=d.current)||void 0===d?void 0:d.context.uri)||""])||(null==y||null===(c=y.entities)||void 0===c?void 0:c.items[(null==y||null===(u=y.playback)||void 0===u||null===(u=u.current)||void 0===u||null===(u=u.track_window.current_track)||void 0===u?void 0:u.uri)||""]),R=Boolean("Audiobook"===(null==S?void 0:S.__typename)||"Chapter"===(null==S?void 0:S.__typename));switch(a.type){case Nn:(e=>{let{dispatch:t,getState:s}=e;window.addEventListener("offline",(()=>{t(jn())})),Gn.connectToStore(t,s),Gn.subscribe()})(e),(e=>{li()&&(navigator.mediaSession.setActionHandler("play",(()=>e.dispatch((0,gn.d5)()))),navigator.mediaSession.setActionHandler("pause",(()=>e.dispatch((0,gn.d5)()))))})(e),Jn=e,f.on(dn.b.PROGRESS,oi),setInterval(ri,500,e);break;case oe.CU:{var T,A;if(b&&b.paused&&null!=b&&null!==(T=b.disallows)&&void 0!==T&&T.resuming||b&&!b.paused&&null!=b&&null!==(A=b.disallows)&&void 0!==A&&A.pausing)break;b&&b.paused&&e.dispatch((0,gn.lp)(oe.dL.toggle)),Hn(y,e.dispatch);const t=n.getMeasurementBuilderByCategory("tracklist-row-click");null==t||t.startPoint("get-harmony-instance"),f.getInstance().then((s=>{null==t||t.endPoint("get-harmony-instance").startPoint("start-harmony-playback"),s.togglePlay().catch((t=>{e.dispatch((0,gn.xK)({...t,trigger:"toggle_play"}))}))})),null==t||t.endPoint("play-action-dispatch");break}case oe.Mz:if(null!=b&&null!==(p=b.disallows)&&void 0!==p&&p.skipping_prev)break;e.dispatch((0,gn.lp)(oe.dL.skip)),Hn(y,e.dispatch),f.getInstance().then((t=>{var s;t.previousTrack(null==y||null===(s=y.connect)||void 0===s||null===(s=s.device)||void 0===s?void 0:s.id).catch((t=>{e.dispatch((0,gn.xK)({...t,trigger:"previous_track"}))}))}));break;case oe.EA:if(null!=b&&null!==(m=b.disallows)&&void 0!==m&&m.skipping_prev)break;e.dispatch((0,gn.lp)(oe.dL.skip)),Hn(y,e.dispatch),f.getInstance().then((t=>{var s;t.smartPreviousTrack(null==y||null===(s=y.connect)||void 0===s||null===(s=s.device)||void 0===s?void 0:s.id).catch((t=>{e.dispatch((0,gn.xK)({...t,trigger:"previous_track"}))}))}));break;case oe.qw:if(null!=b&&null!==(h=b.disallows)&&void 0!==h&&h.skipping_next)break;if(E&&v){f.getInstance({type:cn.b.SMARTPHONE}).then((e=>e.playURI(v)));break}e.dispatch((0,gn.lp)(oe.dL.skip)),Hn(y,e.dispatch),f.getInstance().then((t=>{t.nextTrack().catch((t=>{e.dispatch((0,gn.xK)({...t,trigger:"next_track"}))}));(0,Xn.u)(y)(g)||e.dispatch((0,gn.DG)())}));break;case oe.XU:f.getInstance().then((e=>e.toggleShuffle())).catch((t=>{e.dispatch((0,gn.xK)({...t,trigger:"toggle_shuffle"}))}));break;case oe.V4:f.getInstance().then((e=>e.cycleRepeatMode())).catch((t=>{e.dispatch((0,gn.xK)({...t,trigger:"cycle_repeat_mode"}))}));break;case oe.NI:{var x;const t=a;if(null!=b&&null!==(x=b.disallows)&&void 0!==x&&x.seeking)break;e.dispatch((0,gn.lp)(oe.dL.seek)),f.getInstance().then((e=>{e.seek(t.position)}));break}case oe.E6:{var C,I;const t=a,s=null==y||null===(C=y.playback)||void 0===C||null===(C=C.current)||void 0===C||null===(C=C.context)||void 0===C?void 0:C.uri,i=null==y?void 0:y.session;!(0,en.xZ)(i)&&null!=y&&null!==(I=y.playback)&&void 0!==I&&I.initiatedPlayback&&(0,Ze.B2u)(t.uri,s??"")||e.dispatch((0,gn.lp)(oe.dL.playUri)),Hn(y,e.dispatch);const o=n.getMeasurementBuilderByCategory("tracklist-row-click");null==o||o.startPoint("get-harmony-instance","test-feature-id"),f.getInstance({type:t.deviceType}).then((s=>{null==o||o.endPoint("get-harmony-instance").startPoint("start-harmony-playback");(t.pages?s.playPages(t.pages,t.deviceId,t.options):s.playURI(t.uri,t.deviceId,t.options)).then((()=>{const t=e.getState(),{modal:s}=t.ui;s||e.dispatch({type:_e})})).catch((t=>{var s;null!==(s=e.getState())&&void 0!==s&&null!==(s=s.playback)&&void 0!==s&&s.isBuffering&&e.dispatch((0,gn.ab)()),e.dispatch((0,gn.xK)({...t,trigger:"play_uri"}))}))})),null==o||o.endPoint("play-action-dispatch")}break;case oe.SD:E&&f.getInstance({type:cn.b.SMARTPHONE}).then((e=>e.playURI(v))),w&&!R&&f.getInstance().then((e=>{e.playURI(v)}));break;case oe.b7:((e,t,s,n)=>{var i,a,o;const r=t.getState(),{current:l}=r.playback;if(!s.state)return void t.dispatch(sn());const d=n.getMeasurementBuilderByCategory("tracklist-row-click");d&&!s.state.paused&&(d.endPoint("start-harmony-playback"),n.send(d.build()));const c=null==s||null===(i=s.state)||void 0===i?void 0:i.track_window;(null==l||null===(a=l.track_window)||void 0===a||null===(a=a.current_track)||void 0===a?void 0:a.uri)!==(null===(o=s.state)||void 0===o||null===(o=o.track_window)||void 0===o||null===(o=o.current_track)||void 0===o?void 0:o.uri)&&((0,$n.El)(c)&&t.dispatch(tn()),ci(e,t,s.state))})(s,e,a,n);break;case oe.OP:null!=y&&null!==(_=y.playback)&&void 0!==_&&_.heardAudio||setTimeout((()=>{var t;null!==(t=e.getState())&&void 0!==t&&null!==(t=t.playback)&&void 0!==t&&t.heardAudio||e.dispatch((0,Zn.ys)({type:"HEARD_AUDIO_TIMEOUT_ERROR"}))}),12e3);break;case oe.r2:f.getInstance().then((e=>{e.seekForward(a.time)}));break;case oe.Fb:f.getInstance().then((e=>{e.seekBackward(a.time)}))}return i(a)}};var pi=s(35870);class mi{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new pi.bk;this._emitter=e,this._emitter=e||new pi.bk}createEvent(e,t){return this._emitter.createEvent(e,t)}addListener(e,t,s){this._emitter.addListener(e,t,s);return()=>{this.removeListener(e,t,s)}}removeListener(e,t,s){return this._emitter.removeListener(e,t,s),this}onAddListener(e,t){return this._emitter.onAddListener(e,t),this}onRemoveListener(e,t){return this._emitter.onRemoveListener(e,t),this}emit(e,t){return this._emitter.emit(e,t)}emitSync(e,t){return this._emitter.emitSync(e,t)}}let hi=function(e){return e.UPDATE="update",e.ERROR="error",e.ACTION="action",e.QUEUE_ACTION="queue_action",e.QUEUE_ACTION_COMPLETE="queue_action_complete",e.QUEUE_UPDATE="queue_update",e.CONTEXT_WRAPAROUND="context_wraparound",e.READY="ready",e}({}),_i=function(e){return e.PLAY="play",e.PAUSE="pause",e.RESUME="resume",e.SKIP_TO_NEXT="skipToNext",e.SKIP_TO_PREVIOUS="skipToPrevious",e}({}),yi=function(e){return e.ADD="add",e.REMOVE="remove",e.CLEAR="clear",e.INSERT="insert",e.REORDER="reorder",e}({});class bi extends mi{emitPlaySync(e,t,s){const{defaultPrevented:n}=this.emitSync(hi.ACTION,{action:_i.PLAY,context:e,origin:t,options:s});return n}emitPauseSync(){const{defaultPrevented:e}=this.emitSync(hi.ACTION,{action:_i.PAUSE});return e}emitResumeSync(){const{defaultPrevented:e}=this.emitSync(hi.ACTION,{action:_i.RESUME});return e}emitSkipToNextSync(){const{defaultPrevented:e}=this.emitSync(hi.ACTION,{action:_i.SKIP_TO_NEXT});return e}emitSkipToPreviousSync(){const{defaultPrevented:e}=this.emitSync(hi.ACTION,{action:_i.SKIP_TO_PREVIOUS});return e}emitQueueActionSync(e){const{defaultPrevented:t}=this.emitSync(hi.QUEUE_ACTION,{action:e});return t}emitQueueActionComplete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.emit(hi.QUEUE_ACTION_COMPLETE,{action:e,error:t,showSnackbar:s})}emitQueueUpdate(e){this.emit(hi.QUEUE_UPDATE,e)}}function gi(e,t){if(null===e||null===t||null===e.duration)return null;const{timestamp:s,duration:n,speed:i,hasContext:a,isPaused:o,isBuffering:r}=e;if(!a||o||r)return t;const l=(Date.now()-s)*(i??0);return Math.min(t+l,n)}function fi(e){return gi(e,(null==e?void 0:e.positionAsOfTimestamp)??null)}let vi=function(e){return e[e.TRANSIENT=0]="TRANSIENT",e[e.PERSISTENT=1]="PERSISTENT",e}({}),Ei=function(e){return e.SUCCESS="success",e.PLAYBACK_STUCK="playback_stuck",e.PLAYBACK_ERROR="playback_error",e.LICENSE_CHANGE="license_change",e.PLAY_RESTRICTED="play_restricted",e.STOP_RESTRICTED="stop_restricted",e.UPDATE_RESTRICTED="update_restricted",e.PAUSE_RESTRICTED="pause_restricted",e.RESUME_RESTRICTED="resume_restricted",e.SKIP_TO_PREV_RESTRICTED="skip_to_prev_restricted",e.SKIP_TO_NEXT_RESTRICTED="skip_to_next_restricted",e.SKIP_TO_NON_EXISTENT_TRACK="skip_to_non_existent_track",e.TOGGLE_REPEAT_CONTEXT_RESTRICTED="toggle_repeat_context_restricted",e.TOGGLE_REPEAT_TRACK_RESTRICTED="toggle_repeat_track_restricted",e.SET_OPTIONS_RESTRICTED="set_options_restricted",e.TOGGLE_SHUFFLE_RESTRICTED="toggle_shuffle_restricted",e.SET_QUEUE_RESTRICTED="set_queue_restricted",e.INTERRUPT_PLAYBACK_RESTRICTED="interrupt_playback_restricted",e.SEEK_TO_RESTRICTED="seek_to_restricted",e.ONE_TRACK_UNPLAYABLE="one_track_unplayable",e.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED="one_track_unplayable_auto_stopped",e.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED="all_tracks_unplayable_auto_stopped",e.SKIP_TO_NON_EXISTENT_TRACK_AUTO_STOPPED="skip_to_non_existent_track_auto_stopped",e.QUEUE_REVISION_MISMATCH="queue_revision_mismatch",e.VIDEO_PLAYBACK_ERROR="video_playback_error",e.VIDEO_GEORESTRICTED="video_georestricted",e.VIDEO_UNSUPPORTED_PLATFORM_VERSION="video_unsupported_platform_version",e.VIDEO_UNSUPPORTED_CLIENT_VERSION="video_unsupported_client_version",e.VIDEO_UNSUPPORTED_KEY_SYSTEM="video_unsupported_key_system",e.VIDEO_COUNTRY_RESTRICTED="video_country_restricted",e.VIDEO_UNAVAILABLE="video_unavailable",e.VIDEO_CATALOGUE_RESTRICTED="video_catalogue_restricted",e.VIDEO_MANIFEST_DELETED="video_manifest_deleted",e.TIMEOUT="timeout",e.INVALID="invalid",e.PLAYBACK_REPORTING_ERROR="playback_reporting_error",e.AUDIOBOOK_NOT_PLAYABLE="audiobook_not_playable",e.UNKNOWN="unknown",e.UNRECOGNIZED="unrecognized",e.AUTOPLAY_FAILED="autoplay_failed",e}({});class wi extends Error{constructor(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;super(wi.getMessage(t,s,n)),this.type=e,this.code=t,this.reasons=s,this.cause=n}static getMessage(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return t.length>0?`Code '${e}' with reasons '${t.join(", ")}'`:void 0!==s?`Code '${e}' with cause '${s.name}: ${s.message}'`:`Code '${e}'`}}class Si extends wi{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;super(vi.TRANSIENT,e,t,s)}}class Ri extends wi{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;super(vi.PERSISTENT,e,t,s)}}var Ti=s(90135);function Ai(e){return(null==e?void 0:e.type)===Ti.c.EPISODE}function xi(e){return(null==e?void 0:e.type)===Ti.c.TRACK}const Ci=e=>!!(e=>!e.isBuffering&&!e.isPaused&&!e.hasContext)(e)||e.isPaused&&!e.isBuffering,Ii=e=>null==e?void 0:e.map((e=>({...e,width:e.width??void 0,height:e.height??void 0}))),ki=(e,t,s)=>{window.addEventListener("offline",(()=>{e(jn())})),window.addEventListener("online",(()=>{e(On())})),t.getEvents().addListener(hi.UPDATE,(t=>{(0,i.vA)((()=>{if(t.data){const n=s.getMeasurementBuilderByCategory("tracklist-row-click");n&&!1===t.data.isPaused&&(n.endPoint("play-in-overture"),s.send(n.build())),e((0,gn.Sx)((e=>{const t=e.item??void 0,s={shuffle_mode:0,loading:!1,context:{...e.context,metadata:{}},disallows:{},timestamp:0,restrictions:{},duration:Number(e.duration),paused:Ci(e),position:fi(e)??0,shuffle:Boolean(e.shuffle),repeat_mode:ae.RepeatMode.OFF,track_window:{next_tracks:[],previous_tracks:[],current_track:{uri:(null==t?void 0:t.uri)??"",name:xi(t)||Ai(t)?t.name:void 0,type:(null==t?void 0:t.type)??"",duration_ms:Number(e.duration),artists:[],album:{}}},playback_id:null};return t&&Ai(t)?{...s,disallows:{skipping_next:!0,skipping_prev:!0,seeking:!1,toggling_shuffle:!0,toggling_repeat_track:!0,toggling_repeat_context:!0},track_window:{next_tracks:[],previous_tracks:[],current_track:{uri:t.uri??"",name:t.name??void 0,type:t.type??"",media_type:t.mediaType??"audio",duration_ms:Number(e.duration),artists:[],album:{...t.show,images:Ii(t.images)}}},playback_id:null}:t&&xi(t)?{...s,disallows:{skipping_next:!0,skipping_prev:!0,seeking:!1,toggling_shuffle:!0,toggling_repeat_track:!0,toggling_repeat_context:!0},track_window:{next_tracks:[],previous_tracks:[],current_track:{uri:t.uri??"",name:t.name??void 0,type:t.type??"",media_type:t.mediaType??"audio",duration_ms:Number(e.duration),artists:t.artists,album:{...t.album,images:Ii(t.album.images)}}},playback_id:null}:s})(t.data))),t.data.isBuffering?e((0,gn.lp)()):e((0,gn.ab)())}}))}));t.getEvents().addListener(hi.ERROR,(t=>(t=>{if(t){const s=`AUDIO_PLAYER_ERROR_${t.name}`;e((0,gn.Yi)({code:s,unrecoverable:t.type===vi.PERSISTENT}))}})(t.data)))};var Ni=s(98116),Pi=s(90879);const Li=new Ni.l("queryShowAccessInfo","query","69dd1f70c38667a7f8ecac51b26bf512e250d95c550d16b65d0111e16622326e",null),ji=new Ni.l("queryUser","query","5b1399f199da0b45e368dac387ed4688e84a1c59111c835d0776e3a59d8a4395",null),Oi=new Ni.l("queryUserPagination","query","5b1399f199da0b45e368dac387ed4688e84a1c59111c835d0776e3a59d8a4395",null);var Di=s(61886);const Mi=new Ni.l("queryAlbum","query","7fafef206e9a0d1397c9ba0c8f92734ac537cd9fbe50e086c485bf978bd03c72",null),Ui=e=>"track"in e&&"object"==typeof e.track,Bi=e=>"NotFound"===(null==e?void 0:e.__typename),Gi=e=>!(!e||!("__typename"in e))&&"PreRelease"===(null==e?void 0:e.__typename),Fi=e=>"Artist"===(null==e?void 0:e.__typename),Vi=new Ni.l("queryAlbumPrerelease","query","17ccdf559fd8c041fe06befc6e97a73ee7e4a022a584065b27af0ef6c7d723a7",null),Hi=new Ni.l("queryArtist","query","59908a1dfd47a45245ce472b2eb688ab5ea3d4e25338a4b1bfad6e258b805f42",null);var Yi=s(56852);const Ki=new Ni.l("queryPlaylist","query","540242f57bc8cd30066e1a258a276228aa3746d49ccda136f39e91a066bf287d",null),zi=new Ni.l("queryTrack","query","21d10e79b39a9d89320e355996740b9126032dde85b24e3fee5e11b4032fb076",null),Wi=new Ni.l("concert","query","f1fa45c66f8cfeb5e3885361515610170dc5571e777084e873de2a52a8ff3ed1",null),qi=new Ni.l("venue","query","75cc2d2d7b494137e8e2ebc414f9f7f6d79330a2de645ab275b6c51a7f3566f7",null),Qi=new Ni.l("artistConcerts","query","15b3adc986163582a6ef6af3d315c93d77e894dec5173e3a2aa9de0a4dab3afc",null),$i=new Ni.l("artistConcertsUserLocation","query","15b3adc986163582a6ef6af3d315c93d77e894dec5173e3a2aa9de0a4dab3afc",null),Zi=new Ni.l("queryAlbumPreReleaseTracks","query","f203b4b94d9cf1b4c909739b6c12060bfe69e787106f67d533370a98cde837dc",null);var Xi=s(67193),Ji=(s(95387),s(34113));s(31071);function ea(e){return{url:e.url,width:e.width,height:e.height}}var ta=s(34207);function sa(e){return null!==e}function na(e){return null!==e.displayText}function ia(e){return{entitiesWithValueProps:e.map((e=>{let{badges:t,relatedEntity:s,summary:n,fallbackGatedEntity:i}=e;return"EpisodeResponseWrapper"===(null==s?void 0:s.__typename)||"PodcastResponseWrapper"===(null==s?void 0:s.__typename)?{uri:s._uri,summary:null!=n&&n.forUserWithoutAccess?{forUserWithoutAccess:n.forUserWithoutAccess,forUserWithAccess:n.forUserWithAccess??void 0}:void 0,valueProps:t.filter(na),fallbackNavigation:null!=i&&i.description?{uri:i.uri,description:null==i?void 0:i.description}:void 0}:null})).filter(sa)}}new Ni.l("queryArtistDiscographyAlbums","query","465c7734a43fc8868d6bcbb939a4734b018b989ac58df392ae535b76a3eb8dfa",null),new Ni.l("queryArtistDiscographySingles","query","465c7734a43fc8868d6bcbb939a4734b018b989ac58df392ae535b76a3eb8dfa",null),new Ni.l("queryArtistDiscographyCompilations","query","465c7734a43fc8868d6bcbb939a4734b018b989ac58df392ae535b76a3eb8dfa",null);const aa=new Ni.l("queryArtistDiscographyAll","query","465c7734a43fc8868d6bcbb939a4734b018b989ac58df392ae535b76a3eb8dfa",null),oa=new Ni.l("queryArtistDiscographyOverview","query","465c7734a43fc8868d6bcbb939a4734b018b989ac58df392ae535b76a3eb8dfa",null),ra=async(e,t,s)=>{try{const n=await(async(e,t)=>{var s,n;const i=await e(Li,{uri:t});return"Audiobook"===(null==i||null===(s=i.data)||void 0===s?void 0:s.podcastUnionV2.__typename)||"Podcast"===(null==i||null===(n=i.data)||void 0===n?void 0:n.podcastUnionV2.__typename)?i.data.podcastUnionV2:null})(s,t);e.dispatch((0,Di.hl)(t,function(e){var t;if(!e)return{};const s=null===(t=e.accessInfo)||void 0===t?void 0:t.accessExplanation;let n;switch("Podcast"===e.__typename&&(n=e.gatedEntityRelations),null==s?void 0:s.__typename){case"UpsellAccessExplanation":return{upsellLink:{title:(null==s?void 0:s.title)||"",body:(null==s?void 0:s.body)||"",cta:(null==s?void 0:s.actionText)||"",url:(null==s?void 0:s.url)||""},gatedEntityRelations:n&&ia(n)};case"BasicAccessExplanation":return{basic:{title:(null==s?void 0:s.title)||"",body:(null==s?void 0:s.body)||"",cta:(null==s?void 0:s.actionText)||""}};case"MultiPassAccessExplanation":{var i;const e=[];return null==s||null===(i=s.soaPartners)||void 0===i||i.forEach((t=>{t&&e.push({displayName:t.displayName||"",linkUrl:t.linkUrl||"",logoUrl:t.logoUrl||""})})),{multiPass:{title:(null==s?void 0:s.title)||"",body:(null==s?void 0:s.body)||"",soaPartners:e}}}case"ConsumptionCappedAccessExplanation":return{isConsumptionCapped:!0};default:return{}}}(n)))}catch(n){e.dispatch((0,Di.yN)(n instanceof Error?n:new Error("Unknown error object")))}},la=async(e,t,s,n)=>{var i;const a=null===(i=(0,Ze.o_h)(s))||void 0===i?void 0:i.type;a&&(a===Ze.NQG.ARTIST?(async e=>{let{graphQLLoader:t,store:s,uri:n}=e;try{const e=await t(Hi,{uri:n}),i=null==e?void 0:e.data;if(!i)throw new Error("Upstream returned an empty value");if(!(0,Yi.T)(i.artistUnion))throw new Error(`Upstream returned error ${i.artistUnion.message}`);s.dispatch((0,Di.DK)(n,i.artistUnion))}catch(i){s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(i))}})({graphQLLoader:t,store:e,uri:s}):a===Ze.NQG.TRACK?(async e=>{let{graphQLLoader:t,store:s,uri:n}=e;try{const e=await t(zi,{uri:n}),a=null==e?void 0:e.data;if(!a||!a.trackUnion)throw new Error("Upstream returned an empty value");var i;"NotFound"===a.trackUnion.__typename&&null!==(i=a.trackUnion)&&void 0!==i&&i.message?(s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(new Error(a.trackUnion.message)))):"Track"===a.trackUnion.__typename&&s.dispatch((0,Di.KJ)(n,a.trackUnion))}catch(a){s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(a))}})({graphQLLoader:t,store:e,uri:s}):a===Ze.NQG.ALBUM?(async e=>{let{graphQLLoader:t,store:s,uri:n}=e;try{const e=await t(Mi,{uri:n,offset:0}),a=null==e?void 0:e.data;if(a&&a.albumUnion)if("NotFound"===(null==(i=null==a?void 0:a.albumUnion)?void 0:i.__typename)){const e=a.albumUnion;s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(new Error(e.message??void 0)))}else{if(!(e=>"Album"===(null==e?void 0:e.__typename))(null==a?void 0:a.albumUnion))throw new Error("Upstream returned an empty value");s.dispatch((0,Di.uJ)(n,a.albumUnion))}}catch(a){s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(a))}var i})({graphQLLoader:t,store:e,uri:s}):a===Ze.NQG.PLAYLIST_V2?(async e=>{let{graphQLLoader:t,store:s,uri:n,pagination:i}=e;try{var a;const e=await t(Ki,{uri:n,limit:(null==i?void 0:i.limit)??30,offset:(null==i?void 0:i.offset)??0}),r=null==e||null===(a=e.data)||void 0===a?void 0:a.playlistV2;if(!r)return s.dispatch(an(Re.ERROR_BOUNDARY)),void s.dispatch((0,Di.sc)(new Error("Error while loading playlist, please try again later.")));if("NotFound"===r.__typename)return s.dispatch(an(Re.ERROR_BOUNDARY)),void s.dispatch((0,Di.sc)(new Error("Playlist not found")));var o;if("GenericError"===r.__typename)return s.dispatch(an(Re.ERROR_BOUNDARY)),null!==(o=r.message)&&void 0!==o&&o.includes("400 BAD_REQUEST")?void s.dispatch((0,Di.sc)(new Error("Invalid playlist URI"))):void s.dispatch((0,Di.sc)(new Error("Error while loading playlist, please try again later.")));s.dispatch((0,Di.gV)(n,r))}catch{return s.dispatch(an(Re.ERROR_BOUNDARY)),void s.dispatch((0,Di.sc)(new Error("Error while loading playlist, please try again later.")))}})({graphQLLoader:t,store:e,uri:s,pagination:n}):a===Ze.NQG.PROFILE?(async e=>{let{graphQLLoader:t,store:s,uri:n}=e;try{const e=await t(ji,{uri:n}),i=null==e?void 0:e.data;if(!i||!i.user)throw new Error("Upstream returned an empty value");"NotFound"===i.user.__typename&&i.user.message?(s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(new Error(i.user.message)))):"User"===i.user.__typename&&s.dispatch((0,Di.DK)(n,i.user))}catch(i){s.dispatch(an(Re.ERROR_BOUNDARY)),i instanceof Error&&s.dispatch((0,Di.sc)(i))}})({graphQLLoader:t,store:e,uri:s}):a===Ze.NQG.CONCERT?(async e=>{let{graphQLLoader:t,store:s,uri:n}=e;try{const e=await t(Wi,{uri:n}),i=null==e?void 0:e.data;if(i&&i.concert)if("NotFound"===(null==i?void 0:i.concert.__typename))s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(new Error(i.concert.message??void 0)));else{if("ConcertV2"!==i.concert.__typename)throw new Error("Upstream returned an empty value");s.dispatch((0,Di.DK)(n,i.concert))}}catch(i){s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(i))}})({graphQLLoader:t,store:e,uri:s}):a===Ze.NQG.VENUE?(async e=>{let{graphQLLoader:t,store:s,uri:n}=e;try{const e=await t(qi,{uri:n}),i=null==e?void 0:e.data;if(i&&i.venue)if("NotFound"===(null==i?void 0:i.venue.__typename))s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(new Error(i.venue.message??void 0)));else{if("Venue"!==i.venue.__typename)throw new Error("Upstream returned an empty value");s.dispatch((0,Di.DK)(n,i.venue))}}catch(i){s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(i))}})({graphQLLoader:t,store:e,uri:s}):a===Ze.NQG.PRERELEASE&&(async e=>{let{graphQLLoader:t,store:s,uri:n}=e;try{var i;const e=await t(Vi,{uri:n,offset:0,limit:20}),l=null==e?void 0:e.data;if(l&&(null===(i=l.lookup)||void 0===i?void 0:i.length)>0){var a,o;const e="PreReleaseResponseWrapper"===(null===(a=l.lookup[0])||void 0===a?void 0:a.__typename)?null===(o=l.lookup[0])||void 0===o?void 0:o.data:void 0;if(Bi(e))s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(new Error("Entity not found")));else{if("PreRelease"!==(null==(r=e)?void 0:r.__typename))throw new Error("Upstream returned an empty value");s.dispatch((0,Di.DK)(n,e))}}else s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(new Error("Entity not found")))}catch(l){s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(l))}var r})({graphQLLoader:t,store:e,uri:s}))},da=async(e,t,s,n)=>{var i;const a=null===(i=(0,Ze.o_h)(s))||void 0===i?void 0:i.type;a&&a===Ze.NQG.PRERELEASE&&(async e=>{let{graphQLLoader:t,store:s,uri:n,pagination:i}=e;try{var a;const e=await t(Zi,{uri:n,offset:(null==i?void 0:i.offset)||0,limit:(null==i?void 0:i.limit)||0}),d=null==e?void 0:e.data;if(d&&(null===(a=d.lookup)||void 0===a?void 0:a.length)>0){var o,r;const e="PreReleaseResponseWrapper"===(null===(o=d.lookup[0])||void 0===o?void 0:o.__typename)?null===(r=d.lookup[0])||void 0===r?void 0:r.data:void 0;if(Bi(e))s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.$c)(new Error("Entity not found")));else{if("PreRelease"!==(null==(l=e)?void 0:l.__typename))throw new Error("Upstream returned an empty value");s.dispatch((0,Di.mn)(n,e))}}else s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.$c)(new Error("Entity not found")))}catch(d){s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.$c)(d))}var l})({graphQLLoader:t,store:e,uri:s,pagination:n})},ca=e=>t=>s=>n=>{const i=s(n);switch(n.type){case de.Az:la(t,e,n.uri,n.pagination);break;case de.$r:da(t,e,n.uri,n.pagination);break;case de.YO:ra(t,n.uri,e);break;case de.UZ:(async(e,t,s,n)=>{var i;const a=await n(Oi,{uri:t,publicPlaylistsV2Limit:s.limit,publicPlaylistsV2Offset:s.offset});if(null!=a&&null!==(i=a.errors)&&void 0!==i&&i.length)e.dispatch((0,Di.ly)(new Error("Upstream returned an error")));else if(null!=a&&a.data&&"User"===a.data.user.__typename){const s=a.data.user;e.dispatch((0,Di._M)(t,s))}else e.dispatch((0,Di.ly)(new Error("Upstream returned an empty value")))})(t,n.uri,n.options,e);break;case de.Yx:(async e=>{let{graphQLLoader:t,store:s,uri:n}=e;const i=n;try{var a;const e=i.substring(0,i.lastIndexOf(":")),n=await t($i,{}),o=(null==n||null===(a=n.data)||void 0===a||null===(a=a.me)||void 0===a||null===(a=a.profile)||void 0===a||null===(a=a.location)||void 0===a?void 0:a.geoHash)??null,r=await t(Qi,{artistUri:e,clientIp:null,geoHash:o,skipNearBy:!o}),l=null==r?void 0:r.data;if(l&&l.artistUnion)if("NotFound"===(null==l?void 0:l.artistUnion.__typename))s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(new Error(l.artistUnion.message??void 0)));else{if("Artist"!==l.artistUnion.__typename)throw new Error("Upstream returned an empty value");s.dispatch((0,Di.DK)(i,l))}}catch(o){s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(o))}})({graphQLLoader:e,store:t,uri:n.uri});break;case de.Hg:(async e=>{let{graphQLLoader:t,store:s,uri:n}=e;try{const[e,i]=await Promise.all([t(oa,{uri:n}),t(aa,{uri:n,offset:0,limit:50,order:Xi.NC.DateDesc})]),a=null==e?void 0:e.data,o=null==i?void 0:i.data;if(!a||!o)throw new Error("Upstream returned an empty value");s.dispatch((0,Di.DK)(n,{__typename:"ArtistDiscography",uri:n,discographyOverview:a,discographyAll:o}))}catch(i){s.dispatch(an(Re.ERROR_BOUNDARY)),s.dispatch((0,Di.sc)(i))}})({graphQLLoader:e,store:t,uri:n.uri})}return i},ua=new Ni.l("findTopResults","query","04593a37dcd508db13f06c24c10d65f5dbec017a71a05c8d6075a81eb0dae963",null),pa=new Ni.l("findArtists","query","04593a37dcd508db13f06c24c10d65f5dbec017a71a05c8d6075a81eb0dae963",null),ma=new Ni.l("findAlbums","query","04593a37dcd508db13f06c24c10d65f5dbec017a71a05c8d6075a81eb0dae963",null),ha=new Ni.l("findPodcasts","query","04593a37dcd508db13f06c24c10d65f5dbec017a71a05c8d6075a81eb0dae963",null),_a=new Ni.l("findTracks","query","04593a37dcd508db13f06c24c10d65f5dbec017a71a05c8d6075a81eb0dae963",null),ya=new Ni.l("findPlaylists","query","04593a37dcd508db13f06c24c10d65f5dbec017a71a05c8d6075a81eb0dae963",null),ba=new Ni.l("findGenres","query","04593a37dcd508db13f06c24c10d65f5dbec017a71a05c8d6075a81eb0dae963",null),ga=new Ni.l("findAudiobooks","query","04593a37dcd508db13f06c24c10d65f5dbec017a71a05c8d6075a81eb0dae963",null),fa=new Ni.l("findUsers","query","04593a37dcd508db13f06c24c10d65f5dbec017a71a05c8d6075a81eb0dae963",null),va=e=>Boolean(e&&"Playlist"===e.__typename),Ea=e=>Boolean(e&&"Track"===e.__typename),wa=e=>"data"in e,Sa=e=>Boolean(e&&"Album"===e.__typename),Ra=e=>Boolean(e&&"Podcast"===e.__typename),Ta=e=>Boolean(e&&"Audiobook"===e.__typename),Aa=e=>Boolean(e&&"Episode"===e.__typename),xa=e=>Boolean(e&&"Genre"===e.__typename),Ca=e=>Boolean(e&&"Artist"===e.__typename),Ia=e=>Boolean(e&&"User"===e.__typename),ka=e=>["AlbumResponseWrapper","ArtistResponseWrapper","AudiobookResponseWrapper","EpisodeResponseWrapper","PlaylistResponseWrapper","PodcastResponseWrapper","TrackResponseWrapper","UserResponseWrapper","GenreResponseWrapper"].includes(e.__typename);var Na=s(10700),Pa=s(17132);const La=e=>e.items.reduce(((e,t)=>{var s;return`${e.length?`${e} | `:""}${null==t||null===(s=t.profile)||void 0===s?void 0:s.name}`}),"");function ja(e){var t;return{id:e.id,image:null===(t=e.visuals.avatarImage)||void 0===t||null===(t=t.sources[0])||void 0===t?void 0:t.url,uri:e.uri,name:e.profile.name,verified:e.profile.verified||!1,type:Na.I.artists}}function Oa(e){var t,s,n,i;return{id:e.id,image:null===(t=e.albumOfTrack)||void 0===t||null===(t=t.coverArt)||void 0===t||null===(t=t.sources[0])||void 0===t?void 0:t.url,uri:e.uri,name:e.name,type:Na.I.songs,artistName:La(e.artists),artistURI:null===(s=e.artists)||void 0===s||null===(s=s.items[0])||void 0===s?void 0:s.uri,albumURI:null===(n=e.albumOfTrack)||void 0===n?void 0:n.uri,albumName:null===(i=e.albumOfTrack)||void 0===i?void 0:i.name}}function Da(e){var t;return{id:e.id,image:null===(t=e.images.items[0])||void 0===t||null===(t=t.sources[0])||void 0===t?void 0:t.url,uri:e.uri,name:e.name,type:Na.I.playlists}}function Ma(e){var t,s;return{id:e.id,image:null===(t=e.coverArt)||void 0===t||null===(t=t.sources[0])||void 0===t?void 0:t.url,uri:e.uri,name:e.name,type:Na.I.albums,artistURI:null===(s=e.artists)||void 0===s||null===(s=s.items)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.uri,artistName:La(e.artists)}}function Ua(e){var t;return{id:e.id,image:null===(t=e.coverArt)||void 0===t||null===(t=t.sources[0])||void 0===t?void 0:t.url,uri:e.uri,name:e.name,mediaTypes:e.episodeTypes??[],type:Na.I.episodes}}function Ba(e){var t;return{id:e.id,image:(0,Xe.m)(null===(t=e.coverArt)||void 0===t?void 0:t.sources,150),uri:e.uri,name:e.name,mediaType:e.mediaType,type:Na.I.podcasts}}function Ga(e){var t,s;const n=(null==(i=e.authorsV2)?void 0:i.map((e=>null==e?void 0:e.name)).join(" | "))||"";var i;return{id:e.id,image:null===(t=e.coverArt)||void 0===t||null===(t=t.sources[0])||void 0===t?void 0:t.url,uri:e.uri,name:e.name,type:Na.I.audiobook,artistName:n,signifier:(null===(s=e.accessInfo)||void 0===s||null===(s=s.signifier)||void 0===s?void 0:s.text)??void 0}}function Fa(e){var t;return{id:"",image:null===(t=e.image)||void 0===t||null===(t=t.sources[0])||void 0===t?void 0:t.url,uri:e.uri,name:e.name,type:Na.I.genre}}function Va(e){var t;return{id:e.id,image:null===(t=e.avatar)||void 0===t||null===(t=t.sources[0])||void 0===t?void 0:t.url,uri:e.uri,name:e.name,verified:e.verified||!1,type:Na.I.users}}const Ha=e=>{var t,s,n,i,a,o,r,l,d,c,u;const p={[Xi.pb.TopResults]:null==e||null===(t=e.topResultsV2)||void 0===t?void 0:t.itemsV2.length,[Xi.pb.Artists]:null==e||null===(s=e.artists)||void 0===s?void 0:s.items.length,[Xi.pb.Albums]:null==e||null===(n=e.albumsV2)||void 0===n?void 0:n.items.length,[Xi.pb.Audiobooks]:null==e||null===(i=e.audiobooks)||void 0===i?void 0:i.items.length,[Xi.pb.Episodes]:null==e||null===(a=e.episodes)||void 0===a?void 0:a.items.length,[Xi.pb.Podcasts]:null==e||null===(o=e.podcasts)||void 0===o?void 0:o.items.length,[Xi.pb.Tracks]:null==e||null===(r=e.tracksV2)||void 0===r?void 0:r.items.length,[Xi.pb.Playlists]:null==e||null===(l=e.playlists)||void 0===l?void 0:l.items.length,[Xi.pb.Genres]:null==e||null===(d=e.genres)||void 0===d?void 0:d.items.length,[Xi.pb.Users]:null==e||null===(c=e.users)||void 0===c?void 0:c.items.length,[Xi.pb.Authors]:0,[Xi.pb.Videos]:0};return(null==e||null===(u=e.chipOrder)||void 0===u?void 0:u.items.reduce(((e,t)=>null!=t&&t.typeName?(e.push(t.typeName),e):e),[]).filter((e=>(p[e]??0)>0)))??[]},Ya=async(e,t,s,n)=>{var i;let a,o,r,{type:l,query:d,offset:c,limit:p}=t,{items:m=[],additionalItems:h=[]}=e.getState().search.results??{},_=(null===(i=e.getState().search.results)||void 0===i?void 0:i.chipOrder)??[];switch(l){case Na.I.artists:{var y,b;a=await s(pa,{query:d,limit:p,offset:c}),r=n.get("mwp.search.results.in_artists",d);const e=((null===(y=a)||void 0===y||null===(y=y.data)||void 0===y||null===(y=y.searchV2)||void 0===y||null===(y=y.artists)||void 0===y?void 0:y.items)??[]).map((e=>e.data)).filter(Ca).map(ja).filter((e=>e));m=c?[...m,...e]:e,o=null===(b=a)||void 0===b||null===(b=b.data)||void 0===b||null===(b=b.searchV2)||void 0===b||null===(b=b.artists)||void 0===b?void 0:b.totalCount;break}case Na.I.songs:{var g,f;a=await s(_a,{query:d,limit:p,offset:c}),r=n.get("mwp.search.results.in_songs",d);const e=((null===(g=a)||void 0===g||null===(g=g.data)||void 0===g||null===(g=g.searchV2)||void 0===g||null===(g=g.tracksV2)||void 0===g?void 0:g.items)??[]).map((e=>e.item.data)).filter(Ea).map(Oa).filter((e=>Boolean(e.id)));m=c?[...m,...e]:e,o=null===(f=a)||void 0===f||null===(f=f.data)||void 0===f||null===(f=f.searchV2)||void 0===f||null===(f=f.tracksV2)||void 0===f?void 0:f.totalCount;break}case Na.I.playlists:{var v,E;a=await s(ya,{query:d,limit:p,offset:c}),r=n.get("mwp.search.results.in_playlists",d);const e=((null===(v=a)||void 0===v||null===(v=v.data)||void 0===v||null===(v=v.searchV2)||void 0===v||null===(v=v.playlists)||void 0===v?void 0:v.items)??[]).map((e=>e.data)).filter(va).map(Da).filter((e=>Boolean(e.id)));m=c?[...m,...e]:e,o=null===(E=a)||void 0===E||null===(E=E.data)||void 0===E||null===(E=E.searchV2)||void 0===E||null===(E=E.playlists)||void 0===E?void 0:E.totalCount;break}case Na.I.albums:{var w,S;a=await s(ma,{query:d,limit:p,offset:c}),r=n.get("mwp.search.results.in_albums",d);const e=((null===(w=a)||void 0===w||null===(w=w.data)||void 0===w||null===(w=w.searchV2)||void 0===w||null===(w=w.albumsV2)||void 0===w?void 0:w.items)??[]).filter(wa).map((e=>e.data)).filter(Sa).map(Ma);m=c?[...m,...e]:e,o=null===(S=a)||void 0===S||null===(S=S.data)||void 0===S||null===(S=S.searchV2)||void 0===S||null===(S=S.albumsV2)||void 0===S?void 0:S.totalCount;break}case Na.I.podcasts:{var R,T,A;a=await s(ha,{query:d,limit:p,offset:c}),r=n.get("mwp.search.results.in_podcasts",d);const e=((null===(R=a)||void 0===R||null===(R=R.data)||void 0===R||null===(R=R.searchV2)||void 0===R||null===(R=R.episodes)||void 0===R?void 0:R.items)??[]).map((e=>e.data)).filter(Aa).map(Ua),t=((null===(T=a)||void 0===T||null===(T=T.data)||void 0===T||null===(T=T.searchV2)||void 0===T||null===(T=T.podcasts)||void 0===T?void 0:T.items)??[]).map((e=>e.data)).filter(Ra).map(Ba).filter((e=>Boolean(e.id)&&!e.mediaType.includes(Xi.Ll.Video)));m=c?[...m,...e]:e,h=c?h:t,o=null===(A=a)||void 0===A||null===(A=A.data)||void 0===A||null===(A=A.searchV2)||void 0===A||null===(A=A.podcasts)||void 0===A?void 0:A.totalCount;break}case Na.I.audiobook:{var x,C;a=await s(ga,{query:d,limit:p,offset:c}),r=n.get("mwp.search.results.in_audiobooks",d);const e=((null===(x=a)||void 0===x||null===(x=x.data)||void 0===x||null===(x=x.searchV2)||void 0===x||null===(x=x.audiobooks)||void 0===x?void 0:x.items)??[]).map((e=>e.data)).filter(Ta).map(Ga).filter((e=>Boolean(e.id)));m=c?[...m,...e]:e,o=null===(C=a)||void 0===C||null===(C=C.data)||void 0===C||null===(C=C.searchV2)||void 0===C||null===(C=C.audiobooks)||void 0===C?void 0:C.totalCount;break}case Na.I.genre:{var I,k;a=await s(ba,{query:d,limit:p,offset:c}),r=`"${d}" in ${n.get("genres_and_moods")}`;const e=((null===(I=a)||void 0===I||null===(I=I.data)||void 0===I||null===(I=I.searchV2)||void 0===I||null===(I=I.genres)||void 0===I?void 0:I.items)??[]).map((e=>e.data)).filter(xa).map(Fa).filter((e=>Boolean(e.uri)));m=c?[...m,...e]:e,o=null===(k=a)||void 0===k||null===(k=k.data)||void 0===k||null===(k=k.searchV2)||void 0===k||null===(k=k.genres)||void 0===k?void 0:k.totalCount;break}case Na.I.users:{var N,P;a=await s(fa,{query:d,limit:p,offset:c});const e=((null===(N=a)||void 0===N||null===(N=N.data)||void 0===N||null===(N=N.searchV2)||void 0===N||null===(N=N.users)||void 0===N?void 0:N.items)??[]).map((e=>e.data)).filter(Ia).map(Va).filter((e=>Boolean(e.id)));m=c?[...m,...e]:e,o=null===(P=a)||void 0===P||null===(P=P.data)||void 0===P||null===(P=P.searchV2)||void 0===P||null===(P=P.users)||void 0===P?void 0:P.totalCount;break}default:{var L,j,O;if(a=await s(ua,{query:d,numberOfTopResults:p}),null===(L=a)||void 0===L||!L.data)break;const e=((null===(j=a)||void 0===j||null===(j=j.data.searchV2)||void 0===j||null===(j=j.topResultsV2)||void 0===j?void 0:j.itemsV2)??[]).map((e=>{let{item:t}=e;return t})).filter(ka);m=e.map((e=>{const{data:t}=e;if(Ca(t))return ja(t);if(Ea(t))return Oa(t);if(va(t))return Da(t);if(Sa(t))return Ma(t);if(Aa(t))return Ua(t);if(Ra(t)){const e=Ba(t);if(e.mediaType===Xi.Ll.Video)return;return e}return Ta(t)?Ga(t):xa(t)?Fa(t):Ia(t)?Va(t):void 0})).filter(Pa.d6),h=((null===(O=a)||void 0===O||null===(O=O.data.searchV2)||void 0===O||null===(O=O.topResultsV2)||void 0===O?void 0:O.featured)??[]).map((e=>e.data)).filter(va).map(Da).filter((e=>Boolean(e.id))),_=Ha(a.data.searchV2)}}if(l!==Na.I.basic&&!_.length){const e=await s(ua,{query:d,numberOfTopResults:p});null!=e&&e.data&&(_=Ha(e.data.searchV2))}a&&(e.dispatch((0,Et.ke)({query:d,items:m,chipOrder:_,additionalItems:h,type:l,title:r,totalCount:o})),(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"search-results",value:1}))},Ka=(e,t)=>s=>n=>i=>{const a=n(i);return i.type===Et.kP&&Ya(s,i.data,e,t),a};var za=s(70659),Wa=s(58811);const qa=e=>{var t;return null===(t=e.getState().session)||void 0===t||null===(t=t.me)||void 0===t||null===(t=t.profile)||void 0===t?void 0:t.id},Qa="recentSearchesV2",$a=()=>{const e=indexedDB.open("userDataV2",1);return e.onupgradeneeded=e=>{var t;const s=null===(t=e.target)||void 0===t?void 0:t.result;s.objectStoreNames.contains(Qa)||s.createObjectStore(Qa,{autoIncrement:!0})},e},Za=()=>{const e=(0,za.x)(Wa.I4);return String(null==e?void 0:e.correlationId)||"anon"},Xa=e=>{let{mode:t,onsuccess:s}=e;$a().onsuccess=e=>{e.target.result.transaction(Qa,t).objectStore(Qa).openCursor(null,"prev").onsuccess=s}},Ja=e=>t=>s=>{switch(s.type){case Et.vL:(e=>{const t=qa(e)||Za(),s=[];Xa({mode:"readonly",onsuccess:n=>{var i;const a=null===(i=n.target)||void 0===i?void 0:i.result;if(a&&s.length<10){const e=s.find((e=>e.uri===a.value.uri));a.value.userId!==t||e||s.push(a.value),a.continue()}else e.dispatch((0,Et.Xe)(s))}})})(e);break;case Et.Qm:(e=>{Xa({mode:"readwrite",onsuccess:t=>{var s;const n=null===(s=t.target)||void 0===s?void 0:s.result;n?(n.delete(),n.continue()):e.dispatch((0,Et.hA)())}})})(e);break;case Et.WZ:((e,t)=>{const s=qa(e)||Za();Xa({mode:"readwrite",onsuccess:n=>{var i;const a=null===(i=n.target)||void 0===i?void 0:i.result;a&&(a.value.userId===s&&a.value.uri===t?a.delete().onsuccess=()=>e.dispatch((0,Et.hA)()):a.continue())}})})(e,s.uri);break;case Et.Ur:((e,t)=>{const s={...t,userId:qa(e)||Za()};$a().onsuccess=t=>{var n;null==t||null===(n=t.target)||void 0===n||null===(n=n.result)||void 0===n||n.transaction(Qa,"readwrite").objectStore(Qa).add(s),e.dispatch((0,Et.mD)(s))}})(e,s.data)}return t(s)};var eo=s(78219);const to=()=>(0,F.v8)("sp_key"),so=e=>{const t=(0,vn.V)(),s=(()=>{const e=to();return setInterval((()=>{e!==to()&&window.location.reload()}),5e3)})();t.on(E.TransportEvent.LOGGED_OUT,(()=>{clearInterval(s),e()}))},no=(e,t)=>s=>n=>i=>{var a,o,r;const l=n(i),d=s.getState(),c=null===(a=d.session)||void 0===a?void 0:a.isAnonymous,u=null===(o=d.session)||void 0===o?void 0:o.locale,p=null===(r=d.session)||void 0===r?void 0:r.country;if(c&&i.type===Nn&&p&&u)return s.dispatch((0,eo.lh)((e=>({country:e,catalogue:"premium",product:Xi.Yt.Premium,"on-demand":"1"}))(p))),l;switch(i.type){case Nn:so((()=>s.dispatch({type:ee.tQ})));break;case ee.tQ:(s=>{e.request("/api/logout").finally((()=>{s.dispatch((0,eo.oM)())})),t.finalFlush()})(s)}return l};var io=s(5104);const ao=e=>t=>s=>n=>{var i;const a=t.getState();switch(n.type){case kn:t.dispatch((0,io.P)(e.get("mwp.no.connection"),pe.kQ.ERROR));break;case oe.Tn:case oe.gn:null!=n&&null!==(i=n.err)&&void 0!==i&&i.unrecoverable&&t.dispatch((0,io.P)(`${e.get("error.generic")} ${e.get("mwp.playback.error.refresh")}`,pe.kQ.ERROR));break;case oe.qw:var o;(0,Xn.u)(a)((null===(o=a.playback.current)||void 0===o?void 0:o.context.uri)??"")||((e=>{var t;return Boolean(null==e||null===(t=e.playback)||void 0===t||null===(t=t.current)||void 0===t||null===(t=t.disallows)||void 0===t?void 0:t.skipping_next)})(a)?t.dispatch((0,io.P)(e.get("mwp.skips.none"),pe.Ck.default,!0)):(e=>{var t;return!(null!=e&&null!==(t=e.playback)&&void 0!==t&&t.hasSkippedThisSession)})(a)&&t.dispatch((0,io.P)(e.get("mwp.skips.first.skip"),pe.Ck.default,!0)));break;case Pn:t.dispatch((0,io.h)());break;case Ln:t.dispatch((0,io.P)(e.get("mwp.no.connection"),pe.kQ.ERROR));break;case de.Ju:{const{isLiked:s,uri:i}=n,a=(0,Ze.U_m)(i),o=(0,Ze.b2G)(i);s?a?t.dispatch((0,io.P)(e.get("feedback.added-to-your-liked-songs"),pe.Ck.default,!0,{type:pe._h.likedSong,text:e.get("action-trigger.button.view")})):o?t.dispatch((0,io.P)(e.get("mobile-web-player.views.prerelease.presaved.tooltip"),pe.Ck.default,!0)):t.dispatch((0,io.P)(e.get("feedback.saved-to-your-library"),pe.Ck.default,!0)):a?t.dispatch((0,io.P)(e.get("feedback.removed-from-your-liked-songs"),pe.Ck.default,!0,{type:pe._h.unlikedSong,text:e.get("action-trigger.button.undo"),payload:i})):t.dispatch((0,io.P)(e.get("feedback.removed-from-your-library"),pe.Ck.default,!0));break}case de.uX:t.dispatch((0,io.P)(n.message,pe.Ck.error,!0))}return s(n)};var oo=s(9214);const ro=async e=>{let{trackUri:t,api:s,imageForLyricsRequest:n,isPlayable:i}=e;if(!i)return{hasLyrics:!1};const a=(0,Ze.o_h)(t);try{const e=await(async(e,t,s)=>(await e.build().withHost(j.Hj).withPath(`/track/${encodeURIComponent(t)}/image/${encodeURIComponent(s)}`).withHeaders([{key:"App-Platform",value:"WebPlayer"}]).withQueryParameters({format:"json",vocalRemoval:!1}).withEndpointIdentifier("/track/{trackId}").send()).body)(s||oo.n.getInstance(),a.id,n||"");return{hasLyrics:!0,syncType:e.lyrics.syncType,lyrics:e.lyrics.lines,provider:e.lyrics.provider,providerDisplayName:e.lyrics.providerDisplayName,providerLyricsId:e.lyrics.providerLyricsId,isRtlLanguage:e.lyrics.isRtlLanguage}}catch(o){if(o instanceof O.O&&404===o.status)return{hasLyrics:!1};throw o}};const lo=e=>t=>s=>{if(s.type===Rt)ro({trackUri:s.uri,imageForLyricsRequest:s.imageForLyricsRequest,isPlayable:s.isPlayable}).then((t=>{e.dispatch(function(e,t){return{response:e,uri:t,type:Tt}}(t,s.uri))})).catch((()=>{e.dispatch({type:At})}));return t(s)},co=new Ni.l("internalLinkRecommenderTrackMobile","query","b425da4de8aa6cb172a485064068e82b2c1fcd503802a7e76e21c1442e503833",null);function uo(){return{type:ts}}function po(){return{type:is}}function mo(){return{type:rs}}function ho(){return{type:cs}}function _o(){return{type:ms}}function yo(){return{type:ys}}function bo(){return{type:fs}}const go=new Ni.l("internalLinkRecommenderShowMobile","query","9391d442d516f0bd391ef8d6ab5584a53b03d1e4ed9e5a61da3c3b98a0fbfc82",null),fo=new Ni.l("internalLinkRecommenderEpisodeMobile","query","7f92b110558eea3cd531753723d9e4a121f0acaf959374a6d9a9e91279789685",null),vo=new Ni.l("similarAlbumsBasedOnThisTrackMobile","query","c2ac3377ab72b3f2913dda7e8a1dbebab4eda6b0a338fa49ebf1ae099ac0653c",null);const Eo=new Ni.l("getMoreAlbumsByArtist","query","6708ebe62ff23ddb08f3d8aafd8020b876d0e0fb4248068481b20484085e394a",null);s(73213);const wo=async e=>{let{graphQLLoader:t,store:s,uri:n}=e;try{var i;const e=await t(Eo,{uri:n}),r=(a=null==e||null===(i=e.data)||void 0===i?void 0:i.albumUnion)&&"moreAlbumsByArtist"in a&&"NotFound"!==(null==(o=a)?void 0:o.__typename)&&"GenericError"!==(null==o?void 0:o.__typename)?(null==a?void 0:a.moreAlbumsByArtist.items.flatMap((e=>e.discography.popularReleasesAlbums.items.filter((e=>"Album"===e.__typename)))))??null:null;r?s.dispatch(function(e,t){return{type:ps,uri:e,response:t}}(n,r)):s.dispatch(_o())}catch(r){s.dispatch(_o())}var a,o};const So=new Ni.l("similarAudiobooksMobile","query","50cf0bc7424513fb9c7bf05316a919d3bff1125ed5060af6ef5e67916b121a1a",null),Ro=new Ni.l("seoRecommendedTrackPlaylistMobile","query","052401e7c740d65eb0c567da459a88ba08c9a35ebd405b5bd74f84554d2438d9",null),To=e=>"Playlist"===e.__typename;const Ao=e=>t=>s=>n=>{const i=s(n);switch(n.type){case us:wo({graphQLLoader:e,store:t,uri:n.uri});break;case Jt:(async function(e,t){return await e(co,{uri:t})})(e,n.uri).then((e=>{var s;const i=(e=>(null==e?void 0:e.items.map((e=>e.data)).filter((e=>"Track"===e.__typename)))??null)(null==e||null===(s=e.data)||void 0===s?void 0:s.seoRecommendedTrack);i?t.dispatch(function(e,t){return{type:es,response:t,uri:e}}(n.uri,i)):t.dispatch(uo())})).catch((()=>{t.dispatch(uo())}));break;case ss:(async function(e,t){return await e(go,{uri:t})})(e,n.uri).then((e=>{var s;const i=(e=>(null==e?void 0:e.items.map((e=>e.data)).filter((e=>"Podcast"===e.__typename)))??null)(null==e||null===(s=e.data)||void 0===s?void 0:s.seoRecommendedPodcast);i?t.dispatch(function(e,t){return{type:ns,response:t,uri:e}}(n.uri,i)):t.dispatch(po())})).catch((()=>{t.dispatch(po())}));break;case as:(async function(e,t){return await e(fo,{uri:t})})(e,n.uri).then((e=>{var s;const i=(e=>(null==e?void 0:e.items.map((e=>e.data)).filter((e=>"Episode"===e.__typename)))??null)(null==e||null===(s=e.data)||void 0===s?void 0:s.seoRecommendedEpisode);i?t.dispatch(function(e,t){return{type:os,response:t,uri:e}}(n.uri,i)):t.dispatch(mo())})).catch((()=>{t.dispatch(mo())}));break;case ls:(async function(e,t){return await e(vo,{uri:t,limit:6})})(e,n.uri).then((e=>{var s;const i=function(e){return(e||[]).map((e=>e.data)).filter((e=>(e=>{return"NotFound"!==(null==(t=e)?void 0:t.__typename)&&"GenericError"!==(null==t?void 0:t.__typename)&&"Album"===e.__typename;var t})(e)))}(null==e||null===(s=e.data)||void 0===s?void 0:s.seoRecommendedTrackAlbum.items);i?t.dispatch(function(e,t){return{type:ds,response:t,uri:e}}(n.uri,i)):t.dispatch(ho())})).catch((()=>{t.dispatch(ho())}));break;case hs:(async function(e,t){return await e(So,{uri:t})})(e,n.uri).then((e=>{var s;const i=((null==e||null===(s=e.data)||void 0===s?void 0:s.seoRecommendedAudiobook.items)||[]).map((e=>e.data)).filter((e=>(e=>{return"NotFound"!==(null==(t=e)?void 0:t.__typename)&&"GenericError"!==(null==t?void 0:t.__typename)&&"Audiobook"===e.__typename;var t})(e)));i?t.dispatch(function(e,t){return{type:_s,response:t,uri:e}}(n.uri,i)):t.dispatch(yo())})).catch((()=>{t.dispatch(yo())}));break;case bs:(async function(e,t){return await e(Ro,{uri:t,limit:6})})(e,n.uri).then((e=>{var s;const i=(null==(a=null==e||null===(s=e.data)||void 0===s?void 0:s.seoRecommendedTrackPlaylist.items)?void 0:a.map((e=>{let{data:t}=e;return t})).filter(To))||null;var a;i?t.dispatch(function(e,t){return{type:gs,response:t,uri:e}}(n.uri,i)):t.dispatch(bo())})).catch((()=>{t.dispatch(bo())}))}return i};function xo(e){return{type:X,referrer:e}}const Co=e=>t=>s=>{if(s.type===Z){const{location:{pathname:t,key:n}}=s;"/"===t?e.dispatch(xo(J.HOME)):"/search"===t?e.dispatch(xo(J.SEARCH)):"default"===n&&e.dispatch(xo(J.DEEPLINK))}return t(s)},Io="mwp-ondemand-playlists",ko=async e=>{try{const s=(await(0,vn.V)().request("@webgate/ondemand-selector/v2/select-ondemand-set?format=json")).body;null!==(t=s)&&"object"==typeof t&&Array.isArray(t.uris)?e.dispatch((0,bt.ed)(s.uris)):e.dispatch((0,bt.ed)([]))}catch(s){e.dispatch((0,bt.p1)(s instanceof Error?s:new Error("Unknown error object")))}var t},No=()=>e=>t=>s=>{const n=t(s);switch(s.type){case bt.es:{var i;const t=e.getState(),{session:s}=t;(0,en.xZ)(s)||null!=t&&null!==(i=t.onDemandPlaylists)&&void 0!==i&&i.fetched||ko(e);break}case bt.Pt:e.dispatch((0,Zn.ys)({type:Io,...s.error},{test:Io}))}return n},Po=()=>"undefined"==typeof window||void 0===window.gtag||void 0===window.google_tag_manager,Lo=()=>e=>t=>{switch(t.type){case Kn.OP:if(!t.skipGoogleAnalytics){const{action_type:e,action_intent:s,item_id:n}=t.logData;((e,t,s)=>{Po()||window.gtag("event",t,{event_category:e,event_label:s})})(e,s,n)}break;case Kn.U5:s=t.data.to,Po()||window.gtag("pageview",{pathname:s})}var s;return e(t)};var jo=s(1616),Oo=s(37521),Do=s(67646),Mo=s(51551);const Uo=e=>t=>s=>{const{session:{isAnonymous:n}}=t.getState();return t=>{switch(t.type){case Kn.OP:{const s=f.getParser(window.navigator.userAgent),i={browser_name:`${s.getBrowserName()} ${s.getBrowserVersion()}`,browser_os:`${s.getOSName()} ${s.getOSVersion()}`,browser_platform:s.getPlatformType()},a=n?(0,Do.o)({...t.logData,...i}):(0,Mo.x)({...t.logData,...i});e.send(a);break}case Kn.U5:"NO_PREVIOUS_PAGE"!==t.data.from&&e.send(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{viewUri:s,mappedPageId:n}=zn(e),i=f.getParser(window.navigator.userAgent),a={browser_name:`${i.getBrowserName()} ${i.getBrowserVersion()}`,browser_os:`${i.getOSName()} ${i.getOSVersion()}`,browser_platform:i.getPlatformType()},o={page:n,type:"exit",view_uri:s,page_id_for_metrics:qn(e),...a};return t?(0,jo.s)(o):(0,Oo.x)(o)}(t.data.from,n)),e.send(function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{viewUri:n,mappedPageId:i}=zn(e),a=f.getParser(window.navigator.userAgent),o={browser_name:`${a.getBrowserName()} ${a.getBrowserVersion()}`,browser_os:`${a.getOSName()} ${a.getOSVersion()}`,browser_platform:a.getPlatformType()},r={page:i,type:"enter",referrer:t,view_uri:n,page_id_for_metrics:qn(e),...o};return s?(0,jo.s)(r):(0,Oo.x)(r)}(t.data.to,t.data.referrer,n))}return s(t)}};const Bo=e=>t=>s=>{const n=e.getState(),i={location:{pathname:"/",hash:null}};switch(s.type){case Z:{var a;const{location:{pathname:t}}=s,{location:{pathname:o}}=n.session.history||i,r=!t.includes("/search/results"),l=null===(a=s.location)||void 0===a||null===(a=a.search)||void 0===a?void 0:a.includes("referral=labelaffiliate"),d=n.session.history?o:"NO_PREVIOUS_PAGE";l?e.dispatch((0,Zn.D_)({from:d,to:t,referrer:"labelaffiliate"})):r&&e.dispatch((0,Zn.D_)({from:d,to:t,referrer:document.referrer}));break}}return t(s)};var Go=s(58316),Fo=s(2056);const Vo="mqhzZzqWlQeiuaLBwa_a",Ho="wJmAhytA2uz4mdLJIrjY",Yo="BYGpWy8lXjIaYtEy4e5J",Ko="QEAyrCamd1dT2GDabxxa",zo="kmcdRXAcpBED2LkhCBNO",Wo="j0Nb633e3DOTXSKN3RIV",qo="TvhlS9jw1akVSJKb71l2",Qo="Ja2O7U44T_rhvBK8MJF9";var $o=s(23137);const Zo="h2xvvwYHCtpyAEe92KFh",Xo="top-start",Jo=e=>{let{visible:t,overlay:s,placement:n,children:i,childRef:a,maxWidth:o=336,hideArrow:r=!1,className:l="",popperOptions:d={},onHide:c,zIndex:u}=e;return t?(0,Y.jsx)(H.Suspense,{fallback:i??null,children:(0,Y.jsx)($o.Ay,{animation:"shift-toward-subtle",maxWidth:o,visible:t,theme:"activation",placement:n||"auto",interactive:!0,arrow:!r,content:s,className:l,onClickOutside:c,popperOptions:d,zIndex:u,offset:[0,14],reference:a,children:(0,Y.jsx)("div",{className:Zo,children:i})})}):(0,Y.jsx)(Y.Fragment,{children:i})};var er=s(46833),tr=s(84567),sr=s(64482),nr=s(39237),ir=s(46938),ar=s(9807),or=s(97500),rr=s.n(or),lr=s(51926);const dr=H.forwardRef((function(e,t){let{onClick:s,ariaLabel:n,standalone:i=!1,tabIndex:a=0,className:o="",icon:r,size:l="medium",semanticColor:d,condensed:c,condensedAll:u,disableTooltip:p=!1,testId:m,disabled:h=!1}=e;const _=r;return(0,Y.jsx)(lr.Z,{label:n,disabled:p,children:(0,Y.jsx)(nr.H,{"data-testid":m,className:o,onClick:s,"aria-label":n,"aria-hidden":i,tabIndex:a,ref:t,iconOnly:_,size:l,semanticColor:d,condensed:c,condensedAll:u,disabled:h})})})),cr=e=>{let{title:t,description:s,id:n,visible:i,primaryButtonText:a,secondaryButtonText:o,onHide:r,onPrimaryButtonClick:l,onSecondaryButtonClick:d=r,onCloseClick:c=r,showButtons:u=!0,showCloseButton:p=!1,children:m,placement:h="auto",hideArrow:_,className:y,popperOptions:b,zIndex:g,maxWidth:f,tippyClassName:v,hideOnClickOutside:E=!0,useSecondaryStyling:w=!1,childRef:S}=e;const R=(0,ar.s9)(),T=w?"brightAccent":void 0;return(0,Y.jsx)(Jo,{visible:i,placement:h,hideArrow:_,popperOptions:b,className:v,zIndex:g,maxWidth:f,onHide:E?r:()=>{},childRef:S,overlay:(0,Y.jsxs)("div",{className:rr()(Vo,y),"data-testid":`${n}-hook`,children:[(0,Y.jsx)(er.G,{condensed:!0,useBrandColor:!0,height:36}),(0,Y.jsxs)("div",{className:Ho,children:[(0,Y.jsx)(tr.E,{className:Yo,variant:"bodyMediumBold",children:t}),p&&(0,Y.jsx)(dr,{className:Qo,onClick:c,ariaLabel:R.get("close"),icon:sr.M,size:"small"})]}),(0,Y.jsx)(tr.E,{className:Ko,variant:"bodySmall",children:s}),u&&(0,Y.jsxs)("div",{className:zo,children:[(0,Y.jsx)(nr.H,{semanticColor:"textBase",className:Wo,onClick:d,children:o?o():R.get("action-trigger.button.not-now")}),a&&(0,Y.jsx)(ir.$,{colorSet:T,className:qo,onClick:l,children:a()})]})]}),children:m})};const ur=function(e){let t=e,s=[];return{addListener:e=>{s.push(e)},removeListener:e=>{s=s.filter((t=>t!==e))},get:()=>t,set:e=>{t=e(t),s.forEach((e=>{e(t)}))}}}({triggerId:null,triggerAction:null}),pr=e=>{let{id:t,children:s,childRef:n,options:{placement:i,isCTA:a,intentPrimaryButton:o="login",intentSecondaryButton:r="close-upsell",getDescription:l,getTitle:d,hideArrow:c,shouldHideOnOutsideClick:u=()=>!0,popperOptions:p,zIndex:m,maxWidth:h,tippyClassName:_,primaryButtonText:y,primaryButtonTargetUri:b,secondaryButtonText:g,useSecondaryStyling:f,onLogInteraction:v},onPrimaryButtonClick:E=()=>{},onSecondaryButtonClick:w,showCloseButton:S=!1,className:R,onHide:T,onShow:A}=e;const x=a?"tooltip-with-cta":"tooltip-without-cta",[{triggerId:C,triggerAction:I},k]=function(e){const t=(0,H.useState)()[1];return(0,H.useEffect)((()=>(e.addListener(t),()=>{e.removeListener(t)})),[e,t]),[e.get(),e.set]}(ur),N=Boolean(C&&C===t),P=(0,H.useCallback)((e=>{e.stopPropagation(),v({itemIdSuffix:x,intent:o,type:"click",targetUri:b}),k((e=>({...e,triggerAction:null,triggerId:null}))),E()}),[E,v,b,k,x,o]),L=(0,H.useCallback)((e=>t=>{t.stopPropagation&&t.stopPropagation(),v({intent:"close-upsell",type:"click",itemIdSuffix:`${x}/${e}`}),k((e=>({...e,triggerAction:null,triggerId:null})))}),[v,k,x]),j=(0,H.useCallback)((e=>{e.stopPropagation(),v({itemIdSuffix:x,intent:r,type:"click"}),k((e=>({...e,triggerAction:null,triggerId:null}))),w?w():L("close-button")}),[w,v,k,x,L,r]);(0,H.useEffect)((()=>{T&&A&&(N?A():T())}),[T,A,N]);const O=(0,H.useRef)(!1);if((0,H.useEffect)((()=>{!O.current&&N&&(v({intent:"open-upsell",type:"view",itemIdSuffix:x}),O.current=!0),O.current&&!N&&(O.current=!1)}),[v,x,N]),!N)return(0,Y.jsx)(Y.Fragment,{children:s});const D=d({triggerAction:I}),M=l({triggerAction:I}),U=u({triggerAction:I});return(0,Y.jsx)(cr,{placement:i,className:R,tippyClassName:_,popperOptions:p,zIndex:m,maxWidth:h,title:D,description:M,hideArrow:c,id:t,visible:N,showButtons:a,hideOnClickOutside:U,onHide:L("backdrop"),onSecondaryButtonClick:j,onPrimaryButtonClick:P,primaryButtonText:y,secondaryButtonText:g,useSecondaryStyling:f,showCloseButton:S,childRef:n,children:s})};s(73385),s(82324),s(54303);const mr="ANONYMOUS_PLAYBACK_HOOK",hr=(e,t)=>{var s;const n=null==t||null===(s=t.item)||void 0===s?void 0:s.type;e.dispatch((e=>({type:mr,entityType:e}))(n))},_r=e=>(t,s,n)=>{var i;const a=e.getState(),o=((e,t,s,n)=>{const i=(fi(s)??0)-(e=>{const t=new URLSearchParams(window.location.search),s=1e3*Number(t.get("t"));return s>=0&&s<=e?s:0})((null==s?void 0:s.duration)??0)>1e4,a=document.hasFocus();return!e&&i&&a&&n&&"now-playing-view"!==t})(t,null==a||null===(i=a.ui)||void 0===i?void 0:i.modal,s,n);return o},yr=()=>{window.open((0,Fo.KY)().toString(),"_self","noopener")};var br=s(7769),gr=s(73923),fr=s(85387);const vr=()=>{var e;const t=(0,i.d4)((e=>e.session.isAnonymous)),s=(0,i.d4)((e=>e.playback)),{showId:n=""}=(0,fr.g)(),a=(0,gr.Mc)(n).toURI(),o=(0,i.d4)((e=>e.entities.items[a]));if(o&&Le(o))return!1;if(!t)return!1;if(null===(e=s.current)||void 0===e||!e.context.uri)return!1;const r=(0,Ze.o_h)(s.current.context.uri);return!(null==r||!r.type||!["episode","show"].includes(null==r?void 0:r.type))};function Er(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const s=new URL("undefined"!=typeof location&&location.href?location.href:"https://open.spotify.com");let n=null;if(e){const i=e.toURL();n=new URL(i),t&&s.searchParams.forEach(((e,t)=>{n.searchParams.set(t,e)}))}else n=s,t||(n.search="");n.searchParams.delete("nd"),n.searchParams.delete("fallback"),n.searchParams.set("go","1");const i=(0,za.x)(Wa.I4);return"string"==typeof(null==i?void 0:i.correlationId)&&n.searchParams.append("sp_cid",i.correlationId),n}function wr(e,t){const s=Er(e,t);return s.searchParams.set("fallback","getapp"),s}var Sr=s(75660);const Rr="nowPlayingBar-episodeGetApp";const Tr=e=>{let{children:t,childRef:s}=e;const n=(0,ar.s9)(),i=(0,br.W)();if(!vr())return t??(0,Y.jsx)(Y.Fragment,{});const a=yr,o=function(e,t){return{isCTA:!0,placement:Xo,hideArrow:!0,zIndex:3,maxWidth:"inherit",primaryButtonText:()=>t.get("mwp.nav.get.app"),intentPrimaryButton:"download-app",primaryButtonTargetUri:wr().toString(),tippyClassName:"tippy-spotify-clips",useSecondaryStyling:!0,shouldHideOnOutsideClick:e=>{let{triggerAction:t}=e;return!(t&&t.type===mr)},getTitle:()=>t.get("action-trigger.download-episodes"),getDescription:()=>t.get("action-trigger.download-episodes-log-in"),onLogInteraction:e}}(i,n),r=Rr;return(0,Y.jsx)(pr,{id:r,options:o,onPrimaryButtonClick:a,childRef:s,children:t??(0,Y.jsx)(Y.Fragment,{})})},Ar=e=>(0,Y.jsx)(Sr.p,{value:"episode-preview-get-app-trigger",children:(0,Y.jsx)(Tr,{...e})}),xr="nowPlayingBar-musicPreview",Cr=e=>{e(an(Re.SIGNUP))},Ir=(e,t,s)=>{s?Cr(t):window.open((0,Fo.KY)().toString(),"_blank","noopener")},kr=e=>t=>s=>n=>{var i;const a=t.getState(),{session:{features:o}}=a,r=!(null==o||!o.isMWPAndPlaybackCapable)||!1,l=a.session.referrer;switch(n.type){case Go.M:{var d;const{playback:{current:e}}=a;if(null!=e&&null!==(d=e.track_window)&&void 0!==d&&d.current_track&&(null==e||!e.paused)){const s=Bn.getPosition(),{uri:n}=e.track_window.current_track,i=(0,gn.xN)(n,null,{shuffle:!1,initialOffset:s,playOrigin:{referrerIdentifier:l}});t.dispatch(yn(i,_n.PLAYING))}break}case de.X0:return t.dispatch(yn(n,_n.USER_INVESTMENT)),void Ir(n.uri,t.dispatch,r);case mr:"episode"===n.entityType?ur.set((()=>({triggerId:Rr,triggerAction:n}))):"track"===n.entityType&&ur.set((()=>({triggerId:xr,triggerAction:n})));break;case oe.E6:if(null===(i=n.audioFileMetadata)||void 0===i||!i.anonymousPlaybackAllowed||null==o||!o.isMWPAndPlaybackCapable)return t.dispatch(yn(n,_n.PLAY)),void Ir(n.uri,t.dispatch,r);break;case oe.XU:Cr(t.dispatch);break;case Nn:((e,t,s,n)=>{let i=!1,a=Date.now(),o=document.querySelector(t);const r=e.getEvents(),l=()=>{a=Date.now()},d=()=>{o||(o=document.querySelector(t),o&&o.addEventListener("scroll",l))},c=r.addListener(hi.UPDATE,(e=>{let{data:t}=e;d();const u=Date.now()-a>1e3;n(i,t,u)&&(i=!0,s(t),r.removeListener(hi.UPDATE,c),o&&o.removeEventListener("scroll",l))}));d()})(e,"[data-main-scrollable-node]",(e=>t=>{hr(e,t)})(t),_r(t))}s(n)},Nr=e=>!(e.type===_n.PLAY||e.type===_n.PLAYING),Pr=e=>!(e.type===_n.PLAY||e.type===_n.USER_INVESTMENT),Lr=e=>t=>s=>n=>{const i=s(n);switch(n.type){case mn:{const{storeAction:t,actionIntent:s}=n;e.storeAction((e=>((e,t)=>{const{type:s}=t;switch(s){case _n.PLAY:return[t];case _n.PLAYING:return[...e.filter(Nr),t];case _n.USER_INVESTMENT:return[...e.filter(Pr),t];default:return[t]}})(e,{storeAction:t,type:s})));break}case hn:{const s=e.pullAction()||null;t.dispatch({type:"PLAY_AT_FIRST_TAP_HAD_DEFERRED_ACTIONS",had:!!s&&s.length>0}),s&&s.forEach((e=>{let{storeAction:s}=e;t.dispatch(s)}));break}}return i};s(87953);const jr=(e,t)=>{let s=[];return{storeAction:n=>{s=n(s),e.setItem(t,JSON.stringify(s))},pullAction:()=>{const n=e.getItem(t);if(e.removeItem(t),s=[],n)try{return JSON.parse(n)}catch(Bl){return null}return null}}};var Or=s(72330);function Dr(e,t,s){const n=(0,Or.c)(e,t);return(0,Zn.dN)(n(s))}const Mr=e=>t=>s=>{switch(s.type){case oe.E6:{var n;const t=s,i=void 0!==(null===(n=t.options)||void 0===n?void 0:n.index)?Kn.SR.LABEL.TRACK_ROW:Kn.SR.LABEL.BUTTON,a=t.label?t.label:i;e.dispatch(Dr(location.pathname,a,{type:Kn.SR.CATEGORY.CLICK,intent:Kn.SR.ACTIONS.PLAY})),(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"playback-click",value:1})}break;case oe.CU:{var i;const t=e.getState(),n=s,{paused:a}=(null===(i=t.playback)||void 0===i?void 0:i.current)||{},o=n.label?n.label:Kn.SR.LABEL.BUTTON;e.dispatch(Dr(location.pathname,o,{type:Kn.SR.CATEGORY.CLICK,intent:a?Kn.SR.ACTIONS.PLAY:Kn.SR.ACTIONS.PAUSE})),(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"playback-click",value:1});break}}return t(s)};var Ur=s(76358),Br=s(76541);const Gr="sp_s2l";var Fr=function(e){return e.LOGGING_CATEGORY="s2l",e.LOGGING_CATEGORY_MWP="s2l-mwp",e}(Fr||{});const Vr=(e,t)=>{let{os:s="",country:n=""}=t;const i={category:"in_app_message",action:"display",label:"download",destination_url:"open.spotify.com",os:s,country:n,context:window.location.search};return e?(0,Br.r)(i):(0,Ur._)(i)};function Hr(e){let{locationSearch:t,navigate:s,logDialog:n,showDialog:i}=e;(function(e){if(!e)return!1;const t=new URLSearchParams(e);return Boolean(t.get(Fr.LOGGING_CATEGORY))})(t)&&(n(),function(e,t){if(!e)return;const s=new URLSearchParams(e);s.delete(Fr.LOGGING_CATEGORY),t({search:s.toString()},{replace:!0})}(t,s),i())}function Yr(){const e=(0,F.v8)(Gr);return e?JSON.parse(decodeURIComponent(e)):null}function Kr(){return v().getParser(window.navigator.userAgent).getOSName()||"not_applicable"}let zr=!1;const Wr=e=>t=>s=>n=>{var i,a;const o=t.getState(),r=Yr(),l=null!==r,d=(null===(i=o.playback)||void 0===i||null===(i=i.current)||void 0===i?void 0:i.paused)&&!1===(null===(a=n.state)||void 0===a?void 0:a.paused),c=l&&!1===(null==r?void 0:r.seen)&&d;if(n.type===oe.b7)!zr&&c&&(zr=!0,function(e){const t=encodeURIComponent(JSON.stringify({seen:e})),s=Yr();null!==s&&s.seen===e||(0,F.n0)({name:Gr,days:30,domain:".spotify.com",value:t})}(!0),t.dispatch(rn()),e.send(Vr(o.session.isAnonymous,{country:o.session.country,os:Kr()})));s(n)},qr=new Ni.l("browse","query","f61563d8ce3174bc4d024ac92b1f7e77e71fcd7fb18994d2ab4fe96c1617a9f2",null),Qr=new Ni.l("browseStart","query","8fa8f548ec6ee5361b05339b469e84063ab1ed8577f125af7eea03635dc638a2",null);var $r=s(10229),Zr=s(68104);const Xr=e=>t=>s=>n=>(n.type===$e.pV?e(Qr,{pagePagination:{limit:2,offset:0},sectionPagination:{limit:1,offset:0}}).then((e=>{var s;const n=null==e||null===(s=e.data)||void 0===s?void 0:s.browseStart;"BrowseSectionContainer"===(null==n?void 0:n.__typename)?t.dispatch((0,$r.Fe)(n)):t.dispatch((0,$r.kL)())})).catch((()=>{t.dispatch((0,$r.kL)())})):n.type===pt.SL&&e(qr,{uri:n.uri,pagePagination:{limit:20,offset:0},sectionPagination:{limit:50,offset:0}}).then((e=>{var s;const i=null==e||null===(s=e.data)||void 0===s?void 0:s.browse;"BrowseSectionContainer"===(null==i?void 0:i.__typename)?t.dispatch((0,Zr.WX)(n.uri,i)):t.dispatch((0,Zr.Lc)(n.uri))})).catch((()=>{t.dispatch((0,Zr.Lc)(n.uri))})),s(n)),Jr=new Ni.l("queryHome","query","5c2f20bf71adc41da95d00881b6679aeb67ef66cc57d817d4cd9a7007c3fe867",null);const el=e=>t=>s=>n=>{if(n.type===Ht.vU){const s=(new Intl.DateTimeFormat).resolvedOptions().timeZone??"",n=(0,F.v8)("sp_t")??"";e(Jr,{timeZone:s,sp_t:n}).then((e=>{var s;const n=null==e||null===(s=e.data)||void 0===s?void 0:s.home;"HomeResponsePayload"===(null==n?void 0:n.__typename)?t.dispatch((0,Ht.Vf)(n)):t.dispatch((0,Ht.A8)())})).catch((()=>{t.dispatch((0,Ht.A8)())}))}return s(n)};var tl=s(57961);function sl(){return{type:Ts}}s(7354);var nl=s(91712);const il=()=>e=>t=>s=>{const n=t(s);if(s.type===Ss)(async(e,t,s,n)=>{const i=await e.build().withMethod("POST").withHost(j.sG).withPath("/extendp/").withEndpointIdentifier("/extendp/").withJsonContentType().withBody({playlistURI:t,trackSkipIDs:s||[],numResults:n||10}).withoutMarket().send();return i.body?i.body.recommendedTracks.map((e=>{var t;const{id:s,album:{id:n},artists:i}=e,a=(0,Ze.Mce)(s).toURI(),o=(0,Ze.Q00)(n).toURI(),r=i.map((e=>{let{id:t,name:s}=e;return{id:t,name:s,uri:(0,Ze.ITr)(t).toURI()}}));return{...e,uri:a,album:{...e.album,uri:o},artists:r,isMOGEFRestricted:!(null===(t=e.contentRating)||void 0===t||!t.find((e=>"KR"===e.country&&e.tag.includes("MOGEF-19+"))))}})):[]})(new nl.t,s.uri).then((t=>{var n;t||e.dispatch(sl()),e.dispatch((n=s.uri,{type:Rs,response:t,uri:n}))})).catch((()=>{e.dispatch(sl())}));return n},al=new Ni.l("concertLocationDetails","query","1d6f14538e552800cb52055da7c99831228478228066e34e257cbe16451c7486",null);var ol=s(11162);const rl=async(e,t,s,n)=>{try{var i;const r=await t(al,{isAnonymous:s,geonameId:n??null,clientIp:null});if((0,ol.Bb)(null==r||null===(i=r.data)||void 0===i?void 0:i.concertLocations)){var a,o;const t=(e=>{let{suggestedLocations:t,userLocation:s,geonameId:n,isAnonymous:i}=e;const a=t&&t.items.length>0?t.items[0]??null:null;return(i||n)&&a?a:s?{...s,name:(null==s?void 0:s.name)??"",geonameId:(null==s?void 0:s.geonameId)??"",geoHash:(null==s?void 0:s.geoHash)??"",fullName:null}:null})({suggestedLocations:null==r||null===(a=r.data)||void 0===a?void 0:a.concertLocations,userLocation:null==r||null===(o=r.data)||void 0===o||null===(o=o.me)||void 0===o||null===(o=o.profile)||void 0===o?void 0:o.location,geonameId:n,isAnonymous:s});t?e.dispatch({type:Vs,data:t}):e.dispatch(Ks())}}catch(r){e.dispatch(Ks())}},ll=new Ni.l("queryHomeSection","query","aa46a47bd094b8abb08bb30fc26b66adba6417463be7345bdb05c9c69faabd5b",null);var dl=s(90794);var cl=s(94184),ul=s(73523);const pl=e=>t=>s=>n=>{if(n.type===Ps.bx){const s=(new Intl.DateTimeFormat).resolvedOptions().timeZone??"",i=(0,F.v8)("sp_t")??"",a=(e=>{switch(e){case W.Or.Enable50:return 50;case W.Or.Enable100:return 100;case W.Or.Enable20:return 20;default:return}})((()=>{const e=(0,fr.zy)(),t=(0,d.NC)(W.hi);return(0,cl.o)(ul.P.SectionPageTileCountA,e)?W.Or.Enable20:(0,cl.o)(ul.P.SectionPageTileCountB,e)?W.Or.Enable50:(0,cl.o)(ul.P.SectionPageTileCountC,e)?W.Or.Enable100:t})());e(ll,{uri:n.uri,timeZone:s,sp_t:i,sectionItemsLimit:a}).then((e=>{var s;const i=(e=>{const t=(e=>"HomeSectionCollection"===(null==e?void 0:e.__typename)?e:null)(e);return t?t.sections.filter((e=>"HomeSection"===e.__typename))[0]??null:null})(null==e||null===(s=e.data)||void 0===s?void 0:s.homeSections);i?t.dispatch((0,dl.$v)(n.uri,i)):t.dispatch((0,dl.Ap)(n.uri))})).catch((()=>{t.dispatch((0,dl.Ap)(n.uri))}))}return s(n)},ml=async e=>{let{api:t,uri:s,isPlayable:n,clientId:i=""}=e;if(!n||!s||!i)return{hasLyrics:!1};try{const e=await(async(e,t,s)=>(await e.build().withHost(j.Hj).withPath(`/seo/track/${t}`).withEndpointIdentifier("/track/{trackId}").withHeaders([{key:"x-spotify-seolyrics-clientid",value:s}]).send()).body)(t||oo.n.getInstance(),s.id,i);return{hasLyrics:!0,lyrics:e.lyrics.lines,provider:e.lyrics.provider,providerDisplayName:e.lyrics.providerDisplayName,providerLyricsId:e.lyrics.providerLyricsId,isRtlLanguage:e.lyrics.isRtlLanguage}}catch(a){if(a instanceof O.O&&404===a.status)return{hasLyrics:!1};throw a}};function hl(e){return{type:jt,value:e}}const _l=e=>t=>s=>{if(s.type===Nt)ml({uri:(0,Ze.o_h)(s.uri)??void 0,isPlayable:s.isPlayable,clientId:"f6a40776580943a7bc5173125a1e8832"}).then((t=>{e.dispatch(function(e,t){return{response:e,uri:t,type:Pt}}(t,s.uri))})).catch((()=>{e.dispatch({type:Lt})}));return t(s)};const yl=()=>e=>t=>async s=>{const n=t(s);if(s.type===Ws)try{var i;const t=await(a=g.n.getInstance(),o=`/${null===(i=(0,Ze.o_h)(s.uri))||void 0===i?void 0:i.toURLPath()}`,a.build().withHost(j.Go).withHostIdentifier("https://open.spotify.com").withPath("/seo").withQueryParameters({entityURL:o}).withoutMarket().withoutAuthorization().withEndpointIdentifier("/seo").send());e.dispatch(function(e){return{type:qs,seoExperiment:e}}(null==t?void 0:t.body))}catch(r){e.dispatch({type:Qs})}var a,o;return n},bl=new Ni.l("countryHubsPage","query","39093e27acf683e5906d0e8f49dc55ba3c037806381951e6afc95b9aa35f9312",null);function gl(){return{type:Us}}const fl=e=>t=>s=>n=>{if(n.type===Ds)(async function(e,t){return await e(bl,{countryCode:t})})(e,n.countryCode).then((e=>{var s;const n=(e=>{var t;if(e&&"NotFound"!==(null==(t=e)?void 0:t.__typename)&&"GenericError"!==(null==t?void 0:t.__typename))return e})(null==e||null===(s=e.data)||void 0===s?void 0:s.countryHub);var i;(e=>!!e&&"country"in e)(n)?t.dispatch({type:Ms,data:n,countryCode:i}):t.dispatch(gl())})).catch((()=>{t.dispatch(gl())}));return s(n)};function vl(e,t,s){const n=(0,en.Eo)(null==e?void 0:e.session),i=[no(t.transport,t.eventSender),Yn,Qn,Bo,Lo,Uo(t.eventSender),Lr(jr(window.sessionStorage,"ANONYMOUS_DEFERRED_ACTION_KEY")),Mr,...n?[kr(t.player)]:[],n?(o=t.player,r=t.timekeeper,e=>t=>s=>{var n;const i=t(s);if(!o)return i;switch(s.type){case Nn:ki(e.dispatch,o,r),o.getEvents().addListener(hi.UPDATE,(e=>{const t=fi(e.data)??0;Bn.getPosition()!==t&&Bn.setPosition(t)}));break;case oe.E6:if(null!==(n=s.audioFileMetadata)&&void 0!==n&&n.anonymousPlaybackAllowed){var a,l,d,c,u;const e="track"===s.audioFileMetadata.type?Ti.c.TRACK:Ti.c.EPISODE,t=r.getMeasurementBuilderByCategory("tracklist-row-click");t&&(t.endPoint("play-action-dispatch"),t.startPoint("play-in-overture")),o.play({uri:s.uri,pages:[{items:[{type:e,uri:null===(a=s.audioFileMetadata)||void 0===a?void 0:a.uri,uid:null,metadata:s.audioFileMetadata,provider:null}]}]},{featureIdentifier:null===(l=(0,Ze.o_h)(s.uri))||void 0===l?void 0:l.type,referrerIdentifier:"PlayerStub_UnknownReferrer"},{skipTo:null!==(d=s.options)&&void 0!==d&&d.trackUID?{uid:null===(c=s.options)||void 0===c?void 0:c.trackUID}:void 0,seekTo:null===(u=s.options)||void 0===u?void 0:u.initialOffset})}break;case oe.NI:o.seekTo(s.position);break;case oe.r2:o.seekForward(s.time);break;case oe.Fb:o.seekBackward(s.time);break;case oe.CU:var p;null!==(p=e.getState().playback.current)&&void 0!==p&&p.paused?o.resume({featureIdentifier:s.label??"unknown"}):o.pause({featureIdentifier:s.label??"unknown"})}return i}):ui({enablePlayback:s.enablePlayback,i18n:t.i18n,timekeeper:t.timekeeper}),ca(t.graphQLLoader),Ka(t.graphQLLoader,t.i18n),Ja,ao(t.i18n),No(),Co,Wr(t.eventSender),lo,_l,yl(),fl(t.graphQLLoader),Ao(t.graphQLLoader),Xr(t.graphQLLoader),el(t.graphQLLoader,t.history),il(),(a=t.graphQLLoader,e=>t=>s=>(s.type===Fs&&rl(e,a,s.data.isAnonymous,s.data.geonameId),t(s))),pl(t.graphQLLoader,t.history)];var a,o,r;return(0,tl.U1)({reducer:Js(),preloadedState:e,middleware:e=>e({immutableCheck:!1,serializableCheck:false,thunk:{extraArgument:{graphQLLoader:t.graphQLLoader}}}).concat(i)})}var El=s(85293);const wl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Rl=/[&<>"']/g;RegExp(Rl.source);const Tl=Object.values(wl),Al=RegExp(`${Tl.join("|")}`,"g"),xl=RegExp(`${Tl.join("|")}`);function Cl(e){return e&&"string"==typeof e&&xl.test(e)?e.replace(Al,(e=>e in Sl?Sl[e]:e)):e}const Il=["name","display_name"],kl=(e,t)=>Object.entries(e).reduce(((e,s)=>{let[n,i]=s;const a=(e=>e&&!Array.isArray(e)&&"object"==typeof e)(i)?kl(i,t):((e,s)=>Il.includes(e)&&"string"==typeof s?t(s):s)(n,i);return{...e,[n]:a}}),{});function Nl(e){const t=v().getParser(window.navigator.userAgent),s=function(e){switch(e){case"macOS":return"osx";case"Chrome OS":return"chrome";default:return e}}(t.getOSName()||"not_applicable"),n=function(e,t){if("Windows"===e)switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return""}return t}(s,t.getOSVersion());return`web_player ${s} ${n};${t.getBrowserName()} ${t.getBrowserVersion()};${e}`.toLowerCase()}let Pl=null;let Ll=function(e){return e[e.OFF=0]="OFF",e[e.ON=1]="ON",e[e.SMART_SHUFFLE=2]="SMART_SHUFFLE",e}({});(0,L.u)("ContextualShuffleAPI");let jl=function(e){return e.CONTEXT_DESCRIPTION="context_description",e.IS_AUDIOBOOK="is_audiobook",e.REPORTING_URI="reporting.uri",e.FILTERING_PREDICATE="filtering.predicate",e.SORTING_CRITERIA="sorting.criteria",e.LIST_UTIL_FILTER="list_util_filter",e.LIST_UTIL_SORT="list_util_sort",e}({}),Ol=function(e){return e[e.REPEAT_NONE=0]="REPEAT_NONE",e[e.REPEAT_CONTEXT=1]="REPEAT_CONTEXT",e[e.REPEAT_TRACK=2]="REPEAT_TRACK",e}({});const Dl=["not_playing_locally","not_playing_context","not_playing_track","no_prev_track","no_next_track","no_specific_track","already_paused","not_paused","context_player_disallow","mft_disallow","ad_disallow","protocol_limitations","unknown","already_playing","throttled","endless_context","autoplay","narration","not_supported_by_device","no_associated_track","age_assurance_required"];let Ml=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.LOW=1]="LOW",e[e.NORMAL=2]="NORMAL",e[e.HIGH=3]="HIGH",e[e.VERY_HIGH=4]="VERY_HIGH",e[e.LOSSLESS=5]="LOSSLESS",e[e.LOSSLESS_24=6]="LOSSLESS_24",e}({});const Ul=(Bl=function(e){return e.SWITCH_TO_VIDEO="switch-to-video",e.SWITCH_TO_AUDIO="switch-to-audio",e.JUMP="jump",e.AUTOMIX_PREVIEW="automix-preview",e.PLUS="plus",e.MINUS="minus",e}({}),e=>Object.values(Bl).includes(e));var Bl;function Gl(e){return Object.entries(e??{}).filter((e=>{let[t]=e;return t.startsWith("author_")})).reduce(((e,t)=>{let[s,n]=t;const[i,a=0]=s.split(":"),o=e[Number(a)]??={uri:null,name:""};return"author_name"===i?o.name=n:"author_uri"===i&&(o.uri=n),e}),[]).filter((e=>e.name))}function Fl(e,t){let{shuffle:s}=t;return(void 0!==s||!(0,Ze.WB1)(e.uri))&&s}function Vl(e,t){let{repeat:s}=t;if(void 0===s&&(0,Ze.WB1)(e.uri))return ae.RepeatMode.OFF;switch(s){case Ol.REPEAT_NONE:return ae.RepeatMode.OFF;case Ol.REPEAT_CONTEXT:return ae.RepeatMode.CONTEXT;case Ol.REPEAT_TRACK:return ae.RepeatMode.TRACK;default:return}}function Hl(e){let{featureIdentifier:t,featureVersion:s,referrerIdentifier:n,viewURI:i,externalReferrer:a}=e;return{featureIdentifier:t,featureVersion:s,referrerIdentifier:n,viewURI:i,externalReferrer:a}}function Yl(e,t,s){var n,i,a,o,r,l;return{contextURI:e.uri,trackUID:null===(n=s.skipTo)||void 0===n?void 0:n.uid,trackURI:null===(i=s.skipTo)||void 0===i?void 0:i.uri,index:null===(a=s.skipTo)||void 0===a?void 0:a.index,pageIndex:null===(o=s.skipTo)||void 0===o?void 0:o.pageIndex,initialOffset:s.seekTo,shuffle:Fl(e,s),repeatMode:Vl(e,s),filter:null===(r=e.metadata)||void 0===r?void 0:r[jl.FILTERING_PREDICATE],sort:null===(l=e.metadata)||void 0===l?void 0:l[jl.SORTING_CRITERIA],playOrigin:Hl(t),paused:s.paused,loggingParams:s.loggingParams,modes:s.modes}}const Kl=new RegExp(String.raw`^q[0-9]+$`);function zl(e,t,s){const n=!!e.uid&&Kl.test(e.uid),i=s??(n?"queue":null);return(0,Ze.U_m)(e.uri)||(0,Ze.PkR)(e.uri)?function(e,t,s){var n,i,a,o,r;return{type:Ti.c.TRACK,uri:null!==(n=t.linked_from)&&void 0!==n&&n.uri?t.linked_from.uri:t.uri,uid:t.uid??null,name:t.name??"",mediaType:t.media_type??"audio",duration:{milliseconds:t.duration_ms??0},album:{type:Ti.c.ALBUM,uri:(null===(i=t.album)||void 0===i?void 0:i.uri)??"",name:(null===(a=t.album)||void 0===a?void 0:a.name)??"",images:(null===(o=t.album)||void 0===o?void 0:o.images)??[]},artists:(null===(r=t.artists)||void 0===r?void 0:r.map((e=>{let{uri:t,name:s}=e;return{type:Ti.c.ARTIST,uri:t,name:s||""}})))??[],isLocal:(0,Ze.PkR)(t.uri),provider:e,metadata:s,get images(){return this.album.images}}}(i,e,t):(0,Ze.gHQ)(e.uri)?"chapter"===e.content_type?function(e,t,s){var n,i,a,o;return{type:Ti.c.CHAPTER,uri:t.uri,uid:t.uid??null,artists:(null===(n=t.artists)||void 0===n?void 0:n.map((e=>{let{uri:t,name:s}=e;return{type:Ti.c.ARTIST,uri:t,name:s||""}})))??[],name:t.name??"",mediaType:t.track_type??"audio",duration:{milliseconds:t.duration_ms??0},book:{type:Ti.c.AUDIOBOOK,uri:(null===(i=t.album)||void 0===i?void 0:i.uri)??"",name:(null===(a=t.album)||void 0===a?void 0:a.name)??"",images:(null===(o=t.album)||void 0===o?void 0:o.images)??[],authors:Gl(s)},provider:e,metadata:s,get images(){return this.book.images}}}(i,e,t):function(e,t,s){var n,i,a,o;return{type:Ti.c.EPISODE,uri:t.uri,uid:t.uid??null,artists:(null===(n=t.artists)||void 0===n?void 0:n.map((e=>{let{uri:t,name:s}=e;return{type:Ti.c.ARTIST,uri:t,name:s||""}})))??[],name:t.name??"",mediaType:t.track_type??"audio",duration:{milliseconds:t.duration_ms??0},show:{type:Ti.c.SHOW,uri:(null===(i=t.album)||void 0===i?void 0:i.uri)??"",name:(null===(a=t.album)||void 0===a?void 0:a.name)??"",images:(null===(o=t.album)||void 0===o?void 0:o.images)??[]},provider:e,metadata:s,get images(){return this.show.images}}}(i,e,t):(0,Ze.AIy)(e.uri)?function(e,t,s){var n,i,a;return{type:Ti.c.AD,uri:t.uri,uid:t.uid??null,title:t.name??null,advertiser:(null===(n=t.artists)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.name)??null,url:(null===(i=t.artists)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.uri)??null,id:(null==s?void 0:s.ad_id)??null,mediaType:t.track_type??"audio",duration:{milliseconds:t.duration_ms??0},images:(null===(a=t.album)||void 0===a?void 0:a.images)??[],isPodcastAd:!1,isSkippableAd:!1,isTestAd:!1,provider:e,metadata:s}}(i,e,t):function(e,t,s){var n,i,a,o;return{type:Ti.c.UNKNOWN,uri:t.uri,uid:t.uid??null,name:t.name??"",mediaType:t.media_type,duration:{milliseconds:-1},album:{type:Ti.c.ALBUM,uri:(null===(n=t.album)||void 0===n?void 0:n.uri)??"",name:(null===(i=t.album)||void 0===i?void 0:i.name)??"",images:(null===(a=t.album)||void 0===a?void 0:a.images)??[]},artists:(null===(o=t.artists)||void 0===o?void 0:o.map((e=>{let{uri:t,name:s}=e;return{type:Ti.c.ARTIST,uri:t,name:s||""}})))??[],provider:e,metadata:s,get images(){return this.album.images}}}(i,e,t)}function Wl(e){switch(e){default:case ae.RepeatMode.OFF:return Ol.REPEAT_NONE;case ae.RepeatMode.CONTEXT:return Ol.REPEAT_CONTEXT;case ae.RepeatMode.TRACK:return Ol.REPEAT_TRACK}}function ql(e){switch(e){case ae.PlaybackQuality.DEFAULT:case ae.PlaybackQuality.UNKNOWN:case void 0:return{bitrateLevel:Ml.UNKNOWN};case ae.PlaybackQuality.LOW:return{bitrateLevel:Ml.LOW};case ae.PlaybackQuality.NORMAL:return{bitrateLevel:Ml.NORMAL};case ae.PlaybackQuality.HIGH:return{bitrateLevel:Ml.HIGH};case ae.PlaybackQuality.VERY_HIGH:return{bitrateLevel:Ml.VERY_HIGH};case ae.PlaybackQuality.HIFI:return{bitrateLevel:Ml.LOSSLESS};default:return(0,ta.d)(e)}}function Ql(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>Dl.includes(e)?e:"unknown"))}function $l(e){const t={};for(const s in e)Ul(s)&&(t[s]={reasons:Ql(e[s].reasons)});return t}function Zl(e){var t;let{disallow_pausing_reasons:s=[],disallow_resuming_reasons:n=[],disallow_seeking_reasons:i=[],disallow_skipping_prev_reasons:a=[],disallow_skipping_next_reasons:o=[],disallow_toggling_repeat_context_reasons:r=[],disallow_toggling_repeat_track_reasons:l=[],disallow_toggling_shuffle_reasons:d=[],disallow_transferring_playback_reasons:c=[],disallow_add_to_queue_reasons:u=[],disallow_set_queue_reasons:p=[],disallow_setting_modes:m={},disallow_signals:h={}}=e;return{canPause:0===s.length,canResume:0===n.length,canSeek:0===i.length,canSkipPrevious:0===a.length,canSkipNext:0===o.length,canToggleRepeatContext:0===r.length,canToggleRepeatTrack:0===l.length,canToggleShuffle:0===d.length,canToggleSmartShuffle:0===((null===(t=m.context_enhancement)||void 0===t||null===(t=t.values.RECOMMENDATION)||void 0===t||null===(t=t.reasons)||void 0===t?void 0:t.filter((e=>"already_set"!==e)).length)??0),disallowPausingReasons:Ql(s),disallowResumingReasons:Ql(n),disallowSeekingReasons:Ql(i),disallowSkippingPreviousReasons:Ql(a),disallowSkippingNextReasons:Ql(o),disallowTogglingRepeatContextReasons:Ql(r),disallowTogglingRepeatTrackReasons:Ql(l),disallowTogglingShuffleReasons:Ql(d),disallowTransferringPlaybackReasons:Ql(c),disallowAddToQueueReasons:Ql(u),disallowSetQueueReasons:Ql(p),disallowSettingPlaybackSpeedReasons:Ql(c),disallowSignals:$l(h)}}class Xl extends bi{constructor(e){super(),this._harmony=e,this._harmony.addListener(ae.HarmonyEvent.STATE_CHANGED,(e=>{let{data:{state:t}}=e;this.emit(hi.UPDATE,function(e){var t,s,n;if(null===e)return null;const i=null!==e.context.uri,a=null!==e.track_window.current_track,o="string"==typeof e.context.metadata.enhanced_context?"true"===e.context.metadata.enhanced_context:e.shuffle_mode===ae.ShuffleMode.SMART;return{sessionId:"",timestamp:e.timestamp,context:{uri:e.context.uri??"",metadata:e.context.metadata},index:{pageURI:null,pageIndex:null,itemIndex:null},item:(r=e.track_window.current_track,null===r?null:zl(r,r.metadata??void 0)),shuffle:e.shuffle,smartShuffle:o,repeat:Wl(e.repeat_mode),speed:(null===(t=e.playback_features)||void 0===t||null===(t=t.playback_speed)||void 0===t?void 0:t.current)??1,speedEsperanto:(null===(s=e.playback_features)||void 0===s||null===(s=s.playback_speed)||void 0===s?void 0:s.selected)??1,playbackQuality:ql(e.playback_quality),playbackId:e.playback_id,positionAsOfTimestamp:e.position,duration:e.duration,restrictions:Zl(e.restrictions),hasContext:i&&a,isPaused:e.paused,isBuffering:e.loading,previousItems:e.track_window.previous_tracks.map((e=>zl(e,e.metadata||void 0))),nextItems:e.track_window.next_tracks.map((e=>zl(e,e.metadata||void 0))),signals:null===(n=e.playback_features)||void 0===n?void 0:n.signal_ids};var r}(t))})),this._harmony.addListener(ae.HarmonyEvent.AUTOPLAY_FAILED,(()=>{this.emit(hi.ERROR,new wi(vi.TRANSIENT,Ei.AUTOPLAY_FAILED,[],new Error("Autoplay policy blocked playback")))})),this._harmony.addListener(ae.HarmonyEvent.ERROR,(e=>{let{data:{error:t}}=e;t.unrecoverable?this.emit(hi.ERROR,new Ri(Ei.PLAYBACK_ERROR,[],t)):this.emit(hi.ERROR,new Si(Ei.PLAYBACK_ERROR,[],t))})),this._harmony.addListener(ae.HarmonyEvent.LOCAL_PLAYER_ENABLED,(()=>{this.emit(hi.READY,null)}))}}function Jl(e,t,s,n,i,a){const o=t.find((e=>n(s.after||s.before,e)));if(!o)return t;const r=[];e.forEach((e=>{const s=t.find((t=>n(e,t)));s&&r.push(s)}));const l=t.filter((e=>!r.includes(e))),d=r.map((e=>i(o)?a(e):e)),c=o?l.indexOf(o):0;return s.after?l.splice(c+1,0,...d):l.splice(c,0,...d),l}function ed(e,t,s,n,i,a){const o=t.find((e=>n(s.after||s.before,e)));if(!o)return t;const r=e.map((e=>a(e,i(o)))),l=t.indexOf(o);return s.after?t.splice(l+1,0,...r):t.splice(l,0,...r),t}function td(e){if(0===e.length)return{current:null,queued:[],nextUp:[]};const t=[];let s=0;const[n=null,...i]=e;for(const o of i){const{type:e,uri:n,metadata:{hidden:i,availability_restrictions:a}={}}=o,r="spotify:delimiter"===n||"spotify:meta:delimiter"===n;if(r&&++s>=1)break;const l=n.startsWith("spotify:meta:"),d=e!==Ti.c.UNKNOWN&&a;l||r||"true"===i||d||t.push(o)}const a=t.findIndex((e=>{let{provider:t}=e;return"queue"!==t}));return{current:n,queued:-1===a?t:t.slice(0,a),nextUp:-1===a?[]:t.slice(a)}}var sd=s(62327);const nd=new Ni.l("decorateContextEpisodesOrChapters","query","4210a7207beed5259945560dbeeb0bd55d709ce25de5f28021e1393b6af59121",null),id=new Ni.l("decorateContextTracks","query","4210a7207beed5259945560dbeeb0bd55d709ce25de5f28021e1393b6af59121",null);function ad(e){const t=e??[];return t.length>1?"mixed":0===t.length||t[0]===Xi.Cx.Audio?"audio":t[0]===Xi.Cx.Video?"video":"audio"}async function od(e,t,s){const n=Array.from(new Set(s.map((e=>e.uri)).filter((e=>!t.has(e))))),i=n.filter((e=>(0,Ze.U_m)(e))),a=n.filter((e=>(0,Ze.gHQ)(e))),[o,r]=await Promise.all([i.length>0?e(id,{uris:i},["uris"]):Promise.resolve([]),a.length>0?e(nd,{uris:a},["uris"]):Promise.resolve([])]);return[...o.reduce(((e,t)=>e.concat(t.tracks??[])),[]),...r.reduce(((e,t)=>e.concat(t.episodes??[])),[])].map((e=>"GenericError"===e.__typename||"NotFound"===e.__typename||"RestrictedContent"===e.__typename?null:function(e){return"Track"===e.__typename}(e)?function(e){var t,s,n,i,a;return{type:Ti.c.TRACK,uri:e.uri,name:e.name,mediaType:"audio",duration:{milliseconds:e.duration.totalMilliseconds},album:{type:Ti.c.ALBUM,uri:(null===(t=e.albumOfTrack)||void 0===t?void 0:t.uri)??"",name:(null===(s=e.albumOfTrack)||void 0===s?void 0:s.name)??"",images:(null===(n=e.albumOfTrack)||void 0===n||null===(n=n.coverArt)||void 0===n?void 0:n.sources.map((e=>ea(e))))??[]},artists:e.artists.items.map((e=>({type:Ti.c.ARTIST,uri:e.uri,name:e.profile.name}))),isLocal:!1,isExplicit:(null===(i=e.contentRating)||void 0===i?void 0:i.label)===Xi.x7.Explicit,is19PlusOnly:(null===(a=e.contentRating)||void 0===a?void 0:a.label)===Xi.x7.NineteenPlus,hasAssociatedVideo:(e.associationsV3.videoAssociations.totalCount||0)>0,get images(){return this.album.images},uid:null,provider:null}}(e):function(e){return"Episode"===e.__typename}(e)?function(e){var t,s,n;if("Podcast"!==e.podcastV2.data.__typename)return null;const i=e.podcastV2.data;return{type:Ti.c.EPISODE,uri:e.uri,name:e.name??"",mediaType:ad(e.mediaTypes),duration:{milliseconds:e.duration.totalMilliseconds},show:{type:Ti.c.SHOW,uri:i.uri??"",name:i.name??"",images:(null===(t=i.coverArt)||void 0===t?void 0:t.sources.map((e=>ea(e))))??[]},isExplicit:(null===(s=e.contentRating)||void 0===s?void 0:s.label)===Xi.x7.Explicit,is19PlusOnly:(null===(n=e.contentRating)||void 0===n?void 0:n.label)===Xi.x7.NineteenPlus,get images(){return this.show.images},uid:null,provider:null}}(e):function(e){return"Chapter"===e.__typename}(e)?function(e){var t,s,n;if("Audiobook"!==e.audiobookV2.data.__typename)return null;const i=e.audiobookV2.data;return{type:Ti.c.CHAPTER,uri:e.uri,name:e.name??"",mediaType:ad(e.mediaTypes),duration:{milliseconds:e.duration.totalMilliseconds},book:{type:Ti.c.AUDIOBOOK,uri:i.uri??"",name:i.name??"",images:(null===(t=i.coverArt)||void 0===t?void 0:t.sources.map((e=>ea(e))))??[],authors:i.authorsV2},isExplicit:(null===(s=e.contentRating)||void 0===s?void 0:s.label)===Xi.x7.Explicit,is19PlusOnly:(null===(n=e.contentRating)||void 0===n?void 0:n.label)===Xi.x7.NineteenPlus,get images(){return this.book.images},uid:null,provider:null}}(e):((0,ta.k)(e),null))).forEach((e=>{null!==e&&t.set(e.uri,e)})),s.map((e=>({...e,...t.get(e.uri),uid:e.uid,provider:e.provider})))}class rd{_queue=null;_cache=(()=>new sd.GG(36e5,3e5))();constructor(e,t,s){this._events=e,this._queueManager=t,this._loader=s,this._queueManager.addListener(ae.HarmonyEvent.PLAYER_QUEUE_CHANGED,(async e=>{this._queue=e.data.internalPlayerQueue,this._state=await this.getQueueState(),this._events.emitQueueUpdate(this._state)})),this._state=td([])}async getQueueState(){var e,t,s,n,i;const a=null!==(e=this._queue)&&void 0!==e&&e.current_track?zl(null===(t=this._queue)||void 0===t?void 0:t.current_track,null===(s=this._queue)||void 0===s?void 0:s.current_track.metadata,null===(n=this._queue)||void 0===n?void 0:n.current_track.provider):null,o=(null===(i=this._queue)||void 0===i?void 0:i.next_items.filter((e=>!e.hidden_in_queue)).map((e=>zl(e,e.metadata,e.provider))))??[];let r=a?[a,...o]:o;try{r=await od(this._loader,this._cache,r)}catch(Bl){}return td(r)}isSameItem(e,t){return e.uid&&t.uid?e.uid===t.uid:e.uri===t.uri}isQueued(e){return"queue"===e.provider}markAsQueued(e){return{...e,provider:"queue",metadata:{...e.metadata,is_queued:"true"}}}createQueueItem(e,t){return{uri:e.uri,type:"track",provider:t?"queue":"context",metadata:{is_queued:t.toString()}}}async addToQueue(e){this._queueManager.addToQueue(e.map((e=>e.uri)))}async removeFromQueue(e){var t;null!==this._queue&&this._queueManager.setInternalPlayerQueue({revision:this._queue.revision,next_items:null===(t=this._queue.next_items)||void 0===t?void 0:t.filter((t=>!e.some((e=>this.isSameItem(e,t))))),previous_items:this._queue.previous_items})}async clearQueue(){null!==this._queue&&this._queueManager.setInternalPlayerQueue({revision:this._queue.revision,next_items:this._queue.next_items.filter((e=>!this.isQueued(e))),previous_items:this._queue.previous_items})}async reorderQueue(e,t){if(null===this._queue)return;const s=[...this._queue.next_items];this._queueManager.setInternalPlayerQueue({revision:this._queue.revision,next_items:Jl(e,s,t,this.isSameItem,this.isQueued,this.markAsQueued),previous_items:this._queue.previous_items})}async insertIntoQueue(e,t){if(null===this._queue)return;const s=[...this._queue.next_items];this._queueManager.setInternalPlayerQueue({revision:this._queue.revision,next_items:ed(e,s,t,this.isSameItem,this.isQueued,this.createQueueItem),previous_items:this._queue.previous_items})}getQueue(){return this._state}getInternalQueue(){return this._queue}}const ld="enhance",dd="spotify-apply-lenses";function cd(e,t){var s;const n=new URL(e),i=new Set(null===(s=n.searchParams.get(dd))||void 0===s?void 0:s.split(","));return t?i.add(ld):i.delete(ld),i.size?n.searchParams.set(dd,[...i].join(",")):n.searchParams.delete(dd),n.toString()}class ud{_state=null;constructor(e,t,s,n,i,a){this._harmony=e,this._defaultFeatureVersion=s,this._contextualShuffle=n,this._isLegacySmartShuffleEnabled=i,this._isCentralisedSmartShuffleEnabled=a,this._events=new Xl(this._harmony),this._events.addListener(hi.UPDATE,(e=>{let{data:t}=e;this._state=t})),this._queue=new rd(this._events,this._harmony.getQueueManager(),t),this.referrer="PlayerHarmony_UnknownReferrer"}setDefaultFeatureVersion(e){void 0===e.featureVersion&&(e.featureVersion=this._defaultFeatureVersion)}getCapabilities(){return{canChangeSpeed:!0,canChangeVolume:!0,canPlayMultipleContextPages:!0,maxNextTracks:2,hasDecoratedQueue:!0}}getEvents(){return this._events}getState(){return this._state}getReferrer(){return this.referrer}setReferrer(e){this.referrer=e}async sendSignal(e){await this._harmony.sendCustomSignal(e)}canSendSignal(e){var t;const s=null===(t=this._state)||void 0===t?void 0:t.signals;return!!s&&(!(s.length<=0)&&s.includes(e))}async play(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!1;if(this._isLegacySmartShuffleEnabled&&!this._isCentralisedSmartShuffleEnabled){var i;const t=await(null===(i=this._contextualShuffle)||void 0===i?void 0:i.getContextualShuffleMode(e.uri))??Ll.OFF;s.shuffle=(e=>{if("boolean"==typeof e)return e;switch(e){case Ll.OFF:return!1;case Ll.ON:case Ll.SMART_SHUFFLE:return!0;default:return(0,ta.k)(e),!1}})(t),n=t===Ll.SMART_SHUFFLE}if(!this._events.emitPlaySync(e,t,s))if(this.setDefaultFeatureVersion(t),e.pages)this._harmony.playPages(e.pages.map((e=>{var t;return{tracks:null===(t=e.items)||void 0===t?void 0:t.map((e=>{let{uri:t,uid:s}=e;return{uri:t,uid:s??void 0}})),pageURL:e.url,nextPageURL:e.nextPageUrl,metadata:e.metadata}})),null,Yl(e,t,s));else{if(n)try{e={...e,uri:cd(e.uri,!0)}}catch(a){y(a)}this._harmony.playURI(e.uri,null,Yl(e,t,s))}}async pause(){this._events.emitPauseSync()||await this._harmony.pause()}async resume(){this._events.emitResumeSync()||await this._harmony.resume()}async skipToNext(e){if(this._events.emitSkipToNextSync())return;let t;const s=this._queue.getInternalQueue();e&&s&&(t=s.next_items.find((t=>(!e.uid||t.uid===e.uid)&&t.uri===e.uri))),await this._harmony.nextTrack(null,{track:t})}async skipToPrevious(){this._events.emitSkipToPreviousSync()||await this._harmony.smartPreviousTrack()}async skipTo(){throw new Error("Not implemented")}async seekTo(e){await this._harmony.seek(e)}async seekForward(e){await this._harmony.seekForward(e)}async seekBackward(e){await this._harmony.seekBackward(e)}async setShuffle(e){await this._harmony.setShuffle(e)}async setRepeat(e){switch(e){case Ol.REPEAT_NONE:await this._harmony.setRepeatMode(ae.RepeatMode.OFF);break;case Ol.REPEAT_CONTEXT:await this._harmony.setRepeatMode(ae.RepeatMode.CONTEXT);break;case Ol.REPEAT_TRACK:await this._harmony.setRepeatMode(ae.RepeatMode.TRACK)}}async setSpeed(e){await this._harmony.setPlaybackSpeed(e)}async canPlayEncryptedContent(){return void 0!==(await this._harmony.getMediaConfig()).keysystem}async refreshCurrentContext(){var e;let t;const s=null===(e=this.getState())||void 0===e?void 0:e.context.uri;if(this._isLegacySmartShuffleEnabled&&!this._isCentralisedSmartShuffleEnabled&&s){var n;(await(null===(n=this._contextualShuffle)||void 0===n?void 0:n.getContextualShuffleMode(s))??Ll.OFF)===Ll.SMART_SHUFFLE&&(t={contextURI:cd(s,!0)})}await this._harmony.updateCurrentContext(null,t)}async updateContext(e,t,s){this._harmony.updateCurrentContext(null,{contextURI:t.uri,contextMetadata:t.metadata})}async addToQueue(e){if(!this._events.emitQueueActionSync(yi.ADD))try{await this._queue.addToQueue(e),this._events.emitQueueActionComplete(yi.ADD,null,!0)}catch(t){throw this._events.emitQueueActionComplete(yi.ADD,t instanceof Error?t:new Error("Unknown error object")),t}}async reorderQueue(e,t){if(!this._events.emitQueueActionSync(yi.REORDER))try{await this._queue.reorderQueue(e,t),this._events.emitQueueActionComplete(yi.REORDER)}catch(s){throw this._events.emitQueueActionComplete(yi.REORDER,s instanceof Error?s:new Error("Unknown error object")),s}}async insertIntoQueue(e,t){if(!this._events.emitQueueActionSync(yi.INSERT))try{await this._queue.insertIntoQueue(e,t),this._events.emitQueueActionComplete(yi.INSERT)}catch(s){throw this._events.emitQueueActionComplete(yi.INSERT,s instanceof Error?s:new Error("Unknown error object")),s}}async removeFromQueue(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._events.emitQueueActionSync(yi.REMOVE))try{await this._queue.removeFromQueue(e),this._events.emitQueueActionComplete(yi.REMOVE,null,t)}catch(s){throw this._events.emitQueueActionComplete(yi.REMOVE,s instanceof Error?s:new Error("Unknown error object")),s}}async clearQueue(){if(!this._events.emitQueueActionSync(yi.CLEAR))try{await this._queue.clearQueue(),this._events.emitQueueActionComplete(yi.CLEAR)}catch(e){throw this._events.emitQueueActionComplete(yi.CLEAR,e instanceof Error?e:new Error("Unknown error object")),e}}getQueue(){return this._queue.getQueue()}getForcedShuffle(){return!1}setForcedShuffle(){}async playAsNextInQueue(e){const t=e.map((e=>({uri:e.uri,uid:e.uid??"",metadata:e.metadata??{}})));await this._harmony.playAsNextInQueue(t)}async setSleepTimer(){}}var pd=s(3074),md=s.n(pd);function hd(e){return`Partner spotify ${e}`}function _d(e,t){return(0,ae.createStandalonePlayer)({transport:e,...t})}const yd={type:Ti.c.UNKNOWN,uri:"",uid:"",name:"",images:[],mediaType:"audio",duration:{milliseconds:-1},album:{type:Ti.c.ALBUM,uri:"",name:"",images:[]},artists:[{type:Ti.c.ARTIST,uri:"",name:""}],provider:null};function bd(e){return function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e=>{let{url:t,height:s,width:n}=e;return Boolean(t)&&Boolean(s)&&Boolean(n)})).map((e=>{let{url:t,width:s,height:n}=e;return{url:t,height:parseInt(n??"0",10),width:parseInt(s??"0",10)}}))}({url:e.image_url,height:e.image_height,width:e.image_width},{url:e.image_url_small,height:e.image_height_small,width:e.image_width_small},{url:e.image_url_large,height:e.image_height_large,width:e.image_width_large},{url:e.image_url_xlarge,height:e.image_height_xlarge,width:e.image_width_xlarge})}function gd(e,t){return null===e?null:(0,Ze.U_m)(e.uri)||(0,Ze.PkR)(e.uri)?function(e,t){const s=e.metadata;return{type:Ti.c.TRACK,uri:e.uri,uid:null,name:s.title??"",mediaType:e.mediaType,duration:{milliseconds:t},album:{type:Ti.c.ALBUM,uri:s.album_uri??"",name:s.album_title??"",images:bd(s)},artists:[{type:Ti.c.ARTIST,uri:s.artist_uri??"",name:s.artist_name??""}],isLocal:(0,Ze.PkR)(e.uri),isExplicit:!1,is19PlusOnly:!1,provider:null,get images(){return this.album.images}}}(e,t):(0,Ze.gHQ)(e.uri)?function(e,t){const s=e.metadata;return{type:Ti.c.EPISODE,uri:e.uri,uid:null,name:s.title??"",mediaType:e.mediaType,duration:{milliseconds:t},show:{type:Ti.c.SHOW,uri:s.album_uri??"",name:s.album_title??"",images:bd(s)},provider:null,get images(){return this.show.images}}}(e,t):(0,Ze.AIy)(e.uri)?function(e,t){const s=e.metadata;return{type:Ti.c.AD,uri:e.uri,uid:null,title:s.title??null,advertiser:s.artist_name??null,url:s.artist_uri??null,id:s.ad_id??null,mediaType:e.mediaType,duration:{milliseconds:t},images:[],isPodcastAd:!1,isSkippableAd:!1,isTestAd:!1,provider:null}}(e,t):{...yd,uri:e.uri,metadata:e.metadata||null}}function fd(e){switch(e){case ae.RepeatMode.CONTEXT:return Ol.REPEAT_CONTEXT;case ae.RepeatMode.TRACK:return Ol.REPEAT_TRACK;case ae.RepeatMode.OFF:default:return Ol.REPEAT_NONE}}function vd(e){let{playbackState:t}=e;return{canPause:!!t.playing,canResume:!t.playing,canSeek:!0,canSkipPrevious:!1,canSkipNext:!1,canToggleRepeatContext:!1,canToggleRepeatTrack:!1,canToggleShuffle:!1,disallowPausingReasons:t.playing?[]:["already_paused"],disallowResumingReasons:t.playing?["already_playing"]:[],disallowSeekingReasons:[],disallowSkippingPreviousReasons:["unknown"],disallowSkippingNextReasons:["unknown"],disallowTogglingRepeatContextReasons:["unknown"],disallowTogglingRepeatTrackReasons:["unknown"],disallowTogglingShuffleReasons:["unknown"],disallowTransferringPlaybackReasons:[],disallowAddToQueueReasons:[],disallowSetQueueReasons:[],disallowSettingPlaybackSpeedReasons:[],disallowSignals:{}}}function Ed(e){const t=e.hasContext||e.isPaused||e.isBuffering;return{canSeek:t??!1,disallowSeekingReasons:t?[]:["not_playing_track"]}}function wd(e){if(null===e)return null;const t=e.playbackState,s=e.track,n=null==s?void 0:s.metadata,i=function(e){const t=e.track,s=null==t?void 0:t.metadata;return(null==s?void 0:s.contextURI)||(null==t?void 0:t.uri)||null}(e);return i?{sessionId:"",timestamp:Date.now(),context:{uri:i??"",metadata:n},index:{pageURI:null,pageIndex:null,itemIndex:null},item:s?gd(s,t.duration):null,shuffle:!1,repeat:fd(ae.RepeatMode.OFF),speed:1,playbackQuality:{bitrateLevel:Ml.UNKNOWN},playbackId:null,positionAsOfTimestamp:t.position,duration:t.duration,restrictions:{...vd(e),...Ed({hasContext:!!s&&!!i,isPaused:!t.playing,isBuffering:!1})},hasContext:!!s&&!!i,isPaused:!t.playing,previousItems:[],nextItems:[]}:null}var Sd=s(86492);const Rd={"com.apple.fps.1_0":"fairplay","com.widevine.alpha":"widevine","com.microsoft.playready":"playready"},Td=async function(e,t,s){var n,i;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"com.widevine.alpha",o=arguments.length>4?arguments[4]:void 0;const r={...t.metadata,contextURI:t!==e?e.uri:null};var l;if(null!==(n=t.metadata)&&void 0!==n&&n.externalResolvedUrl)return(0,ae.createStandalonePlayerTrack)({uri:t.uri,url:null===(l=t.metadata)||void 0===l?void 0:l.externalResolvedUrl,fileId:"",metadata:r,logData:o});if("episode"===(null===(i=(0,Ze.o_h)(t.uri))||void 0===i?void 0:i.type)){const e=r.media_type,s="yes"===r.useAuthEndpoint,n=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"audio";return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?`@webgate/${Rd[e]}-license/v1/${t}/license`:`https://spclient.wg.spotify.com/${Rd[e]}-license/v1/unauth/${t}/license`}(a,s,e),i=await(0,Sd.dl)(t,a,e);return(0,ae.createStandalonePlayerTrack)({uri:t.uri,licenseEndpoint:n,metadata:r,logData:o,fileId:"",noAuth:!s,...i})}const d=new Error(`No valid solution has been found to play this item (${null==t?void 0:t.uri})`);throw s.emitSync(hi.ERROR,new Ri(Ei.ONE_TRACK_UNPLAYABLE,[],d)),d};function Ad(e,t){const s=function(e){const t=new bi;let s,n,i={sessionId:"",timestamp:0,context:{uri:""},index:{pageURI:null,pageIndex:null,itemIndex:null},item:null,shuffle:!1,repeat:Ol.REPEAT_NONE,speed:1,playbackQuality:{bitrateLevel:Ml.UNKNOWN},playbackId:null,positionAsOfTimestamp:0,duration:0,restrictions:{canPause:!1,canResume:!1,canSeek:!1,canSkipNext:!1,canSkipPrevious:!1,canToggleRepeatContext:!1,canToggleRepeatTrack:!1,canToggleShuffle:!1,disallowPausingReasons:["not_playing_track"],disallowResumingReasons:["not_playing_track"],disallowSeekingReasons:["not_playing_track"],disallowSkippingPreviousReasons:["not_playing_context"],disallowSkippingNextReasons:["not_playing_context"],disallowTogglingRepeatContextReasons:["not_playing_context"],disallowTogglingRepeatTrackReasons:["not_playing_context"],disallowTogglingShuffleReasons:["not_playing_context"],disallowTransferringPlaybackReasons:[],disallowAddToQueueReasons:[],disallowSetQueueReasons:[],disallowSettingPlaybackSpeedReasons:[],disallowSignals:{}},hasContext:!1,isPaused:!1,isBuffering:!1,previousItems:[],nextItems:[]};function a(e){return{...i,...e,context:{...i.context,...null==e?void 0:e.context}}}function o(e){i=a(e),t.emit(hi.UPDATE,i)}async function r(){o(wd(await e.getCurrentState()))}async function l(e){if(e){if(s)return;s=setTimeout((()=>{s=null,o({isBuffering:e})}),200)}else s?(clearTimeout(s),s=null,o({isBuffering:e})):n||(n=setTimeout((()=>{n=null,o({isBuffering:e})}),400))}async function d(){const t=await e.getCurrentState(),s=wd(t),n=s?{...s,isBuffering:!1,hasContext:!1,isPaused:!1,positionAsOfTimestamp:i.duration}:{positionAsOfTimestamp:i.duration,position:i.duration,isBuffering:!1,hasContext:!1,isPaused:!1,restrictions:vd(t)},r=a(n),l=Ed(n);o({...r,restrictions:{...n.restrictions,...l}})}return e.on(ae.StandalonePlayerEvent.ERROR,(e=>{const{error:s}=e.data;s.unrecoverable?t.emit(hi.ERROR,new Ri(Ei.PLAYBACK_ERROR,[],s)):t.emit(hi.ERROR,new Si(Ei.PLAYBACK_ERROR,[],s))})),e.on(ae.StandalonePlayerEvent.PAUSED,r),e.on(ae.StandalonePlayerEvent.PROGRESS,(async()=>{Date.now()-i.timestamp>=1e3&&r(),(i.isBuffering||s)&&((await e.getCurrentState()).playbackState.buffering||l(!1))})),e.on(ae.StandalonePlayerEvent.TRACK_LOADED,r),e.on(ae.StandalonePlayerEvent.TRACK_ENDED,d),e.on(ae.StandalonePlayerEvent.LIST_ENDED,d),e.on(ae.StandalonePlayerEvent.BUFFERING_START,(async()=>{await l(!0)})),e.on(ae.StandalonePlayerEvent.BUFFERING_END,(async()=>{await l(!1)})),e.on(ae.StandalonePlayerEvent.AUTOPLAY_FAILED,(async()=>{await l(!1)})),e.on(ae.StandalonePlayerEvent.BEFORE_TRACK_LOAD,(async()=>{await l(!0)})),e.on(ae.StandalonePlayerEvent.POSITION_CHANGED,(async()=>{(await e.getCurrentState()).playbackState.playing&&await l(!0)})),t}(e);let n,i=null,a="PlayerStandalone_UnknownReferrer",o={unloadedSeekPosition:0,playArgs:null};const r=async()=>{if(void 0===n){const t=await e.getMediaConfig();n=t.keysystem}return n};return s.addListener(hi.UPDATE,(e=>{let{data:t}=e;i=t})),"undefined"!=typeof window&&r(),s.emit(hi.READY,null),{getCapabilities:()=>({canChangeSpeed:!1,canChangeVolume:!0,canPlayMultipleContextPages:!1,maxNextTracks:0,hasDecoratedQueue:!1}),canPlayEncryptedContent:async()=>void 0!==await r(),getEvents:()=>s,getState:()=>i,getReferrer:()=>a,setReferrer(e){a=e},async play(n,i,a){var l;if(s.emitPlaySync(n,i,a??{}))return;const d=await r(),c=(e=>{var t;return(null===(t=e.pages)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.items)||void 0===t?void 0:t[0])??e})(n),u=await Td(n,c,s,d,t),p=(0,ae.createStandalonePlayerList)({tracks:[u]}),m={index:(null==a||null===(l=a.skipTo)||void 0===l?void 0:l.index)??void 0,initialPosition:(null==a?void 0:a.seekTo)??0};await e.playList(p,m),o={playArgs:[n,i,a],unloadedSeekPosition:0}},async pause(){s.emitPauseSync()||await e.pause()},async resume(){if(!!(await e.getCurrentState()).track){if(s.emitResumeSync())return;await e.resume()}else if(o.playArgs){const[e,t,s]=o.playArgs;await this.play(e,t,{...s,seekTo:o.unloadedSeekPosition})}else;},async skipToNext(){s.emitSkipToNextSync()||await e.nextTrack()},async skipTo(){throw new Error("Not implemented")},async skipToPrevious(){s.emitSkipToPreviousSync()||await e.previousTrack()},async seekTo(t){(await e.getCurrentState()).track?await e.seek(t):o.unloadedSeekPosition=t},async seekForward(t){const s=(await e.getCurrentState()).playbackState.position;await e.seek(s+t)},async seekBackward(t){const s=(await e.getCurrentState()).playbackState.position;await e.seek(s-t)},async setShuffle(){throw new Error("setShuffle is not supported in StandalonePlayer")},async setRepeat(){throw new Error("setRepeat is not supported in StandalonePlayer")},async setSpeed(){throw new Error("setSpeed is not supported in StandalonePlayer")},async refreshCurrentContext(){},async updateContext(){throw new Error("Updating context not possible with StandalonePlayer.")},async addToQueue(){throw new Error("addToQueue is not supported in StandalonePlayer")},async clearQueue(){throw new Error("clearQueue is not supported in StandalonePlayer")},async removeFromQueue(){throw new Error("removeFromQueue is not supported in StandalonePlayer")},async reorderQueue(){throw new Error("reorderQueue is not supported in StandalonePlayer")},async insertIntoQueue(){throw new Error("insertIntoQueue is not supported in StandalonePlayer")},getQueue(){throw new Error("getQueue is not supported in StandalonePlayer")},getForcedShuffle:()=>!1,setForcedShuffle(){},sendSignal(e){throw new Error("sendSignal is not supported in StandalonePlayer")},canSendSignal:e=>!1,async playAsNextInQueue(){throw new Error("playAsNextInQueue is not supported in StandalonePlayer")},async setSleepTimer(e){throw new Error("setSleepTimer is not supported in StandalonePlayer")}}}function xd(e,t){let{isAnonymous:s,type:n,createPlayer:i}=t;if(s){return{harmony:null,standalonePlayer:_d(e,{platform_identifier:hd(n),config:{preinitMediaElement:!1,enableWithoutEME:!0,unauthenticatedLogs:!0,videoPlayerContainer:".VideoPlayer__container",audioPlayerContainer:".VideoPlayer__container"},autoActivateElement:!0})}}const a=function(e,t){return Pl=(0,ae.createHarmony)({transport:e,client:{descriptor:{id:null,randomizeId:!0,name:`Web Player (${v().getParser(window.navigator.userAgent).getBrowserName()})`,brand:"spotify",model:"web_player",platform_identifier:t.platformIdentifier,capabilities:{video_playback:!0}}},streamer:{disallowRobustnessValues:[ae.Robustness.EMPTY],cubicVolume:!0,videoPlayerContainer:t.videoPlayerContainer,playerContainerManager:t.playerContainerManager,disableMux:!0,createPlayer:t.createPlayer},controller:{decorateTrackWindow:!0},claimInactivePlayerStates:!0,onlyLocalState:!1}),Pl}(e,{videoPlayerContainer:".VideoPlayer__container",platformIdentifier:Nl(n),createPlayer:i});return{harmony:a,standalonePlayer:null}}var Cd=s(33009),Id=s(35239),kd=s(25538);const Nd=(0,Id.Tw)(kd.pn).addMiddleware(kd.m4).addMiddleware(Cd.li).addMiddleware(kd.If).addMiddleware(kd.u0);class Pd extends mi{}const Ld=new Ni.l("removeLibraryItems","mutation","1da4d0c811ea344e527b538aab607076f080e5c668ed62d5d0986e68a8ed5fc2",null),jd=new Ni.l("addLibraryItems","mutation","9ef70b05b8704369425eb8ca4e284f36a4a77bbcd3c12723845543aaabcb67c2",null),Od=new Ni.l("isInLibrary","query","82e2bf0d777f95e0e8fdf7da068de8705e2c5e6412777e6f34761d8f9d85adbc",null),Dd=new Ni.l("addItemsToRootlist","mutation","bd9c5cae1ee80ebca05d7ed12fd394216f49a20ce72d9dc762868df0f14522ea",null),Md=new Ni.l("removeItemsFromRootlist","mutation","3422f1866532820a1d8d0560f88542dbdbd35d0377ee5ecd49593590f5f1e86b",null),Ud=new Ni.l("followUsers","mutation","e65fa674edafc3165ebb9dc6c26593230338d454fa060826af8d2481b4f78fd4",null),Bd=new Ni.l("unfollowUsers","mutation","9cbc9a6ecd9c76f939e7488757f12118c098bf62d97c6c025a0becd9af0af082",null),Gd=new Ni.l("preSavePreReleaseToLibrary","mutation","5b2b0748aa01118951edeb6f0b723e24dd0bfe823cb90af96436a66dbc0dafc0",null),Fd=new Ni.l("removePreReleaseFromLibrary","mutation","533a8396a710f614e8e8559540d0b21963be235839ad2cab88357b603e0d3d62",null);class Vd{_events=(()=>new Pd)();_cache=(()=>new Map)();constructor(e){this.requestGQL=e}getEvents(){return this._events}async addEntityToLibrary(e){try{const i=(0,Ze.o_h)(e);if((null==i?void 0:i.type)===Ze.NQG.PLAYLIST_V2){var t;const s=await this.requestGQL(Dd,{uris:[e]});if(null!=s&&s.errors||"RootlistItemMutationResult"!==(null==s||null===(t=s.data)||void 0===t||null===(t=t.addItemsToRootlist)||void 0===t?void 0:t.__typename))throw new Error}else if((null==i?void 0:i.type)===Ze.NQG.PROFILE){var s;const e=await this.requestGQL(Ud,{usernames:[i.username]});if(null!=e&&e.errors||"FollowUsersResponse"!==(null==e||null===(s=e.data)||void 0===s||null===(s=s.followUsers)||void 0===s?void 0:s.__typename))throw new Error}else if((null==i?void 0:i.type)===Ze.NQG.PRERELEASE){var n;const t=await this.requestGQL(Gd,{uri:e});if(null!=t&&t.errors||"PreReleasePayload"!==(null==t||null===(n=t.data)||void 0===n?void 0:n.preSavePreReleaseToLibrary.__typename))throw new Error}else{const t=await this.requestGQL(jd,{uris:[e]});if(null!=t&&t.errors)throw new Error}this._cache.has(e)&&this._cache.set(e,Promise.resolve(!0)),this._events.emit("update",{type:"add",uris:[e]})}catch(i){throw new Error(`Error adding ${e} to library: ${i}`)}}async removeEntityFromLibrary(e){try{const i=(0,Ze.o_h)(e);if((null==i?void 0:i.type)===Ze.NQG.PLAYLIST_V2){var t;const s=await this.requestGQL(Md,{uris:[e]});if(null!=s&&s.errors||"RootlistItemMutationResult"!==(null==s||null===(t=s.data)||void 0===t||null===(t=t.removeItemsFromRootlist)||void 0===t?void 0:t.__typename))throw new Error}else if((null==i?void 0:i.type)===Ze.NQG.PROFILE){var s;const e=await this.requestGQL(Bd,{usernames:[i.username]});if(null!=e&&e.errors||"UnfollowUsersResponse"!==(null==e||null===(s=e.data)||void 0===s||null===(s=s.unfollowUsers)||void 0===s?void 0:s.__typename))throw new Error}else if((null==i?void 0:i.type)===Ze.NQG.PRERELEASE){var n;const t=await this.requestGQL(Fd,{uri:e});if(null!=t&&t.errors||"PreReleasePayload"!==(null==t||null===(n=t.data)||void 0===n?void 0:n.removePreReleaseFromLibrary.__typename))throw new Error}else{const t=await this.requestGQL(Ld,{uris:[e]});if(null!=t&&t.errors)throw new Error}this._cache.has(e)&&this._cache.set(e,Promise.resolve(!1)),this._events.emit("update",{type:"remove",uris:[e]})}catch(i){throw new Error(`Error removing ${e} from library: ${i}`)}}async checkIsInLibrary(e){try{const t=e.filter((e=>!this._cache.has(e)));if(!t.length)return Promise.all(e.map((e=>this._cache.get(e))));const s=this.requestGQL(Od,{uris:t}).then(Hd);for(const e of t)this._cache.set(e,s.then((t=>t.get(e)||!1)));return Promise.all(e.map((e=>this._cache.get(e))))}catch(t){throw new Error(`Error checking liked status: ${t}`)}}}function Hd(e){var t;const s=new Map;if(null!=e&&null!==(t=e.data)&&void 0!==t&&t.lookup)for(const n of e.data.lookup)"AlbumResponseWrapper"===n.__typename&&"Album"===n.data.__typename||"ArtistResponseWrapper"===n.__typename&&"Artist"===n.data.__typename||"EpisodeOrChapterResponseWrapper"===n.__typename&&"Episode"===n.data.__typename||"PodcastOrAudiobookResponseWrapper"===n.__typename&&"Podcast"===n.data.__typename||"PodcastOrAudiobookResponseWrapper"===n.__typename&&"Audiobook"===n.data.__typename||"TrackResponseWrapper"===n.__typename&&"Track"===n.data.__typename?s.set(n.data.uri,n.data.saved):"UserResponseWrapper"===n.__typename&&"User"===n.data.__typename||"PlaylistResponseWrapper"===n.__typename&&"Playlist"===n.data.__typename?s.set(n.data.uri,n.data.following):"PreReleaseResponseWrapper"===n.__typename&&"PreRelease"===n.data.__typename&&s.set(n.data.uri,n.data.preSaved);return s}let Yd;var Kd=s(55453);const zd=e=>{let{instance:t,children:s}=e;const n=(0,H.useMemo)((()=>({instance:t})),[t]);return(0,Y.jsx)(Kd.Z.Provider,{value:n,children:s})};var Wd=s(58625),qd=s(66093),Qd=s(62987),$d=s(97573);var Zd=s(40703),Xd=s(26465),Jd=s(32934);const ec="mobile-web-player";let tc=function(e){return e.HOME="home",e.COLLECTION="collection",e.CREATE_PLAYLIST="create-playlist",e.LIKED_SONGS="liked-songs",e.YOUR_EPISODES="your-episodes",e.SEARCH="search",e.SETTINGS="settings",e.PLAYLISTS_SIDEBAR="playlists-sidebar",e.NOW_PLAYING_BAR="now-playing-bar",e.BUDDY_FEED="buddy-feed",e.PROFILE="profile",e.DEEP_LINK="deep-link",e.MAKE_MUSIC="make-music",e.NOW_PLAYING_PANEL="now_playing_panel",e.WHATS_NEW_PANEL="whats_new_panel",e.UNKNOWN="unknown",e}({}),sc=function(e){return e.SPOTIFY_APP_HOME="spotify:app:home",e.SPOTIFY_APP_SEARCH="spotify:app:search",e}({});const nc=new Set([Ze.NQG.ALBUM,Ze.NQG.ARTIST,Ze.NQG.AUTHOR,Ze.NQG.PLAYLIST,Ze.NQG.PLAYLIST_V2,Ze.NQG.TRACK,Ze.NQG.EPISODE,Ze.NQG.SHOW,Ze.NQG.LOCAL_TRACK,Ze.NQG.PRERELEASE]),ic=e=>{const t=(0,Ze.o_h)(e);if(!t)return;if((0,Ze.ThT)(t))return nc.has(t.id)?t.toString().replace(":app:",":"):t.toString();if(nc.has(t.type))return t.toString();const s=t.args||t.query&&[t.query]||t.category&&[t.category]||void 0,n=(0,Ze.bXC)(t.type,s);return(null==n?void 0:n.toString())??void 0};var ac=s(39705);class oc{navigationalRoot=(()=>tc.HOME)();navigationReason=(()=>ac.$.CLIENT_STARTED)();interactionId=void 0;locationKeys=[];lastLocationKey="";constructor(e){this.ubiLogger=e}onLocationChange(e){if(e.key){this.locationKeys.includes(e.key)||this.locationKeys.push(e.key);const t=this.locationKeys.indexOf(e.key),s=this.lastLocationKey?this.locationKeys.indexOf(this.lastLocationKey):-1;this.navigationReason=t>s?ac.$.FORWARD:ac.$.BACK,this.lastLocationKey=e.key}}setInteraction(e){this.interactionId=e}log(e){let{pageId:t,navigationalRoot:s,entityUri:n}=e;s&&(this.navigationalRoot=s),this.ubiLogger.logNavigationStart({navigationalRoot:s??this.navigationalRoot,navigationReason:this.navigationReason,interactionId:this.interactionId}),this.ubiLogger.logNavigationEnd({pageId:t??ac.$h.UNKNOWN,entityUri:ic(n??location.pathname)??"unknown"}),this.setInteraction(void 0)}}const rc=(0,H.createContext)({}),lc=()=>{const{ubiNavigation:e}=(0,H.useContext)(rc);if(void 0===e)throw new Error("UBINavigationContext() must be used within a UBINavigationContext.Provider");return e},dc=()=>{const{ubiInteraction:e}=(0,H.useContext)(rc);if(void 0===e)throw new Error("UBIInteractionContext() must be used within a UBIInteractionContext.Provider");return e},cc=e=>{let{ubiLogger:t,children:s}=e;const n=(0,H.useMemo)((()=>new oc(t)),[t]),i=(0,H.useMemo)((()=>{return e=t,{logInteraction:t=>{const s=e.logInteraction.bind(e),n=e.getPageInstanceId()??void 0;return{interactionId:s(t),pageInstanceId:n}}};var e}),[t]),a=(0,H.useMemo)((()=>{return e=t,{logImpression:t=>{const s=e.logImpression.bind(e),n=e.getPageInstanceId()??void 0;return{impressionId:s(t),pageInstanceId:n}}};var e}),[t]),o=(0,H.useMemo)((()=>({ubiLogger:t,ubiNavigation:n,ubiInteraction:i,ubiImpression:a})),[t,n,i,a]);return(0,Y.jsx)(rc.Provider,{value:o,children:s})},uc=e=>{let{pageId:t,navigationalRoot:s,entityUri:n,children:i}=e;const a=lc();return(0,H.useEffect)((()=>{a&&t&&a.log({pageId:t,navigationalRoot:s,entityUri:n})}),[a,t,s,n]),(0,Y.jsx)(Y.Fragment,{children:i})};var pc=s(73593);const mc="auth_redirect",hc=(0,H.memo)((e=>{let{isAnonymous:t}=e;const{title:s,category:n}=(0,fr.g)(),[i,a]=(0,H.useState)(null),o=n?`spotify:playlist-format:${s}:${n}`:`spotify:playlist-format:${s}`;if((0,H.useEffect)((()=>{t&&window.location.hash!==`#${mc}`?(window.location.hash=mc,(0,pc.PW)()):async function(e,t){const s=await e.build().withHost(j.eX).withMethod("GET").withPath(`/resolve-uri/${encodeURIComponent(t)}`).withEndpointIdentifier("/resolve-uri/{uri}").withoutMarket().send(),{resolvedPlaylists:n}=s.body;if(n[0])return n[0].uri;throw new Error("Error resolving playlist format URI!")}(g.n.getInstance(),o).then((e=>a(e))).catch((e=>a(e)))}),[t,o,a]),null===i)return null;if(i instanceof Error)throw new Error(`Playlist couldn't be resolved: ${i.message}`);const r=(0,Ze.o_h)(i).id;return(0,Y.jsx)(fr.C5,{to:`/playlist/${r}`,replace:!0})}));function _c(){const e=(0,fr.zy)(),t=`/${(0,fr.g)()["*"]??""}${e.search}`,s=e.pathname+e.search;return(0,Y.jsx)(fr.C5,{to:t===s?`/${e.search}`:t,replace:!0})}var yc=s(92751),bc=s(54971),gc=s(44145),fc=s(60749);const vc=new Ni.l("showOrAudiobook","query","4620b089d321cfc134b914f8bbe8fac9db3e7b6dab731cb82d479bb20cb9a64e",null);var Ec=s(3248);s(14259),s(80058),s(64766),s(76666),s(70117),s(85592),s(49603),s(66321),s(9510),s(99003),s(4707),s(50563),s(25097),s(96185);function wc(e){return(new TextEncoder).encode(e)}const Sc=async function(e){const t=wc(e),s=await globalThis.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(s)).map((e=>e.toString(16).padStart(2,"0"))).join("")};class Rc{static encode=(()=>wc)();static hash=(()=>Sc)()}async function Tc(e){return function(e){const t=Rc.encode(e);return globalThis.crypto.subtle.digest("SHA-1",t)}(e).then((e=>function(e){const t=new Uint8Array(e);return Array.from(t).map((e=>e.toString(16).padStart(2,"0"))).join("")}(e).substring(0,20)))}var Ac=s(98849);function xc(e,t){return s=>{t((0,Di.sc)(s)),e&&t(an(Re.ERROR_BOUNDARY))}}const Cc={"show-view":"track-list/card","episode-view":"/button"},Ic=function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return async(i,a)=>{var o,r,l;const{playbackOffset:d,isAudiobookSample:c=!1,hasLockedContent:u=!1,isVideoSignifier:p=!1}=n,m=a(),{playback:h,session:{isAnonymous:_,features:{isMWPAndPlaybackCapable:y=!1}}}=m;if(u){const e=_?Re.SIGNUP:Re.GATED_CONTENT;return void i(an(e))}const b=null==h||null===(o=h.current)||void 0===o?void 0:o.track_window,g=(null==b||null===(r=b.current_track)||void 0===r?void 0:r.uri)===(null==t?void 0:t.uri)&&void 0===d,f=0===(null===(l=s.showTypes)||void 0===l?void 0:l.length);if(p&&!g&&(!_||_&&f))i(an(Re.VIDEO_UPSELL));else if(g){const e=Cc[null==t?void 0:t.uri];i((0,gn.d5)(e))}else try{var v;const n=!_&&await Tc(t.uri)||void 0;let o;_&&y&&(o=(0,Ac.eg)(t,s));const r=void 0!==d?Kn.SR.LABEL.PODCAST_TIMESTAMP_DESCRIPTION:Cc[e],l=null===(v=a().session)||void 0===v?void 0:v.referrer;if(i((0,gn.xN)(c?t.uri:s.uri,null,{trackUID:n,shuffle:!1,initialOffset:d,playOrigin:{referrerIdentifier:l}},null,o,r)),_){const t=Bn.subscribe("position",(()=>{const s=(0,Or.c)(location.pathname,"");i((0,Zn.dN)(s({type:"status",intent:"podcast-playback-started",itemIdSuffix:Cc[e]}))),Bn.unsubscribe(t)}))}}catch(E){xc(_,i)}}},kc=(e,t)=>async(s,n,i)=>{let{graphQLLoader:a}=i;try{var o,r;const n=await a(vc,{uri:e,...t});if(null!=n&&null!==(o=n.errors)&&void 0!==o&&o[0])throw new Error(n.errors[0].message);const i=null==n||null===(r=n.data)||void 0===r?void 0:r.podcastUnionV2;if("Audiobook"!==(null==i?void 0:i.__typename)&&"Podcast"!==(null==i?void 0:i.__typename))return;s(((e,t)=>({type:ke,uri:e,data:t}))(e,i))}catch(l){xc(n().session.isAnonymous,s)(l instanceof Error?l:new Error("Unknown error object"))}},Nc=e=>async(t,s,n)=>{let{graphQLLoader:i}=n;try{var a,o;const s=await i(Ec.L,{uri:e}),n=null==s||null===(a=s.data)||void 0===a?void 0:a.episodeUnionV2;if(null!=s&&null!==(o=s.errors)&&void 0!==o&&o[0])throw new Error(s.errors[0].message);if(!n)throw new Error(`Missing episode data for "${e}"`);if("Episode"!==(null==n?void 0:n.__typename)&&"Chapter"!==(null==n?void 0:n.__typename))throw new Error("Unknown data");t(((e,t)=>({type:Ne,uri:e,data:t}))(e,n))}catch(r){xc(s().session.isAnonymous,t)(r instanceof Error?r:new Error("Unknown error object"))}};var Pc=s(60819);const Lc="ozUyDkHkApOdIonUD9uk",jc="EuZ8EbdSyqoC4iAeHW6x",Oc="jFY3E6bnGNVyB3cq1dJ7",Dc="fFTsVhgMkg2qo2z_xyFA";var Mc=s(86136);const Uc=e=>{var t;let{cardHeaderText:s,cardBodyText:n,buttonText:i,buttonTarget:a}=e;return(0,Y.jsxs)("div",{className:Lc,children:[(0,Y.jsxs)("div",{children:[(0,Y.jsxs)("div",{className:jc,children:[(0,Y.jsx)(Pc.p,{}),(0,Y.jsx)(tr.E,{as:"span",variant:"bodyMediumBold",semanticColor:"textBase",children:s})]}),(0,Y.jsx)(tr.E,{as:"span",variant:"bodySmall",semanticColor:"textBase",children:n})]}),(0,Y.jsx)("div",{className:Oc,children:(0,Y.jsx)(Mc.N,{to:(null===(t=(0,Ze.o_h)(a))||void 0===t?void 0:t.toURLPath(!0))??"",children:(0,Y.jsx)(ir.$,{colorSet:"invertedLight",children:(0,Y.jsx)("span",{className:Dc,children:i})})})})]})};var Bc=s(47287),Gc=s(6687),Fc=s(50831),Vc=s(73667),Hc=s(24117),Yc=s(11145),Kc=s(68771),zc=s(79111),Wc=s(46563),qc=s(73481),Qc=s(41347),$c=s(89895),Zc=s(41324);const Xc="Ps9zgW56WZaBVLo1n3cg",Jc="sQXKZHWJrJ9_bbCs8NSv",eu="SgFtsvn3upY_tG6mnt4n",tu="l67ZKWaTyRadDGEcLWcE",su=e=>{let{text:t,ariaLabel:s=t,title:n=s,className:i,icon:a,...o}=e;return(0,Y.jsxs)("span",{"aria-label":s,className:rr()(Xc,i),title:n,...o,children:[a&&(0,Y.jsx)(a,{size:"xsmall",className:Jc}),(0,Y.jsx)("span",{className:eu,children:t})]})},nu=e=>{let{className:t,fullText:s=!1}=e;return(0,Y.jsx)(su,{ariaLabel:c.Ru.get("card.a11y.explicit"),text:s?c.Ru.get("card.a11y.explicit"):"E",className:rr()(tu,t)})};const iu=["year","month","weekday","day","hour","minute","second"],au=e=>(e=>["year","month","day"].includes(e))(e)?e:function(e){switch(e){case Xi.by.Minute:case Xi.by.Hour:case Xi.by.Day:return"day";case Xi.by.Month:return"month";case Xi.by.Year:case void 0:return"year";default:return(0,ta.d)(e)}}(e);function ou(e,t){if(void 0===t)return e;const s={...e},n=iu.indexOf(au(t));if(-1!==n)for(const i of iu.slice(n+1))delete s[i];return s}const ru=e=>{const t=new Date;return e.getUTCDate()===t.getUTCDate()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCFullYear()===t.getUTCFullYear()},lu=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.Ru;if(ru(e))return s.get("date.today");if((e=>{const t=new Date,s=t.getUTCDay(),n=new Date(t);n.setUTCDate(t.getUTCDate()-s),n.setUTCHours(0,0,0,0);const i=new Date(t);return i.setUTCDate(t.getUTCDate()+(6-s)),i.setUTCHours(23,59,59,999),e>=n&&e<=i})(e))return s.formatDate(e,{weekday:"long"});const n={timeZone:"UTC"};switch(t){case Xi.by.Year:n.year="numeric";break;case Xi.by.Month:n.month="short";break;case Xi.by.Day:case Xi.by.Hour:case Xi.by.Minute:n.month="short",n.day="numeric";break;default:(0,ta.d)(t)}return t===Xi.by.Year||(new Date).getUTCFullYear()===e.getUTCFullYear()?s.formatDate(e,n):s.formatDate(e,{year:"numeric",...n})},du="wIA_5Ypq0rltNPeZQpM4",cu="Swi6YtNEFCCVz8l4y75v",uu="pklLPOhfigdytL9bPoth",pu="sb24Y8kdMZInJ8aI8dXT";function mu(e){let{h:t,m:s,s:n}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return[t?c.Ru.get("time.hours.short",t):"",s?c.Ru.get("time.minutes.short",s):"",n?c.Ru.get("time.seconds.short",n):""].filter((e=>""!==e)).join(i)}function hu(e){const t=Math.floor(e/1e3),s=Math.floor(t/60),n=Math.floor(s/60),i=60*n,a=s-i;return{hours:n,minutes:a,seconds:t-60*i-60*a}}function _u(e){let{ariaValueText:t,max:s,current:n}=e;const i={transform:`translateX(-${100-(s&&n?100*Math.min(1,n/s):0)}%)`},a=Math.ceil(Math.max(s-n,0)),{hours:o,minutes:r,seconds:l}=hu(s),d=mu({h:o,m:r,s:l}),{hours:u,minutes:p,seconds:m}=hu(a),h=mu({h:u,m:p,s:m}),_=t||c.Ru.get("time.left-of",h,d);return(0,Y.jsxs)("div",{className:du,role:"progressbar",tabIndex:0,"aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":s,"aria-valuetext":_,children:[(0,Y.jsx)("div",{className:cu}),(0,Y.jsx)("div",{className:uu,children:(0,Y.jsx)("div",{"data-testid":"progressBarFg",className:pu,style:i})})]})}const yu="qfYkuLpETFW3axnfMntO",bu="_q93agegdE655O5zPz6l",gu="z7Yl7CIT1AB0y91f_moh",fu="iLIlkUcfIq56KncGtX7u",vu="nV50yZ6BR_TIuWP3l7b1",Eu="qLjIx_SzBEpDRA_q7kxQ";var wu=s(47410);const Su="UyzJidwrGk3awngSGIwv",Ru=e=>{let{durationMs:t,className:s,displaySeconds:n}=e;const{hours:i,minutes:a,seconds:o}=hu(t);return n=!1!==n&&!i&&o,(0,Y.jsx)("span",{className:rr()(Su,s),children:mu({h:i,m:a,s:n?o:0})})},Tu="xWm_uA0Co4SXVxaO7wlB",Au=e=>{let{durationMs:t,className:s,displaySeconds:n}=e;const{hours:i,minutes:a,seconds:o}=hu(t);n=!1!==n&&!i&&o;const r=mu({h:i,m:a,s:n?o:0});return r?(0,Y.jsx)("span",{className:rr()(Tu,s),children:c.Ru.get("time.left",r)}):null},xu=e=>{const{resumePositionMs:t=0,releaseDate:s,isPlaying:n,fullyPlayed:i,durationMs:a,position:o=t,compactVariant:r=!1,className:l,progressBarClassName:d,progressStateClassName:u,releaseDateClassName:p}=e,m=s&&s.isoString?(0,Y.jsx)(tr.E,{as:"p",variant:"bodySmall",className:bu,children:lu((h=s.isoString,new Date(h)),s.precision)}):null;var h;const _=(()=>{if(0===a)return null;if(i&&!n)return(0,Y.jsxs)("div",{className:rr()(fu,u),children:[(0,Y.jsx)(tr.E,{as:"p",variant:"bodySmall",className:gu,children:c.Ru.get("episode.audiobook.chapter.finished")}),(0,Y.jsx)(wu.i,{size:"small",className:Eu,"aria-hidden":"true"})]});if(o>0||n){const e=Math.ceil(Math.max(a-o,0));return(0,Y.jsx)("div",{className:rr()(fu,u),children:(0,Y.jsx)(tr.E,{as:"p",variant:"bodySmall",className:gu,children:(0,Y.jsx)(Au,{durationMs:e,displaySeconds:!r&&void 0})})})}return(0,Y.jsx)(tr.E,{as:"p",variant:"bodySmall",className:rr()(bu,p),"data-testid":"episode-progress-not-played",children:(0,Y.jsx)(Ru,{durationMs:a,displaySeconds:!r&&void 0})})})(),y=0===a?null:!i&&o>0||n?(0,Y.jsx)("div",{className:rr()(vu,d),children:(0,Y.jsx)(_u,{current:o,max:a})}):null;return m||_||y?(0,Y.jsxs)("div",{className:rr()(yu,l),children:[m,_,y]}):null};var Cu=s(10548);const Iu="cfggPp9bWTWmJHtaMuwE",ku="CuoyeJtfg5n_psJrGDvb",Nu="L7hXYRr0q_dGROhtQBhA",Pu="lviAFHiMd0t5gLYMIhyI",Lu="Qu8D6X3uFuGoN7yItric",ju="PbbAKgDSKqb_aeaogoiN";var Ou=s(81042),Du=s(70787),Mu=s(26481);const Uu=e=>{let{uri:t,onLibraryUpdated:s}=e;const n=(0,ar.s9)();return(0,Y.jsx)(Mu.h,{uri:t,onLibraryUpdated:s,inLibraryComponent:e=>(0,Y.jsx)(nr.H,{iconOnly:Ou.k,semanticColor:"textBrightAccent",onClick:e,"aria-label":n.get("remove_from_your_library")}),notInLibraryComponent:e=>(0,Y.jsx)(nr.H,{iconOnly:Du.P,onClick:e,"aria-label":n.get("save_to_your_library")})})};var Bu=s(82598);const Gu="activation-trigger-mme",Fu=e=>{let{id:t,children:s,deferredLinkUri:n,triggerOptions:i,onHide:a,onShow:o}=e;const r=(0,ar.s9)(),l=(0,H.useCallback)((()=>{window.open((0,Fo.KY)(n).toString(),"_blank","noopener")}),[n]),d=(0,br.W)(),c={...i,primaryButtonText:()=>r.get("action-trigger.button.get-app"),secondaryButtonText:()=>r.get("action-trigger.button.not-now"),isCTA:!0,intentPrimaryButton:"download-app",primaryButtonTargetUri:(0,Fo.KY)(n).toString(),useSecondaryStyling:!0,onLogInteraction:d};return(0,Y.jsx)(pr,{id:t,onPrimaryButtonClick:l,options:c,onHide:a,onShow:o,children:s})},Vu=e=>({isCTA:!0,getTitle:()=>e.get("action-trigger.available-in-app-only"),getDescription:()=>e.get("action-trigger.listen-mixed-media-episode")});var Hu=s(84745);const Yu=e=>{let{episode:t,isPlaying:s,isPlayDisabled:n,isLoading:i,isLocked:a,onCtaClick:o}=e;const r=(0,ar.s9)();return(0,Y.jsx)("div",{className:ju,children:(0,Y.jsx)(Fu,{id:Gu,deferredLinkUri:(0,Ze.o_h)(t.uri),triggerOptions:Vu(r),children:(0,Y.jsx)(Hu.R,{size:"large",onClick:e=>{e.preventDefault(),e.stopPropagation(),t.type!==Xi.I_.Episode?o():ur.set((()=>({triggerId:Gu,triggerAction:null})))},isPlaying:s,disabled:n,isLoading:!a&&i,locked:a})})})};var Ku=s(49849),zu=s(16532);const Wu=e=>{var t,s,n,a,o,r,l,d;let{backgroundColor:c,episode:u,uri:p,show:m,onPlayClick:h,useVideoThumbnail:_=!1}=e;const y=(0,ar.s9)(),b=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t||null===(t=t.track_window.current_track)||void 0===t?void 0:t.uri})),g=(0,i.d4)((e=>{let{playback:t}=e;return t.isBuffering})),f=(0,i.d4)((e=>{var t;let{playback:s}=e;return Boolean(null===(t=s.current)||void 0===t?void 0:t.paused)})),v=b===p,E=v&&!f,w=!(null!==(t=u.playability)&&void 0!==t&&t.playable),S=(null===(s=u.playedState)||void 0===s?void 0:s.playPositionMilliseconds)??0,R=(0,Bu.R)(u.playability),T=(0,i.d4)((e=>{let{session:t}=e;return t.isAnonymous})),A=((e,t,s)=>{var n,i;return{displayType:e.get("mwp.podcast.episode"),title:t.name,subtitle:null==s?void 0:s.name,subtitleLinkURI:null==s?void 0:s.uri,images:(0,Hc.X)((null===(n=t.coverArt)||void 0===n?void 0:n.sources)??[]),videoPreviewThumbnail:null!==(i=t.videoPreviewThumbnail)&&void 0!==i&&null!==(i=i.imagePreview)&&void 0!==i&&i.data&&"sources"in t.videoPreviewThumbnail.imagePreview.data?(0,zu.y)(t.videoPreviewThumbnail.imagePreview.data.sources,287):void 0,type:Zc.c.EPISODE}})(y,u,m);return(0,Y.jsxs)(Yc.z,{backgroundColor:c,condensed:_&&!T,"data-testid":"episode-entity-header",children:[(0,Y.jsxs)(qc.r,{children:[(0,Y.jsx)("div",{className:Iu,children:_?(0,Y.jsx)(Gc._,{className:ku,src:A.videoPreviewThumbnail,placeholderIcon:Fc.L,borderRadius:"base",title:u.name,"data-testid":"episode-thumbnail-image"}):(0,Y.jsx)(Qc.b,{images:A.images,fallback:(0,Y.jsx)(Vc.I,{size:"xxlarge"}),fadeImageBetween:[50,175],testid:"entity-header-entity-image",size:Cu.Qe.SIZE_64,condensed:!0,roundedCorners:!0})}),(0,Y.jsxs)("div",{className:Nu,children:[(0,Y.jsx)($c.m,{testId:"episodeTitle",children:A.title}),A.subtitle&&(0,Y.jsx)(Mc.N,{to:(null===(n=(0,Ze.o_h)(m.uri))||void 0===n?void 0:n.toURLPath(!0))??"",children:(0,Y.jsxs)("div",{className:Lu,children:[(0,Y.jsx)(Qc.b,{images:null===(a=m.coverArt)||void 0===a?void 0:a.sources,fallback:(0,Y.jsx)(Fc.L,{size:"xsmall"}),size:Cu.Qe.SIZE_20,roundedCorners:!0}),(0,Y.jsx)(tr.E,{as:"p",variant:"bodySmallBold","data-testid":"entity-header-entity-subtitle",children:A.subtitle})]})})]})]}),(0,Y.jsxs)(Wc.l,{children:[(0,Y.jsxs)("div",{className:Pu,children:[(null===(o=u.contentRating)||void 0===o?void 0:o.label)===Xi.x7.Explicit&&(0,Y.jsx)(nu,{}),(0,Y.jsx)(xu,{fullyPlayed:(null===(r=u.playedState)||void 0===r?void 0:r.state)===Xi._w.Completed,isPlaying:!1,durationMs:null===(l=u.duration)||void 0===l?void 0:l.totalMilliseconds,releaseDate:u.releaseDate,resumePositionMs:null===(d=u.playedState)||void 0===d?void 0:d.playPositionMilliseconds,position:v?S:void 0,compactVariant:!0})]}),(0,Y.jsxs)(zc.z,{children:[(0,Y.jsx)(Uu,{uri:p}),(0,Y.jsx)(Kc.P,{uri:p}),(0,Y.jsx)(Ku.e,{uri:p,testId:"context-menu-action",header:{title:A.title,subtitle:A.subtitle,backgroundImage:(0,zu.g)(A.images,64)}})]}),(0,Y.jsx)(Yu,{episode:u,onCtaClick:h,isPlaying:E,isPlayDisabled:w&&!R,isLoading:g,isLocked:R})]})]})};var qu=s(91893),Qu=s(72936),$u=s(59057),Zu=s(13747);const Xu="GGqyNe_9s1K6j3k9vwwh",Ju="nQqxKcXCPX_kMEzfNSMw",ep="PZYNBlBZogEukMNpF7Zb",tp="nIOL83SbMSNuiWkAKeUI",sp="aTjw_QR6wxdPYeLD2G3i",np=e=>{let{lineHeight:t}=e;const s={"--skeleton-line-height":t?`${t}px`:"16px"};return(0,Y.jsxs)("div",{className:ep,children:[(0,Y.jsx)("div",{className:rr()(tp,sp),style:s}),(0,Y.jsxs)("div",{className:Xu,children:[(0,Y.jsx)("div",{className:Ju}),(0,Y.jsx)("div",{className:Ju}),(0,Y.jsx)("div",{className:Ju})]})]})};var ip=s(98607),ap=s(34698);const op=e=>{let{entityType:t,componentType:s,uri:n}=e;const a=(0,ip.V)(),o=(0,i.d4)((e=>{var t;return null===(t=e.session.me)||void 0===t||null===(t=t.profile)||void 0===t?void 0:t.id})),r=(0,i.d4)((e=>e.session.country));return(0,Wd.DO)((()=>{(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"mwp-ilr-component-error",value:1,tags:{entityType:t,componentType:s}});const e={category:`${t}_${s}_ilr_render_error`,label:"mwp",os:(0,ap.f)(),context:n,country:o?r:"",sp_t:(0,F.v8)("sp_t")};return a?(0,Br.r)(e):(0,Ur._)(e)}))};var rp=s(77431),lp=s(1581),dp=s(54317),cp=s(16803),up=s(86075),pp=s(53182);const mp=e=>{let{sources:t,name:s,uri:n,disabled:i,loading:a,onClick:o}=e;return n?(0,Y.jsx)(dp.Z,{disabled:i,onClick:o,children:(0,Y.jsxs)(Mc.N,{to:n,children:[(0,Y.jsx)(cp.M,{sources:t,loading:a,Placeholder:(0,Y.jsx)(pp.s,{title:s,type:Ti.c.EPISODE})}),(0,Y.jsx)(up.Z,{className:lp.A.twoLineTitle,children:s})]})}):null},hp=e=>{let{uri:t}=e;const s=(0,i.wA)(),n=(0,ar.s9)(),a=(0,fr.Zp)(),o=(0,i.d4)((e=>{var t;return null===(t=e.internalLinkRecommender)||void 0===t?void 0:t.episodes})),{data:r,status:l,uri:d}=o,c=l===vs.LOADING;return(0,H.useEffect)((()=>{d&&d===t||s(function(e){return{type:as,uri:e}}(t))}),[s,d,t]),r&&0!==(null==r?void 0:r.length)?c?(0,Y.jsx)(np,{}):(0,Y.jsx)(Zu.$,{title:n.get("internal-link-recommender.more-episodes-like-this"),"data-testid":"internal-link-recommender-shelf",children:r.slice(0,6).map((e=>{var t,s;const n=null===(t=(0,Ze.o_h)(e.uri))||void 0===t?void 0:t.toURLPath(!0);return(0,Y.jsx)(mp,{uri:e.uri,name:e.name,sources:null===(s=e.coverArt)||void 0===s?void 0:s.sources,onClick:()=>{a(n??"")}},e.uri)}))}):null},_p=e=>{const t=op({entityType:Ti.c.EPISODE,componentType:"shelf",uri:e.uri});return(0,Y.jsx)(rp.tH,{onError:t,fallback:()=>(0,Y.jsx)(Y.Fragment,{}),children:(0,Y.jsx)(hp,{...e})})},yp=(0,H.createContext)({gatedEpisodeMetadata:null,setGatedEpisodeMetadata:()=>{}}),bp=e=>{let{children:t,metadata:s}=e;const[n,i]=(0,H.useState)(s??null),a=(0,H.useMemo)((()=>({gatedEpisodeMetadata:n,setGatedEpisodeMetadata:i})),[n]);return(0,Y.jsx)(yp.Provider,{value:a,children:t})},gp=()=>{const{gatedEpisodeMetadata:e,setGatedEpisodeMetadata:t}=(0,H.useContext)(yp);return{gatedEpisodeMetadata:e,setUpsellMetadata:e=>{var s;let{episode:n,podcastName:i,podcastAccessUrl:a}=e;t({episodeName:n.name,showName:i,image:(0,Xe.m)(null==n||null===(s=n.coverArt)||void 0===s?void 0:s.sources,48),ctaUrl:a})},clearUpsellMetadata:()=>t(null)}},fp=(e,t)=>{var s,n;let i="black";var a;t&&(i=(null===(a=t.coverArt)||void 0===a||null===(a=a.extractedColors)||void 0===a?void 0:a.colorLight.hex)||i);let o="";return e&&null!==(s=e.videoPreviewThumbnail)&&void 0!==s&&null!==(s=s.imagePreview)&&void 0!==s&&s.data&&"ImageV2"===(null===(n=e.videoPreviewThumbnail)||void 0===n||null===(n=n.imagePreview)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.__typename)&&(o=(0,zu.y)(e.videoPreviewThumbnail.imagePreview.data.sources,Cu.Qe.SIZE_88)),{uri:null==e?void 0:e.uri,imageUrl:o,backgroundColor:i}},vp={uri:"",imageUrl:"",backgroundColor:"black"},Ep=(0,H.createContext)({videoEpisodeMetadata:vp,setVideoEpisodeMetadata:()=>{}}),wp=e=>{let{children:t,metadata:s}=e;const[n,i]=(0,H.useState)(s??vp),a=(0,H.useMemo)((()=>({videoEpisodeMetadata:n,setVideoEpisodeMetadata:i})),[n]);return(0,Y.jsx)(Ep.Provider,{value:a,children:t})},Sp=()=>{const{videoEpisodeMetadata:e,setVideoEpisodeMetadata:t}=(0,H.useContext)(Ep),s=e=>{t(e?{...fp(e.episode,e.show),listenAction:e.listenAction}:vp)};return{videoEpisodeMetadata:e,setUpsellMetadata:s,clearUpsellMetadata:()=>{s(null)}}},Rp=e=>{var t;let{episode:s,backgroundColor:n,show:a,uri:o}=e;const r=(0,ar.s9)();(0,$u.n)({visible:!0,backgroundColor:n}),(0,qu.r)((0,Qu.L$)({episodeOrChapterName:s.name,showOrAudiobookName:a.name,type:"Podcast"}));const l=(0,fr.Zp)(),d=(0,fr.zy)(),c=(0,i.wA)(),{setUpsellMetadata:u}=gp(),{setUpsellMetadata:p}=Sp(),m=null===(t=s.mediaTypes)||void 0===t?void 0:t.includes(Xi.Cx.Video),h=(0,H.useCallback)((e=>{var t;const n=(0,Bu.R)(s.playability);n&&Ge(null===(t=a.accessInfo)||void 0===t?void 0:t.accessExplanation)?u({episode:s,podcastName:a.name,podcastAccessUrl:a.accessInfo.accessExplanation.url}):m&&p({episode:s,show:a,listenAction:()=>{c(Ic("episode-view",s,a,{playbackOffset:e,hasLockedContent:n}))}}),c(Ic("episode-view",s,a,{playbackOffset:e,hasLockedContent:n,isVideoSignifier:m}))}),[s,a,m,c,u,p]),_=(0,H.useCallback)((e=>{const t=Math.floor(e)||0;h(t)}),[h]),y=(0,H.useCallback)((()=>{var e;const t=null==d?void 0:d.search,n=new URLSearchParams(t),i=1e3*Number(n.get("t")),a=null===(e=s.duration)||void 0===e?void 0:e.totalMilliseconds;i&&i>0&&a&&i<=a&&_(i)}),[s,_,null==d?void 0:d.search]),b=()=>{const e=a.id??"";return`/show/${(0,Ze.cEw)(e)}`};(0,H.useEffect)((()=>{y()}),[]);const g=b();return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Wu,{backgroundColor:n,episode:s,uri:o,show:a,onPlayClick:h,useVideoThumbnail:m}),(0,Y.jsx)(Bc.A,{children:(0,Y.jsxs)("div",{children:[s.contentInformation&&(0,Y.jsx)(Uc,{cardHeaderText:s.contentInformation.cardHeaderText,cardBodyText:s.contentInformation.cardBodyText,buttonText:s.contentInformation.buttonText,buttonTarget:s.contentInformation.buttonTarget}),s.description&&(0,Y.jsx)(bc.N,{content:s.description,onTimeStampClick:_,maxLines:6,enableTimestamps:!0}),g&&(0,Y.jsx)(fc.N_,{to:g,onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,Y.jsx)(nr.H,{onClick:()=>{const e=b();l(e)},iconTrailing:gc.V,condensed:!0,semanticColor:"textBase",children:r.get("mwp.podcast.see.all.episodes")})}),(0,Y.jsx)(_p,{uri:o})]})})]})};var Tp=s(8085),Ap=s(94338),xp=s(60708);const Cp=()=>{var e;const{episodeId:t,userId:s}=(0,fr.g)(),n=(0,i.wA)(),a=(0,fr.Zp)(),o=t&&s?`spotify:user:${s}:episode:${t}`:`spotify:episode:${t}`;(0,H.useEffect)((()=>{n(Nc(o))}),[o,n]);const r=(0,i.d4)((e=>e.entities)),l=r.items[o],d=(0,yc.gB)(l)?l:void 0;if(!d)return(0,Y.jsx)(Ap.c,{});const c=d.showOrAudiobook.data,u=(0,yc.Wm)(c)?c:null,{hex:p="#000000"}=(null===(e=d.coverArt)||void 0===e||null===(e=e.extractedColors)||void 0===e?void 0:e.colorLight)??{},m=(0,yc.Gr)(d)&&(0,yc.YM)(u),h=(0,yc.oS)(d)&&(0,yc.O1)(u);return m?(a(`/show/${u.id}`),(0,Y.jsx)(Ap.c,{})):(0,Y.jsxs)(Tp.h,{testId:"podcast-entity-view",children:[h&&(0,Y.jsx)(Rp,{uri:o,backgroundColor:p,episode:d,show:u}),(0,Y.jsx)(xp.h,{})]})};var Ip=s(61950),kp=s(29812);const Np=()=>"undefined"==typeof window;function Pp(e){return!Np()&&e instanceof HTMLElement}let Lp;const jp={subscribersByElement:new WeakMap,get resizeObserver(){return Lp||(Lp=new ResizeObserver((e=>{Array.isArray(e)&&e.forEach((t=>{const s={width:Math.round(t.contentRect.width),height:Math.round(t.contentRect.height)};(jp.subscribersByElement.get(t.target)??new Set).forEach((n=>{n(s,t,e)}))}))}))),Lp}};function Op(e){let{onResize:t,refOrElement:s,observeOnly:n,observeOnMount:i=!1,disabled:a=!1}=e;const o=(0,H.useRef)(t);o.current=t;const r=(0,H.useRef)(n);r.current=n;const l=(0,H.useRef)({width:-1,height:-1}),d=(0,H.useCallback)(((e,t,s)=>{if(!o.current)return;const n=l.current.width!==e.width,i=l.current.height!==e.height;("width"===r.current&&n||"height"===r.current&&i||!r.current&&(n||i))&&o.current(e,t,s),l.current.width=e.width,l.current.height=e.height}),[]),c=function(e){var t;let{refOrElement:s,subscriber:n}=e,i=null;const a=(0,H.useRef)(null),o=(0,H.useRef)(null),r=(0,H.useRef)(null),l=(0,H.useRef)(),d=(0,H.useRef)(n);d.current=n;const c=(0,H.useCallback)((()=>{let e=null;o.current?e=o.current:a.current?e=a.current:Pp(s)&&(e=s),r.current!==e&&(l.current&&(l.current(),l.current=null),r.current=e,e&&d.current&&(l.current=d.current(e)))}),[s]),u=(0,H.useCallback)((e=>{o.current=e,c()}),[c]);s&&!Pp(s)&&(i=s);const p=(0,H.useCallback)((()=>{var e;(null===(e=i)||void 0===e?void 0:e.current)!==a.current&&(i&&(a.current=i.current),c())}),[i,null===(t=i)||void 0===t?void 0:t.current,c]);return(0,H.useLayoutEffect)(p,[p]),(0,H.useEffect)(p,[p]),(0,H.useEffect)((()=>()=>{var e;null==l||null===(e=l.current)||void 0===e||e.call(l)}),[]),u}({refOrElement:s,subscriber:e=>{var t;return a?()=>{}:(i&&d({width:e.offsetWidth,height:e.offsetHeight},null,[]),jp.subscribersByElement.has(e)||(jp.resizeObserver.observe(e),jp.subscribersByElement.set(e,new Set)),null===(t=jp.subscribersByElement.get(e))||void 0===t||t.add(d),()=>{var t,s;null===(t=jp.subscribersByElement.get(e))||void 0===t||t.delete(d),0===(null===(s=jp.subscribersByElement.get(e))||void 0===s?void 0:s.size)&&(jp.resizeObserver.unobserve(e),jp.subscribersByElement.delete(e))})}});return c}function Dp(e,t,s){const[n,i]=(0,H.useState)(),a=Object.entries(e).sort(((e,t)=>t[1]-e[1]));return{ref:Op({refOrElement:s,observeOnly:t,observeOnMount:!0,onResize:e=>{let{[t]:s}=e;if(void 0===s)return;const o=a.find((e=>{let[,t]=e;return s>=t})),r=o&&o[0];r&&r!==n&&i(r)}}),breakpoint:n}}var Mp=s(56814),Up=s(73679);const Bp="ufy3rNNsNBx6IOixSXEG",Gp="xXxkvFpB54Fne7ykRnXa",Fp="Cv2QMWaKhio30Ly6ooMy";var Vp=s(2013);const Hp="JH2YWV6S4EdnOwZegpeM",Yp="epjDDZrsd6ca3K4_O6zc",Kp=(0,L.u)("TokenProvider");const zp=(0,H.createContext)(null);function Wp(e){return function(){const e=(0,H.useContext)(zp);if(null===e)throw new Error("Trying to use 'RegistryContext' without 'RegistryProvider'!");return e}().resolve(e)}const qp=()=>{const e=Wp(Kp),[t,s]=(0,H.useState)("");return(0,H.useEffect)((()=>{e.addOnNewTokenResponse((e=>{const t="object"==typeof e&&null!==e&&"totpValidUntil"in e&&"string"==typeof e.totpValidUntil?new Date(e.totpValidUntil):void 0;s((e=>{if(!e||isNaN(e.getTime()))return c.Ru.get("shared.ReloadBanner.text-soon");const t=e.getTime()-Date.now(),s=Math.floor(t/36e5);if(s<1)return c.Ru.get("shared.ReloadBanner.text-soon");if(s>=24){const e=Math.floor(s/24);return c.Ru.get("shared.ReloadBanner.text-days",e)}return c.Ru.get("shared.ReloadBanner.text-hours",s)})(t))}))}),[e]),t},Qp=(0,H.createContext)({isBannerVisible:!1,setIsBannerVisible:()=>{}});var $p=s(21053);function Zp(){const e=(()=>{const e=(0,d.NC)($p.Wl),t=Wp(Kp),[s,n]=(0,H.useState)(null),{isBannerVisible:i,setIsBannerVisible:a}=(0,H.useContext)(Qp);return(0,H.useEffect)((()=>{!e||"warning"!==s&&"error"!==s||a(!0)}),[e,a,s]),(0,H.useEffect)((()=>{e&&t.addOnNewTokenResponse((e=>{const t="object"==typeof e&&null!==e&&"totpVerExpired"in e&&"string"==typeof e.totpVerExpired?e.totpVerExpired:void 0;void 0!==t&&n(t)}))}),[t,e]),(0,H.useEffect)((()=>{if("error"!==s)return;const e=new URL(window.location.href);e.searchParams.get("_reload_cause")?(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"reload-banner-detected-error-loop",value:1}):(e.searchParams.set("_reload_cause","banner-auto-reload"),(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"reload-banner-auto-reload",value:1}),(0,u.UA)().catch((()=>{})).finally((()=>{window.location.href=e.toString()})))}),[s]),i})(),t=qp();return(0,H.useEffect)((()=>{(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:e?"reload-banner-shown":"reload-banner-not-shown",value:1})}),[e]),e?(0,Y.jsx)(Vp.l,{renderMessage:()=>(0,Y.jsx)(tr.E,{variant:"bodySmall",children:c.Ru.get("shared.ReloadBanner.text",t,(0,Y.jsx)("button",{onClick:()=>(()=>{const e=new URL(window.location.href);e.searchParams.set("_reload_cause","banner-user-click"),(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"reload-banner-user-click",value:1}),(0,u.UA)().catch((()=>{})).finally((()=>{window.location.href=e.toString()}))})(),className:Yp,children:c.Ru.get("shared.ReloadBanner.button-reload-now")}))}),className:Hp,"aria-live":"polite",role:"banner","aria-label":"Notification to reload the page"}):null}const Xp="upvLeukxLGVu1v5d3egY";function Jp(){return(0,Y.jsx)("div",{className:Xp,children:(0,Y.jsx)(Zp,{})})}const em=e=>{let{children:t}=e;const{ref:s,breakpoint:n}=Dp({[kp.E.XSMALL]:0,[kp.E.SMALL]:370},"width",i);var i;const a=(0,H.useRef)(null),o=(0,H.useRef)(null),r=(0,H.useMemo)((()=>({scrollNodeRef:a,scrollNodeChildRef:o})),[a,o]);return(0,Y.jsx)(Mp.o.Provider,{value:n,children:(0,Y.jsx)(Up.bi.Provider,{value:r,children:(0,Y.jsxs)("div",{className:Bp,ref:s,children:[(0,Y.jsx)(Jp,{}),(0,Y.jsx)("div",{className:rr()("encore-dark-theme",Gp),"data-main-scrollable-node":!0,ref:a,children:(0,Y.jsx)("div",{className:Fp,ref:o,children:t})})]})})})},tm="HfUwOUORWnCFBbBCn4Kg",sm="KhnsXnw36LhVmD7UOdXT",nm="PGeKQCU8Y3Y1Q1Ry9PDK",im="VPN6BL1nrllGVNTiflvm",am="PWNKAHL3DVRzhaBAFHVw",om=()=>{const e=(0,i.d4)((e=>e.toast)),[t,s]=(0,H.useState)(!1),{onAction:n}=(e=>{const{pathname:t}=(0,fr.zy)(),s=(0,fr.Zp)(),n=(0,i.wA)(),{instance:a}=(0,H.useContext)(Kd.Z);return{onAction:()=>{var i,o;switch(null===(i=e.action)||void 0===i?void 0:i.type){case pe._h.unlikedSong:null==a||a.addEntityToLibrary(null===(o=e.action)||void 0===o?void 0:o.payload),"/collection/tracks"===t&&s("/collection/tracks");break;default:case pe._h.likedSong:n(sn()),s("/collection/tracks")}n((0,io.h)())}}})(e);return(0,H.useEffect)((()=>{s(!!e.message)}),[e]),e.message?e.type===pe.kQ.ERROR?(0,Y.jsx)("div",{className:rr()(nm,am,tm,{[sm]:t}),children:(0,Y.jsx)(tr.E,{variant:"bodySmallBold",role:"alert",children:e.message})}):(0,Y.jsxs)("div",{className:rr()(nm,tm,{[sm]:t,[im]:Boolean(e.action)}),children:[(0,Y.jsx)(tr.E,{variant:"bodySmall",role:"alert",children:(o=e.message,o.replaceAll(/<\/?b>/g,""))}),e.action&&(0,Y.jsx)(nr.H,{size:"small",semanticColor:"textBrightAccent",onClick:n,children:null===(a=e.action)||void 0===a?void 0:a.text})]}):null;var a,o};var rm=s(8143);const lm="AUN1ndlgwHSsrATcSdmH",dm="m4UJquBsG9EK_3N71yZX",cm="XjKRzMjOiZxM2eciaoaN",um=e=>{let{children:t,className:s,backgroundColor:n,overlayBackgroundImage:i="none",overlayOpacity:a="0.8"}=e;return rm.createPortal((0,Y.jsxs)("div",{className:rr()("encore-light-theme","encore-layout-themes",lm,s),children:[(0,Y.jsx)("div",{className:dm,style:{"--overlay-background-image":i,"--overlay-opacity":a}}),(0,Y.jsx)("div",{className:cm,style:n?{"--content-background-color":n}:{},children:t})]}),document.body)},pm="JFH8mHbVOnvnh_7Yraou";class mm extends H.Component{static contextType=(()=>ar.gJ)();static getDerivedStateFromError(e){return{error:e}}state={error:null};componentDidCatch(e,t){this.props.onCaptureException(e,t)}render(){if(!this.state.error)return this.props.children;const{onReloadClick:e,onCtaClick:t}=this.props,s=this.context;return(0,Y.jsx)(um,{children:(0,Y.jsxs)("div",{className:pm,children:[(0,Y.jsx)(tr.E,{variant:"titleSmall",children:s.get("error.generic")}),(0,Y.jsx)(ir.$,{onClick:e,children:s.get("playlist.extender.refresh")}),(0,Y.jsx)(nr.H,{onClick:t,semanticColor:"textBase",children:s.get("mwp.cta.download.app")})]})})}}const hm=mm;var _m=s(51956);let ym=null;const bm=()=>(ym||(ym=_m.logger),ym),gm=e=>{var t;bm().error("Error boundary exception in the MWP",{cause:e,timestamp:(new Date).toISOString()}),(0,m.Cp)(e,{level:"error"}),(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"client-crash-error",value:1,tags:{pathname:qn(null===(t=window)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.pathname)}})},fm=e=>{let{children:t}=e;return(0,Y.jsx)(hm,{onCaptureException:gm,onReloadClick:()=>window.location.reload(),onCtaClick:()=>window.open((0,Fo.KY)().toString(),"_blank","noopener"),children:t})};let vm=function(e){return e.LOGGING_CATEGORY="l2l",e.LOGGING_CATEGORY_MWP="l2l-mwp",e}({});function Em(e){let{isPremiumUser:t,locationSearch:s,navigate:n,logNavigation:i,showDialog:a}=e;const o=!!(r=s)&&"1"===new URLSearchParams(r).get(vm.LOGGING_CATEGORY);var r;o&&(i(o),function(e,t){if(!e)return;const s=new URLSearchParams(e);s.delete(vm.LOGGING_CATEGORY),t({search:s.toString()},{replace:!0})}(s,n),o&&!t&&a())}var wm=s(35149);const Sm="PBG1TYHEQHdEoTb7wkcG",Rm="SCWjjsH9LU7fB7dh7ckH",Tm="Rol7FeqvDQe4o6ncwUHb";var Am=s(95545),xm=s(69918),Cm=s(42558);const Im="nbqf2zyem1QH5XHIkf76",km="szZjC5smlvkjHqwSEAib",Nm=e=>{let{icon:t,text:s,isActive:n,...i}=e;return(0,Y.jsxs)(Cm.k,{className:rr()(Im,{[km]:n}),...i,children:[(0,Y.jsx)(t,{size:"medium"}),(0,Y.jsx)(tr.E,{variant:"marginal",children:s})]})},Pm=()=>{const e=(0,ar.s9)(),t="upsell"===(0,fr.zy)().pathname.split("/")[1],s=dc(),n=(0,H.useCallback)((()=>{const e=(0,xm.E)().downloadButtonFactory().hitUiNavigate({destination:"/download"});s.logInteraction(e)}),[s]);return(0,Y.jsx)(Nm,{icon:Am.D,isActive:t,to:"/download",text:e.get("mwp.nav.get.app"),onClick:n},"logo")};var Lm=s(72343),jm=s(15093),Om=s(71767),Dm=s(87801);const Mm=()=>{const e=(0,ar.s9)(),t=(0,Dm.W)({type:"locale",uri:Ti.c.HOME})?(0,Om.hF)("/"):"/",s=(0,fr.zy)().pathname===t,n=dc(),i=(0,H.useCallback)((()=>{const e=(0,xm.E)().homeButtonFactory().hitUiNavigate({destination:t});n.logInteraction(e)}),[n,t]);return(0,Y.jsx)(Nm,{icon:s?Lm.x:jm.H,isActive:s,to:t,text:e.get("mwp.nav.home"),onClick:i},"home")};var Um=s(30494),Bm=s(93876);const Gm=()=>{const e=(0,ar.s9)(),t="search"===(0,fr.zy)().pathname.split("/")[1],s=dc(),n=(0,H.useCallback)((()=>{const e=(0,xm.E)().searchButtonFactory().hitUiNavigate({destination:"/search"});s.logInteraction(e)}),[s]);return(0,Y.jsx)(Nm,{icon:t?Um.g:Bm.C,isActive:t,to:"/search",text:e.get("mwp.nav.search"),onClick:n},"search")};var Fm=s(24620);const Vm="RRD552bg5p_elJZTkA1L",Hm="HGt0GSTTXkWoOOh1hMHb",Ym="feLaqqAsCbsgYApdq92p",Km="Sji_v8PlAwMbp9bQxgxN",zm="pb3qoDvCexQ35YqYkuwz";var Wm=s(82493);const qm="zXU3DHINPpWtkxkqBDyX",Qm="sfejoIsRwklgDmgDVz7q",$m=e=>{let{children:t,className:s,arrowClassName:n,disableAutoFocus:i}=e;const a=(0,H.useRef)(null);return(()=>{const e=(0,H.useRef)(null);(0,H.useEffect)((()=>(e.current=document.activeElement,()=>{var t;null===(t=e.current)||void 0===t||t.focus({preventScroll:!0})})),[])})(),(e=>{let{ref:t,getFocusElement:s,onFocus:n,preventScroll:i,deps:a=[]}=e;const o=(0,H.useRef)(s),r=(0,H.useRef)(n);o.current=s,r.current=n,(0,H.useEffect)((()=>{var e;const s=(null===(e=o.current)||void 0===e?void 0:e.call(o,t.current))??t.current;var a;n?null===(a=r.current)||void 0===a||a.call(r,s):null==s||s.focus({preventScroll:i})}),a)})({ref:i?{current:null}:a,preventScroll:!0}),(0,Y.jsxs)("div",{...i&&{tabIndex:-1},ref:a,onClick:e=>{e.stopPropagation()},onContextMenu:e=>{e.stopPropagation()},className:rr()(qm,s),children:[t,(0,Y.jsx)("div",{"data-popper-arrow":"",className:rr()(Qm,n)})]})};var Zm=s(24484);const Xm=()=>{const e=(0,ar.s9)(),t=(0,Zm.Oj)();return(0,Y.jsx)(Wm.A,{timeout:300,in:!0,appear:!0,unmountOnExit:!0,classNames:{appear:Ym,appearActive:Km},children:(0,Y.jsx)($m,{className:`${Vm} encore-dark-theme encore-layout-themes`,children:(0,Y.jsxs)("div",{className:Hm,children:[(0,Y.jsx)(tr.E,{as:"div",variant:"bodyMediumBold",children:e.get("action-trigger.enjoy-library")}),(0,Y.jsx)(tr.E,{as:"div",variant:"bodySmall",children:e.get("mwp.your-library.upsell.body")}),(0,Y.jsxs)("div",{className:zm,children:[(0,Y.jsx)(nr.H,{semanticColor:"textBase",onClick:()=>{t({type:"close"})},children:e.get("action-trigger.button.not-now")}),(0,Y.jsx)(ir.$,{colorSet:"invertedLight",onClick:()=>{window.open(wr((0,Ze.o_h)("spotify:collection")).toString(),"_blank","noopener")},children:e.get("action-trigger.button.get-app")})]})]})})})};var Jm=s(95089);const eh=()=>{const e=(0,ar.s9)(),t=(0,i.d4)((e=>{let{session:t}=e;return t.isAnonymous})),s=dc(),n=(0,Dm.W)({uri:Ti.c.HOME,type:"locale"})?(0,Om.hF)("/"):"/",[a,o]=(0,H.useState)(!1),r=(0,d.NC)(W.v6)!==W.ah.Default,l=(0,H.useMemo)((()=>(0,Y.jsx)(Xm,{})),[]),c=(0,H.useCallback)((e=>{e.preventDefault(),o(!0);const t=(0,xm.E)().yourLibraryButtonFactory().hitUiNavigate({destination:n});s.logInteraction(t)}),[n,s]);return!r&&t?null:(0,Y.jsx)(Jm.y,{trigger:"click",action:"open",placement:"top",renderInline:!1,offset:[0,20],content:l,onHide:()=>{o(!1)},children:(0,Y.jsx)(Nm,{icon:Fm.M,isActive:a,onClick:c,to:n,text:e.get("navbar.your-library")},"library")},"library")};var th=s(68729);const sh=()=>{const e=dc(),t=(0,H.useCallback)((()=>{const t=(0,xm.E)().premiumButtonFactory().hitUiNavigate({destination:th.BW});e.logInteraction(t),window.open(th.BW,"_blank","noopener")}),[e]);return(0,Y.jsxs)(nr.H,{className:Im,onClick:t,size:"medium",condensedAll:!0,children:[(0,Y.jsx)(Am.D,{size:"medium"}),(0,Y.jsx)(tr.E,{variant:"marginal",children:"Premium"})]})},nh=()=>{const e=(0,ar.s9)(),t=(0,ip.V)(),s=(0,i.d4)((e=>{var t;return(null===(t=e.session.me)||void 0===t||null===(t=t.account)||void 0===t||null===(t=t.attributes)||void 0===t?void 0:t.dsaModeEnabled)??!1})),[n,a]=(0,H.useState)(!1);return(0,H.useEffect)((()=>{a("undefined"!=typeof window&&window.location.search.includes("__dsaTest__=true"))}),[]),(0,Y.jsxs)("div",{className:Sm,"data-testid":"bottom-tab-navigation",children:[(0,Y.jsxs)("div",{className:Rm,children:[(0,Y.jsx)(Sr.p,{value:"browse",children:(0,Y.jsx)(Mm,{})}),(0,Y.jsx)(Sr.p,{value:"search",children:(0,Y.jsx)(Gm,{})}),(0,Y.jsx)(Sr.p,{value:"collection",children:(0,Y.jsx)(eh,{})}),t?(0,Y.jsx)(Sr.p,{value:"navigateToPremium",children:(0,Y.jsx)(sh,{})}):(0,Y.jsx)(Sr.p,{value:"getapp",children:(0,Y.jsx)(Pm,{})})]}),(s||n)&&(0,Y.jsx)("div",{className:Tm,children:(0,Y.jsx)(tr.E,{variant:"bodySmall",semanticColor:"textSubdued",children:e.get("mwp.dsa.personalisation_off")})})]})},ih="Rj38soYIO7xO9JyFZM7x",ah="pXPrDQuZwVTOvkQhu92j",oh="VRq4id4IImgH9ykK7Gj1",rh="TtMOUDL5GeQa5xjmtQun",lh="yamyVSBHov2rOuWLOQ1_",dh="HwrcB8qIw0GUzgugTyhC",ch="y7JZhjvVEjC0pumwW5iV",uh="AT0VzqPjjNnA8nQlO1TQ",ph="xH68Uo5InE9BgRmZo6Fl";var mh=s(38470);const hh=H.memo((()=>{const e=(0,i.d4)((e=>{var t;return(null===(t=e.playback)||void 0===t||null===(t=t.current)||void 0===t?void 0:t.position)||0})),t=H.useRef(e),[s,n]=(0,H.useState)(!1),a=(0,i.d4)((e=>{var t;return null===(t=e.playback)||void 0===t||null===(t=t.current)||void 0===t?void 0:t.playback_speed}))??1,o=(0,i.d4)((e=>{var t;return null===(t=e.playback)||void 0===t||null===(t=t.current)||void 0===t?void 0:t.duration}))??0,r=(0,i.d4)((e=>{var t;return null===(t=e.playback)||void 0===t||null===(t=t.current)||void 0===t?void 0:t.paused}))??!1;(0,H.useEffect)((()=>{const s=setTimeout((()=>{t.current=e,n(!1)}),20);return n(!0),t.current=e,()=>{clearTimeout(s)}}),[e,o]);const l=t.current,d=o/(a||1),c=r?"paused":"running",u="progress-"+(s?"reset":"start");return(0,Y.jsx)("div",{className:ch,children:(0,Y.jsx)("div",{className:uh,style:{"--animationName":u,"--finalAnimationDuration":`${d}ms`,"--animationDelay":`-${l}ms`,"--animationPlayState":c}})})}));var _h=s(71688),yh=s(98576),bh=s(31760),gh=s(6742);const fh=()=>{const e=(0,i.d4)((e=>{var t;return null===(t=e.playback.current)||void 0===t?void 0:t.paused})),t=(0,i.d4)((e=>e.playback.isBuffering));let s=(0,Y.jsx)(bh._,{});e&&(s=(0,Y.jsx)(gh.A,{}));const n=(0,i.wA)();return(0,Y.jsx)("div",{className:t?ph:"",children:(0,Y.jsx)("button",{disabled:t,onClick:e=>{n((0,gn.d5)(Kn.SR.LABEL.NOW_PLAYING_BAR)),e.stopPropagation()},className:dh,"data-test-id":"play-pause-button",children:s})})};var vh=s(23423),Eh=s(44272),wh=s(566);const Sh=()=>!0,Rh=()=>(e=>{const t=(0,H.useMemo)((()=>Np()?null:window.matchMedia(e)),[e]),s=(0,H.useCallback)((e=>t&&t.addEventListener?(t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}):()=>{}),[t]),n=(0,H.useCallback)((()=>!t||t.matches),[t]);return(0,H.useSyncExternalStore)(s,n,Sh)})("(prefers-reduced-motion: reduce)"),Th=(0,H.memo)((function(e){let{size:t,onEnd:s}=e;return(0,Y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:1.3*t,height:1.3*t,viewBox:"0 0 384 384",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:`-${(1.3*t-t)/2}px`},children:[(0,Y.jsxs)("g",{id:"_R_G",children:[(0,Y.jsx)("g",{id:"_R_G_L_4_G_N_3_N_1_T_0_M",children:(0,Y.jsx)("g",{id:"_R_G_L_4_G_N_3_N_1_T_0",children:(0,Y.jsx)("g",{id:"_R_G_L_4_G_N_3_T_0",transform:" translate(0, 0)",children:(0,Y.jsx)("g",{id:"_R_G_L_4_G",transform:" translate(0, 0.006) translate(0, 0)",children:(0,Y.jsx)("path",{id:"_R_G_L_4_G_D_0_P_0",fill:"#b3b3b3",fillOpacity:"1",fillRule:"nonzero",d:" M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z "})})})})}),(0,Y.jsx)("g",{id:"_R_G_L_3_G_N_2_N_1_T_0_M",children:(0,Y.jsx)("g",{id:"_R_G_L_3_G_N_2_N_1_T_0",children:(0,Y.jsx)("g",{id:"_R_G_L_3_G_N_2_T_0",transform:" translate(0, 0)",children:(0,Y.jsx)("g",{id:"_R_G_L_3_G",children:(0,Y.jsx)("path",{id:"_R_G_L_3_G_D_0_P_0",fill:"#b3b3b3",fillOpacity:"1",fillRule:"nonzero",d:" M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z "})})})})}),(0,Y.jsx)("g",{id:"_R_G_L_2_G_N_2_N_1_T_0_M",children:(0,Y.jsx)("g",{id:"_R_G_L_2_G_N_2_N_1_T_0",children:(0,Y.jsx)("g",{id:"_R_G_L_2_G_N_2_T_0",transform:" translate(0, 0)",children:(0,Y.jsx)("g",{id:"_R_G_L_2_G",children:(0,Y.jsx)("path",{id:"_R_G_L_2_G_D_0_P_0",stroke:"#b3b3b3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:"14",strokeOpacity:"1",d:" M0 -162 C89.41,-162 162,-89.41 162,0 C162,89.41 89.41,162 0,162 C-89.41,162 -162,89.41 -162,0 C-162,-89.41 -89.41,-162 0,-162z "})})})})}),(0,Y.jsx)("g",{id:"_R_G_L_1_G_N_2_N_1_T_0_M",children:(0,Y.jsx)("g",{id:"_R_G_L_1_G_N_2_N_1_T_0",children:(0,Y.jsx)("g",{id:"_R_G_L_1_G_N_2_T_0",transform:" translate(0, 0)",children:(0,Y.jsx)("g",{id:"_R_G_L_1_G",children:(0,Y.jsx)("path",{id:"_R_G_L_1_G_D_0_P_0",fill:"#b3b3b3",fillOpacity:"1",fillRule:"nonzero",d:" M96 -7 C96,-7 96,7 96,7 C96,7 -96,7 -96,7 C-96,7 -96,-7 -96,-7 C-96,-7 96,-7 96,-7z  M7 -96 C7,-96 7,96 7,96 C7,96 -7,96 -7,96 C-7,96 -7,-96 -7,-96 C-7,-96 7,-96 7,-96z "})})})})}),(0,Y.jsx)("g",{id:"_R_G_L_0_G_N_2_N_1_T_0_M",children:(0,Y.jsx)("g",{id:"_R_G_L_0_G_N_2_N_1_T_0",children:(0,Y.jsx)("g",{id:"_R_G_L_0_G_N_2_T_0",transform:" translate(0, 0)",children:(0,Y.jsx)("g",{id:"_R_G_L_0_G",transform:" rotate(-130) scale(1.03, 1.03)",children:(0,Y.jsx)("path",{id:"_R_G_L_0_G_D_0_P_0",fill:"#1ed760",fillOpacity:"1",fillRule:"nonzero",d:" M-92.21 15.2 C-92.21,15.2 -27.04,91.53 -27.04,91.53 C-27.04,91.53 94.27,-50.53 94.27,-50.53 C94.27,-50.53 75.27,-66.67 75.27,-66.67 C75.27,-66.67 -27.04,53.15 -27.04,53.15 C-27.04,53.15 -75.83,-3.92 -75.83,-3.92 C-75.83,-3.92 -92.21,15.2 -92.21,15.2z  M-162 0 C-162,-89.47 -89.47,-162 0,-162 C89.47,-162 162,-89.47 162,0 C162,89.47 89.47,162 0,162 C-89.47,162 -162,89.47 -162,0z "})})})})})]}),(0,Y.jsx)("g",{id:"time_group"}),(0,Y.jsxs)("defs",{children:[(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:"#b3b3b3",to:"#b3b3b3",keyTimes:"0;0.9090909;0.9545455;1",values:"#b3b3b3;#1db954;#1ed760;#1ed760",keySplines:"0 0 0 1;0.328 0.103 0.661 1;0 0 0 0",calcMode:"spline",ref:e=>{e&&e.addEventListener("endEvent",s,{once:!0})}}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z ",to:"M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z ",keyTimes:"0;0.9545455;1",values:"M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ",keySplines:"0 0 0.34 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_T_0",fill:"freeze",attributeName:"transform",from:"1 1",to:"0.99 0.99",type:"scale",additive:"sum",keyTimes:"0;0.9545455;1",values:"1 1;0.99 0.99;0.99 0.99",keySplines:"0.692 0 0.64 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:"#b3b3b3",to:"#b3b3b3",keyTimes:"0;0.1818182;0.4545455;1",values:"#b3b3b3;#b3b3b3;#121212;#121212",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z ",to:"M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z ",keyTimes:"0;0.9545455;1",values:"M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z  M6 -96 C6,-96 6,96 6,96 C6,96 -6,96 -6,96 C-6,96 -6,-96 -6,-96 C-6,-96 6,-96 6,-96z ;M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z  M87.74 -37.48 C87.74,-37.48 70.28,60.99 70.28,60.99 C70.28,60.99 46.22,61 46.22,61 C46.22,61 62.59,-37.21 62.59,-37.21 C62.59,-37.21 87.74,-37.48 87.74,-37.48z ;M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z  M87.74 -37.48 C87.74,-37.48 70.28,60.99 70.28,60.99 C70.28,60.99 46.22,61 46.22,61 C46.22,61 62.59,-37.21 62.59,-37.21 C62.59,-37.21 87.74,-37.48 87.74,-37.48z ",keySplines:"0.66 0 0.34 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.0454545;0.0454546;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.0454545;0.0454546;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.7727273;0.9545455;1",values:"0;0;1;1",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"0",to:"130",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"0;130;130",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 192 C192,192 192,198 192,198 C192,198 192,198 192,198 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.7727273;0.7727318;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{attributeType:"XML",attributeName:"opacity",dur:"0s",from:"0",to:"1",xlinkHref:"#time_group"})]})]})})),Ah=(0,H.memo)((function(e){let{size:t,onEnd:s}=e;return(0,Y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:1.3*t,height:1.3*t,viewBox:"0 0 384 384",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:`-${(1.3*t-t)/2}px`},children:[(0,Y.jsxs)("g",{id:"_R_G",children:[(0,Y.jsx)("g",{id:"_R_G_L_4_G_N_3_N_1_T_0_M",children:(0,Y.jsx)("g",{id:"_R_G_L_4_G_N_3_N_1_T_0",children:(0,Y.jsx)("g",{id:"_R_G_L_4_G_N_3_T_0",transform:" translate(0, 0)",children:(0,Y.jsx)("g",{id:"_R_G_L_4_G",transform:" translate(0, 0.006) translate(0, 0)",children:(0,Y.jsx)("path",{id:"_R_G_L_4_G_D_0_P_0",fill:"#1ed760",fillOpacity:"1",fillRule:"nonzero",d:" M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z "})})})})}),(0,Y.jsx)("g",{id:"_R_G_L_3_G_N_2_N_1_T_0_M",children:(0,Y.jsx)("g",{id:"_R_G_L_3_G_N_2_N_1_T_0",children:(0,Y.jsx)("g",{id:"_R_G_L_3_G_N_2_T_0",transform:" translate(0, 0)",children:(0,Y.jsx)("g",{id:"_R_G_L_3_G",children:(0,Y.jsx)("path",{id:"_R_G_L_3_G_D_0_P_0",fill:"#121212",fillOpacity:"1",fillRule:"nonzero",d:" M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z "})})})})}),(0,Y.jsx)("g",{id:"_R_G_L_2_G_N_2_N_1_T_0_M",children:(0,Y.jsx)("g",{id:"_R_G_L_2_G_N_2_N_1_T_0",children:(0,Y.jsx)("g",{id:"_R_G_L_2_G_N_2_T_0",transform:" translate(0, 0)",children:(0,Y.jsx)("g",{id:"_R_G_L_2_G",transform:" rotate(-130) scale(1.03, 1.03)",children:(0,Y.jsx)("path",{id:"_R_G_L_2_G_D_0_P_0",fill:"#1ed760",fillOpacity:"1",fillRule:"nonzero",d:" M-92.21 15.2 C-92.21,15.2 -27.04,91.53 -27.04,91.53 C-27.04,91.53 94.27,-50.53 94.27,-50.53 C94.27,-50.53 75.27,-66.67 75.27,-66.67 C75.27,-66.67 -27.04,53.15 -27.04,53.15 C-27.04,53.15 -75.83,-3.92 -75.83,-3.92 C-75.83,-3.92 -92.21,15.2 -92.21,15.2z  M-162 0 C-162,-89.47 -89.47,-162 0,-162 C89.47,-162 162,-89.47 162,0 C162,89.47 89.47,162 0,162 C-89.47,162 -162,89.47 -162,0z "})})})})}),(0,Y.jsx)("g",{id:"_R_G_L_1_G_N_2_N_1_T_0_M",children:(0,Y.jsx)("g",{id:"_R_G_L_1_G_N_2_N_1_T_0",children:(0,Y.jsx)("g",{id:"_R_G_L_1_G_N_2_T_0",transform:" translate(0, 0)",children:(0,Y.jsx)("g",{id:"_R_G_L_1_G",children:(0,Y.jsx)("path",{id:"_R_G_L_1_G_D_0_P_0",fill:"#b3b3b3",fillOpacity:"1",fillRule:"nonzero",d:" M96 -7 C96,-7 96,7 96,7 C96,7 -96,7 -96,7 C-96,7 -96,-7 -96,-7 C-96,-7 96,-7 96,-7z  M7 -96 C7,-96 7,96 7,96 C7,96 -7,96 -7,96 C-7,96 -7,-96 -7,-96 C-7,-96 7,-96 7,-96z "})})})})}),(0,Y.jsx)("g",{id:"_R_G_L_0_G_N_2_N_1_T_0_M",children:(0,Y.jsx)("g",{id:"_R_G_L_0_G_N_2_N_1_T_0",children:(0,Y.jsx)("g",{id:"_R_G_L_0_G_N_2_T_0",transform:" translate(0, 0)",children:(0,Y.jsx)("g",{id:"_R_G_L_0_G",children:(0,Y.jsx)("path",{id:"_R_G_L_0_G_D_0_P_0",stroke:"#b3b3b3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:"14",strokeOpacity:"1",d:" M0 -162 C89.41,-162 162,-89.41 162,0 C162,89.41 89.41,162 0,162 C-89.41,162 -162,89.41 -162,0 C-162,-89.41 -89.41,-162 0,-162z "})})})})})]}),(0,Y.jsx)("g",{id:"time_group"}),(0,Y.jsxs)("defs",{children:[(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:"#1ed760",to:"#1ed760",keyTimes:"0;0.9545455;1",values:"#1ed760;#b3b3b3;#b3b3b3",keySplines:"1 0 1 1;0 0 0 0",calcMode:"spline",ref:e=>{e&&e.addEventListener("endEvent",s,{once:!0})}}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z ",to:"M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z ",keyTimes:"0;0.9545455;1",values:"M-0.2 -0.01 C-0.2,0.1 -0.11,0.19 0,0.19 C0.11,0.19 0.2,0.1 0.2,-0.01 C0.2,-0.11 0.11,-0.2 0,-0.2 C-0.11,-0.2 -0.2,-0.11 -0.2,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ;M-156 -0.01 C-156,86.02 -86.02,155.99 0,155.99 C86.02,155.99 156,86.02 156,-0.01 C156,-86.03 86.02,-156.01 0,-156.01 C-86.02,-156.01 -156,-86.02 -156,-0.01z  M-168 0 C-168,-92.78 -92.78,-168 0,-168 C92.78,-168 168,-92.79 168,0 C168,92.78 92.78,168 0,168 C-92.78,168 -168,92.78 -168,0z ",keySplines:"0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_T_0",fill:"freeze",attributeName:"transform",from:"0.99 0.99",to:"1 1",type:"scale",additive:"sum",keyTimes:"0;0.9545455;1",values:"0.99 0.99;1 1;1 1",keySplines:"0.66 0 0.34 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_4_G_N_3_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:"#121212",to:"#121212",keyTimes:"0;0.0454545;0.1818182;1",values:"#121212;#121212;#b3b3b3;#b3b3b3",keySplines:"0.167 0.167 0.833 0.833;0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z ",to:"M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z ",keyTimes:"0;0.9545455;1",values:"M87.22 -37.47 C87.22,-37.47 83.61,-14.6 83.61,-14.6 C83.61,-14.6 -98.73,-15.53 -98.73,-15.53 C-98.73,-15.53 -98.93,-39.44 -98.93,-39.44 C-98.93,-39.44 87.22,-37.47 87.22,-37.47z  M87.74 -37.48 C87.74,-37.48 70.28,60.99 70.28,60.99 C70.28,60.99 46.22,61 46.22,61 C46.22,61 62.59,-37.21 62.59,-37.21 C62.59,-37.21 87.74,-37.48 87.74,-37.48z ;M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z  M6 -96 C6,-96 6,96 6,96 C6,96 -6,96 -6,96 C-6,96 -6,-96 -6,-96 C-6,-96 6,-96 6,-96z ;M96 -6 C96,-6 96,6 96,6 C96,6 -96,6 -96,6 C-96,6 -96,-6 -96,-6 C-96,-6 96,-6 96,-6z  M6 -96 C6,-96 6,96 6,96 C6,96 -6,96 -6,96 C-6,96 -6,-96 -6,-96 C-6,-96 6,-96 6,-96z ",keySplines:"0.66 0 0.34 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_3_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"0",keyTimes:"0;0.0454545;0.0454591;0.9545455;0.9545455;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_2_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"1",to:"0",keyTimes:"0;0.0454545;0.0454546;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.9545455;0.95455;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:"-230",to:"0",type:"rotate",additive:"sum",keyTimes:"0;0.9545455;1",values:"-230;0;0",keySplines:"0.8 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0",fill:"freeze",keyTimes:"0;0.9545455;1",path:"M192 198 C192,198 192,192 192,192 C192,192 192,192 192,192 ",keyPoints:"0;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.36666666666666664s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:"0",to:"1",keyTimes:"0;0.9545455;0.95455;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{attributeType:"XML",attributeName:"opacity",dur:"0s",from:"0",to:"1",xlinkHref:"#time_group"})]})]})})),xh=(0,H.memo)((function(e){let{size:t,onEnd:s}=e;const n=t>16?2.35:2.5;return(0,Y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:t*n,height:t*n,viewBox:"0 0 224 224",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:`-${(t*n-t)/2}px`},children:[(0,Y.jsxs)("defs",{children:[(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_D_0_P_0",fill:"freeze",attributeName:"stroke-width",from:30,to:0,keyTimes:"0;0.1219512;0.804878;1",values:"30;30;0;0",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline",ref:e=>{e&&e.addEventListener("endEvent",s,{once:!0})}}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_D_0_P_0",fill:"freeze",attributeName:"rx",from:15,to:110,keyTimes:"0;0.1219512;0.804878;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_D_0_P_0",fill:"freeze",attributeName:"ry",from:15,to:110,keyTimes:"0;0.1219512;0.804878;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.1219512;0.804878;1",values:"1;1;0;0",keySplines:"0.2 0 0.4 1;0.2 0 0.4 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_7_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.1219512;0.1219537;0.8292683;0.8292683;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_D_0_P_0",fill:"freeze",attributeName:"stroke-width",from:30,to:0,keyTimes:"0;0.2926829;0.9756098;1",values:"30;30;0;0",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_D_0_P_0",fill:"freeze",attributeName:"rx",from:15,to:110,keyTimes:"0;0.2926829;0.9756098;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_D_0_P_0",fill:"freeze",attributeName:"ry",from:15,to:110,keyTimes:"0;0.2926829;0.9756098;1",values:"15;15;110;110",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.2926829;0.9756098;1",values:"1;1;0;0",keySplines:"0.2 0 0.4 1;0.2 0 0.4 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_6_G_M",fill:"freeze",attributeName:"opacity",from:0,to:1,keyTimes:"0;0.2926829;0.2926854;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.7804878;1",values:"1;0;0",keySplines:"0.6 0 0.7 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G",fill:"freeze",keyTimes:"0;0.7804878;1",path:"M122.25 123.17 C200.25,137.25 197.5,23.92 197.5,23.92 C197.5,23.92 197.5,23.92 197.5,23.92 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.7804878;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_5_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.804878;0.8048781;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.6585366;1",values:"1;0;0",keySplines:"0.6 0 1 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G",fill:"freeze",keyTimes:"0;0.6585366;1",path:"M98 105.92 C19.75,106.25 32.25,37.42 32.25,37.42 C32.25,37.42 32.25,37.42 32.25,37.42 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.6585366;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_4_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.6829268;0.6829269;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.7317073;1",values:"1;0;0",keySplines:"0.6 0 1 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G",fill:"freeze",keyTimes:"0;0.7317073;1",path:"M112.5 123.17 C73.75,194.5 72,43.17 72,43.17 C72,43.17 72,43.17 72,43.17 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.7317073;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_3_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.804878;0.8048781;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.804878;1",values:"1;0;0",keySplines:"0.6 0 1 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G",fill:"freeze",keyTimes:"0;0.804878;1",path:"M112 134.92 C160.75,190.75 155.25,45.67 155.25,45.67 C155.25,45.67 155.25,45.67 155.25,45.67 ",keyPoints:"0;1;1",keySplines:"0.95 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G",fill:"freeze",attributeName:"transform",from:"0.6 0.6",to:"0.9 0.9",type:"scale",additive:"sum",keyTimes:"0;0.804878;1",values:"0.6 0.6;0.9 0.9;0.9 0.9",keySplines:"0.8 0 0.8 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_2_G_M",fill:"freeze",attributeName:"opacity",from:0,to:0,keyTimes:"0;0.2439024;0.2439049;0.8536585;0.8536586;1",values:"0;0;1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_0",fill:"freeze",attributeName:"fill",from:yh.ONy,to:yh.ONy,keyTimes:"0;0.1219512;0.2439024;1",values:"#ffffff;#ffffff;#1db954;#1db954",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_0",fill:"freeze",attributeName:"d",attributeType:"XML",from:"M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z ",to:"M0.03 0 C0.02,0 0.02,0 0.02,0 C0.01,0 0.01,0 0.01,-0.01 C0.01,-0.01 0.01,-0.01 0.01,-0.01 C0,-0.01 0,-0.01 0,-0.01 C0,-0.01 0,-0.01 -0.01,-0.01 C-0.01,-0.01 -0.01,-0.01 -0.01,-0.01 C-0.01,0 -0.01,0 -0.01,0 C-0.02,0 -0.02,0 -0.02,0 C-0.03,0 -0.03,0 -0.03,-0.01 C-0.04,-0.01 -0.04,-0.01 -0.04,-0.02 C-0.04,-0.02 -0.04,-0.02 -0.04,-0.02 C-0.04,-0.03 -0.04,-0.03 -0.03,-0.03 C-0.03,-0.03 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0.03,-0.03 0.03,-0.03 C0.03,-0.03 0.03,-0.03 0.03,-0.03 C0.04,-0.03 0.04,-0.03 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.01 0.04,-0.01 0.03,-0.01 C0.03,0 0.03,0 0.03,0z ",keyTimes:"0;0.1219512;0.2439024;1",values:"M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z ;M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z ;M0.03 0 C0.02,0 0.02,0 0.02,0 C0.01,0 0.01,0 0.01,-0.01 C0.01,-0.01 0.01,-0.01 0.01,-0.01 C0,-0.01 0,-0.01 0,-0.01 C0,-0.01 0,-0.01 -0.01,-0.01 C-0.01,-0.01 -0.01,-0.01 -0.01,-0.01 C-0.01,0 -0.01,0 -0.01,0 C-0.02,0 -0.02,0 -0.02,0 C-0.03,0 -0.03,0 -0.03,-0.01 C-0.04,-0.01 -0.04,-0.01 -0.04,-0.02 C-0.04,-0.02 -0.04,-0.02 -0.04,-0.02 C-0.04,-0.03 -0.04,-0.03 -0.03,-0.03 C-0.03,-0.03 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0.03,-0.03 0.03,-0.03 C0.03,-0.03 0.03,-0.03 0.03,-0.03 C0.04,-0.03 0.04,-0.03 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.01 0.04,-0.01 0.03,-0.01 C0.03,0 0.03,0 0.03,0z ;M0.03 0 C0.02,0 0.02,0 0.02,0 C0.01,0 0.01,0 0.01,-0.01 C0.01,-0.01 0.01,-0.01 0.01,-0.01 C0,-0.01 0,-0.01 0,-0.01 C0,-0.01 0,-0.01 -0.01,-0.01 C-0.01,-0.01 -0.01,-0.01 -0.01,-0.01 C-0.01,0 -0.01,0 -0.01,0 C-0.02,0 -0.02,0 -0.02,0 C-0.03,0 -0.03,0 -0.03,-0.01 C-0.04,-0.01 -0.04,-0.01 -0.04,-0.02 C-0.04,-0.02 -0.04,-0.02 -0.04,-0.02 C-0.04,-0.03 -0.04,-0.03 -0.03,-0.03 C-0.03,-0.03 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0,-0.07 0,-0.07 C0,-0.07 0.03,-0.03 0.03,-0.03 C0.03,-0.03 0.03,-0.03 0.03,-0.03 C0.04,-0.03 0.04,-0.03 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.02 0.04,-0.02 0.04,-0.02 C0.04,-0.01 0.04,-0.01 0.03,-0.01 C0.03,0 0.03,0 0.03,0z ",keySplines:"0.333 0 0.667 1;0.333 0 0.667 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_1",fill:"freeze",attributeName:"fill",from:yh.ONy,to:yh.ONy,keyTimes:"0;0.1219512;0.2439024;1",values:"#ffffff;#ffffff;#1db954;#1db954",keySplines:"0 0 0 1;0 0 0 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G",fill:"freeze",attributeName:"opacity",from:.7000000000000001,to:1,keyTimes:"0;0.1219512;1",values:"0.7000000000000001;1;1",keySplines:"0.167 0.167 0.833 0.833;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_1_T_0",fill:"freeze",attributeName:"transform",from:"1 1",to:"1 1",type:"scale",additive:"sum",keyTimes:"0;0.1219512;0.2439024;0.5121951;1",values:"1 1;0.8 0.8;1.25 1.25;1 1;1 1",keySplines:"0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.2439024;0.2439025;1",values:"1;1;0;0",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G_D_1_P_0",fill:"freeze",attributeName:"stroke-width",from:2,to:1,keyTimes:"0;0.2439024;0.5121951;1",values:"2;2;1;1",keySplines:"0.333 0 0 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"transform",from:"4 4",to:"4 4",type:"scale",additive:"sum",keyTimes:"0;0.2439024;0.5121951;1",values:"4 4;4 4;4 4;4 4",keySplines:"0.333 0 0 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_1_T_0",fill:"freeze",attributeName:"transform",from:"1 1",to:"1 1",type:"scale",additive:"sum",keyTimes:"0;0.1219512;0.2439024;0.5121951;1",values:"1 1;0.8 0.8;1.25 1.25;1 1;1 1",keySplines:"0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.6833333s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_1_T_0_M",fill:"freeze",attributeName:"opacity",from:0,to:1,keyTimes:"0;0.2439024;0.2439049;1",values:"0;0;1;1",keySplines:"0 0 0 0;0 0 0 0;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{attributeType:"XML",attributeName:"opacity",dur:"1s",from:0,to:1,xlinkHref:"#time_group"})]}),(0,Y.jsxs)("g",{id:"_R_G",children:[(0,Y.jsx)("g",{id:"_R_G_L_7_G_M",children:(0,Y.jsx)("g",{id:"_R_G_L_7_G",transform:" translate(112, 112) translate(0, 0)",children:(0,Y.jsx)("g",{id:"_R_G_L_7_G_D_0_P_0_G_0_T_0",children:(0,Y.jsx)("ellipse",{id:"_R_G_L_7_G_D_0_P_0",stroke:yh.imx,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:30,strokeOpacity:1,cx:0,cy:0})})})}),(0,Y.jsx)("g",{id:"_R_G_L_6_G_M",children:(0,Y.jsx)("g",{id:"_R_G_L_6_G",transform:" translate(112, 112) translate(0, 0)",children:(0,Y.jsx)("g",{id:"_R_G_L_6_G_D_0_P_0_G_0_T_0",children:(0,Y.jsx)("ellipse",{id:"_R_G_L_6_G_D_0_P_0",stroke:yh.imx,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:30,strokeOpacity:1,cx:0,cy:0})})})}),(0,Y.jsx)("g",{id:"_R_G_L_5_G_M",children:(0,Y.jsx)("g",{id:"_R_G_L_5_G",children:(0,Y.jsx)("path",{id:"_R_G_L_5_G_D_0_P_0",fill:yh.ONy,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "})})}),(0,Y.jsx)("g",{id:"_R_G_L_4_G_M",children:(0,Y.jsx)("g",{id:"_R_G_L_4_G",children:(0,Y.jsx)("path",{id:"_R_G_L_4_G_D_0_P_0",fill:yh.imx,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "})})}),(0,Y.jsx)("g",{id:"_R_G_L_3_G_M",children:(0,Y.jsx)("g",{id:"_R_G_L_3_G",children:(0,Y.jsx)("path",{id:"_R_G_L_3_G_D_0_P_0",fill:yh.ONy,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "})})}),(0,Y.jsx)("g",{id:"_R_G_L_2_G_M",children:(0,Y.jsx)("g",{id:"_R_G_L_2_G",children:(0,Y.jsx)("path",{id:"_R_G_L_2_G_D_0_P_0",fill:yh.imx,fillOpacity:1,fillRule:"nonzero",d:" M22.28 -19.53 C16.88,-24.89 8.3,-25.2 2.54,-20.44 C2.54,-20.44 1.5,-19.48 0,-19.48 C-1.54,-19.48 -2.54,-20.44 -2.54,-20.44 C-8.3,-25.2 -16.86,-24.86 -22.24,-19.53 C-28,-13.81 -28,-4.51 -22.24,1.21 C-22.24,1.21 -4.04,22.54 -4.04,22.54 C-1.91,25.03 1.91,25.03 4.04,22.54 C4.04,22.54 22.28,1.21 22.28,1.21 C28,-4.51 28.05,-13.81 22.28,-19.53z "})})}),(0,Y.jsx)("g",{id:"_R_G_L_1_G_N_1_T_0_M",children:(0,Y.jsx)("g",{id:"_R_G_L_1_G_N_1_T_0",transform:" translate(112, 112)",children:(0,Y.jsxs)("g",{id:"_R_G_L_1_G",transform:" scale(4, 4)",children:[(0,Y.jsx)("path",{id:"_R_G_L_1_G_D_0_P_0",fill:yh.ONy,fillOpacity:1,fillRule:"nonzero",d:" M-6.18 -8.52 C-5.37,-8.78 -4.5,-8.82 -3.67,-8.63 C-2.84,-8.43 -2.07,-8.02 -1.46,-7.43 C-1.46,-7.43 -1.45,-7.43 -1.45,-7.43 C-1.06,-7.06 -0.54,-6.85 0,-6.85 C0.54,-6.85 1.06,-7.06 1.45,-7.43 C1.45,-7.43 1.46,-7.43 1.46,-7.43 C1.99,-7.94 2.63,-8.31 3.32,-8.53 C4.02,-8.75 4.76,-8.8 5.48,-8.69 C6.44,-8.53 7.34,-8.08 8.04,-7.41 C8.74,-6.73 9.22,-5.85 9.41,-4.9 C9.55,-4.2 9.53,-3.48 9.34,-2.79 C9.16,-2.11 8.83,-1.47 8.36,-0.93 C8.36,-0.93 0.4,8.56 0.4,8.56 C0.35,8.62 0.29,8.67 0.22,8.7 C0.15,8.73 0.08,8.75 0,8.75 C-0.07,8.75 -0.15,8.73 -0.22,8.7 C-0.29,8.67 -0.35,8.62 -0.39,8.56 C-0.39,8.56 -8.35,-0.92 -8.35,-0.92 C-8.35,-0.92 -8.36,-0.93 -8.36,-0.93 C-8.83,-1.47 -9.16,-2.11 -9.35,-2.79 C-9.53,-3.48 -9.55,-4.2 -9.41,-4.9 C-9.41,-4.9 -9.41,-4.9 -9.41,-4.9 C-9.25,-5.74 -8.86,-6.52 -8.29,-7.16 C-7.73,-7.79 -7,-8.27 -6.18,-8.52z "}),(0,Y.jsx)("path",{id:"_R_G_L_1_G_D_0_P_1",fill:yh.ONy,fillOpacity:1,fillRule:"nonzero",d:" M-3.22 -10.57 C-4.4,-10.85 -5.63,-10.8 -6.79,-10.43 C-7.94,-10.06 -8.98,-9.39 -9.79,-8.49 C-10.59,-7.58 -11.14,-6.47 -11.37,-5.29 C-11.57,-4.29 -11.54,-3.26 -11.28,-2.28 C-11.02,-1.3 -10.54,-0.4 -9.88,0.37 C-9.88,0.37 -1.93,9.85 -1.93,9.85 C-1.69,10.13 -1.4,10.36 -1.06,10.51 C-0.73,10.67 -0.37,10.75 0,10.75 C0.37,10.75 0.73,10.67 1.06,10.51 C1.4,10.36 1.69,10.13 1.93,9.85 C1.93,9.85 9.88,0.37 9.88,0.37 C10.54,-0.4 11.02,-1.3 11.28,-2.28 C11.54,-3.26 11.57,-4.29 11.37,-5.28 C11.37,-5.28 11.37,-5.29 11.37,-5.29 C11.1,-6.64 10.42,-7.89 9.43,-8.85 C8.43,-9.81 7.17,-10.44 5.8,-10.66 C5.8,-10.66 5.8,-10.66 5.8,-10.66 C4.77,-10.83 3.72,-10.75 2.73,-10.44 C1.74,-10.13 0.83,-9.6 0.08,-8.88 C0.06,-8.86 0.03,-8.85 0,-8.85 C-0.03,-8.85 -0.06,-8.86 -0.08,-8.88 C-0.96,-9.72 -2.04,-10.3 -3.22,-10.57z "})]})})}),(0,Y.jsx)("g",{id:"_R_G_L_0_G_N_1_T_0_M",children:(0,Y.jsx)("g",{id:"_R_G_L_0_G_N_1_T_0",transform:" translate(112, 112)",children:(0,Y.jsxs)("g",{id:"_R_G_L_0_G",transform:" translate(0, 0)",children:[(0,Y.jsx)("path",{id:"_R_G_L_0_G_D_0_P_0",fill:yh.imx,fillOpacity:1,fillRule:"nonzero",d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "}),(0,Y.jsx)("path",{id:"_R_G_L_0_G_D_1_P_0",stroke:yh.imx,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:2,strokeOpacity:1,d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "})]})})})]}),(0,Y.jsx)("g",{id:"time_group"})]})})),Ch=(0,H.memo)((function(e){let{size:t,onEnd:s}=e;const n=2.35;return(0,Y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:t*n,height:t*n,viewBox:"0 0 224 224",style:{willChange:"transform",transform:"translate3d(0, 0, 0)",margin:`-${(t*n-t)/2}px`},children:[(0,Y.jsxs)("defs",{children:[(0,Y.jsx)("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G_D_0_P_0",fill:"freeze",attributeName:"stroke-width",from:1,to:2,keyTimes:"0;0.3225806;0.6451613;1",values:"1;1;2;2",keySplines:"0.6 0 0.7 1;0.6 0 0.7 1;0 0 0 0",calcMode:"spline",ref:e=>{e&&e.addEventListener("endEvent",s,{once:!0})}}),(0,Y.jsx)("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G",fill:"freeze",attributeName:"opacity",from:0,to:.7000000000000001,keyTimes:"0;0.3225806;0.6451613;1",values:"0;0;0.7000000000000001;0.7000000000000001",keySplines:"0.6 0 0.7 1;0.6 0 0.7 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",keyTimes:"0;0.3225806;0.483871;0.6451613;0.9677419;1",path:"M112 140 C112,140 100,140 100,140 C100,140 124,140 124,140 C124,140 100,140 100,140 C100,140 112,140 112,140 C112,140 112,140 112,140 ",keyPoints:"0;0.17;0.5;0.83;1;1",keySplines:"0.8 0 0.8 1;0.8 0 0.8 1;0.8 0 0.8 1;0.2 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_1_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:0,to:0,type:"rotate",additive:"sum",keyTimes:"0;0.2580645;0.3870968;0.5483871;0.7096774;0.9677419;1",values:"0;3;-4;6;-6;0;0",keySplines:"0.6 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.6 0 0.667 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G_D_1_P_0",fill:"freeze",attributeName:"stroke-width",from:1,to:2,keyTimes:"0;0.3225806;0.6451613;1",values:"1;1;2;2",keySplines:"0.3 0 0.4 1;0.3 0 0.4 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G",fill:"freeze",attributeName:"opacity",from:1,to:0,keyTimes:"0;0.3225806;0.6451613;1",values:"1;1;0;0",keySplines:"0.3 0 0.4 1;0.3 0 0.4 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateMotion",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",keyTimes:"0;0.3225806;0.483871;0.6451613;0.9677419;1",path:"M112 140 C112,140 100,140 100,140 C100,140 124,140 124,140 C124,140 100,140 100,140 C100,140 112,140 112,140 C112,140 112,140 112,140 ",keyPoints:"0;0.17;0.5;0.83;1;1",keySplines:"0.8 0 0.8 1;0.8 0 0.8 1;0.8 0 0.8 1;0.2 0 0.2 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animateTransform",{dur:"0.5166667s",begin:"0s",xlinkHref:"#_R_G_L_0_G_N_2_T_0",fill:"freeze",attributeName:"transform",from:0,to:0,type:"rotate",additive:"sum",keyTimes:"0;0.2580645;0.3870968;0.5483871;0.7096774;0.9677419;1",values:"0;3;-4;6;-6;0;0",keySplines:"0.6 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.333 0 0.667 1;0.6 0 0.667 1;0 0 0 0",calcMode:"spline"}),(0,Y.jsx)("animate",{attributeType:"XML",attributeName:"opacity",dur:"1s",from:0,to:1,xlinkHref:"#time_group"})]}),(0,Y.jsxs)("g",{id:"_R_G",children:[(0,Y.jsx)("g",{id:"_R_G_L_1_G_N_2_T_0",children:(0,Y.jsx)("g",{id:"_R_G_L_1_G",transform:" translate(0, -28) scale(4, 4) translate(0, 0)",children:(0,Y.jsx)("path",{id:"_R_G_L_1_G_D_0_P_0",stroke:yh.ONy,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:1,strokeOpacity:1,d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "})})}),(0,Y.jsx)("g",{id:"_R_G_L_0_G_N_2_T_0",children:(0,Y.jsxs)("g",{id:"_R_G_L_0_G",transform:" translate(0.214, -27.999) scale(4, 4) translate(0, 0)",children:[(0,Y.jsx)("path",{id:"_R_G_L_0_G_D_0_P_0",fill:yh.imx,fillOpacity:1,fillRule:"nonzero",d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "}),(0,Y.jsx)("path",{id:"_R_G_L_0_G_D_1_P_0",stroke:yh.imx,strokeLinecap:"round",strokeLinejoin:"round",fill:"none",strokeWidth:1,strokeOpacity:1,d:" M8.73 -8.13 C9.58,-7.31 10.16,-6.25 10.39,-5.09 C10.56,-4.24 10.53,-3.37 10.31,-2.54 C10.09,-1.7 9.68,-0.93 9.12,-0.28 C9.12,-0.28 1.16,9.21 1.16,9.21 C1.02,9.38 0.84,9.51 0.64,9.61 C0.44,9.7 0.22,9.75 0,9.75 C-0.22,9.75 -0.44,9.7 -0.64,9.61 C-0.84,9.51 -1.02,9.38 -1.16,9.21 C-1.16,9.21 -9.12,-0.28 -9.12,-0.28 C-9.68,-0.93 -10.09,-1.7 -10.31,-2.54 C-10.53,-3.37 -10.56,-4.25 -10.39,-5.09 C-10.19,-6.11 -9.73,-7.05 -9.04,-7.82 C-8.35,-8.59 -7.47,-9.16 -6.49,-9.48 C-5.5,-9.79 -4.45,-9.83 -3.45,-9.6 C-2.44,-9.37 -1.51,-8.87 -0.77,-8.16 C-0.56,-7.96 -0.28,-7.85 0,-7.85 C0.28,-7.85 0.56,-7.96 0.77,-8.16 C1.41,-8.77 2.18,-9.22 3.03,-9.49 C3.87,-9.75 4.77,-9.82 5.64,-9.68 C6.8,-9.49 7.88,-8.94 8.73,-8.13z "})]})})]}),(0,Y.jsx)("g",{id:"time_group"})]})})),Ih="LDSCLTBPA5SMDx4mXgrg",kh="o61khbQP5vnRUl_kgi5O",Nh="tPjfovNf3f8wHNi7XFNr";let Ph=function(e){return e[e.xs=16]="xs",e[e.sm=24]="sm",e[e.md=32]="md",e[e.lg=48]="lg",e[e.xl=64]="xl",e}({});var Lh=function(e){return e.none="none",e.positive="positive",e.undo="undo",e}(Lh||{});const jh=(0,H.memo)((function(e){let{onClick:t,isAdded:s,size:n,disabled:i=!1,isEpisode:a=!1,isAudiobook:o=!1,className:r,...l}=e;const d=s?c.Ru.get("remove_from_your_library"):c.Ru.get("save_to_your_library"),u=Rh(),[p,m]=(0,H.useState)(Lh.none),h=(0,H.useCallback)((()=>m(Lh.none)),[m]),_=(0,H.useCallback)((e=>{if(i)return;const{currentTarget:n,detail:a}=e;m(s?Lh.undo:Lh.positive),t(e),a>0&&n&&n.blur()}),[s,t,i]);let y;return y=u||p===Lh.none?a||o?s?(0,Y.jsx)(Ou.k,{iconSize:n}):(0,Y.jsx)(Du.P,{iconSize:n}):s?(0,Y.jsx)(Eh.F,{iconSize:n}):(0,Y.jsx)(wh.g,{iconSize:n}):a||o?p===Lh.positive?(0,Y.jsx)(Th,{size:n,onEnd:h}):(0,Y.jsx)(Ah,{size:n,onEnd:h}):p===Lh.positive?(0,Y.jsx)(xh,{size:n,onEnd:h}):(0,Y.jsx)(Ch,{size:n,onEnd:h}),(0,Y.jsx)(lr.Z,{label:d,children:(0,Y.jsx)("button",{type:"button",role:"switch","aria-checked":s,"aria-label":d,className:rr()(Ih,r,{[kh]:s,[Nh]:i}),onClick:_,"data-testid":"add-button",...l,children:y})})})),Oh=e=>{let{uri:t}=e;return(0,Y.jsx)(Mu.h,{uri:t,inLibraryComponent:e=>(0,Y.jsx)(jh,{onClick:t=>{t.stopPropagation(),e()},isAdded:!0,size:Ph.sm,style:{padding:vh.v4}}),notInLibraryComponent:e=>(0,Y.jsx)(jh,{onClick:t=>{t.stopPropagation(),e()},isAdded:!1,size:Ph.sm,style:{padding:vh.v4}})})};var Dh=s(34738);const Mh="x0JR0d_48vNetlDnfSQb",Uh="LXFhUW6138Z6idhHh9nD",Bh="zAiloZ8QArl6sathqdbw",Gh="HJpr0Ykhb_GbZUePKH3r",Fh=e=>{let{children:t,title:s,speed:n=.2,pauseAtEndEdgeDurationMs:a=1200,initialMouseIntDelayMs:o=200,startAnimationOnMount:r=!0,startAnimationOnMountDelayMs:l=1e3,iterationCount:d="infinite",scrollMethod:c="transform"}=e;const u=(0,H.useRef)(null),p=(0,H.useRef)(null),m=(0,H.useRef)(null),h=(0,H.useRef)(0),_=(0,H.useRef)("scrolling"),y=(0,i.d4)((e=>e.session.textDirectionality)),b=(0,H.useRef)("ltr"),g=Rh(),f=(0,H.useRef)({initialMouseInteraction:null,animationOnMount:null}),v=(0,H.useCallback)((()=>m.current&&u.current?m.current.clientWidth-u.current.clientWidth:0),[]),E=(0,H.useCallback)((()=>"rtl"===b.current?1:-1),[b]),w=(0,H.useCallback)((()=>{const e=v();return e>0&&y!==b.current?0+-1*E()*e:0}),[v,y,E]),S=(0,H.useCallback)((()=>{var e;null===(e=m.current)||void 0===e||e.style.setProperty("--trans-x",`${w()}px`)}),[w]),R=(0,H.useCallback)((()=>{if(g)return;if(h.current)return;let e=!1,t=0,s=1,i=!1;const o=r=>{const l=v();if(l<=0)return;let u=!0,y=t;if(e){if(i)r>i+a&&(i=!1);else if("paused"===_.current);else{y+=s*(60*(r-e)/1e3)*n,y>l?(s*=-1,i=r,y=l):y<0&&(s*=-1,i=r,y=0,u="infinite"===d)}if(t=y,"transform"===c){var b;const e=E()*t+w();null===(b=m.current)||void 0===b||b.style.setProperty("--trans-x",`${e}px`),p.current.scrollLeft=0}else"scroll"===c&&(p.current.scrollLeft=t)}e=r,h.current=0,u&&(h.current=requestAnimationFrame(o))};_.current="scrolling",o(0)}),[n,a,c,E,w,v,g,d]),T=(0,H.useCallback)((()=>h.current),[]),A=(0,H.useCallback)((()=>{_.current="paused"}),[]),x=(0,H.useCallback)((()=>{_.current="scrolling"}),[]),C=(0,H.useCallback)((()=>{cancelAnimationFrame(h.current),_.current="paused",h.current=0}),[]),I=(0,H.useCallback)((()=>{Object.values(f.current).forEach((e=>e&&clearTimeout(e)))}),[]),k=(0,H.useCallback)((e=>{T()?A():"focus"!==e&&(f.current.initialMouseInteraction=setTimeout(R,o))}),[R,A,o,T]),N=(0,H.useCallback)((()=>{f.current.initialMouseInteraction&&clearTimeout(f.current.initialMouseInteraction),T()&&x()}),[x,T]);return(0,H.useEffect)((()=>{r&&(f.current.animationOnMount&&clearTimeout(f.current.animationOnMount),f.current.animationOnMount=setTimeout(R,l))}),[R,l,r]),(0,H.useEffect)((()=>()=>{C(),I(),S()}),[C,I,S]),(0,H.useEffect)((()=>{var e;const t=null===(e=m.current)||void 0===e?void 0:e.children[0];var s;t&&(b.current=getComputedStyle(t).direction,"rtl"===b.current&&(null===(s=u.current)||void 0===s||s.classList.add(Uh)));S()}),[y,w,S]),(0,Dh.s)((()=>{C(),S()})),(0,Y.jsx)("div",{ref:u,className:Mh,onMouseOver:()=>k("mouse"),onFocus:()=>k("focus"),onMouseOut:N,onBlur:N,title:g&&s?s:void 0,children:(0,Y.jsx)("div",{ref:p,className:Bh,children:(0,Y.jsx)("div",{ref:m,className:Gh,children:t})})})},Vh="OD_n0YQhkaOxcAad8UQK",Hh=H.memo((function(e){let{title:t=""}=e;return(0,Y.jsx)(Fh,{children:(0,Y.jsx)("span",{className:Vh,children:t})},t??"")})),Yh=H.memo((e=>{var t;let{track:s}=e;const n=(0,ar.s9)();let i="";var a,o;null!=s&&null!==(t=s.artists)&&void 0!==t&&t.length?i=null===(a=s.artists)||void 0===a||null===(a=a.map((e=>e.name)))||void 0===a?void 0:a.join(n.getSeparator()):i=(null==s||null===(o=s.album)||void 0===o?void 0:o.name)??"";return(0,Y.jsx)(Fh,{children:(0,Y.jsx)(tr.E,{variant:"bodySmall",className:oh,children:i})},i??"")}));var Kh=s(37284);const zh=H.memo((e=>{let{device:t}=e;return null!=t&&t.name?(0,Y.jsxs)(tr.E,{variant:"bodySmall",className:rh,children:[(0,Y.jsx)(Kh.E,{size:"xsmall"}),t.name]}):null}));var Wh=s(8335);const qh="MzSNEFiHmU9uhBlp8TaD",Qh="hdgGtl7SSeRqERt7_sKQ",$h=e=>{let{trackComponent:t}=e;const s=(0,i.wA)(),n=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t||null===(t=t.track_window)||void 0===t?void 0:t.current_track})),a=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t||null===(t=t.track_window)||void 0===t?void 0:t.next_tracks[0]})),o=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t||null===(t=t.track_window)||void 0===t?void 0:t.previous_tracks.at(-1)})),r=(0,i.d4)((e=>{var t;let{playback:s}=e;return!Boolean(null===(t=s.current)||void 0===t||null===(t=t.disallows)||void 0===t?void 0:t.skipping_prev)})),l=(0,i.d4)((e=>{var t;let{playback:s}=e;return!Boolean(null===(t=s.current)||void 0===t||null===(t=t.disallows)||void 0===t?void 0:t.skipping_next)})),[d,c]=(0,H.useState)(!1),u=(0,H.useRef)(null),p=(0,H.useRef)(null),m=(0,br.W)(),{ref:h}=(0,Wh.Wx)({threshold:1,root:u.current,onChange:e=>{e&&d&&(s((0,gn.lJ)()),m({type:"scroll-down",intent:"next"}))}}),{ref:_}=(0,Wh.Wx)({threshold:1,root:u.current,onChange:e=>{e&&d&&(s((0,gn.tl)()),m({type:"scroll-up",intent:"previous"}))}});return(0,H.useEffect)((()=>{p.current&&(c(!1),p.current.scrollIntoView()),c(!0)}),[l,r,null==n?void 0:n.uri,null==a?void 0:a.uri,null==o?void 0:o.uri]),(0,Y.jsxs)("div",{className:qh,ref:u,children:[r&&o&&(0,Y.jsx)("div",{className:Qh,ref:_,children:t({track:o})}),(0,Y.jsx)("div",{className:Qh,ref:p,children:t({track:n})}),l&&a&&(0,Y.jsx)("div",{className:Qh,ref:h,children:t({track:a})})]})},Zh=()=>{const e=(0,br.W)(),t=(0,i.wA)(),s=(0,i.d4)((e=>e.connect.device)),n=(0,ip.V)(),a=(0,i.d4)((e=>{var t;return!(null===(t=e.playback.current)||void 0===t||!t.track_window)})),o=(0,i.d4)((e=>{var t;return null===(t=e.playback.current)||void 0===t||null===(t=t.track_window)||void 0===t||null===(t=t.current_track)||void 0===t?void 0:t.uri})),r=(0,i.d4)((e=>{var t;return(null===(t=e.playback.current)||void 0===t||null===(t=t.track_window)||void 0===t||null===(t=t.current_track)||void 0===t?void 0:t.type)??""})),l=(0,i.d4)((e=>{var t;return(0,$n.LY)(null===(t=e.playback.current)||void 0===t?void 0:t.track_window.current_track)})),d=(0,i.d4)((e=>(0,_h.W)(e,l,yh.l0o))),c=`rgb(${d})`,u=!["chapter","episode"].includes(r);if(!a)return null;return(0,Y.jsxs)("div",{"data-testid":"floating-now-playing-bar",className:ih,style:{backgroundColor:c,"--background-color":c},onClick:()=>{t(tn()),e({type:"click",intent:"open-now-playing-view"})},children:[(0,Y.jsx)(mh._,{src:l,className:ah,loading:"eager"}),(0,Y.jsx)($h,{trackComponent:e=>{let{track:t}=e;return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Hh,{title:null==t?void 0:t.name}),null!=s&&s.local||n?(0,Y.jsx)(Yh,{track:t}):(0,Y.jsx)(zh,{device:s})]})}}),(0,Y.jsx)(hh,{}),(0,Y.jsxs)("div",{className:lh,children:[u&&(0,Y.jsx)(Oh,{uri:o??""}),(0,Y.jsx)(fh,{})]})]})},Xh=e=>vr()?(0,Y.jsx)(Ar,{...e}):e.children??(0,Y.jsx)(Y.Fragment,{});const Jh=e=>{let{children:t,childRef:s}=e;const n=(0,ar.s9)(),i=function(e,t){return{isCTA:!0,placement:Xo,hideArrow:!0,zIndex:3,maxWidth:"inherit",primaryButtonText:()=>t.get("mwp.nav.get.app"),primaryButtonTargetUri:wr().toString(),intentPrimaryButton:"download-app",tippyClassName:"tippy-spotify-clips",useSecondaryStyling:!0,shouldHideOnOutsideClick:e=>{let{triggerAction:t}=e;return!(t&&t.type===mr)},getTitle:()=>t.get("listen_to_the_full_track"),getDescription:()=>t.get("get_the_free_app"),onLogInteraction:e}}((0,br.W)(),n),a=yr;return(0,Y.jsx)(pr,{id:xr,options:i,onPrimaryButtonClick:a,childRef:s,children:t??(0,Y.jsx)(Y.Fragment,{})})};class e_{resolve(e){return(0,Y.jsx)(Sr.p,{value:"music-preview-get-app-trigger",children:(0,Y.jsx)(Jh,{...e})})}}let t_=null;const s_=e=>(t_||(t_=new e_),t_).resolve(e);const n_=e=>{let{children:t,childRef:s}=e;const n=(0,ar.s9)(),i=function(e,t){return{isCTA:!0,placement:Xo,hideArrow:!0,zIndex:3,maxWidth:600,primaryButtonText:()=>t.get("mwp.cta.go.premium"),intentPrimaryButton:"upgrade-to-premium",primaryButtonTargetUri:th.BW,tippyClassName:"tippy-spotify-clips",useSecondaryStyling:!0,shouldHideOnOutsideClick:e=>{let{triggerAction:t}=e;return!(t&&t.type===mr)},getTitle:()=>t.get("listen_to_the_full_track"),getDescription:()=>t.get("go_premium"),onLogInteraction:e}}((0,br.W)(),n);return(0,Y.jsx)(pr,{id:xr,options:i,onPrimaryButtonClick:()=>{window.open(th.BW,"_blank","noopener")},childRef:s,children:t??(0,Y.jsx)(Y.Fragment,{})})};class i_{resolve(e){return(0,Y.jsx)(Sr.p,{value:"music-preview-get-premium-trigger",children:(0,Y.jsx)(n_,{...e})})}}let a_=null;const o_=e=>(a_||(a_=new i_),a_).resolve(e),r_=e=>{const t=function(){const{search:e}=(0,fr.zy)();return e.includes("referral=labelaffiliate")}(),s=(()=>{var e;const t=(0,i.d4)((e=>e.session.isAnonymous)),s=(0,i.d4)((e=>e.playback));if(!t)return!1;if(null===(e=s.current)||void 0===e||!e.context.uri)return!1;const n=[Zc.c.TRACK,Zc.c.PLAYLIST,Zc.c.PLAYLISTV2,Zc.c.ALBUM,Zc.c.ARTIST],a=(0,Ze.o_h)(s.current.context.uri);return!(null==a||!a.type||!n.includes(null==a?void 0:a.type))})();return s?t?(0,Y.jsx)(o_,{...e}):(0,Y.jsx)(s_,{...e}):e.children??(0,Y.jsx)(Y.Fragment,{})};var l_=s(98985);const d_="IiUnZOKATCUvEFHgXA31",c_="wcgczPvgnKZbHXI7vM2e",u_="eR7KGUvScwkVaXBpkmxT",p_="i711WnTqLDCBYhoi_Jp4",m_="kfhId7adETXVhOv60ryr",h_="Sn33ZcYsLE8ZgjIw66al",__=e=>{let{onClose:t,children:s}=e;const n=(0,H.useRef)(null),{isOpen:i}=(0,Jd.iL)();return(0,Y.jsx)("div",{"data-testid":"language-selection-modal",className:rr()(d_,"encore-dark-theme",{[c_]:i}),onClick:e=>{e.target===n.current&&t()},role:"presentation",ref:n,children:s})},y_=e=>{let{ariaDescribedBy:t,ariaLabelledBy:s,children:n}=e;const{isOpen:i}=(0,Jd.iL)();return(0,Y.jsx)("div",{className:u_,role:"dialog",hidden:!i,"aria-modal":!0,"aria-labelledby":s,"aria-describedby":t,children:n})},b_=e=>{let{onClose:t}=e;const s=(0,ar.s9)();return(0,Y.jsx)("button",{"data-testid":"close-button",className:h_,onClick:()=>{t()},children:(0,Y.jsx)(sr.M,{iconSize:16,"aria-label":s.get("close")})})},g_="sAAGiv3H2D9qPl14hDq8",f_=e=>{let{style:t,children:s}=e;return(0,Y.jsx)("div",{className:g_,style:t,children:s})};var v_=s(54009),E_=s(41158),w_=s(90348);const S_="oAtKjFXz6LI8h3Ken4wU",R_=e=>{let{children:t,locale:s,onClick:n,type:a="button"}=e;const o="undefined"!=typeof window,{contextUrl:r}=(0,i.d4)((e=>{let{masthead:t}=e;return t})),l=(0,fr.zy)(),[d,u]=(0,H.useState)(r);(0,H.useEffect)((()=>{u(l)}),[l]);const p=s===E_.h.en,m=(0,w_.vf)(d.pathname),h=(0,Ze.o_h)(d.pathname),_=(0,Dm.W)({type:"route",uri:m?Ti.c.HOME:null==h?void 0:h.toURI()}),y={className:S_,id:s,onClick:e=>(e=>{if("button"===a&&o){e.preventDefault();const t=new URL(window.location.href);window.location.href.includes("locale")&&t.searchParams.delete("locale"),window.location.href=t.href}n(s)})(e),"data-testid":`language-option-${s}`};if("link"===a){const e=(0,Om.ll)(d.pathname,!p),n=(0,Om.hF)(e,(0,c.a7)(s).baseName),i=_?n:d.pathname,a=(e=>e.endsWith("/")?e.slice(0,-1):e)(o?`${window.location.origin}${i}`:`${r.origin}${i}`||"");return(0,Y.jsx)("a",{href:a,...y,children:t})}return(0,Y.jsx)("button",{...y,children:t})};function T_(e){let{modalClassName:t,closeLanguageSelectionModal:s,headerRef:n,headerHeight:i,testId:a}=e;const o="language-selection-title",r="language-selection-subtitle",l=e=>{var t;(0,F.n0)({name:"sp_locale",value:e,domain:(t="open.spotify.com",t.substring(t.indexOf("."))),days:365}),s()},d=(0,ar.s9)();return(0,Y.jsx)("div",{"data-testid":a,className:t,children:(0,Y.jsx)(__,{onClose:s,children:(0,Y.jsxs)(y_,{ariaLabelledBy:o,ariaDescribedBy:r,children:[(0,Y.jsxs)("div",{className:p_,ref:n,children:[(0,Y.jsxs)("div",{className:m_,children:[(0,Y.jsx)(tr.E,{variant:"titleSmall",semanticColor:"textBase",id:o,paddingBottom:vh.v4,children:d.get("i18n.language-selection.title")}),(0,Y.jsx)(tr.E,{variant:"bodyMedium",semanticColor:"textBase",id:r,paddingBottom:vh.CD,children:d.get("i18n.language-selection.subtitle")})]}),(0,Y.jsx)(b_,{onClose:s})]}),(0,Y.jsx)(f_,{style:{"--header-height":i},children:v_.Np.map((e=>{const t=(0,c.a7)(e).baseName,s=(0,w_.p)({urlLocale:t,type:"locale"});return(0,Y.jsxs)(R_,{onClick:l,locale:e,type:s?"link":"button",children:[(0,Y.jsx)(tr.E,{semanticColor:"textBase",children:v_.IB[e].displayName}),(0,Y.jsx)(tr.E,{children:v_.IB[e].displayNameEn})]},e)}))})]})})})}const A_=e=>{let{languageSelectionModalRef:t,isSSRFooterTest:s}=e;const n=(0,H.useRef)(null),[i,a]=(0,H.useState)("0"),o=(0,Jd.ZZ)(),r=(0,H.useCallback)((()=>{o({type:"CLOSE"})}),[o]),{isOpen:l}=(0,Jd.iL)(),d=(0,H.useCallback)((()=>{var e;a(`${null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect().height}px`)}),[a]);var c;c=r,(0,H.useEffect)((()=>{const e=e=>{"Escape"===e.key&&c()};return window.addEventListener("keyup",e,!1),()=>window.removeEventListener("keyup",e)})),Op({refOrElement:n,observeOnly:"height",onResize:d}),(0,H.useEffect)((()=>{d()}),[d]);const u=()=>s?l?"open":"closed":"",p={closeLanguageSelectionModal:r,headerRef:n,headerHeight:i};return s?(0,Y.jsx)(T_,{modalClassName:u(),...p,testId:"ssr-modal-contents"}):null!=t&&t.current?(0,rm.createPortal)((0,Y.jsx)(l_.s,{active:l,children:(0,Y.jsx)("div",{children:(0,Y.jsx)(T_,{...p,modalClassName:u(),testId:"client-modal-contents"})})}),t.current):null},x_="SAvutxFsWpINsq8pSOqb",C_="LQ6Ss79CdgHw2ScSPflQ",I_="_L0ZiX2oNtd0LfHwq5xX",k_="Yg_FlRTSnjxmfwyAvnFJ";var N_=s(35886);const P_={},L_=H.memo((e=>{let{location:t}=e;const s=(0,fr.wQ)(),n=(0,Up.SF)();return(0,H.useEffect)((()=>{if(!n.current)return;const e="POP"===s,i=P_[(null==t?void 0:t.pathname)??""],a=e&&i?i:0;((e,t)=>{setTimeout((()=>{e.scrollTop=t}),100)})(n.current,a)}),[s,n,null==t?void 0:t.pathname]),(0,Y.jsx)(H.Suspense,{fallback:(0,Y.jsx)(Ap.c,{}),children:(0,Y.jsx)(fr.sv,{})})}),((e,t)=>{var s,n,i,a;const o=document.querySelector("[data-main-scrollable-node]");var r;null!=o&&o.scrollTop&&(P_[(null===(r=e.location)||void 0===r?void 0:r.pathname)??""]=o.scrollTop);return(null===(s=e.location)||void 0===s?void 0:s.pathname)===(null===(n=t.location)||void 0===n?void 0:n.pathname)&&(null===(i=e.location)||void 0===i?void 0:i.hash)===(null===(a=t.location)||void 0===a?void 0:a.hash)}));var j_=s(20389);const O_=(e,t)=>{switch(t.type){case"SHOW_DIALOG":return{...e,visible:!0,context:t.context,data:t.data};case"HIDE_DIALOG":return{...e,visible:!1,context:void 0,data:void 0};default:return e}},D_=(0,H.createContext)({state:{visible:!1,context:void 0,data:void 0},dispatch:()=>{}}),M_=e=>{let{children:t,initialState:s}=e;const[n,i]=(0,H.useReducer)(O_,s??{visible:!1,context:void 0,data:void 0}),a=(0,H.useMemo)((()=>({state:n,dispatch:i})),[n,i]);return(0,Y.jsx)(D_.Provider,{value:a,children:t})},U_=()=>H.useContext(D_);var B_=s(55450),G_=s(13301),F_=s(3475),V_=s(40638);function H_(e,t){const s=e.current;if(null===s||void 0===t)return 0;const n=s.getBoundingClientRect();return Math.max(0,Math.min((t-n.left)/n.width,1))}const Y_="_KiJHk2i4AB0XbpDxwhB",K_="IIIYWcGiG9WaFCGwlvLh",z_="wsMsL6O9vq9NXeK98DgS",W_="CRgaOg1yrE7P5XbdoscG",q_="Z6wt148SEtVVwj7qJNjw",Q_="PIPxeZZmnstCcQcs8RhX",$_="HBq457LSkKPFUWsUKijl",Z_="FUypaaf7K24uDqUMrICX";function X_(e){let{children:t,...s}=e;return(0,Y.jsxs)("label",{className:"hidden-visually",children:[t,(0,Y.jsx)("input",{...s})]})}const J_=e=>{let{value:t,max:s,step:n,labelText:i,isInteractive:a=!0,forceActiveStyles:o=!1,className:r,onDragStart:l,onDragMove:d,onDragEnd:c,onStepForward:u,onStepBackward:p,...m}=e;const h=(0,H.useRef)(null),{isDragging:_,onTouchStart:y}=(e=>{let{progressBarRef:t,onDragStart:s,onDragMove:n,onDragEnd:i}=e;const[a,o]=(0,H.useState)(!1),r=(0,H.useRef)(s),l=(0,H.useRef)(n),d=(0,H.useRef)(i);r.current=s,l.current=n,d.current=i;const c=(0,V_.YQ)((e=>{const s=e.touches[0];l.current(H_(t,null==s?void 0:s.pageX))}),20,{leading:!0,maxWait:20});return{isDragging:a,onTouchStart:(0,H.useCallback)((e=>{const s=e=>{o(!1);const s=e.changedTouches[0];d.current(H_(t,null==s?void 0:s.clientX)),document.removeEventListener("touchmove",c)},n=e.touches[0];n&&(r.current(H_(t,n.clientX)),o(!0),document.addEventListener("touchmove",c),document.addEventListener("touchend",s,{once:!0}))}),[t,o,c])}})({progressBarRef:h,onDragStart:l,onDragMove:d,onDragEnd:c}),b=100*Math.max(0,Math.min(1,t/s)),g=o||_,f=(e=>{let{onStepForward:t,onStepBackward:s,value:n}=e;return(0,V_.YQ)((e=>{parseFloat(e.target.value)>n?null==t||t():null==s||s()}),100,{trailing:!1,leading:!0,maxWait:200})})({onStepForward:u,onStepBackward:p,value:t});return(0,Y.jsxs)("div",{className:rr()(Y_,{[K_]:a},r),"data-testid":m["data-testid"],children:[(0,Y.jsx)(X_,{disabled:!a,type:"range",min:0,max:s,value:t,step:n,onChange:f,"aria-valuetext":m["aria-valuetext"],children:i}),(0,Y.jsx)("div",{className:rr()(z_,{[Z_]:g}),style:{"--progress-bar-transform":`${b}%`},onTouchStart:a?y:void 0,"data-testid":"progress-bar",children:(0,Y.jsxs)("div",{ref:h,className:W_,"data-testid":"progress-bar-background",children:[(0,Y.jsx)("div",{className:q_,children:(0,Y.jsx)("div",{className:Q_})}),a&&(0,Y.jsx)("div",{className:$_})]})})]})};var ey=s(42425),ty=s(36678),sy=s(50632),ny=s(54191),iy=s(51316),ay=s(43382),oy=s(14344),ry=s(82487),ly=s(46550),dy=s(22120),cy=s(73866);const uy="p2p6JwOmMuYfopBeE8AA",py="oqP3YwnGE4wJerrouScJ";const my=e=>{let{name:t,type:s,isActive:n,isGroup:i,disabled:a,onClick:o}=e;const r=(0,ar.s9)(),l=function(e,t){switch(t?"multispeaker":e){case ae.DeviceType.COMPUTER:case ae.DeviceType.CHROMEBOOK:return ey.t;case ae.DeviceType.TABLET:return ty.$;case ae.DeviceType.SMARTPHONE:return sy.q;case ae.DeviceType.SPEAKER:case ae.DeviceType.CAST_AUDIO:case ae.DeviceType.AUDIO_DONGLE:return ny.r;case ae.DeviceType.TV:case ae.DeviceType.STB:case ae.DeviceType.CAST_VIDEO:return iy.I;case ae.DeviceType.AVR:return ay._;case ae.DeviceType.GAME_CONSOLE:return oy.q;case ae.DeviceType.SMARTWATCH:return ry.D;case ae.DeviceType.AUTOMOBILE:return ly.Q;case"multispeaker":return dy.a;default:return cy.U}}(s,i);return(0,Y.jsxs)(nr.H,{className:uy,size:"large",condensed:!0,semanticColor:n?"textBrightAccent":"textBase",disabled:a,onClick:o,children:[(0,Y.jsx)(l,{size:"large"}),(0,Y.jsxs)("div",{className:py,children:[(0,Y.jsx)(tr.E,{variant:"bodyMedium",children:t}),(0,Y.jsx)(tr.E,{variant:"bodySmall",semanticColor:n?"textBrightAccent":"textSubdued",children:r.get("spotify-connect")})]})]})},hy="oVUwgj22JKNYgxN0fc5J",_y="RV8p8xdj2Ikrv7bWY02w",yy="y6MX9F6N5a4NF1PuV1XS",by="jlu0LfFkHwipEFB9eRPk",gy="jkb0Fh_Zvlc8L43gAg7_",fy="cDset9VIJ7D1n6CVZjkH",vy="EdceP6yC_nQNBVhHVfAq",Ey="jgheNHJstgeu4Ah4pWL9",wy=e=>{let{className:t}=e;const s=(0,ar.s9)();return(0,Y.jsxs)("svg",{viewBox:"0 0 232 100","aria-labelledby":"connect",role:"img",className:t,children:[(0,Y.jsx)("title",{id:"devices-icon",children:s.get("spotify-connect")}),(0,Y.jsxs)("defs",{children:[(0,Y.jsx)("clipPath",{id:"devices-path-a",transform:"translate(-64 -123.45)",children:(0,Y.jsx)("circle",{cx:"284.93",cy:"215.43",r:".96",fill:"none"})}),(0,Y.jsx)("clipPath",{id:"devices-path-b",transform:"translate(-64 -123.45)",children:(0,Y.jsx)("path",{fill:"none",d:"M0 0h360v640H0z"})})]}),(0,Y.jsx)("path",{fill:"currentColor",d:"M0 94.1h89.32v2H0zm174-59.38h-2V3.65H44.02v30.24h-2V1.65H174v33.07zm-73.5 59.33h24.02v2H100.5z"}),(0,Y.jsx)("g",{clipPath:"url(#devices-path-a)",children:(0,Y.jsx)("g",{clipPath:"url(#devices-path-b)",children:(0,Y.jsx)("path",{fill:"currentColor",d:"M214.97 86.02h11.93v11.92h-11.93z"})})}),(0,Y.jsx)("path",{d:"M160.28 77.73a2.09 2.09 0 1 0 2.1 2.09 2.1 2.1 0 0 0-2.1-2.09z",fill:"currentColor"}),(0,Y.jsx)("path",{d:"M172.55 92.1l-3.86-18.13a5.84 5.84 0 0 0-5.71-4.62H141.7a5.84 5.84 0 0 0-5.71 4.62l-3.86 18.13a5.15 5.15 0 0 0 4 6.11 6.55 6.55 0 0 0 6.34-2.15l4.5-5.26h10.81l4.5 5.26a6.54 6.54 0 0 0 6.34 2.15 5.15 5.15 0 0 0 4-6.11zm-2.31 2.84a3.24 3.24 0 0 1-2.05 1.41 4.67 4.67 0 0 1-4.5-1.52l-4.57-5.34-.49-.58h-12.57L141 94.83a4.66 4.66 0 0 1-4.5 1.53 3.26 3.26 0 0 1-2.51-3.86l3.86-18.13a4 4 0 0 1 3.86-3.13H163a4 4 0 0 1 3.86 3.13l3.86 18.13a3.22 3.22 0 0 1-.48 2.44z",fill:"currentColor"}),(0,Y.jsx)("path",{d:"M145.6 79.12v-2.79h-1.9v2.79h-2.8v1.9h2.8v2.79h1.9v-2.79h2.8v-1.9zm41.15 11.43a12.54 12.54 0 1 1 12.55-12.54 12.56 12.56 0 0 1-12.55 12.54zm0-23.08a10.54 10.54 0 1 0 10.55 10.54 10.56 10.56 0 0 0-10.55-10.51z",fill:"currentColor"}),(0,Y.jsx)("circle",{cx:"187.24",cy:"53.03",r:"1.44",fill:"currentColor"}),(0,Y.jsx)("path",{d:"M202.85 37.13H169.7a4.65 4.65 0 0 0-4.64 4.65v25.9h2v-25.9a2.65 2.65 0 0 1 2.64-2.65h33.15a2.65 2.65 0 0 1 2.64 2.65v51.77a2.66 2.66 0 0 1-2.66 2.65h-28.1v2h28.1a4.66 4.66 0 0 0 4.66-4.65V41.78a4.65 4.65 0 0 0-4.64-4.65zm26.72 28.42h-17.28a2.44 2.44 0 0 0-2.43 2.43v27.35a2.43 2.43 0 0 0 2.43 2.43h17.28a2.44 2.44 0 0 0 2.43-2.43V67.97a2.43 2.43 0 0 0-2.43-2.42zm.43 29.78a.44.44 0 0 1-.43.43h-17.28a.43.43 0 0 1-.43-.43V67.97a.44.44 0 0 1 .43-.43h17.28a.43.43 0 0 1 .43.43zM86.25 83.04h45.63v2H86.25zM80.1 36.21H7.73a2.43 2.43 0 0 0-2.43 2.43v45.84a3.66 3.66 0 0 0 3.65 3.65H80.1a3.65 3.65 0 0 0 3.65-3.65V39.86a3.66 3.66 0 0 0-3.65-3.65zm1.65 48.28a1.65 1.65 0 0 1-1.65 1.65H8.95a1.65 1.65 0 0 1-1.65-1.65V38.64a.43.43 0 0 1 .43-.44H80.1a1.65 1.65 0 0 1 1.65 1.65z",fill:"currentColor"}),(0,Y.jsx)("path",{fill:"none",d:"M0 0h232v100H0z"})]})},Sy=e=>{let{header:t,devices:s,currentVolume:n,onDeviceRowClick:i,onVolumeChange:a,onCloseClick:o}=e;const r=(0,ar.s9)(),[l,d]=(0,H.useState)(n);(0,H.useEffect)((()=>{d(n)}),[n]);const c=e=>{d(100*e)};return(0,Y.jsxs)("div",{className:hy,"data-testid":"connect-view-container",children:[(0,Y.jsx)(nr.H,{iconOnly:sr.M,size:"medium",className:yy,semanticColor:"textBase",onClick:o,"data-testid":"connect-view-close-button","aria-label":r.get("close")}),(0,Y.jsxs)("div",{className:rr()(_y),children:[(0,Y.jsx)(wy,{className:by}),(0,Y.jsx)(tr.E,{variant:"titleSmall",as:"h1",className:gy,children:t}),(0,Y.jsx)("ul",{className:fy,children:s.map(((e,t)=>(0,Y.jsx)("li",{children:(0,Y.jsx)(my,{disabled:!e.is_controllable,isGroup:e.is_group,isActive:e.is_active,name:e.name,onClick:()=>i(e.id),type:e.type})},`${e.id}_${t}`)))}),(0,Y.jsxs)("div",{className:vy,children:[(0,Y.jsx)("div",{children:l>70?(0,Y.jsx)(B_.C,{}):l>40?(0,Y.jsx)(G_.z,{}):(0,Y.jsx)(F_.D,{})}),(0,Y.jsx)(J_,{className:Ey,value:l,max:100,step:2,isInteractive:!0,labelText:"volume",onDragStart:c,onDragMove:c,onDragEnd:a})]})]})]})},Ry=(e,t)=>e.local?-1:t.local?1:e.name.toLowerCase().localeCompare(t.name.toLowerCase()),Ty=()=>{const e=(0,ar.s9)(),t=(0,i.d4)((e=>{let{connect:t}=e;return null==t?void 0:t.devices})),s=((e,t)=>t.filter((e=>{let{hidden:t}=e;return!t})).sort(Ry).map((t=>({...t,name:t.local?e.get("connect-picker.this-web-browser"):t.name}))))(e,t),n=(0,i.d4)((e=>{var t;let{connect:s}=e;return 100*((null==s||null===(t=s.device)||void 0===t?void 0:t.volume)??0)})),a=(0,i.d4)((e=>{let{ui:t}=e;return t.modal})),o=(0,i.wA)(),r=(0,H.useCallback)((e=>{o(Dn(e))}),[o]),l=(0,H.useCallback)((()=>{o({type:fe})}),[o]),d=(0,H.useCallback)((e=>{o({type:Bt,volume:e})}),[o]);return"connect"!==a?null:(0,Y.jsx)(Sy,{header:e.get("mwp.header.connect"),currentVolume:n,devices:s,onDeviceRowClick:r,onCloseClick:l,onVolumeChange:d})},Ay="tCA3XtICLVtyJnK22Gko",xy="M8KtHsmGHc6yD2scZsrI",Cy="WaVWmDovSD7j2FgQunys",Iy="VfRQUrzBeJF0CM5pBuFr";var ky=s(26933);const Ny=()=>{const e=(0,ar.s9)(),t=(0,i.wA)(),s=(0,i.d4)((e=>{var t;let{playback:s}=e;return(0,$n.YN)(null===(t=s.current)||void 0===t?void 0:t.track_window)})),n=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t?void 0:t.shuffle})),a=(0,i.d4)((e=>{var t;let{playback:s}=e;return Boolean(null===(t=s.current)||void 0===t||null===(t=t.disallows)||void 0===t?void 0:t.toggling_shuffle)})),o=(0,i.d4)((e=>{var t;let{playback:s}=e;return(0,$n.El)(null===(t=s.current)||void 0===t?void 0:t.track_window)})),r=(0,br.W)(),l=s||o;return(0,Y.jsx)(nr.H,{"aria-label":n?e.get("playback-control.disable-shuffle"):e.get("playback-control.enable-shuffle"),iconOnly:ky.p,semanticColor:n?"textBrightAccent":"textBase",onClick:()=>{t((0,gn.Ym)()),r({type:"click",intent:n?"disable-shuffle":"shuffle"})},size:"medium","data-testid":"npv-shuffle-button",disabled:a,className:rr()({"visibility-hidden":l,[Iy]:n})})};var Py=s(1082),Ly=s(12649);const jy=(e,t,s,n)=>s&&n?e.get("playback-control.enable-repeat"):t===ae.RepeatMode.CONTEXT?n?e.get("playback-control.disable-repeat"):e.get("playback-control.enable-repeat-one"):t===ae.RepeatMode.TRACK?e.get("playback-control.disable-repeat"):s?e.get("playback-control.enable-repeat-one"):e.get("playback-control.enable-repeat"),Oy=()=>{const e=(0,i.wA)(),t=(0,ar.s9)(),s=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t?void 0:t.repeat_mode})),n=(0,i.d4)((e=>{var t;let{playback:s}=e;return(0,$n.YN)(null===(t=s.current)||void 0===t?void 0:t.track_window)})),a=(0,i.d4)((e=>{var t;let{playback:s}=e;return Boolean(null===(t=s.current)||void 0===t||null===(t=t.disallows)||void 0===t?void 0:t.toggling_repeat_context)})),o=(0,i.d4)((e=>{var t;let{playback:s}=e;return Boolean(null===(t=s.current)||void 0===t||null===(t=t.disallows)||void 0===t?void 0:t.toggling_repeat_track)})),r=(0,i.d4)((e=>{var t;let{playback:s}=e;return(0,$n.El)(null===(t=s.current)||void 0===t?void 0:t.track_window)})),l=(0,br.W)(),d=n||r,c=s===ae.RepeatMode.TRACK?Py.I:Ly.B,u=s!==ae.RepeatMode.OFF;return(0,Y.jsx)(nr.H,{"aria-label":jy(t,s??ae.RepeatMode.OFF,a,o),iconOnly:c,semanticColor:u?"textBrightAccent":"textBase",onClick:()=>{e((0,gn.Nm)()),l({type:"click",intent:"cycle-repeat-mode"})},size:"medium","data-testid":"npv-repeat-button",disabled:Boolean(a&&o),className:rr()({"visibility-hidden":d,[Iy]:u})})},Dy=()=>{const e=(0,ar.s9)(),t=(0,i.wA)(),s=(0,i.d4)((e=>{var t;let{playback:s}=e;return Boolean(null===(t=s.current)||void 0===t?void 0:t.paused)})),n=(0,i.d4)((e=>{let{playback:t}=e;return Boolean(t.isBuffering)})),[a,o]=(0,H.useState)(s);(0,H.useEffect)((()=>{o(s)}),[s]);const r=(0,V_.YQ)((()=>{o(s)}),1e3);return(0,Y.jsx)("div",{children:(0,Y.jsx)("div",{className:n?Cy:"",children:(0,Y.jsx)(ir.$,{"aria-label":a?e.get("playback-control.play"):e.get("playback-control.pause"),onClick:()=>{o(!a),r(),t((0,gn.d5)("now-playing-view"))},colorSet:"invertedLight",size:"large",iconOnly:a?gh.A:bh._,className:xy,"data-testid":"npv-play-button"})})})};var My=s(60810);const Uy=()=>{const e=(0,ar.s9)(),t=(0,i.wA)(),s=(0,br.W)();return(0,Y.jsx)(nr.H,{"aria-label":e.get("playback-control.skip-backward-15"),onClick:(n=ii,()=>{t((0,gn.ER)(n)),s({type:"click",intent:"skip-back-15"})}),semanticColor:"textBase",size:"large",iconOnly:My.e,"data-testid":"npv-seek-15-backwards-button"});var n};var By=s(17900);const Gy=()=>{const e=(0,ar.s9)(),t=(0,i.wA)(),s=(0,i.d4)((e=>{var t;let{playback:s}=e;return Boolean(null===(t=s.current)||void 0===t||null===(t=t.disallows)||void 0===t?void 0:t.skipping_prev)})),n=(0,br.W)();return(0,Y.jsx)(nr.H,{"aria-label":e.get("playback-control.skip-back"),onClick:()=>{t((0,gn.qd)()),n({type:"click",intent:"previous"})},semanticColor:"textBase",size:"large",iconOnly:By.A,disabled:s,"data-testid":"npv-skip-previous-button"})};var Fy=s(13146);const Vy=()=>{const e=(0,ar.s9)(),t=(0,i.wA)(),s=(0,i.d4)((e=>{var t;return Boolean(null===(t=e.playback)||void 0===t||null===(t=t.current)||void 0===t||null===(t=t.disallows)||void 0===t?void 0:t.skipping_next)})),n=(0,i.d4)((e=>{var t;let{playback:s}=e;return((null===(t=s.current)||void 0===t||null===(t=t.restrictions)||void 0===t?void 0:t.disallow_skipping_next_reasons)??[]).includes("mft_disallow")})),a=(0,br.W)(),o=s&&!n;return(0,Y.jsx)(nr.H,{disabled:o,"aria-label":e.get("playback-control.skip-forward"),onClick:()=>{t((0,gn.lJ)()),a({type:"click",intent:"next"})},semanticColor:"textBase",size:"large",iconOnly:Fy.s,"data-testid":"npv-skip-forward-button"})};var Hy=s(89024);const Yy=()=>{const e=(0,ar.s9)(),t=(0,i.wA)(),s=(0,br.W)();return(0,Y.jsx)(nr.H,{"aria-label":e.get("playback-control.skip-forward-15"),onClick:(n=ii,()=>{t((0,gn.q3)(n)),s({type:"click",intent:"skip-forward-15"})}),semanticColor:"textBase",size:"large",iconOnly:Hy.A,"data-testid":"npv-seek-15-forward-button"});var n},Ky=e=>{let{className:t}=e;const s=(0,i.d4)((e=>{var t;let{playback:s}=e;return(0,$n.YN)(null===(t=s.current)||void 0===t?void 0:t.track_window)}));return(0,Y.jsxs)("div",{className:rr()(t,Ay),dir:"ltr",children:[(0,Y.jsx)(Ny,{}),s?(0,Y.jsx)(Uy,{}):(0,Y.jsx)(Gy,{}),(0,Y.jsx)(Dy,{}),s?(0,Y.jsx)(Yy,{}):(0,Y.jsx)(Vy,{}),(0,Y.jsx)(Oy,{})]})},zy="sd0L6YMWoiSDaK24Vgg0",Wy="f_tN6MLvcGOqLFg9IEVT",qy="ycT9rtdXyBURwnZ7Zmn6",Qy="ndTNzGoW1aJqNsjH6i6H",$y="zDjBR7SFuB4II3lcsDGp",Zy="i0EpoQ_QdpJiJ2AILPYe",Xy="_lJpidGzdap0eaKj1CU6",Jy="TrWQmYUGRg0TJgHBDlIW";var eb=s(9708);const tb=300,sb="",nb=e=>{if(-1===e||Number.isNaN(e))return"-:--";const{hours:t,minutes:s,seconds:n}=hu(e);return`${t>0?`${t}:`:""}${t>0&&s<10?`0${s}`:s}:${n<10?`0${n}`:n}`};function ib(e){return e===Ze.NQG.TRACK?5e3:e===Ze.NQG.EPISODE?15e3:0}const ab=e=>{let{className:t}=e;const s=(0,ar.s9)(),n=(0,br.W)(),a=(0,i.wA)(),o=(0,i.d4)((e=>{var t;let{playback:s}=e;return(null==s||null===(t=s.current)||void 0===t||null===(t=t.track_window.current_track)||void 0===t?void 0:t.duration_ms)??0})),r=(0,i.d4)((e=>{var t;let{playback:s}=e;return(null==s||null===(t=s.current)||void 0===t?void 0:t.position)??0})),l=(0,i.d4)((e=>{var t,s;let{playback:n}=e;return null===(t=(0,Ze.o_h)((null==n||null===(s=n.current)||void 0===s||null===(s=s.track_window.current_track)||void 0===s?void 0:s.uri)??""))||void 0===t?void 0:t.type})),d=(0,i.d4)((e=>{var t;let{playback:s}=e;return Boolean(null==s||null===(t=s.current)||void 0===t||null===(t=t.disallows)||void 0===t?void 0:t.seeking)})),[c,u]=(0,H.useState)(r),p=(0,H.useRef)();(0,H.useEffect)((()=>{void 0!==p.current&&u(r)}),[r]);const m=(0,H.useCallback)((()=>{void 0===p.current&&(p.current=Bn.subscribe("position",(e=>{u(e)})))}),[]),h=(0,V_.YQ)((()=>{m()}),1e3,{leading:!1,trailing:!0}),_=(0,H.useCallback)((()=>{h.cancel(),void 0!==p.current&&(Bn.unsubscribe(p.current),p.current=void 0)}),[h]);(0,H.useEffect)((()=>(m(),_)),[m,_]);const y=nb(c),b=nb(o);return(0,Y.jsxs)("div",{className:rr()(t,Xy),children:[(0,Y.jsx)(J_,{isInteractive:!d,labelText:s.get("playback-control.a11y.seek-slider-button"),value:Math.floor(c/1e3),max:Math.floor(o/1e3),step:ib(l)/1e3,onDragStart:_,onDragMove:e=>{u(o*e)},onDragEnd:e=>{n({type:"click",intent:"seek"});const t=o*e;a((0,gn.jF)(t)),u(t),h()},onStepBackward:()=>{d||(n({type:"click",intent:"seek"}),a((0,gn.jF)(c-ib(l))))},onStepForward:()=>{d||(n({type:"click",intent:"seek"}),a((0,gn.jF)(c+ib(l))))},"data-testid":"npv-progress-bar-wrapper","aria-valuetext":s.get("download.progress-global",y,b)}),(0,Y.jsxs)("div",{className:Jy,"data-testid":"npv-progress-bar-time-labels",children:[(0,Y.jsx)(tr.E,{variant:"marginal",semanticColor:"textBase",children:y}),(0,Y.jsx)(tr.E,{variant:"marginal",semanticColor:"textBase",children:b})]})]})},ob="Fak4Uos2jLeleDlv7mIq",rb="ye9I2HkrCG4rZTUQyyVk",lb=H.memo((e=>{let{imageSrc:t,onClick:s,"data-testid":n}=e;return t?(0,Y.jsx)("div",{"data-testid":n,style:{backgroundImage:`url(${t})`},className:rb,onClick:s,onKeyDown:e=>{"Enter"===e.code&&s&&s()},role:"presentation"}):(0,Y.jsx)("div",{className:ob,"data-testid":n,children:(0,Y.jsx)(Vc.I,{size:"xxlarge"})})})),db="_oMFHsv7KtTLLuwiWtxA",cb=e=>{let{className:t}=e;const s=(0,i.d4)((e=>{var t;let{playback:s}=e;return(0,$n.Rz)(null==s||null===(t=s.current)||void 0===t?void 0:t.track_window)})),n=(0,i.d4)((e=>{var t;let{playback:s}=e;return(0,$n.El)(null==s||null===(t=s.current)||void 0===t?void 0:t.track_window)})),a=(0,H.useCallback)((()=>{window.open(s,"_blank","noopener")}),[s]);return(0,Y.jsx)("div",{className:rr()(t,db),children:(0,Y.jsx)($h,{trackComponent:e=>{let{track:t}=e;return(0,Y.jsx)(lb,{"data-testid":"npv-cover-art",imageSrc:(0,$n.LY)(t),onClick:n&&s?a:void 0})}})})},ub="e6B8UJS7RR2UjzVKgGuD",pb="UVuUhgV0A4yQk6BcmqTf",mb="yHoq8qZdWtWxbu79JrCl",hb="lyg_Yd1ifoyd2iHdSMo2",_b=e=>{var t;let{uri:s}=e;const n=(null===(t=(0,Ze.o_h)(s))||void 0===t?void 0:t.type)===Ze.NQG.EPISODE;return(0,Y.jsx)(Mu.h,{uri:s,inLibraryComponent:e=>(0,Y.jsx)(jh,{onClick:t=>{t.stopPropagation(),e()},isEpisode:n,isAdded:!0,size:Ph.sm,style:{padding:vh.CJ,margin:`-${vh.CJ}`}}),notInLibraryComponent:e=>(0,Y.jsx)(jh,{onClick:t=>{t.stopPropagation(),e()},isEpisode:n,isAdded:!1,size:Ph.sm,style:{padding:vh.CJ,margin:`-${vh.CJ}`}})})};function yb(e){var t,s,n;let{className:a}=e;const o=(0,ar.s9)(),r=(0,i.d4)((e=>{var t;return null===(t=e.playback)||void 0===t||null===(t=t.current)||void 0===t?void 0:t.track_window})),l=(0,$n.hf)(r),d=(0,$n.El)(r),c=(0,$n.YN)(r),u=(0,$n.Rz)(r),p=(0,$n.ax)(r),m=(0,$n.VG)(r),h=(null==r||null===(t=r.current_track)||void 0===t||null===(t=t.album)||void 0===t?void 0:t.name)||"",_=null==r||null===(s=r.current_track)||void 0===s?void 0:s.uri,y=null==r||null===(n=r.current_track)||void 0===n||null===(n=n.artists)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.uri,b=(0,H.useCallback)((()=>{window.open(u,"_blank","noopener")}),[u]),g=(0,i.wA)(),f=(0,H.useCallback)((()=>{g(sn())}),[g]),v=_?(0,Y.jsx)(Mc.N,{to:_,onClick:f,children:m}):m,E=c?h:p.join(o.getSeparator()),w=y?(0,Y.jsx)(Mc.N,{to:y,onClick:f,children:E}):E;if(d&&u)return(0,Y.jsx)("div",{className:hb,children:(0,Y.jsx)(ir.$,{size:"small",onClick:b,colorSet:"invertedLight",children:o.get("connect-picker.learn-more")})});const S=l&&!c;return(0,Y.jsxs)("div",{className:rr()(a,ub),"data-testid":"npv-metadata-container",children:[(0,Y.jsxs)("div",{className:pb,children:[(0,Y.jsx)(Fh,{speed:.8,children:(0,Y.jsx)(tr.E,{variant:"titleSmall",as:"div",children:v})},l),(0,Y.jsx)(Fh,{speed:.8,children:(0,Y.jsx)(tr.E,{variant:"bodyMedium",as:"div",className:mb,children:w})},p.join(""))]}),(0,Y.jsx)("div",{children:S&&(0,Y.jsx)(_b,{uri:l})})]})}var bb=s(13395),gb=s(71375),fb=s(38758);const vb="azG44gILXvjgeMcGHE9g",Eb="bsm3UGe6l2Vomj_N_P5_";var wb=s(33623);const Sb=e=>{var t,s;let{className:n}=e;const a=(0,i.d4)((e=>{var t;let{playback:s}=e;return null==s||null===(t=s.current)||void 0===t||null===(t=t.track_window)||void 0===t?void 0:t.current_track})),o=(0,i.d4)((e=>{var t;let{playback:s}=e;return null==s||null===(t=s.current)||void 0===t?void 0:t.context})),r=(0,i.d4)((e=>{var t;let{playback:s}=e;return(0,$n.El)(null==s||null===(t=s.current)||void 0===t?void 0:t.track_window)})),l=null==a?void 0:a.uri,d=(null==a||null===(t=a.album)||void 0===t?void 0:t.name)??"",c=null==o?void 0:o.uri,u=(0,ar.s9)(),p=(0,i.wA)(),m=(0,br.W)(),{onContextMenuClick:h}=(0,fb.E)(),_=(0,H.useCallback)((()=>{if(l&&c&&a){var e;const t={...a,images:null===(e=a.album)||void 0===e?void 0:e.images,album:"episode"!==a.type?a.album:void 0,show:"episode"===a.type&&a.album?{uri:a.album.uri,name:a.album.name}:void 0},s="chapter"===a.content_type;h({uri:l,contextUri:c,metadata:(0,wb.Y)(u,t,s),attributes:{isAudiobook:s}})(),m({type:"click",intent:"show-context-menu"})}}),[l,c,a,h,u,m]),y=(0,H.useCallback)((()=>{var e,t;return r?u.get("mwp.playback.badge.advertisement"):(null===(e=(0,Ze.o_h)(null==o?void 0:o.uri))||void 0===e?void 0:e.type)===Ze.NQG.COLLECTION?u.get("mobile-web-player.LikedSongsEntityView.title"):null!=o&&null!==(t=o.metadata)&&void 0!==t&&t.context_description?o.metadata.context_description:d}),[d,null==o||null===(s=o.metadata)||void 0===s?void 0:s.context_description,null==o?void 0:o.uri,u,r]),b=(0,Y.jsx)(tr.E,{as:"div",variant:"bodySmallBold",className:Eb,"data-testid":"npv-header-title",children:y()});return(0,Y.jsxs)("div",{className:rr()(n,vb),children:[(0,Y.jsx)(nr.H,{"aria-label":u.get("close"),iconOnly:bb.r,onClick:()=>{p(sn()),m({type:"click",intent:"close-now-playing-view"})},semanticColor:"textBase",className:rr()({"visibility-hidden":r})}),c&&!r?(0,Y.jsx)(Mc.N,{to:c,onClick:()=>{p(sn()),m({type:"click",intent:"navigate-to-playback-context"})},className:Eb,children:b}):b,(0,Y.jsx)(nr.H,{"data-testid":"npv-context-menu","aria-label":u.get("keyboard.shortcuts.description.openContextMenu"),iconOnly:gb.x,onClick:_,semanticColor:"textBase",className:rr()({"visibility-hidden":r})})]})};s(14126);var Rb=s(69674),Tb=s(33469);const Ab=new sd.fq;async function xb(e,t){Array.isArray(t)||(t=[t]);const n=await Promise.all(t.map((e=>Ab.get(e))));if(function(e){return e.every((e=>!!e))}(n))return n;try{const n=await(0,Rb.n)(e,t),i=await function(e,t){const n=t.map((async(t,n)=>{if(t&&!t.isFallback)return t;if(""===e[n])return Tb.A;if(!Np()){const{extractColors:t}=await Promise.all([s.e(112),s.e(760)]).then(s.bind(s,74760)),i=e[n];return i?t(i):Tb.A}return Tb.A}));return Promise.all(n)}(t,n);return i.forEach(((e,s)=>{const n=t[s];n&&Ab.set(n,Promise.resolve(e))})),i}catch{if(!Np()){const{extractColors:e}=await Promise.all([s.e(112),s.e(760)]).then(s.bind(s,74760));return Promise.all(t.map((t=>{const s=e(t);return Ab.set(t,s),s})))}return Promise.resolve([Tb.A])}}const Cb=e=>{let{url:t}=e;return async(e,s,n)=>{let{graphQLLoader:i}=n;if(s().colorExtraction.colors[t])return;const[a]=await xb(i,t);if(a){const{r:s,g:n,b:i}=a.colorDark.rgb;e(function(e){let{url:t,color:s}=e;return{type:ft,color:s,url:t}}({url:t,color:[s,n,i]}))}}};var Ib=s(82758),kb=s(63e3),Nb=s(98570);const Pb="F4kdfvI0TOJ1vYMeb3_V",Lb="vNWfbfHn_8uanCqFEBAe",jb="RF95bF_jj0NCIJspFCqm";var Ob=s(27700),Db=s(26031);const Mb=(0,H.memo)((e=>{let{onClick:t}=e;const s=(0,ar.s9)();return(0,Y.jsx)(nr.H,{"aria-label":s.get("playback-control.connect-picker"),iconLeading:Ib.g,semanticColor:"textBase",onClick:t,size:"small","data-testid":"npv-connect-button"})})),Ub=(0,H.memo)((e=>{let{onClick:t,deviceName:s}=e;const n=(0,ar.s9)();return(0,Y.jsx)(nr.H,{"aria-label":n.get("connect-picker.listening-on"),iconLeading:Kh.E,semanticColor:"textBrightAccent",onClick:t,size:"small","data-testid":"npv-connect-active-button",children:(0,Y.jsx)("div",{className:jb,children:s??""})})}));function Bb(){const e=(0,ar.s9)(),t=(0,i.d4)((e=>{var t;let{connect:s}=e;return Boolean(null===(t=s.device)||void 0===t?void 0:t.local)})),s=(0,i.d4)((e=>{var t;let{connect:s}=e;return null===(t=s.device)||void 0===t?void 0:t.name})),n=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t||null===(t=t.track_window)||void 0===t?void 0:t.current_track})),a=(0,i.d4)((e=>{var t;let{playback:s}=e;return(0,$n.El)(null===(t=s.current)||void 0===t?void 0:t.track_window)})),o=(0,i.d4)((e=>{let{session:t}=e;return t.isAnonymous})),r=(0,i.wA)(),l=(0,br.W)(),d=(0,Ob.q)(),c=(0,Db.j)(),u=()=>{r({type:ge}),l({type:"click",intent:"open-device-picker"})},p=()=>t?(0,Y.jsx)(Mb,{onClick:u}):(0,Y.jsx)(Ub,{onClick:u,deviceName:s});return(0,Y.jsxs)("div",{className:rr()(Pb,{"visibility-hidden":a,[Lb]:o}),"data-testid":"npv-footer",children:[!o&&(0,Y.jsx)(p,{}),n&&(0,Y.jsx)(nr.H,{"aria-label":e.get("mwp.list.item.share"),iconOnly:c?kb.C:Nb.y,semanticColor:"textBase",onClick:async()=>{l({type:"click",intent:"share"});const e=(e=>{var t;return"chapter"===e.content_type?null===(t=e.album)||void 0===t?void 0:t.uri:e.uri})(n);e&&await d(e)},size:"small","data-testid":"npv-share-button"})]})}const Gb=()=>{const e=(0,i.d4)((e=>{var t;let{playback:s}=e;return null==s||null===(t=s.current)||void 0===t||null===(t=t.track_window)||void 0===t||null===(t=t.current_track)||void 0===t?void 0:t.uri})),t=(0,i.d4)((e=>{var t;let{playback:s}=e;return(0,$n.LY)(null==s||null===(t=s.current)||void 0===t?void 0:t.track_window.current_track)})),s=(0,i.d4)((e=>{let{colorExtraction:t}=e;return t.colors})),n=(0,i.d4)((e=>{let{ui:t}=e;return t.nowPlayingView})),a=((e,t)=>{const s=e[t];if(!s)return"";const[n,i,a]=s;return`rgb(${n},${i},${a})`})(s,t),o=(0,i.wA)();return(0,H.useEffect)((()=>{o(Cb({url:t}))}),[e,t,o]),(0,Y.jsx)(Wm.A,{in:n,timeout:150,classNames:"npv-slide-up",unmountOnExit:!0,children:(0,Y.jsxs)("div",{className:rr()([zy,"non-selectable-text","encore-dark-theme"]),style:{backgroundColor:a},"data-testid":"npv-container",children:[(0,Y.jsx)(Sb,{className:Wy}),(0,Y.jsx)(cb,{className:qy}),(0,Y.jsx)(yb,{className:Qy}),(0,Y.jsx)(ab,{className:$y}),(0,Y.jsx)(Ky,{className:Zy}),(0,Y.jsx)(Bb,{})]})})},Fb="KYENDyf5bL_bTaXxL5aw",Vb="BwTcRiO8PrAguhCOGH9M",Hb=e=>{let{deviceName:t,onClickContinue:s,onClickListenLocal:n}=e;const i=(0,ar.s9)();return(0,Y.jsxs)("div",{className:Fb,children:[(0,Y.jsx)(tr.E,{variant:"bodySmall",children:i.get("mwp.header.listening")}),(0,Y.jsx)(tr.E,{variant:"titleSmall",className:Vb,children:t}),(0,Y.jsx)(ir.$,{onClick:s,size:"large",children:i.get("mwp.cta.continue")}),(0,Y.jsx)(nr.H,{onClick:n,size:"medium",semanticColor:"textBase",children:i.get("mwp.cta.listen.on.phone")})]})};var Yb=s(66590),Kb=s(58021),zb=s(58538),Wb=s(42054);const qb="upb5J45er158T713LxUy";function Qb(e,t){return"tagName"in e&&e.tagName===t}function $b(e){return"tagName"in e&&"string"==typeof e.tagName}const Zb=H.memo((function(e){let{source:t="",LinkComponent:s,onTimeStampClick:n,onLinkClick:i}=e;const a=(0,H.useMemo)((()=>function(e){const{LinkComponent:t,onTimeStampClick:s,onLinkClick:n}=e,i={replace:e=>{if($b(e)&&Qb(e,"a")&&t)try{return(0,Y.jsx)(t,{to:(0,zb.Iv)(e.attribs.href),onClick:n,children:(0,Kb.zd)(e.children.filter(Xb))})}catch(Bl){return null}else{if($b(e)&&Qb(e,"img")){const{src:t,alt:s,width:n,height:i}=e.attribs;return(0,Y.jsx)(mh._,{src:t,alt:s,loading:"eager",width:n,height:i,className:qb})}if($b(e)&&Qb(e,"time")&&s)return(0,Y.jsx)(Wb.D,{onClick:s,children:(0,Kb.zd)(e.children.filter(Xb))})}return e}};return i}({LinkComponent:s,onTimeStampClick:n,onLinkClick:i})),[s,n,i]),o=(0,H.useMemo)((()=>(0,Kb.Ay)((0,zb.fZ)(t),a)),[t,a]);return(0,Y.jsx)(rp.tH,{fallback:()=>(0,Y.jsx)(Y.Fragment,{children:t}),children:o})}));function Xb(e){return!(!e||"object"!=typeof e)&&((!("type"in e)||"cdata"!==e.type)&&((!("type"in e)||"root"!==e.type)&&("type"in e&&"comment"===e.type||(!(!("type"in e)||"string"!=typeof e.type||!["tag","script","style"].includes(e.type))||("type"in e&&"directive"===e.type||"type"in e&&"text"===e.type)))))}const Jb="Gjwkh1uhTtn9tGTifRP9",eg="LMYaE4CDtIsdAnseTm0D",tg="FgNvhmj_jG72WXLZisha",sg="ojwmWhDD5kfyEycV1GIL",ng=`linear-gradient(${Yb.vh3}, ${Yb.Ql9} 45%)`;function ig(){const e=`${(0,ar.s9)().get("mwp.backgrounderror.modal.refresh.description",{open_app_upsell_tag:`<a href="${(0,Fo.KY)().toString()}">`,close_app_upsell_tag:"</a>"})}`;return(0,Y.jsx)(tr.E,{variant:"bodyMedium",className:tg,children:(0,Y.jsx)(Zb,{source:e,LinkComponent:e=>(0,Y.jsx)("a",{target:"_blank",style:{color:Yb.imx,textDecoration:"underline"},rel:"noopener",href:e.to,children:e.children})})})}const ag=()=>{const e=(0,ar.s9)();return(0,Y.jsx)(um,{className:void 0,backgroundColor:"white",overlayBackgroundImage:ng,overlayOpacity:".8",children:(0,Y.jsxs)("div",{className:Jb,children:[(0,Y.jsx)(tr.E,{variant:"titleSmall",className:eg,children:e.get("mwp.backgrounderror.modal.refresh.title")}),(0,Y.jsx)(ig,{}),(0,Y.jsx)(ir.$,{className:sg,onClick:()=>window.location.reload(),children:e.get("mwp.backgrounderror.modal.refresh.cta")})]})})};var og=s(33342);const rg=e=>(0,Y.jsx)("img",{alt:"Zara Larsson",src:(0,og.bj)("images/zara-larsson-singles.png"),...e});var lg=s(44396);const dg="A3xfyRSyQvjpdYHwyIa8",cg="uCYJbYX81376DN5zCZTg",ug="ei9yKxeKctNyAjUUDEvT",pg="ptjHfUzn48J4cfUo_UgX",mg="lJnMKkP7T1Ol7QjeUkoP",hg="ufks8pGWM_qIpRYo5zUT",_g="bxEzDiVXNr2aueZcMRoL",yg="hOqdn3_Z_RZvxwnAXxIx",bg=Yb.Ql9,gg=Yb.Ql9,fg=(0,i.Ng)(null,(e=>{const t=()=>{e(on(Re.LOGIN_TO_LISTEN))};return{onDismiss(){t()},onCtaClick(){t(),window.open(th.BW,"_blank","noopener")}}}))((e=>{const{onDismiss:t,onCtaClick:s}=e,n=(0,ar.s9)();return(0,Y.jsx)(um,{className:cg,backgroundColor:gg,overlayBackgroundImage:bg,overlayOpacity:"1",children:(0,Y.jsxs)("div",{className:dg,children:[(0,Y.jsx)("div",{className:ug,children:(0,Y.jsx)(lg.T,{color:Yb.ONy,height:"26"})}),(0,Y.jsx)(rg,{className:yg}),(0,Y.jsx)(tr.E,{className:pg,variant:"titleSmall",children:n.get("mwp.d2p.modal.title")}),(0,Y.jsx)(tr.E,{className:mg,variant:"bodyMedium",children:n.get("mwp.d2p.modal.description")}),(0,Y.jsx)(ir.$,{className:hg,onClick:s,children:n.get("mwp.d2p.modal.cta")}),(0,Y.jsx)(nr.H,{className:_g,onClick:t,semanticColor:"textBase",children:n.get("mwp.d2p.modal.dismiss")})]})})})),vg={macOS:"https://download.scdn.co/SpotifyInstaller.zip",Windows:"https://download.scdn.co/SpotifySetup.exe"},Eg={iOS:"https://app.adjust.com/wp2zrj?adgroup=signup_to_listen&campaign=default&tracker_limit=250000",Android:"https://app.adjust.com/ff0trr?adgroup=signup_to_listen&campaign=default&tracker_limit=250000"},wg={dialog:"jIWpjc5JVlqg4NyVxBsm",container:"UOkyDPOeK2UwsbEonmcK",content:"L0iZ6881D6xYXuChU0iS",logoSpotify:"Qt3hR7TjasS1J3oQoqxn",img:"izXU1p595HfQELNSAygT",title:"COJMPHaJLcmta47YciiC",buttonTertiary:"q_8RXe08zoRxJYwUPD9L"},Sg=Yb.Ql9,Rg=(0,i.Ng)((e=>{let{session:t}=e;return{country:t.country,isPodcastEnabled:Boolean(t.features.isPodcastEnabled)}})),Tg=Rg((e=>{let{isPodcastEnabled:t,country:s}=e;const n=(0,ar.s9)(),a=(0,i.wA)(),o=(0,H.useCallback)((()=>{a(on(Re.SIGNUP_TO_LISTEN))}),[a]),r=(0,ip.V)(),l=Kr(),d=(0,Wd.DO)((()=>{o();const e={category:"in_app_message",action:"click",label:"dismiss",destination_url:"open.spotify.com",os:l,country:s,context:window.location.search};return r?(0,Br.r)(e):(0,Ur._)(e)})),c=(()=>{const e=(0,ap.f)();return Object.keys(vg).includes(e)?vg[e]:Object.keys(Eg).includes(e)?Eg[e]:"https://spotify.com/download"})(),u=(0,Wd.DO)((()=>{o(),window.open(c,"_blank","noopener");const e={category:"in_app_message",action:"click",label:"download",destination_url:c,os:l,country:s,context:window.location.search};return r?(0,Br.r)(e):(0,Ur._)(e)}));return(0,Y.jsxs)(um,{backgroundColor:"transparent",overlayBackgroundImage:Sg,overlayOpacity:"0.85",className:["encore-dark-theme",wg.dialog].join(" "),children:[(0,Y.jsx)(er.G,{className:wg.logoSpotify,height:"24",semanticColor:"textBrightAccent",condensed:!0}),(0,Y.jsxs)("div",{className:wg.container,children:[(0,Y.jsxs)("div",{className:wg.content,children:[(0,Y.jsx)("img",{className:wg.img,alt:"Web Player",src:(0,og.bj)("images/s2l-mobileui.png")}),(0,Y.jsx)(tr.E,{className:wg.title,as:"h1",variant:"titleSmall",children:n.get("s2l.download_spotify")}),(0,Y.jsx)(tr.E,{as:"p",semanticColor:"textSubdued",children:t?n.get("s2l.play_millions_podcasts"):n.get("s2l.play_millions")})]}),(0,Y.jsx)(ir.$,{onClick:u,children:n.get("s2l.download")})]}),(0,Y.jsx)(nr.H,{className:wg.buttonTertiary,onClick:d,semanticColor:"textBase",children:n.get("s2l.dismiss")})]})})),Ag="G22LIjgkDtQEFpyBZcDo",xg="g3kBhX1E4EYEC2NFhhxG",Cg="O5_0cReFdHe81E0xFAD1",Ig="H71KtIrytVayf_dFofu7",kg="SBpny8HrUTBzSjk7Vtk1",Ng="CxurIfvXVb_TqGF4q8Yf",Pg="OadpZJiOaGfX6Qp4j6n5",Lg="iJp40IxKg6emF6KYJ414",jg="vreceNX3ABcxyddeS83B";let Og=function(e){return e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE",e}({});const Dg=(0,H.memo)((function(e){var t,s;let{loadingMode:n="lazy",fadeIn:i=!1,type:a,title:o,images:r=[],shape:l=Og.SQUARE,size:d=Cu.Qe.SIZE_56,iconSize:c,className:u,onContextMenu:p=()=>{},onTouchStart:m=()=>{},onTouchEnd:h=()=>{},color:_,style:y,children:b}=e;const g=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>Boolean(e.width))),t=e.filter((e=>e.url&&e.width&&e.width>=Cu.BZ[Cu.Qe.SIZE_56])).sort(((e,t)=>e.width-t.width));return t.length?t:e}(r),f=(null===(t=g[0])||void 0===t?void 0:t.url)??(null===(s=r[0])||void 0===s?void 0:s.url)??"",v=g.map((e=>{let{url:t,width:s}=e;return`${t} ${s/2}w, ${t} ${s}w`})).join(", ");return(0,Y.jsxs)("div",{className:rr()(jg,u,{[Pg]:l===Og.CIRCLE,[Ng]:l===Og.SQUARE,[Ag]:Cu.fn.includes(d),[xg]:Cu.zr.includes(d),[Cg]:Cu.pM.includes(d),[Ig]:Cu.JT.includes(d),[kg]:Cu.B4.includes(d)}),onContextMenu:p,onTouchStart:m,onTouchEnd:h,style:{width:`${Cu.BZ[d]}px`,height:`${Cu.BZ[d]}px`,"--extracted-entity-color":_,...y},children:[(0,Y.jsx)(mh._,{loading:n,fadeIn:i,src:f,alt:o,ariaHidden:!0,className:rr()(Lg),srcSet:v||void 0,testid:"entity-image",children:(0,Y.jsx)(pp.s,{title:o,type:a,iconSize:c})}),b]})})),Mg="lhXif2ra6NQvf6urehch",Ug="dPwrT_n_dOHVYbNiXALX",Bg=e=>{var t;let{closeOverlay:s}=e;const n=(0,ar.s9)(),a=(0,i.d4)((e=>{let{ui:t}=e;return t.context??""})),o=(0,i.d4)((e=>{let{entities:t}=e;return t.items[a]}));return je(o)||Le(o)?(0,Y.jsxs)("div",{className:Mg,children:[(0,Y.jsxs)("div",{className:Ug,children:[(0,Y.jsx)("div",{children:(0,Y.jsx)(Dg,{size:Cu.Qe.SIZE_168,type:Zc.c.SHOW,images:(0,Hc.X)((null===(t=o.coverArt)||void 0===t?void 0:t.sources)??[]),title:o.name,shape:Og.ROUNDED_CORNERS})}),(0,Y.jsx)(tr.E,{as:"p",variant:"titleSmall",children:Le(o)?n.get("mobile-web-player.RatingOverlay.audiobook.title"):n.get("mobile-web-player.RatingOverlay.podcast.title")}),(0,Y.jsx)(tr.E,{variant:"bodyMedium",as:"p",children:Le(o)?n.get("mobile-web-player.RatingOverlay.audiobook.description"):n.get("mobile-web-player.RatingOverlay.podcast.description")}),(0,Y.jsx)(ir.$,{colorSet:"invertedLight",onClick:s,children:n.get("mobile-web-player.RatingOverlay.cta")})]}),(0,Y.jsx)(nr.H,{onClick:s,children:(0,Y.jsx)(tr.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:n.get("close")})})]}):null};var Gg=s(83471);const Fg=e=>{if((e=>!(null==e||!e.__typename))(e)){var t,s,n,i,a,o;if("Album"===e.__typename||"Audiobook"===e.__typename||"Chapter"===e.__typename||"Podcast"===e.__typename||"Episode"===e.__typename)return null===(t=e.coverArt)||void 0===t?void 0:t.sources;if("Track"===e.__typename)return null===(s=e.albumOfTrack)||void 0===s||null===(s=s.coverArt)||void 0===s?void 0:s.sources;if("Artist"===e.__typename)return null===(n=e.visuals.avatarImage)||void 0===n?void 0:n.sources;if("User"===e.__typename)return null===(i=e.avatar)||void 0===i?void 0:i.sources;if("Playlist"===e.__typename)return null===(a=e.images)||void 0===a||null===(a=a.items[0])||void 0===a?void 0:a.sources;if("PreRelease"===e.__typename)return null===(o=e.preReleaseContent)||void 0===o||null===(o=o.coverArt)||void 0===o?void 0:o.sources}else if((e=>Array.isArray(null==e?void 0:e.images))(e))return e.images},Vg=()=>{const e=(0,fr.zy)();if(Np()||!e.pathname)return null;try{return(0,Ze.Lce)(e.pathname).toString()}catch(t){return null}},Hg=()=>{const e=Vg(),t=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t?void 0:t.track_window.current_track})),s=(0,i.d4)((e=>{let{entities:t}=e;return t.items})),n=e?s[e]:void 0,a=Fg(n)??(null==(o=t)||null===(r=o.album)||void 0===r||null===(r=r.images)||void 0===r?void 0:r.map((e=>({url:e.url,width:e.width??null,height:e.height??null}))));var o,r;const l=(0,Xe.m)(a,150),d=(e=>{const t=(0,i.wA)(),s=(0,i.d4)((e=>{let{colorExtraction:t}=e;return t.colors})),n=e&&s[e],[a,o,r]=n||[0,0,0],l=Ji.Q.fromRGB({r:a,g:o,b:r}).toCSS(Gg.a.HEX);return(0,H.useEffect)((()=>{e&&!n&&t(Cb({url:e}))}),[n,t,e]),l})(l);return{backgroundColor:d,imageUrl:l}},Yg="mjRcZWU4Cm_3rfuRIqlt",Kg="vJjgLpTk2CjYNg1NSm4Z",zg="FWeUDSSGU2WEPsdcxMbi",Wg="lRxWlFRlNbYBSrVJKWM9",qg="hdfkQnVN5zhHxCe4pVfe";var Qg=s(49942),$g=s(15911);var Zg=s(11232);const Xg={content:"zELWV9KSqu_XNeb5rQuI","justify-center":"pUTkY3FW_gwvPxImwVLz","justify-space-evenly":"wWt8GjyGmldOkNyFF2kx",upsellContent:"ZuRyDPR2kitUyTS0U_IL",text:"c3XTwAH9Ch0IDaTfTx4a",thumbnail:"bH8G6GbgIPNmkumsoYyK",actions:"Fc6nvyzM15WVnITAY3jf"},Jg="hwNntEdo4sKv6OiyY8xK",ef="k4v_MzPOuOzAqhcX2tKQ",tf="E1Ue0hY5OSTjNkczEb0U",sf="oYdZ8mmd43Qz5uW4NsJJ",nf=e=>{let{backgroundColor:t,fullHeight:s=!1,testId:n,children:i}=e;return rm.createPortal((0,Y.jsxs)("div",{className:rr()("encore-layout-themes","encore-dark-theme",Jg),style:t?{"--base-background-color":t}:{},"data-testid":n,children:[(0,Y.jsx)("div",{className:ef}),(0,Y.jsx)("div",{className:rr()(tf,{[sf]:s}),children:i})]}),document.body)},af=e=>{let{title:t,description:s,image:n,primaryButton:i,secondaryButton:a,backgroundColor:o,justifyContent:r,testId:l,renderExtraInfo:d}=e;return(0,Y.jsx)(nf,{fullHeight:!0,backgroundColor:o,testId:l,children:(0,Y.jsxs)("div",{className:rr()(Xg.content,Xg[`justify-${r}`]),children:[(0,Y.jsxs)("div",{className:rr()(Xg.upsellContent),children:[n,(0,Y.jsxs)("div",{className:Xg.text,children:[t,s]}),(0,Y.jsxs)("div",{className:Xg.actions,children:[i,a]})]}),d&&d()]})})};var of=function(e){return e[e.SIGNUP=0]="SIGNUP",e[e.LOGIN=1]="LOGIN",e[e.DOWNLOAD=2]="DOWNLOAD",e}(of||{});const rf=(0,H.memo)((function(e){let{image:t,mediaType:s,backgroundColor:n,onSignupClick:i,onLoginClick:a,onDownloadClick:o,onDialogClose:r,downloadLink:l}=e;const d=e=>t=>{switch(t.preventDefault(),e){case of.DOWNLOAD:o&&o(),window.open(l,"_top","noopener");break;case of.SIGNUP:i&&i(),(0,pc.ie)();break;case of.LOGIN:a&&a(),(0,pc.PW)()}},u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent).includes("OculusBrowser")}(),p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.referrer;try{const t=new URL(e);return"android-app:"===t.protocol&&"com.spotify.music.debug"===t.hostname}catch{return!1}}(),m=(0,Y.jsx)(Gc._,{borderRadius:"larger-2",src:t,placeholderIcon:Fc.L,className:Yg}),h="audio"===s?c.Ru.get("fta.wall.start-listening"):c.Ru.get("fta.wall.start-watching"),_=(0,Zg.V)()?void 0:(0,Y.jsx)(ir.$,{onClick:d(of.SIGNUP),children:c.Ru.get("mwp.cta.sign.up.free")}),y=!u&&!p&&!!l,b=(0,Zg.V)()?(0,Y.jsx)(ir.$,{className:Kg,"data-testid":"upsell-download-app-button",onClick:d(of.DOWNLOAD),children:c.Ru.get("mwp.cta.download.app")}):(0,Y.jsx)(Qg.n,{"data-testid":"upsell-download-app-button",onClick:d(of.DOWNLOAD),children:c.Ru.get("mwp.cta.download.app")});return(0,Y.jsx)(af,{testId:"upsell-dialog",image:m,title:(0,Y.jsx)(tr.E,{variant:"titleMedium",children:h}),primaryButton:_,secondaryButton:y?b:void 0,backgroundColor:n,justifyContent:"center",renderExtraInfo:()=>(0,Y.jsxs)(Y.Fragment,{children:[!(0,Zg.V)()&&(0,Y.jsxs)(tr.E,{semanticColor:"textSubdued",className:zg,variant:"bodySmall",children:[c.Ru.get("already_have_account"),(0,Y.jsx)($g.Y,{semanticColor:"textBase",className:Wg,onClick:d(of.LOGIN),children:c.Ru.get("login")})]}),(0,Y.jsx)(nr.H,{onClick:r,className:qg,children:c.Ru.get("close")})]})})})),lf=()=>{const e=(0,i.wA)(),t=(0,br.W)();(0,qu.r)(qu.h);const{backgroundColor:s,imageUrl:n}=Hg();return(0,H.useEffect)((()=>{t({type:"view",intent:"open-upsell"})}),[t]),(0,Y.jsx)(rf,{image:n,mediaType:"audio",backgroundColor:s,onSignupClick:()=>{t({intent:"signup",type:"click"}),(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"signup",value:1})},onLoginClick:()=>{t({intent:"login",type:"click"}),(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"login",value:1})},onDownloadClick:()=>{t({intent:"download-app",type:"click"})},onDialogClose:()=>{e(on(Re.SIGNUP)),t({intent:"close-upsell",type:"click"})},downloadLink:(0,Fo.KY)().toString()})},df="ujWWGe74JVcpxEEftlqr",cf=e=>{var t;let{closeOverlay:s}=e;const n=(0,br.W)(),{state:i}=U_(),a=null===(t=i.data)||void 0===t?void 0:t.accessExplanation;if(!(0,Ve.KX)(a))return null;return(0,Y.jsx)(um,{children:(0,Y.jsxs)("div",{className:df,children:[(0,Y.jsx)(er.G,{height:"32",condensed:!0,useBrandColor:!0}),(0,Y.jsx)(tr.E,{variant:"titleSmall",children:a.title}),(0,Y.jsx)(tr.E,{variant:"bodyMedium",as:"p",children:a.body}),a.ctaUrl&&(0,Y.jsx)(ir.$,{onClick:()=>{n({intent:"audiobook-consumption-cap-overlay-cta",type:"click"}),window.location.href=a.ctaUrl},children:a.actionText}),(0,Y.jsx)(nr.H,{onClick:()=>{n({intent:"audiobook-consumption-cap-overlay-close",type:"click"}),s()},semanticColor:"textBase",children:a.dismiss})]})})};var uf=s(52821);const pf="Zj1uHinyTgU6UEF9_lt9",mf="MMTZniCZB00NMqs1UvCo",hf=e=>{let{closeOverlay:t}=e;const{clearUpsellMetadata:s,gatedEpisodeMetadata:n}=gp(),i=(0,ar.s9)(),a=()=>{t(),s()};return n?(0,Y.jsx)(um,{className:"encore-dark-theme",children:(0,Y.jsxs)("div",{className:(0,uf.Ju)("invertedLight",pf),children:[n.image&&(0,Y.jsx)(Gc._,{alt:"",src:n.image,className:mf,borderRadius:"larger",imageWidth:"larger-3"}),(0,Y.jsx)(tr.E,{variant:"marginalBold",semanticColor:"textBase",children:n.episodeName}),(0,Y.jsx)(tr.E,{variant:"marginal",semanticColor:"textSubdued",paddingBottom:"base",children:n.showName}),(0,Y.jsx)(tr.E,{variant:"titleSmall",semanticColor:"textBase",paddingBottom:"tighter-2",children:i.get("mobile-web-player.GatedContentDialog.title")}),(0,Y.jsx)(tr.E,{variant:"bodySmall",semanticColor:"textBase",paddingBottom:"looser",children:i.get("mobile-web-player.GatedContentDialog.description")}),n.ctaUrl?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(ir.$,{href:n.ctaUrl,children:i.get("mobile-web-player.GatedContentDialog.cta")}),(0,Y.jsx)(nr.H,{onClick:a,semanticColor:"textBase",children:i.get("mobile-web-player.GatedContentDialog.dismiss")})]}):(0,Y.jsx)(ir.$,{onClick:a,children:i.get("user-fraud-verification.dialog-alert.ok")})]})}):null},_f="XvGcic4_JfcIsGsPp8_s";var yf=s(66715);const bf=()=>{const e=(0,i.wA)(),t=(0,ar.s9)(),s=(()=>{const{ubiImpression:e}=(0,H.useContext)(rc);if(void 0===e)throw new Error("UBIImpressionContext() must be used within a UBIImpressionContext.Provider");return e})(),n=dc(),{showId:a="",episodeId:o=""}=(0,fr.g)(),r=a?(0,Ze.o_h)(`spotify:show:${a}`):(0,Ze.o_h)(`spotify:episode:${o}`),l=(0,yf.X)({data:{uri:(null==r?void 0:r.toString())??""}}),{videoEpisodeMetadata:d,clearUpsellMetadata:c}=Sp(),{uri:u,imageUrl:p,backgroundColor:m,listenAction:h}=d,_=()=>{e(on(Re.VIDEO_UPSELL)),c()};if((0,H.useEffect)((()=>{const e=l.impression();s.logImpression(e)}),[l,s]),!d)return null;const y=(0,Y.jsx)(Gc._,{borderRadius:"larger",className:_f,src:p,placeholderIcon:Fc.L}),b=(0,Y.jsx)(ir.$,{size:"large",onClick:()=>{const e=l.downloadButtonFactory().hitOpenApp({destination:(null==r?void 0:r.toString())??"",app:"music"});n.logInteraction(e),window.open((0,Fo.KY)(r).toString(),"_blank","noopener")},children:t.get("mobile-web-player.VideoUpsell.cta")}),g=(0,Y.jsx)(Qg.n,{size:"large",onClick:()=>{const e=l.listenHereButtonFactory().hitPlay({itemToBePlayed:u??""});n.logInteraction(e),h&&h(),_()},children:t.get("mobile-web-player.VideoUpsell.dismiss")});return(0,Y.jsx)(af,{backgroundColor:m,title:(0,Y.jsx)(tr.E,{variant:"titleSmall",children:t.get("mobile-web-player.VideoUpsell.title")}),description:(0,Y.jsx)(tr.E,{children:t.get("mobile-web-player.VideoUpsell.description")}),image:y,primaryButton:b,secondaryButton:g,renderExtraInfo:()=>(0,Y.jsx)(nr.H,{onClick:_,semanticColor:"textBase",children:t.get("close")}),justifyContent:"space-evenly"})},gf=()=>{const e=(0,i.wA)(),t=(0,i.d4)((e=>e.connect.device)),s=(0,i.d4)((e=>e.ui.dialog)),n=Vg(),a=(0,i.d4)((e=>{let{entities:t}=e;return n?t.items[n]:void 0})),o=(l=r=a)&&"__typename"in l&&"Audiobook"===(null==l?void 0:l.__typename)?r.isPreRelease?"audiobook-prerelease":"audiobook":Gi(r)?"album-prerelease":"";var r,l;const{state:d,dispatch:c}=U_(),u=()=>{e(on(Re.CONNECT))},p=()=>{null!=t&&t.id&&e(Dn(t.id))},m=()=>{e(on(Re.RATING))},h=()=>{e(on(Re.GATED_CONTENT))},_=()=>{c({type:"HIDE_DIALOG"})};let y=null;switch(s){case Re.CONNECT:y=t?(0,Y.jsx)(um,{children:(0,Y.jsx)(Hb,{deviceName:t.name,onClickContinue:u,onClickListenLocal:p})}):null;break;case Re.SIGNUP:y=(0,Y.jsx)(lf,{});break;case Re.BACKGROUND_PLAYBACK_ERROR:y=(0,Y.jsx)(ag,{});break;case Re.LOGIN_TO_LISTEN:y=(0,Y.jsx)(fg,{});break;case Re.SIGNUP_TO_LISTEN:y=(0,Y.jsx)(Tg,{});break;case Re.ERROR_BOUNDARY:throw new Error("Force ErrorBoundary dialog");case Re.RATING:y=(0,Y.jsx)(Bg,{closeOverlay:m});break;case Re.GATED_CONTENT:y=(0,Y.jsx)(hf,{closeOverlay:h});break;case Re.VIDEO_UPSELL:y=(0,Y.jsx)(bf,{});break;default:d.visible&&(y=(0,Y.jsx)(cf,{closeOverlay:_}))}return(0,Y.jsx)(Sr.p,{value:o,children:y})};var ff=s(56781);const vf="RqIfIRCoeg1RdNw0NZfU",Ef="TReaGMNscQs7kVELeT__",wf="MlWxT7rKXrHQxSRJJmLg",Sf="HzKyzW43C0TNcAFtjuMz",Rf="_Wq5l0D92YdIqyF9rSZy",Tf="JZ9Gc7JPhz8LnEKf9zl_",Af="ark1RWUru5P0SLH0xxaW";var xf=s(11704);const Cf=e=>{let{title:t,subtitle:s,image:n,description:i,uri:a}=e;return(0,Y.jsxs)("div",{className:Sf,children:[(0,Y.jsx)(Dg,{images:n?[{url:n,width:1}]:[],size:Cu.Qe.SIZE_64,title:t,type:(0,xf.c)(a)}),(0,Y.jsxs)("div",{className:rr()(Rf),children:[(0,Y.jsx)(tr.E,{variant:"bodyMediumBold",children:t}),(0,Y.jsx)(tr.E,{variant:"bodySmall",className:Tf,children:s})]}),i&&(0,Y.jsx)(tr.E,{variant:"bodyMedium",as:"p",className:Af,children:i})]})},If=e=>{let{children:t}=e;const s=(0,ar.s9)(),{contextMenuData:{isVisible:n,metadata:i},closeContextMenu:a}=(0,fb.E)();return i?(0,Y.jsx)(ff.K,{selector:"body",children:(0,Y.jsx)(Wm.A,{timeout:300,classNames:"overflow-menu",in:n,unmountOnExit:!0,children:(0,Y.jsxs)("div",{className:rr()("encore-dark-theme","encore-layout-themes",vf),"data-testid":"context-menu",children:[(0,Y.jsxs)("div",{className:Ef,children:[(0,Y.jsx)(Cf,{...i}),(0,Y.jsx)("div",{className:wf,children:t})]}),(0,Y.jsx)(nr.H,{onClick:a,semanticColor:"textBase",size:"large",children:s.get("close")})]})})}):null};var kf=s(84325);const Nf="aD6zTs9TsmnL8tpB2EtB",Pf=e=>{let{icon:t,title:s,onClick:n,testID:i}=e;return(0,Y.jsx)("div",{className:Nf,children:(0,Y.jsx)(nr.H,{semanticColor:"textBase",onClick:n,"data-testid":i,iconLeading:t,condensedAll:!0,children:s})})};var Lf=s(23953),jf=s(69813);const Of="context-menu-action-like",Df=()=>(0,Y.jsx)(Eh.F,{semanticColor:"textBrightAccent"}),Mf=()=>(0,Y.jsx)(sr.M,{semanticColor:"textBrightAccent"}),Uf=()=>{var e,t;const s=(0,ar.s9)(),{contextMenuData:n,closeContextMenu:i}=(0,fb.E)(),{uri:a,metadata:o}=n,r=null===(e=(0,Ze.o_h)(a))||void 0===e?void 0:e.type,[l]=(0,Lf.a)({entities:[{uri:a??""}]}),{toggleFromLibrary:d}=(0,jf.M)(),c=async()=>{i(),d(a??"")};if(!r||!(e=>e!==Ze.NQG.EPISODE)(r))return null;const u=null==o||null===(t=o.attributes)||void 0===t?void 0:t.isAudiobook,p=u?Du.P:kf.r,m=u?Ou.k:Mf,h=u?s.get("save_to_your_library"):s.get("mwp.context.follow"),_=u?s.get("remove_from_your_library"):s.get("mwp.context.stop.following");switch(r){case Ze.NQG.ARTIST:case Ze.NQG.PLAYLIST_V2:case Ze.NQG.SHOW:case Ze.NQG.EPISODE:case Ze.NQG.PROFILE:return(0,Y.jsx)(Pf,{testID:Of,icon:l?m:p,title:l?_:h,onClick:c},Of);case Ze.NQG.ALBUM:case Ze.NQG.TRACK:return(0,Y.jsx)(Pf,{testID:Of,icon:l?Df:wh.g,title:l?s.get("mwp.context.liked"):s.get("mwp.list.item.like"),onClick:c},Of);default:return(0,Y.jsx)(Y.Fragment,{})}},Bf="context-menu-action-share",Gf=()=>{var e,t;const{contextMenuData:{uri:s,metadata:n},closeContextMenu:a}=(0,fb.E)(),o=null===(e=(0,Ze.o_h)(s))||void 0===e?void 0:e.type,r=(0,i.d4)((e=>e.session.features)),l=(0,ar.s9)(),d=l.getLocaleForURLPath(),c=(0,Ob.q)(),u=(0,Db.j)(),{isI18nAdditionalPagesEnabled:p}=r,m=(0,w_.p)({entityFeatureFlag:Boolean(p),urlLocale:d,entity:o,type:"link"}),h=null==n||null===(t=n.attributes)||void 0===t?void 0:t.isAudiobook;if(!s||!o||!function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(e===Ze.NQG.EPISODE&&t)}(o,h))return null;return(0,Y.jsx)(Pf,{testID:Bf,icon:u?kb.C:Nb.y,title:l.get("mwp.list.item.share"),onClick:async()=>{await c(s,m),a()}},Bf)};var Ff=s(92259),Vf=s(21187);const Hf="context-menu-action-view-artist",Yf=e=>{let{entityType:t,uri:s}=e;const n=(0,ar.s9)(),{closeContextMenu:a}=(0,fb.E)(),o=(0,i.wA)(),r=(0,fr.Zp)(),l=(e=>{switch(e){case Zc.c.ALBUM:return Vc.I;case Zc.c.ARTIST:return kf.r;case Zc.c.AUDIOBOOK:return Ff.l;case Zc.c.EPISODE:case Zc.c.SHOW:return Fc.L;case Zc.c.TRACK:return Vf.v;default:return null}})(t),d=((e,t)=>{switch(e){case Zc.c.ALBUM:return t.get("mwp.context.view.album");case Zc.c.ARTIST:return t.get("mwp.context.view.artist");case Zc.c.AUDIOBOOK:return t.get("mwp.context.go.to.audiobook");case Zc.c.EPISODE:return t.get("mwp.context.go.to.episode");case Zc.c.SHOW:return t.get("mwp.context.go.to.podcast");case Zc.c.TRACK:return t.get("mwp.context.view.track");default:return null}})(t,n);return l&&d?(0,Y.jsx)(Pf,{icon:l,title:d,onClick:()=>(e=>{const t=(0,Ze.Lce)(e).toURLPath(!0),s=(0,Om.hF)(t);a(),o(sn()),r(s)})(s)},Hf):null},Kf=()=>(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Uf,{}),(0,Y.jsx)(Gf,{})]}),zf=()=>{var e;const{contextMenuData:{uri:t,contextUri:s,isVisible:n,metadata:i}}=(0,fb.E)(),a=null===(e=(0,Ze.o_h)(t))||void 0===e?void 0:e.type;if(!(t&&a&&n&&i))return null;const{artist:o,album:r,show:l,attributes:d}=i;let c=null;switch(a){case Ze.NQG.TRACK:c=(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Kf,{}),t&&t!==s&&(0,Y.jsx)(Yf,{uri:t,entityType:Zc.c.TRACK}),(null==o?void 0:o.uri)&&(null==o?void 0:o.uri)!==s&&(0,Y.jsx)(Yf,{uri:o.uri,entityType:Zc.c.ARTIST}),(null==r?void 0:r.uri)&&(null==r?void 0:r.uri)!==s&&(0,Y.jsx)(Yf,{uri:r.uri,entityType:Zc.c.ALBUM})]});break;case Ze.NQG.EPISODE:c=(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Kf,{}),t!==s&&!(null!=d&&d.isAudiobook)&&(0,Y.jsx)(Yf,{uri:t,entityType:Zc.c.EPISODE}),(null==l?void 0:l.uri)&&(null==d?void 0:d.isAudiobook)&&(0,Y.jsx)(Yf,{uri:l.uri,entityType:Zc.c.AUDIOBOOK}),(null==l?void 0:l.uri)&&!(null!=d&&d.isAudiobook)&&(0,Y.jsx)(Yf,{uri:l.uri,entityType:Zc.c.SHOW})]});break;case Ze.NQG.SHOW:c=(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Kf,{}),t!==s&&(null==d?void 0:d.isAudiobook)&&(0,Y.jsx)(Yf,{uri:t,entityType:Zc.c.AUDIOBOOK})]});break;default:c=(0,Y.jsx)(Kf,{})}return(0,Y.jsx)(If,{children:c})},Wf=()=>{var e;const t=(0,ar.s9)(),s=(0,i.wA)(),[n,a]=(0,H.useState)(!1),o=(0,fr.zy)(),r=(0,fr.wQ)(),l=(0,fr.Zp)(),c=(0,i.d4)((e=>e.ui.errorView)),u=(0,i.d4)((e=>e.session)),p=(0,en.Eo)(u),m=(0,H.useRef)(null),h=(0,H.useRef)(null),{isSSRFooterTest:_}=(0,i.d4)((e=>{let{masthead:t}=e;return t})),y=(0,H.useCallback)((()=>{window.open((0,Fo.KY)().toString(),"_blank","noopener")}),[]);(0,H.useEffect)((()=>{u.country&&s({type:Nn})}),[s,u.country]),(0,H.useEffect)((()=>{s(function(e,t){return{type:Z,location:e,routerAction:t}}(o,r))}),[o,r,s]);const b=(0,ip.V)(),g=(0,Wd.DO)((()=>b?(0,j_.Z)({category:"open",action:"pageview",label:"login",destination_url:"open.spotify.com",os:Kr()}):(0,Ip.Q)({category:"open",action:"pageview",label:"login",destination_url:"open.spotify.com",os:Kr()})));(0,H.useEffect)((()=>{Em({isPremiumUser:(0,en.ki)(u),locationSearch:o.search,navigate:l,logNavigation:g,showDialog:()=>s(an(Re.LOGIN_TO_LISTEN))})}),[s,o.search,l,u,g]);const f=(0,Wd.DO)((()=>Vr(b,{country:u.country,os:Kr()})));(0,H.useEffect)((()=>{Hr({locationSearch:o.search,navigate:l,logDialog:f,showDialog:()=>s(rn())})}),[s,o.search,l,u,f]);const v=(0,H.useCallback)((()=>{a(window.innerHeight<window.screen.height/2)}),[a]);(0,H.useEffect)((()=>(window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)})),[v]);const E=!p||(null===(e=u.features)||void 0===e?void 0:e.isMWPAndPlaybackCapable),w=(0,H.useCallback)((e=>{e.preventDefault()}),[]);(0,H.useEffect)((()=>(window.addEventListener("contextmenu",w),()=>{window.removeEventListener("contextmenu",w)})),[w]);const[S,R]=(0,H.useState)(0);Op({refOrElement:m,onResize:e=>{let{height:t}=e;void 0!==t&&R(t)}});const T=lc();(0,H.useEffect)((()=>{T.onLocationChange(o)}),[T,o]);const A=(0,d.NC)(W.v6)!==W.ah.Default,x=A||!p;return c?(0,Y.jsx)(N_.E,{heading:t.get("mwp.header.playback.error"),message:t.get("mwp.playback.error.protected.content"),primaryButtonTitle:t.get("mwp.a2hs.upsell.tab.native.cta.add"),onPrimaryButtonClick:y}):(0,Y.jsx)(fm,{children:(0,Y.jsx)(wm.k,{children:(0,Y.jsx)(M_,{children:(0,Y.jsx)(bp,{children:(0,Y.jsx)(wp,{children:(0,Y.jsxs)("div",{className:"encore-layout-themes",children:[(0,Y.jsxs)(em,{children:[(0,Y.jsx)($u.V,{}),(0,Y.jsx)("div",{className:x_,style:{"--bottomMargin":`${S}px`},children:(0,Y.jsx)(L_,{location:o})}),!n&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Xh,{childRef:m}),(0,Y.jsx)(r_,{childRef:m}),(0,Y.jsxs)("div",{className:rr()(C_,{[I_]:A}),ref:m,children:[E&&(0,Y.jsx)(Sr.p,{value:"now-playing-bar",children:(0,Y.jsx)(Zh,{})}),x&&(0,Y.jsx)(Sr.p,{value:"nav-bar",children:(0,Y.jsx)(nh,{})})]})]}),(0,Y.jsx)(Sr.p,{value:"signup-modal",children:(0,Y.jsx)(gf,{})}),(0,Y.jsx)(Sr.p,{value:"contextmenu",children:(0,Y.jsx)(zf,{})})]}),(0,Y.jsxs)("aside",{className:rr()("encore-dark-theme",k_),children:[E&&(0,Y.jsx)(Sr.p,{value:"connect-view",children:(0,Y.jsx)(Ty,{})}),E&&(0,Y.jsx)(Sr.p,{value:"now-playing-view",children:(0,Y.jsx)(Gb,{})}),(0,Y.jsx)("div",{ref:h,children:_&&(0,Y.jsx)(A_,{isSSRFooterTest:!0})}),!_&&(0,Y.jsx)(A_,{languageSelectionModalRef:h})]}),(0,Y.jsx)(Sr.p,{value:"toast",children:(0,Y.jsx)(om,{})})]})})})})})})};var qf=s(48397);const Qf=e=>{let{primaryButtonTitle:t,message:s,primaryButtonNavigatePath:n="/search/recent"}=e;const i=(0,ar.s9)(),a=(0,fr.Zp)();return(0,$u.n)({visible:!0}),(0,Y.jsx)("div",{className:qf.A.errorContainer,children:(0,Y.jsx)(N_.E,{heading:i.get("error.generic"),message:s??i.get("error.not_found.body"),primaryButtonTitle:t??i.get("mwp.nav.search"),onPrimaryButtonClick:()=>{a(n)}})})},$f=e=>{let{children:t,...s}=e;return(0,Y.jsx)(rp.tH,{onError:gm,fallback:()=>(0,Y.jsx)(Qf,{...s}),children:t})},Zf=e=>{let{uri:t,onLibraryUpdated:s}=e;return(0,Y.jsx)(Mu.h,{uri:t,onLibraryUpdated:s,inLibraryComponent:e=>(0,Y.jsx)(jh,{onClick:e,isAdded:!0,size:Ph.sm,style:{padding:vh.CJ}}),notInLibraryComponent:e=>(0,Y.jsx)(jh,{onClick:e,isAdded:!1,size:Ph.sm,style:{padding:vh.CJ}})})};var Xf=s(88783),Jf=s(69301);const ev=()=>(0,i.d4)((e=>!e.playback.current||e.playback.current.paused)),tv=e=>(e||[]).map((e=>{var t;return{coverArt:e.coverArt,name:e.name,uri:e.uri,id:e.id,type:e.type,year:null===(t=e.date)||void 0===t?void 0:t.year}})),sv=e=>{const t=e?e.reduce(((e,t)=>{const s=t.releases.items[0];return void 0!==s&&e.push(s),e}),[]):[];return tv(t)};var nv=s(6434);const iv="T1nqQ4HEh3heHy4RCCKa",av="L8zjshPVgUMXyZR4FtOk",ov="YMn1FWcFmOz9osBrNvhF",rv="Inbyq3TnvKDOJtcKFTDQ",lv="lWk5se4WETUOJwaEb8D6",dv="i8DyQbWCmDV_8N5XGJQT",cv="t5WPFlGTY6GCd9UOFfLu",uv="AGQ3wRyMVK1odq860qnT",pv="ZX_r7uZgPgssaUplfpxT",mv="qrqctaPu2XBpxsw23nPX",hv="XnWidTagai3nQwMPxIMF";var _v=s(36450);let yv=function(e){return e.SMALL="small",e.LARGE="large",e}({});const bv=e=>{const{disabled:t,images:s,LinkComponent:n,name:i,size:a,uri:o,enableI18nAdditionalPages:r}=e,l=a===yv.SMALL,d=(0,fr.Zp)(),u=(0,Ze.o_h)(o),p=null==u?void 0:u.type,m=c.Ru.getLocaleForURLPath(),h=(0,w_.p)({entityFeatureFlag:r,urlLocale:m,entity:p,type:"link"});return(0,Y.jsxs)("div",{className:rr()(av,{[ov]:t}),"data-testid":"track-artist-link-card",children:[(0,Y.jsx)(Dg,{shape:Og.CIRCLE,images:s,size:Cu.Qe.SIZE_80,title:i,type:Ti.c.ARTIST}),(0,Y.jsxs)("div",{className:rr()(lv,{[dv]:l}),children:[(0,Y.jsx)(nv.Z,{variant:"mestoBold",className:rv,children:c.Ru.get("card.tag.artist")}),(0,Y.jsx)(n,{to:o,children:(0,Y.jsx)(nv.Z,{as:"div",dir:"ltr",className:cv,variant:"balladBold",children:i})})]}),(0,Y.jsx)("div",{onClick:()=>{const e=null==u?void 0:u.toURL(`/${_v.CT}${m}/`);if(u){const t=h?e:u.toURLPath(!0);d(t)}},className:uv})]})},gv=e=>{let{size:t=yv.LARGE,disabled:s=!1,enableI18nRoutes:n,enableI18nAdditionalPages:i,...a}=e;const[o,r]=(0,H.useState)(!1),l=(0,H.useCallback)((()=>{r(!o)}),[o]),d=a.artists;return(0,Y.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,Y.jsx)("div",{className:iv,children:d.map(((e,r)=>(0,Y.jsx)("div",{className:rr()({[mv]:o&&r>5,[pv]:r>5}),children:(0,Y.jsx)(bv,{name:e.name,uri:e.uri,images:e.images,size:t,LinkComponent:a.LinkComponent,disabled:s,enableI18nRoutes:n,enableI18nAdditionalPages:i},e.id)},`${e.uri}-${r}`)))}),d.length>6&&(0,Y.jsx)(nr.H,{onClick:l,className:hv,children:(0,Y.jsx)(nv.Z,{as:"p",variant:"violaBold",children:o?c.Ru.get("show_less"):c.Ru.get("mwp.search.artists.all")})})]})};var fv=s(58249);const vv="b81TNrTkVyPCOH0aDdLG",Ev="dsEoBBWhrjzcHSAvR1aA",wv="BOlThRgIUplH_7GfJXgi";var Sv=s(11313);const Rv="TmIM3Vg7uz_V_4YgSQWw",Tv=e=>{let{images:t,fallback:s}=e;const n=(0,Xe.m)(t,150);return(0,Y.jsx)("div",{className:rr()(Rv),"data-testid":"entity-avatar-image",children:(0,Y.jsx)(mh._,{src:n,loading:"lazy",alt:"",children:s})})},Av=e=>{let{name:t,uri:s,images:n}=e;return(0,Y.jsxs)(tr.E,{as:"div",variant:"bodySmall",className:vv,children:[(0,Y.jsx)(Tv,{images:n??[],fallback:(0,Y.jsx)(Sv.v,{size:"medium"})}),(0,Y.jsx)(Mc.N,{to:s,children:t})]})};var xv=s(45063);const Cv="z0LHX2yZ2wBi7LCow2r6",Iv="oMGvDCVLleqfARo515oS",kv="GAVvMHSdqvBQDQ2YgMYD",Nv="qqRdT92va8wXaGb16W4F",Pv="uqRgRFtxhUO7iuLVavhy",Lv="XqDA_pB9DQlfOwEsJgDt",jv="YtLT9By0HGy_s7uj_Hkm",Ov=e=>{let{albumName:t,duration:s,year:n}=e;return(0,Y.jsx)("div",{className:Cv,children:(0,Y.jsxs)(xv.$,{children:[t&&(0,Y.jsx)(tr.E,{variant:"bodySmall",children:t}),!!n&&(0,Y.jsx)(tr.E,{variant:"bodySmall",children:n}),(0,Y.jsx)(tr.E,{variant:"bodySmall",children:nb(s)})]})})},Dv=()=>(0,i.d4)((e=>e.lyrics.data)),Mv=()=>(0,i.d4)((e=>e.seoLyrics.data)),Uv=()=>(0,i.d4)((e=>e.seoLyrics.unauthEnabled)),Bv="rTMkDBDp47Eo12ZEQv4U",Gv=e=>{let{copyrights:t,courtesyLine:s}=e;const n=(t||[]).map(((e,t)=>{if(e.untyped)return(0,Y.jsx)(nv.Z,{as:"p",variant:"finale",dir:"auto",children:e.text},t);const s=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let n;return n="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,Y.jsx)(nv.Z,{as:"p",variant:"finale",dir:"auto",children:`${n} ${s}`},t)}));return s&&n.unshift((0,Y.jsx)(nv.Z,{as:"p",variant:"finale",dir:"auto",children:s},n.length)),(0,Y.jsx)("div",{className:Bv,children:n})},Fv="OH5mnpJIVCJozYM3raMt",Vv="etw0slM6uVrCi5RR3iDi",Hv=e=>{let{padded:t,providerDisplayName:s}=e;return s?(0,Y.jsx)(nv.Z,{as:"p",dir:"auto",variant:"finale",className:`${Fv} ${t?Vv:""}`,children:c.Ru.get("web-player.lyrics.providedBy",s)}):null},Yv=e=>{let{copyrights:t}=e;const s=(0,ip.V)(),n=Dv(),i=Uv(),a=Mv();return(0,Y.jsxs)("div",{className:Nv,children:[(0,Y.jsx)("div",{className:kv,children:(0,Y.jsx)(Gv,{copyrights:t})}),!s&&(null==n?void 0:n.hasLyrics)&&(0,Y.jsx)(Hv,{providerDisplayName:n.providerDisplayName}),s&&i&&(null==a?void 0:a.hasLyrics)&&(0,Y.jsx)(Hv,{providerDisplayName:a.providerDisplayName})]})},Kv="v31oEQQthIBTrzaor91k",zv="QsF_2ghagKvtOMlCKmlg",Wv="VVipB_gKNhrobbBulY2N",qv="nZ6SlvHDIgZshXAoDgvI",Qv="fp8WSzkgAOp6pQcVcVjL",$v="ul8VLEzwyq253mCBVlX0",Zv="SFL_8OScayNetZYtCrnW",Xv="OqlDFP1v7o3_liIvD2Lr",Jv="DefLQD3YS5E_ued476Rw",eE="fcj33RQDXun77UTnUdeo",tE="OaK2RbBxu44j5mbuYjl8",sE="DXoyPN2xVCJnpsBEPC6X",nE="m3s7IT0XZYBrqUAPBY3L",iE="Y4vK0_618Y0sp1j4OjiC",aE="dwUfsC3yw4Qz7lOZD1gF",oE="_74jwkm6O7jNhErti1KOQ",rE=e=>{let{name:t}=e;return(0,Y.jsx)(tr.E,{className:Zv,variant:"bodyMediumBold",paddingBottom:vh.vw,children:t})},lE=e=>{let{playcount:t}=e;const s=(0,ar.s9)();return(0,Y.jsx)(tr.E,{variant:"marginal",className:Xv,children:s.formatNumber(parseInt(t,10))})},dE=e=>{let{artistNames:t}=e;return(0,Y.jsx)(tr.E,{variant:"marginal",className:Xv,children:t})},cE=e=>{let{artistNames:t,uri:s,name:n,playcount:i,onClick:a}=e;return(0,Y.jsx)("div",{className:Qv,children:(0,Y.jsxs)(Mc.N,{to:s,onClick:a,children:[(0,Y.jsx)(rE,{name:n}),i&&(0,Y.jsx)(lE,{playcount:i}),t&&(0,Y.jsx)(dE,{artistNames:t})]})})};var uE=s(99410),pE=s(29377);const mE=(e,t,s,n,a,o)=>{const r=(0,i.wA)(),l=(0,pE.R)();return async()=>{var i;if(a===e)return void r((0,gn.d5)());const d=!s;let c;t&&o&&(c=(0,uE.Qf)(o));const u=n?null===(i=n[0])||void 0===i||null===(i=i.tracks)||void 0===i?void 0:i.findIndex((t=>"string"!=typeof t&&t.uri===e)):void 0,p={shuffle:d,playOrigin:{referrerIdentifier:l},contextUri:e,index:u},m=(0,gn.xN)(e,null,p,undefined,c,void 0,n);r(m)}},hE=e=>{let{fullTrackForAnonymousPlayback:t,name:s,images:n,uri:a,onClick:o,pageMetadata:r}=e;const l=(0,i.d4)((e=>{var t;return null===(t=e.playback.current)||void 0===t||null===(t=t.track_window.current_track)||void 0===t?void 0:t.uri})),d=(0,i.d4)((e=>{var t;return null===(t=e.session)||void 0===t?void 0:t.isAnonymous})),c=(0,Jf._)(a),u=a===l,p=(0,i.d4)((e=>{var t;return null===(t=e.playback)||void 0===t||null===(t=t.current)||void 0===t?void 0:t.paused})),m=mE(a,d,c,r,l,t);return(0,Y.jsxs)("div",{className:qv,children:[(0,Y.jsx)(Dg,{images:n,size:Cu.Qe.SIZE_56,title:s,type:Ti.c.ALBUM}),c&&(0,Y.jsx)("div",{className:$v,children:(0,Y.jsx)(Hu.R,{version:Hu.H.transparent,size:"small",isPlaying:u&&!p,onClick:()=>{o&&o(),m()}})})]})},_E=e=>{const{artistNames:t,fullTrackForAnonymousPlayback:s,images:n,name:i,uri:a,pageMetadata:o}=e;return(0,Y.jsx)("div",{className:zv,children:(0,Y.jsxs)("div",{className:Wv,children:[(0,Y.jsx)(hE,{fullTrackForAnonymousPlayback:s,name:i,images:n,pageMetadata:o,uri:a}),(0,Y.jsx)(cE,{uri:a,name:i,artistNames:t})]})})},yE=()=>(0,Y.jsxs)("div",{className:eE,children:[(0,Y.jsx)("div",{className:tE}),(0,Y.jsxs)("div",{className:sE,children:[(0,Y.jsx)("div",{className:rr()(nE,aE)}),(0,Y.jsx)("div",{className:rr()(nE,oE)})]})]}),bE=()=>(0,Y.jsxs)("div",{className:Jv,"data-testid":"entity-row-item-loader",children:[(0,Y.jsx)("div",{className:rr()(nE,iE)}),(0,Y.jsx)(yE,{}),(0,Y.jsx)(yE,{}),(0,Y.jsx)(yE,{}),(0,Y.jsx)(yE,{}),(0,Y.jsx)(yE,{})]}),gE=e=>{const{items:t,title:s,loading:n}=e,i=(0,H.useMemo)((()=>t.slice(0,5)),[t]);if(!t.length)return null;if(n)return(0,Y.jsx)(bE,{});const a=[{tracks:t.map((e=>({uri:e.uri})))}];return(0,Y.jsxs)("div",{"data-testid":"track-internal-link-recommender",children:[(0,Y.jsx)(tr.E,{as:"h2",variant:"bodyMediumBold",className:Kv,dir:"auto",children:s}),i.map((e=>(0,Y.jsx)(_E,{artistNames:e.artistNames,fullTrackForAnonymousPlayback:e.fullTrackForAnonymousPlayback,images:e.images,name:e.name,uri:e.uri,pageMetadata:a},e.id)))]})},fE=e=>{const{entityType:t}=e;return(0,Y.jsx)(rp.tH,{onError:()=>{(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"mwp-ilr-component-error",value:1,tags:{entityType:t}})},fallback:()=>(0,Y.jsx)(Y.Fragment,{}),children:(0,Y.jsx)(gE,{...e})})},vE="BhvdpwXcZ6WlsR67JO8E",EE=e=>{let{children:t}=e;return(0,Y.jsx)("div",{className:vE,children:t})},wE=e=>{let{uri:t,images:s,name:n}=e;return(0,Y.jsx)(Ku.e,{uri:t,header:{title:n,subtitle:"",backgroundImage:(0,zu.g)(s,64)}})},SE=e=>{const{fullTrackForAnonymousPlayback:t,images:s,name:n,playcount:i,uri:a}=e;return(0,Y.jsxs)("div",{className:zv,children:[(0,Y.jsxs)("div",{className:Wv,children:[(0,Y.jsx)(hE,{fullTrackForAnonymousPlayback:t,name:n,images:s,uri:a}),(0,Y.jsx)(cE,{uri:a,name:n,playcount:i})]}),(0,Y.jsx)(wE,{uri:a,images:s,name:n})]})},RE=e=>{const{items:t,title:s}=e;return(0,Y.jsxs)("div",{"data-testid":"popular-artist-tracks",children:[(0,Y.jsx)(tr.E,{as:"h2",variant:"bodyMediumBold",className:Kv,dir:"auto",children:s}),t.map((e=>(0,Y.jsx)(SE,{fullTrackForAnonymousPlayback:e.fullTrackForAnonymousPlayback,images:e.images,name:e.name,playcount:e.playcount,uri:e.uri},e.id)))]})};var TE=s(65468);const AE="o2TlnuNKxRO5RnB9BpHB",xE="q0Ke_aAvTcc4dO4wCHQt",CE="UlKUfS_GcROZmofuafOW",IE="I5LORTI1u3A6VoUvRCBf",kE="TS85Qkpioa31wR0p4kzT",NE="yL1DLXBc05CR_ACv_NhA",PE="k5kRkUyoz9znqg_SGOVQ";var LE=s(12231),jE=s(88493);let OE=function(e){return e.SMALL="small",e.LARGE="large",e}({});const DE=e=>{let{art:t,disabled:s=!1,LinkComponent:n,name:i,size:a=OE.SMALL,type:o,uri:r}=e;const l=t?[t]:[],d=a===OE.SMALL?(0,LE.C)(o):function(e){switch(e){case jE.s.SINGLE:return c.Ru.get("track-page.from-the-single");case jE.s.EP:return c.Ru.get("track-page.from-the-ep");case jE.s.COMPILATION:return c.Ru.get("track-page.from-the-compilation");case jE.s.ALBUM:default:return c.Ru.get("track-page.from-the-album")}}(o),u=(0,fr.Zp)();return(0,Y.jsxs)("div",{className:rr()(AE,{[CE]:a===OE.SMALL,[xE]:s}),children:[(0,Y.jsx)("div",{className:IE,children:(0,Y.jsx)(Dg,{images:l,size:Cu.Qe.SIZE_80,title:i,type:Ti.c.ALBUM})}),(0,Y.jsxs)("div",{className:kE,children:[(0,Y.jsx)(nv.Z,{variant:a===OE.SMALL?"mestoBold":"finale",children:d}),(0,Y.jsx)(n,{to:r,children:(0,Y.jsx)(nv.Z,{as:"div",className:NE,variant:"balladBold",dir:"auto",children:i})})]}),(0,Y.jsx)("div",{onClick:()=>{u((0,Ze.o_h)(r).toURLPath(!0))},className:PE})]})};let ME=function(e){return e.NO="no",e.YES="yes",e.DOWNLOADING="downloading",e.WAITING="waiting",e}({});const UE=e=>{let{downloadAvailability:t,isExplicit:s,isMOGEFRestricted:n,contentRating:i,contentRatingV2:a,isPaywalled:o,isEnhanced:r,isVideo:l}=e,d=0;const c={download:!1,explicit:!1,nineteen:!1,paid:!1,enhanced:!1,isVideo:!1};return t===ME.YES&&(c.download=!0,d++),(s&&!n||i===Xi.x7.Explicit||null!=a&&a.labels.includes(Xi.av.Explicit))&&(c.explicit=!0,d++),(n||i===Xi.x7.NineteenPlus||null!=a&&a.labels.includes(Xi.av.NineteenPlus))&&(c.nineteen=!0,d++),o&&(c.paid=!0,d++),r&&(c.enhanced=!0,d++),l&&(c.isVideo=!0,d++),{badges:c,hasBadges:d>0}},BE="Xu9oKFxY1wPZ7btr99dD",GE="h1pJzziAIYwO154bbEtG",FE="oFwNGhN9OJGa58m3YeiN",VE="IUiu3OTca8_mFmhdvWuu",HE="QnFhIbZMIbj_derd2rrQ",YE="C08NFwm4eeeYploW7BoQ",KE="ilG1KBl5YrTvRzekL6gB",zE="KTLC51kEESUNYgIAqtZb",WE="xnjLjPiqkb2fW3Z_s6Ut",qE="b9IoEwefwqIXREBlif2g",QE=e=>{let{size:t=32,className:s}=e;return(0,Y.jsxs)("svg",{role:"img",width:t,height:t,viewBox:"0 0 12 12",className:rr()(qE,s),"aria-label":c.Ru.get("age.restriction.nineeteen-badge"),children:[(0,Y.jsx)("path",{fill:"#B3B3B3",d:"M4.607 9V3.328h-.96c-.112.592-.68 1.04-1.496 1.064v.752h1.36V9h1.096zm3.82-3.848c0 .616-.488 1.008-1.04 1.008-.568 0-1.04-.384-1.04-1.008 0-.608.48-1 1.04-1 .552 0 1.04.4 1.04 1zm-3 3.656c.288.184.84.312 1.312.312 1.92 0 2.92-1.208 2.92-3.256 0-1.8-1.049-2.656-2.249-2.656-1.208 0-2.144.816-2.144 1.976 0 1.192.92 1.904 1.952 1.904.64 0 1.136-.272 1.352-.632-.056 1.048-.72 1.696-1.84 1.696-.384 0-.8-.12-1.016-.24l-.288.896z"}),(0,Y.jsx)("g",{transform:"scale(0.85) translate(1.1,1.1)",children:(0,Y.jsx)("path",{fill:"#CD1A2B",d:"M6 11.2A5.2 5.2 0 01.8 6H-.8A6.8 6.8 0 006 12.8v-1.6zM11.2 6A5.2 5.2 0 016 11.2v1.6A6.8 6.8 0 0012.8 6h-1.6zM6 .8A5.2 5.2 0 0111.2 6h1.6A6.8 6.8 0 006-.8V.8zM6-.8A6.8 6.8 0 00-.8 6H.8A5.2 5.2 0 016 .8V-.8z"})})]})},$E=e=>{const{artists:t,contentRating:s,duration:n,name:i}=e,a=(0,ar.s9)(),{badges:o,hasBadges:r}=UE({contentRating:s});return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)("div",{className:FE,children:[(0,Y.jsxs)("div",{className:VE,children:[r&&(0,Y.jsxs)(tr.E,{className:HE,variant:"bodyMedium",semanticColor:"textSubdued",children:[o.explicit&&(0,Y.jsx)(nu,{}),o.nineteen&&(0,Y.jsx)(QE,{size:16})]}),(0,Y.jsx)(tr.E,{as:"div",variant:"bodyMedium",className:KE,dir:"auto",children:i})]}),(0,Y.jsx)(tr.E,{dir:"auto",as:"div",variant:"bodySmall",className:zE,children:t.items.map(((e,t)=>[t>0&&a.getSeparator(),e.profile.name]))})]}),(0,Y.jsx)(tr.E,{variant:"bodySmall",className:WE,children:nb(n)})]})},ZE=e=>{const{items:t}=e;if(t.length<1)return null;return(0,Y.jsx)("div",{className:BE,children:t.map((e=>(e=>{var t;return(0,Y.jsx)(Mc.N,{to:e.track.uri,className:YE,children:(0,Y.jsx)("div",{className:GE,children:(0,Y.jsx)($E,{artists:e.track.artists,contentRating:null===(t=e.track.contentRating)||void 0===t?void 0:t.label,duration:e.track.duration.totalMilliseconds,name:e.track.name,uri:e.track.uri},e.track.id)},e.track.id)},e.track.id)})(e)))})};var XE=s(7648);const JE=e=>{let{uri:t}=e;const s=(0,i.wA)(),n=(0,ar.s9)(),a=(0,i.d4)((e=>{var t;return null===(t=e.internalLinkRecommender)||void 0===t?void 0:t.similarAlbums})),{data:o,status:r,uri:l}=a,d=r===vs.LOADING;return(0,H.useEffect)((()=>{l&&l===t||s(function(e){return{type:ls,uri:e}}(t))}),[s,l,t]),o&&0!==(null==o?void 0:o.length)?d?(0,Y.jsx)(np,{}):(0,Y.jsx)(Zu.$,{title:n.get("internal-link-recommender.recommended-releases"),children:o.map((e=>{var t;return(0,Y.jsx)(TE.a,{uri:e.uri,sources:null===(t=e.coverArt)||void 0===t?void 0:t.sources,name:e.name,type:e.type,year:e.date?e.date.year:void 0},e.uri)}))}):null},ew=e=>{const t=op({entityType:Ti.c.TRACK,componentType:"album-shelf",uri:e.uri});return(0,Y.jsx)(rp.tH,{onError:t,fallback:()=>(0,Y.jsx)(Y.Fragment,{}),children:(0,Y.jsx)(JE,{...e})})},tw="ATZtOVMG9IpssMD8lQ8M",sw="eZjp_pd_AGPSD7faZX_I",nw="ssWic1YxsInJBybHFZng",iw=e=>{let{buttonText:t,className:s,onPrimaryButtonClick:n,text:i}=e;return(0,Y.jsxs)("div",{className:rr()(tw,s),"data-testid":"static-activation-trigger",children:[(0,Y.jsx)(tr.E,{className:sw,variant:"bodyMediumBold",children:i}),(0,Y.jsx)("div",{className:nw,children:(0,Y.jsx)(ir.$,{onClick:n,colorSet:"brightAccent",children:t})})]})},aw="EaTxqhHk6J4ecKHwpY5m",ow="dUQl9yd5x_1oWk4L0Ntm",rw="xt5C47eHPYNiriMJxGnC";var lw=s(97504),dw=s(90131);const cw=e=>{let{words:t,onObserve:s,lyricsInView:n,...i}=e;const{ref:a,inView:o}=(0,Wh.Wx)({threshold:1}),r=(0,H.useRef)(!1);return(0,H.useEffect)((()=>{n||(r.current=!1)}),[n]),(0,H.useEffect)((()=>{r.current||o&&(s({text:t,outOfView:!1}),r.current=!0)}),[o,s,t]),(0,Y.jsx)(tr.E,{ref:a,as:"p",dir:"auto",variant:"bodyMedium",className:rw,"data-testid":i["data-testid"],children:t})},uw="q1JbsdMqX7OImgIFWa6J",pw="hAGejMh7SncdbJ5wcfUi",mw="IaG9Zc3xGxeYjsn73RAz",hw="zgSEYVU2gMYxihFVEJPn",_w="expandable-lyrics-container";const yw=e=>{let{lyrics:t,lyricsInView:s,onObserve:n,previewCount:i}=e;const[a,o]=(0,H.useState)(!1),{visibleLyrics:r,collapsibleLyrics:l}=function(e,t){let s=0,n=-1;const i=e.filter((e=>!!e.words));for(const[a,o]of i.entries())if(s+=o.words.length,s>t){n=a;break}if(n>-1)return{visibleLyrics:i.slice(0,n),collapsibleLyrics:i.slice(n)};return{visibleLyrics:i,collapsibleLyrics:[]}}(t,i),d=l.length>0,u=a?c.Ru.get("show_less"):`…${c.Ru.get("show_more")}`;return(0,Y.jsxs)(Y.Fragment,{children:[r.map(((e,t)=>{let{words:i}=e;return(0,Y.jsx)(cw,{onObserve:n,words:i,lyricsInView:s,"data-testid":"lyrics-line-always-visible"},`lyrics-seo-line-${t}`)})),(0,Y.jsx)("span",{"aria-hidden":!a,className:rr()(mw,{[hw]:a}),children:l.map(((e,t)=>{let{words:i}=e;return(0,Y.jsx)(cw,{onObserve:a?n:()=>{},words:i,lyricsInView:a&&s},`lyrics-seo-line-${t}`)}))}),d&&(0,Y.jsx)("button",{className:uw,onClick:()=>{o(!a)},"aria-controls":_w,"aria-owns":_w,"aria-label":u,children:(0,Y.jsx)(tr.E,{variant:"bodyMediumBold",className:pw,children:u})})]})},bw=e=>{let{data:t,eventSender:s,playbackId:n,previewCount:i,uri:a}=e;const{lyrics:o=[],provider:r,providerLyricsId:l,syncType:d}=t,{ref:u,inView:p}=(0,Wh.Wx)({threshold:0}),m=function(e){const{trackUri:t,provider:s,providerLyricsId:n,syncType:i,eventSender:a,playbackId:o}=e,r=(0,H.useRef)(null),[l,d]=(0,H.useState)(!1),[c,u]=(0,H.useState)(!1),[p,m]=(0,H.useState)(0),[h,_]=(0,H.useState)(!1),y=(0,H.useMemo)((()=>(0,lw.W)({lyrics_format:"track-page",track_uri:t,provider:s,provider_lyrics_id:n,sync_type:i,playback_id:o})),[t,s,n,i,o]),b=(0,H.useMemo)((()=>(0,dw.X)({track_uri:t,playback_id:o,provider:s,provider_lyrics_id:n,sync_type:i,lyrics_format:"track-page"})),[t,s,n,i,o]);return(0,H.useEffect)((()=>{u(!1),d(!1),m(0),_(!1),r.current=null}),[t]),(0,H.useEffect)((()=>{o&&(l&&d(!1),c&&u(!1))}),[o]),(0,H.useEffect)((()=>{l||(!c&&p>0&&(null==a||a.send(b),u(!0)),p>=140&&h&&(null==a||a.send(y),d(!0)))}),[p,c,b,l,y,a,h]),(0,H.useCallback)((e=>{const{text:t,outOfView:s}=e;t&&t.length>0&&(m((e=>e+t.length)),l||null!==r.current||(r.current=setTimeout((()=>{_(!0)}),1500))),s&&(r.current&&clearTimeout(r.current),r.current=null,m(0))}),[m,l])}({trackUri:a,provider:r,providerLyricsId:l,syncType:d,eventSender:s,playbackId:n});return(0,H.useEffect)((()=>{p||m({outOfView:!0})}),[p,m]),(0,Y.jsxs)("div",{className:aw,ref:u,children:[(0,Y.jsx)(tr.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:ow,children:c.Ru.get("web-player.lyrics.title")}),(0,Y.jsx)(yw,{lyrics:o,lyricsInView:p,onObserve:m,previewCount:i})]})};var gw=s(11602);const fw=e=>{let{data:t,eventSender:s,isBot:n,previewCount:i,trackTitle:a,trackArtists:o,uri:r}=e;const{ref:l,inView:d}=(0,Wh.Wx)({threshold:0}),u=function(e){const{eventSender:t,isBot:s,provider:n,providerLyricsId:i,trackTitle:a,trackArtists:o,trackUri:r}=e,l=(0,H.useRef)(null),[d,c]=(0,H.useState)(!1),[u,p]=(0,H.useState)(!1),[m,h]=(0,H.useState)(0),[_,y]=(0,H.useState)(!1),b=(0,H.useMemo)((()=>(0,gw.a)({user_type:s?"bot":"human",sp_t:"undefined"!=typeof document?(0,F.v8)("sp_t"):void 0,impression_type:"minimumCharactersSeen",lyrics_provider:n,lyrics_provider_id:i,track_title:a,track_artist:o,track_uri:r})),[s,n,i,a,o,r]),g=(0,H.useMemo)((()=>(0,gw.a)({user_type:s?"bot":"human",sp_t:"undefined"!=typeof document?(0,F.v8)("sp_t"):void 0,impression_type:"snippet",lyrics_provider:n,lyrics_provider_id:i,track_title:a,track_artist:o,track_uri:r})),[s,n,i,a,o,r]);return(0,H.useEffect)((()=>{p(!1),c(!1),h(0),y(!1),l.current=null}),[r]),(0,H.useEffect)((()=>{d||(!u&&m>0&&(null==t||t.send(g),p(!0)),m>=140&&_&&(null==t||t.send(b),c(!0)))}),[m,u,g,d,b,t,_]),(0,H.useCallback)((e=>{const{text:t,outOfView:s}=e;t&&t.length>0&&(h((e=>e+t.length)),d||null!==l.current||(l.current=setTimeout((()=>{y(!0)}),1500))),s&&(l.current&&clearTimeout(l.current),l.current=null,h(0))}),[h,d])}({eventSender:s,isBot:n,provider:(null==t?void 0:t.provider)||"",providerLyricsId:(null==t?void 0:t.providerLyricsId)||"",trackUri:r,trackArtists:o,trackTitle:a});return(0,H.useEffect)((()=>{d||u({outOfView:!0})}),[d,u]),t?(0,Y.jsxs)("div",{className:aw,ref:l,children:[(0,Y.jsx)(tr.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",className:ow,children:c.Ru.get("web-player.lyrics.title")}),(0,Y.jsx)(yw,{lyrics:t.lyrics,lyricsInView:d,onObserve:u,previewCount:i})]}):null};s(6441);const vw=[/google/i,/bing/i,/yahoo/i,/duckduckgo/i,/baidu/i,/yandex/i,/ask/i,/ecosia/i,/sogou/i,/seznam/i,/qwant/i,/naver/i,/100searchengines/i,/mojeek/i];let Ew=function(e){return e.TEST="test",e.UNAUTH_LYRICS_SEO="lyrics-unauth-seo-test",e}({}),ww=function(e){return e.CONTROL="0",e.VARIANT="1",e}({});const Sw=()=>{const e=(0,fr.zy)(),t=(0,i.wA)(),{entityId:s=""}=(0,fr.g)(),n=(0,cl.o)(ul.P.SeoLyricsReferrer,e),a="undefined"!=typeof window?document.referrer:"",o=(0,i.d4)((e=>e.masthead.isCrawlerBot)),r=(e=>vw.some((t=>t.test(e))))(a)||n,l=(0,cl.o)(ul.P.SeoLyrics,e),d=(0,i.d4)((e=>e.seoExperiment.track)),c=(0,i.d4)((e=>e.seoExperiment.status)),u=c===$s.LOADING,p=Object.keys(d||{}).length>0,m=((e,t)=>(e=>{let{treatment:t,entityId:s,experimentId:n,treatmentVariation:i}=e;if(t&&t[s]){const e=t[s],a=null==e?void 0:e.find((e=>e.experimentId===n));return(null==a?void 0:a.treatment)===i}return!1})({treatment:e,entityId:t,experimentId:Ew.UNAUTH_LYRICS_SEO,treatmentVariation:ww.VARIANT}))(d||{},s);(0,H.useEffect)((()=>{if(u||!p)return;const e=atob((0,F.v8)("x-unauth-referred")||"")===s;t(hl(!!(l&&r&&e||r&&e&&m||o&&m)))}),[u,p,r,s,l,m,t,o])},Rw=e=>{const t=(0,i.wA)(),s=(0,i.d4)((e=>{var t;return null===(t=e.seoExperiment)||void 0===t?void 0:t.uri}));(0,H.useEffect)((()=>{e!==s&&t(function(e){return{type:Ws,uri:e}}(e))}),[e,s,t])},Tw="xE_aAhWAIKq380KJyunZ",Aw=e=>{let{width:t}=e;return(0,Y.jsx)("div",{className:rr()(tp,Tw),style:{"--skeleton-line-width":`${t}px`}})},xw=()=>{const e=(0,H.useMemo)((()=>[100,150,200,250,300]),[]),t=(0,H.useMemo)((()=>Array.from({length:8}).map((()=>{const t=Math.floor(Math.random()*e.length);return(e[t]||0)+(Math.floor(50*Math.random())-25)}))),[e]);return(0,Y.jsxs)("div",{className:ep,children:[(0,Y.jsx)("div",{className:rr()(tp,sp),style:{"--skeleton-line-height":"24px","--skeleton-title-width":"60px"}}),t.map(((e,t)=>(0,Y.jsx)(Aw,{width:e},t)))]})},Cw=e=>{let{uri:t,trackTitle:s,trackArtists:n,imageForLyricsRequest:a,isPlayable:o}=e;const r=(0,ar.s9)(),l=(0,i.wA)(),d=(0,ip.V)(),c=(0,br.W)(),u=Dv(),p=(0,i.d4)((e=>e.lyrics.uri)),m=Mv(),h=(0,i.d4)((e=>e.seoLyrics.status)),_=(0,i.d4)((e=>e.seoLyrics.uri));Sw();const y=Uv(),b=(0,H.useContext)(Wd.j1),g=(0,i.d4)((e=>e.masthead.isCrawlerBot)),f=(0,i.d4)((e=>{var t;return!(null!==(t=e.playback.current)&&void 0!==t&&t.paused)})),v=(0,i.d4)((e=>{var t;return null===(t=e.playback.current)||void 0===t||null===(t=t.track_window.current_track)||void 0===t?void 0:t.uri})),E=(0,i.d4)((e=>{var t;return null===(t=e.playback.current)||void 0===t?void 0:t.playback_id})),w=(0,H.useCallback)((()=>{l(function(e){let{uri:t,imageForLyricsRequest:s,isPlayable:n}=e;return{type:Rt,uri:t,imageForLyricsRequest:s,isPlayable:n}}({uri:t,imageForLyricsRequest:a,isPlayable:o}))}),[l,a,o,t]),S=(0,H.useCallback)((()=>{l(function(e){let{uri:t,isPlayable:s}=e;return{type:Nt,uri:t,isPlayable:s}}({uri:t,isPlayable:o}))}),[l,o,t]);(0,H.useEffect)((()=>{d&&!y||(d&&y&&_!==t&&S(),d||p===t||w())}),[w,p,t,d,y,_,S]),Rw(t);const R=!d&&(null==u?void 0:u.hasLyrics),T=d&&y,A=f&&v===t,x=(0,i.d4)((e=>e.seoExperiment.status)),C=x===$s.LOADING,I=h===kt.LOADING,k=(0,H.useMemo)((()=>C||I?(0,Y.jsx)(xw,{}):T?(0,Y.jsx)(fw,{data:null!=m&&m.hasLyrics?m:void 0,isBot:g,trackTitle:s,trackArtists:n,uri:t,eventSender:b,previewCount:280}):(0,Y.jsx)(iw,{buttonText:r.get("sign_up"),text:r.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:()=>{c({type:"click",intent:"signup",itemIdSuffix:"static-upsell"}),(0,pc.ie)()},className:"paywall"})),[b,r,g,c,C,I,m,T,n,s,t]);return(0,Y.jsxs)("div",{className:Iv,children:[R&&(0,Y.jsx)(bw,{data:u,uri:t,eventSender:b,playbackId:A?E:void 0,previewCount:280}),d&&(0,Y.jsx)(Y.Fragment,{children:k})]})},Iw=e=>{const t=(e=>{const t=(0,i.d4)((e=>{var t;return null===(t=e.session.me)||void 0===t||null===(t=t.profile)||void 0===t?void 0:t.id})),s=(0,i.d4)((e=>e.session.country)),n=(0,i.d4)((e=>{var t;return null===(t=e.session.product)||void 0===t?void 0:t.catalogue})),a=(0,ip.V)();return(0,Wd.DO)((()=>{if(a)return null;(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"mwp-lyrics-component-error",value:1});const i={category:"lyrics_render_error",label:"mwp",os:(0,ap.f)(),context:JSON.stringify({uri:e,product:n}),country:t?s:"",sp_t:(0,F.v8)("sp_t")};return(0,Ur._)(i)}))})(e.uri);return(0,Y.jsx)(rp.tH,{onError:t,fallback:()=>(0,Y.jsx)(Y.Fragment,{}),children:(0,Y.jsx)(Cw,{...e})})};var kw=s(39835);const Nw=e=>{var t;return{...e,sources:null===(t=e.images.items[0])||void 0===t?void 0:t.sources}},Pw=e=>{const t=(0,i.wA)(),s=(()=>{const e=(0,fr.zy)(),t=(0,d.NC)(W.mI);return(0,cl.o)(ul.P.PlaylistsWithThisSongControl,e)?W.cl.Control:(0,cl.o)(ul.P.PlaylistsWithThisSongAboveFansAlsoLike,e)?W.cl.AboveFansAlsoLike:(0,cl.o)(ul.P.PlaylistsWithThisSongAbovePopularReleases,e)?W.cl.AbovePopularReleases:(0,cl.o)(ul.P.PlaylistsWithThisSongAboveRecommendedBasedOnThisSong,e)?W.cl.AboveRecommendedBasedOnThisSong:t})(),n=s===e.renderInVariant,{data:a,status:o,uri:r}=(0,i.d4)((e=>e.internalLinkRecommender.trackPlaylists)),l=op({entityType:Ti.c.TRACK,componentType:"playlist-shelf",uri:e.uri}),{ref:u,inView:p}=(0,Wh.Wx)({threshold:1}),m=(()=>{const e=(0,d.NC)(W.mI),t=(0,i.d4)((e=>{var t;return null===(t=e.session.me)||void 0===t||null===(t=t.profile)||void 0===t?void 0:t.id})),s=(0,i.d4)((e=>e.session.country)),n=(0,ip.V)()?Br.r:Ur._;return(0,Wd.DO)((i=>n({category:"track_playlists_with_this_song_visible",action:"component_visible",variant:e,label:"mwp",os:(0,ap.f)(),context:i,sp_t:(0,F.v8)("sp_t"),country:t?s:""})))})(),h=JSON.stringify({uri:e.uri,playlists:null==a?void 0:a.map((e=>e.uri))});return(0,H.useEffect)((()=>{p&&m(h)}),[p,a,m,h]),(0,H.useEffect)((()=>{var s;r&&r===e.uri||t((s=e.uri,{type:bs,uri:s}))}),[t,e.uri,r]),n&&a&&0!==a.length?o===vs.LOADING?(0,Y.jsx)(np,{}):(0,Y.jsx)(rp.tH,{fallback:()=>(0,Y.jsx)(Y.Fragment,{}),onError:l,children:(0,Y.jsx)("div",{"data-pwts-variant":s,children:(0,Y.jsx)(Zu.$,{"data-testid":"pwts-shelf",title:c.Ru.get("track-page.playlists-with-this-song"),ref:u,children:a.map(((e,t)=>(0,H.createElement)(kw.B,{...Nw(e),key:t})))})})}):null},Lw=e=>(e||[]).map((e=>e.profile.name)),jw=e=>e?e.items.map((e=>{var t;return{name:e.profile.name,images:((null===(t=e.visuals.avatarImage)||void 0===t?void 0:t.sources)||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.uri,id:e.id}})):[],Ow=()=>{var e,t,s,n,a,o,r,l,u,p,m,h,_,y,b,g,f;const v=(0,ar.s9)(),{entityId:E=""}=(0,fr.g)(),w=(0,Ze.Mce)(E).toURI(),S=(0,i.wA)(),R=(0,ip.V)(),T=(0,i.d4)((e=>e.entities.items[w])),A=(0,Dm.W)({type:"link",uri:w}),x=(e=>!!e&&"__typename"in e&&"Track"===e.__typename)(T)?T:void 0,C=null==x?void 0:x.albumOfTrack,I=null==C||null===(e=C.coverArt)||void 0===e||null===(e=e.extractedColors)||void 0===e?void 0:e.colorDark.hex;(0,$u.n)({visible:!0,title:null==x?void 0:x.name,backgroundColor:I});const k=(0,Jf._)(w),N=(0,i.d4)((e=>{var t;return null===(t=e.playback.current)||void 0===t?void 0:t.context.uri})),P=ev(),L=w===N&&!P,j=(0,Xf.$n)({uri:w,isOnDemand:k,playbackContextUri:N,audioFileMetadataResolver:()=>(0,Xf.yo)(R,x)}),{data:O,uri:D,status:M}=(0,i.d4)((e=>e.internalLinkRecommender.tracks)),U=Boolean(x);(e=>{const t=(0,d.NC)(W.mI),s=(0,ip.V)()?Br.r:Ur._,n=(0,Wd.DO)((e=>{let{uri:n}=e;return s({category:"track_playlists_with_this_song_exposure",action:"viewed",variant:t,label:"mwp",os:(0,ap.f)(),destination_url:n,sp_t:(0,F.v8)("sp_t")})}));(0,H.useEffect)((()=>{n({uri:e.uri})}),[n,e.uri])})({uri:w}),(0,H.useEffect)((()=>{U||S((0,Di.iI)(w))}),[S,w,U]),(0,H.useEffect)((()=>{D&&D===w||S(function(e){return{type:Jt,uri:e}}(w))}),[S,D,w]);const B=null==x?void 0:x.firstArtist,G=null==x||null===(t=x.albumOfTrack)||void 0===t?void 0:t.coverArt,V=null==x?void 0:x.otherArtists,K=null==B||null===(s=B.items[0])||void 0===s?void 0:s.discography.albums.items,z=null==B||null===(n=B.items[0])||void 0===n?void 0:n.discography.singles.items,q=null==B||null===(a=B.items[0])||void 0===a?void 0:a.discography.popularReleasesAlbums.items,Q=null==B||null===(o=B.items[0])||void 0===o?void 0:o.discography.topTracks.items,$=(0,H.useCallback)((()=>sv(K)),[K]),Z=(0,H.useCallback)((()=>sv(z)),[z]),X=(0,H.useCallback)((()=>tv(q)),[q]),J=(0,H.useCallback)((()=>(Q||[]).map((e=>{var t;let{track:s}=e;return{artistNames:s.artists.items.map((e=>e.profile.name)).join(c.Ru.getSeparator()),duration:s.duration.totalMilliseconds,fullTrackForAnonymousPlayback:s,id:s.id,images:null===(t=s.albumOfTrack)||void 0===t||null===(t=t.coverArt)||void 0===t?void 0:t.sources,name:s.name,playcount:s.playcount,uri:s.uri}}))),[Q]),ee=Lw((null==B?void 0:B.items)||[]),te=Lw((null==V?void 0:V.items)||[]),se=[...jw(B),...jw(V)],ne=null==x||null===(r=x.albumOfTrack)||void 0===r||null===(r=r.coverArt)||void 0===r?void 0:r.sources,ie=function(){var e,t,s,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{desiredSize:a=tb,desiredLabel:o=sb}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};0===a&&(a=tb);const r=!Np()&&((null===(e=window)||void 0===e?void 0:e.devicePixelRatio)>1||(null===(t=window)||void 0===t?void 0:t.matchMedia)&&(null===(s=window)||void 0===s?void 0:s.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(-moz-min-device-pixel-ratio: 1.5),(min-device-pixel-ratio: 1.5)").matches))?2:1;return null===(n=(0,eb.g)(i,{desiredSize:a*r,desiredLabel:o}))||void 0===n?void 0:n.url}(ne||void 0,{desiredLabel:"large",desiredSize:600})??(null==ne||null===(l=ne[0])||void 0===l?void 0:l.url)??"",[ae,oe]=(0,H.useState)(!1),re=(0,H.useCallback)((()=>{oe(!ae)}),[ae]),le=V&&V.items.length>5,de=(0,Qu.rO)({i18n:v,trackName:null==x?void 0:x.name,trackArtistsList:[...ee,...te].join(v.getSeparator()),shouldLocalize:A});if((0,qu.r)(de),!x)return(0,Y.jsx)(Ap.c,{});const ce=null==x?void 0:x.firstArtist.items[0];return(0,Y.jsxs)(Tp.h,{testId:"track-view",children:[(0,Y.jsxs)(Yc.z,{backgroundColor:I,children:[(0,Y.jsx)(Qc.b,{images:null===(u=x.albumOfTrack)||void 0===u||null===(u=u.coverArt)||void 0===u?void 0:u.sources,fallback:(0,Y.jsx)(Vc.I,{size:"xxlarge"})}),(0,Y.jsx)($c.m,{children:x.name}),(0,Y.jsx)(Av,{name:(null==ce?void 0:ce.profile.name)??"",uri:(null==ce?void 0:ce.uri)??"",images:null==ce||null===(p=ce.visuals.avatarImage)||void 0===p?void 0:p.sources}),(0,Y.jsxs)(Wc.l,{children:[(0,Y.jsx)(Ov,{albumName:null==C?void 0:C.name,year:null==C||null===(m=C.date)||void 0===m?void 0:m.year,duration:x.duration.totalMilliseconds}),(0,Y.jsxs)(zc.z,{children:[(0,Y.jsx)(Zf,{uri:w}),(0,Y.jsx)(Kc.P,{uri:w}),(0,Y.jsx)(Ku.e,{uri:w,header:{title:x.name,subtitle:null==ce?void 0:ce.profile.name,backgroundImage:null===(h=x.albumOfTrack)||void 0===h||null===(h=h.coverArt)||void 0===h||null===(h=h.sources[0])||void 0===h?void 0:h.url}})]}),(0,Y.jsx)(fv.q,{onClick:j,isPlaying:L,disabled:!(null!=x&&x.playability.playable),isOnDemand:k})]})]}),(0,Y.jsxs)(Bc.A,{children:[(0,Y.jsx)(Iw,{uri:w,trackTitle:x.name,trackArtists:se.map((e=>e.name)).join(v.getSeparator()),imageForLyricsRequest:ie,isPlayable:x.playability.playable}),se&&(0,Y.jsx)(gv,{artists:se,LinkComponent:Mc.N,size:yv.SMALL,enableI18nAdditionalPages:Boolean($p.BG)}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)(Pw,{renderInVariant:W.cl.AboveRecommendedBasedOnThisSong,uri:w}),(0,Y.jsx)(fE,{items:(ue=O,(ue||[]).map((e=>{var t;return{artistNames:e.artists.items.map((e=>e.profile.name)).join(c.Ru.getSeparator()),duration:null,fullTrackForAnonymousPlayback:e,id:e.id,images:null===(t=e.albumOfTrack)||void 0===t||null===(t=t.coverArt)||void 0===t?void 0:t.sources,name:e.name,playcount:null,uri:e.uri}}))),title:v.get("internal-link-recommender.recommended-based-on-this-song"),entityType:Ti.c.TRACK,loading:M===vs.LOADING,uri:w}),Q&&Q.length>0&&(0,Y.jsx)(EE,{children:(0,Y.jsx)(RE,{items:J(),contextUri:w,title:v.get("rich-page.popular-tracks-by",{artist:(null==B||null===(_=B.items[0])||void 0===_||null===(_=_.profile)||void 0===_?void 0:_.name)??""})})}),(0,Y.jsx)(Pw,{renderInVariant:W.cl.AbovePopularReleases,uri:w}),q&&q.length>0&&(0,Y.jsx)(EE,{children:(0,Y.jsx)(Zu.$,{title:v.get("track-page.popular-releases-by-artist",{artist:(null==B||null===(y=B.items[0])||void 0===y||null===(y=y.profile)||void 0===y?void 0:y.name)??""}),children:X().map((e=>{var t;return(0,Y.jsx)(TE.a,{uri:e.uri??"",sources:null===(t=e.coverArt)||void 0===t?void 0:t.sources,name:e.name??"",type:e.type,year:e.year},e.uri)}))})}),K&&K.length>0&&(0,Y.jsx)(EE,{children:(0,Y.jsx)(Zu.$,{title:v.get("track-page.popular-albums-by-artist",{artist:(null==B||null===(b=B.items[0])||void 0===b||null===(b=b.profile)||void 0===b?void 0:b.name)??""}),children:$().map((e=>{var t;return(0,Y.jsx)(TE.a,{uri:e.uri??"",sources:null===(t=e.coverArt)||void 0===t?void 0:t.sources,name:e.name??"",type:e.type,year:e.year},e.uri)}))})}),z&&z.length>0&&(0,Y.jsx)(EE,{children:(0,Y.jsx)(Zu.$,{title:v.get("track-page.popular-singles-and-eps-by-artist",{artist:(null==B||null===(g=B.items[0])||void 0===g||null===(g=g.profile)||void 0===g?void 0:g.name)??""}),children:Z().map((e=>{var t;return(0,Y.jsx)(TE.a,{uri:e.uri??"",sources:null===(t=e.coverArt)||void 0===t?void 0:t.sources,name:e.name??"",type:e.type,year:e.year},e.uri)}))})}),V&&V.items.map(((e,t)=>{var s;return(0,Y.jsx)("div",{className:rr()({[Pv]:t>4,[Lv]:ae&&t>4}),children:(0,Y.jsx)(EE,{children:(0,Y.jsx)(Zu.$,{title:v.get("track-page.popular-releases-by-artist",{artist:e.profile.name}),listRowHeaderProps:{title:e.profile.name,pretitle:v.get("artist-page.popular"),media:(0,Xe.m)(null===(s=e.visuals.avatarImage)||void 0===s?void 0:s.sources,48)||""},children:e.discography.popularReleasesAlbums.items.map((e=>{var t;return(0,Y.jsx)(TE.a,{uri:e.uri??"",sources:null===(t=e.coverArt)||void 0===t?void 0:t.sources,name:e.name??"",type:e.type,year:e.date?e.date.year:void 0},e.uri)}))})})},`otherArtist-${t}`)})),le&&(0,Y.jsx)(nr.H,{onClick:re,className:jv,children:(0,Y.jsx)(tr.E,{as:"h2",variant:"bodySmallBold",children:ae?v.get("show_less"):v.get("mwp.search.artists.all")})}),(0,Y.jsx)(ew,{uri:w}),(0,Y.jsx)(Pw,{renderInVariant:W.cl.AboveFansAlsoLike,uri:w}),(0,Y.jsx)(EE,{children:(0,Y.jsx)(Zu.$,{title:v.get("artist-page.fansalsolike"),children:null==B||null===(f=B.items[0])||void 0===f?void 0:f.relatedContent.relatedArtists.items.map((e=>{var t;return(0,Y.jsx)(XE.a,{name:e.profile.name,uri:e.uri,sources:null===(t=e.visuals.avatarImage)||void 0===t?void 0:t.sources},e.uri)}))})}),C&&(0,Y.jsxs)(EE,{children:[(0,Y.jsx)(DE,{art:G?G.sources[0]:void 0,disabled:!C.playability.playable,LinkComponent:Mc.N,name:C.name,type:C.type,uri:C.uri}),(0,Y.jsx)(ZE,{items:C.tracks.items})]})]}),x.albumOfTrack&&(0,Y.jsx)(Yv,{copyrights:x.albumOfTrack.copyright.items})]}),(0,Y.jsx)(xp.h,{})]});var ue};var Dw=s(96926),Mw=s(18448),Uw=s(48133),Bw=s(19873);const Gw=e=>{var t;return!(null!==(t=e.accessInfo)&&void 0!==t&&null!==(t=t.unlockedBy)&&void 0!==t&&t.length)},Fw=(e,t)=>e.length?e.map((e=>null==e?void 0:e.name)).filter(Boolean).join(t):null,Vw=e=>null!=e&&e.sources?e.sources.map((e=>({url:e.url,width:e.width??void 0,height:e.height??void 0}))):[],Hw=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"Episode"===e.__typename?((e,t)=>{var s,n;const i=je(e.podcastV2.data)?e.podcastV2.data:void 0;return{index:t,isPlayable:e.playability.playable,reason:e.playability.reason,subtitle:[{uri:e.uri,name:(null==i?void 0:i.name)??""}],title:e.name,uri:e.uri,images:Vw(null==e?void 0:e.coverArt),description:e.description??void 0,isExplicit:"EXPLICIT"===(null===(s=e.contentRating)||void 0===s?void 0:s.label),durationTotalMilliseconds:e.duration.totalMilliseconds,album:void 0,artists:void 0,rawTrack:{id:e.uri,is_playable:e.playability.playable,name:e.name,uri:e.uri,type:"episode",preview_url:(null===(n=e.previewPlayback)||void 0===n||null===(n=n.audioPreview)||void 0===n?void 0:n.cdnUrl)??"",images:Vw(e.coverArt),album:void 0,artists:void 0}}})(e,t):"Audiobook"===e.__typename?((e,t)=>{var s,n,i,a,o;return{index:t,isPlayable:!0,subtitle:Fw(e.authorsV2," | ")??"",title:e.name,uri:e.uri,images:Vw(null==e?void 0:e.coverArt),album:void 0,artists:void 0,rawTrack:{id:e.uri,is_playable:!1,name:e.name,uri:e.uri,type:"audiobook",images:Vw(e.coverArt),album:void 0,artists:void 0,preview_url:""},description:e.htmlDescriptionPlain??void 0,isExplicit:null===(s=e.contentRatingV2)||void 0===s?void 0:s.labels.includes(Xi.av.Explicit),ratingAverage:(null===(n=e.rating)||void 0===n||null===(n=n.averageRating)||void 0===n?void 0:n.showAverage)&&e.rating.averageRating.average||void 0,genres:(null===(i=e.genres)||void 0===i?void 0:i.filter(sa).map((e=>{let{shortName:t}=e;return t})).filter(sa))??void 0,durationTotalMilliseconds:null===(a=e.audiobookDuration)||void 0===a?void 0:a.totalMilliseconds,preTitle:(null===(o=e.accessInfo)||void 0===o||null===(o=o.signifier)||void 0===o?void 0:o.text)??void 0,locked:Gw(e),accessInfo:e.accessInfo??void 0}})(e,t):"RestrictedAudiobookContent"===e.__typename?((e,t)=>{var s;const n={sources:"ImageV2"===(null===(s=e.coverArt)||void 0===s?void 0:s.data.__typename)?e.coverArt.data.sources.map((e=>({url:e.url,width:e.maxWidth,height:e.maxHeight}))):[]};return{index:t,isPlayable:!1,subtitle:Fw(e.authors," | ")??"",title:e.name,uri:e.uri,images:Vw(n),album:void 0,artists:void 0,rawTrack:{id:e.uri,is_playable:!1,name:e.name,uri:e.uri,type:"audiobook",images:Vw(n),album:void 0,artists:void 0,preview_url:""},description:void 0,isExplicit:void 0,ratingAverage:void 0,genres:void 0,durationTotalMilliseconds:void 0,preTitle:void 0,locked:!1,accessInfo:void 0}})(e,t):((e,t)=>{var s,n,i;const a=null!=e&&e.albumOfTrack?{name:e.name,uri:e.albumOfTrack.uri,images:[]}:void 0,o=(null==e?void 0:e.artists.items.map((e=>({name:e.profile.name,uri:e.uri}))))??[];return{index:t,isPlayable:e.playability.playable,subtitle:o.map((e=>({uri:e.uri,name:e.name}))),title:e.name,uri:e.uri,images:Vw(null===(s=e.albumOfTrack)||void 0===s?void 0:s.coverArt),album:a,artists:o,rawTrack:{id:e.uri,is_playable:e.playability.playable,name:e.name,uri:e.uri,type:"track",preview_url:(null===(n=e.previews)||void 0===n||null===(n=n.audioPreviews.items[0])||void 0===n?void 0:n.url)??"",images:Vw(null===(i=e.albumOfTrack)||void 0===i?void 0:i.coverArt),album:a,artists:o}}})(e,t)},Yw=function(e){var t,s,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const a={name:e.name,uri:e.album.uri,images:[{url:(null==e||null===(t=e.album)||void 0===t?void 0:t.imageUrl)??""}]},o=e.artists.map((e=>({name:e.name,uri:(0,Ze.ITr)(e.id).toURI()})));return{index:i,isPlayable:!e.isMOGEFRestricted,subtitle:o.map((e=>({uri:e.uri,name:e.name}))),title:e.name,uri:e.uri,images:[{url:null==e||null===(s=e.album)||void 0===s?void 0:s.imageUrl}],album:a,artists:o,rawTrack:{id:e.uri,is_playable:!e.isMOGEFRestricted,name:e.name,uri:e.uri,type:"track",preview_url:"",images:[{url:null==e||null===(n=e.album)||void 0===n?void 0:n.imageUrl}],album:a,artists:o}}},Kw=e=>{if(null==e||!e.length)return[];const t=[];for(let s=0;s<e.length;s+=1){const n=e[s];(0,Ve.UG)(null==n?void 0:n.itemV2)?(0,Ve.g1)(null==n?void 0:n.itemV2.data)&&t.push(n.itemV2.data):(0,Ve.ax)(null==n?void 0:n.itemV2)?(0,Ve.oS)(null==n?void 0:n.itemV2.data)&&t.push(n.itemV2.data):(0,Ve.fR)(null==n?void 0:n.itemV2)&&((0,Ve.Go)(null==n?void 0:n.itemV2.data)?t.push(n.itemV2.data):(0,Ve.l4)(null==n?void 0:n.itemV2.data)&&(0,Ve.aE)(null==n?void 0:n.itemV2.data.content)&&t.push(n.itemV2.data.content))}return t};var zw=s(71770),Ww=s(68426),qw=s(90998),Qw=s(88680),$w=s(54282),Zw=s(33769),Xw=s(75983),Jw=s(47020);const eS="QiPvEcBgGd4Eoyzt_cLA",tS="hV9S8S6n3BukdAjEErzx",sS="w3dGRDXLJIArduCN5aXe",nS="JQkwN_w3fa5q3AJXIPZV",iS="LJF7C9KcfFRf1THhKKQ8",aS="zrEszscu9k0xVStYBbtv",oS="__B9A2hXt91Up2O5AvZ7",rS="LIB2ozMvisscyZ14HxLB",lS="DlSxRtdLR94tSUsMv4nD";var dS=s(65126);const cS=e=>{let{description:t,lineClamp:s}=e;return(0,Y.jsx)(Qw.v,{lineClamp:s,children:(0,zb.Q3)(t)})},uS=e=>{const{uri:t,contextURI:s,images:n,title:a,subtitle:o,description:r,disabled:l,isExplicit:d,ratingAverage:u,id:p,genres:m,durationTotalMilliseconds:h,preTitle:_,fullAudiobookObject:y,index:b,accessInfo:g}=e,f=(0,zu.g)(n,48,48),v=h&&hu(h),E=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t?void 0:t.context.uri})),w=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t?void 0:t.paused})),S=(0,pE.R)(),R=E===t,T=(0,i.wA)(),A=(0,fr.Zp)(),x=(0,br.W)(),{onContextMenuClick:C}=(0,fb.E)(),{dispatch:I}=U_();return(0,Y.jsxs)("div",{className:rr()(eS,{[tS]:l}),"data-testid":`audiobook-list-row-${b}`,children:[(0,Y.jsx)($w.v,{pretitle:_,title:(0,Y.jsx)(Mc.N,{to:t,children:(0,Y.jsx)(dS.o,{title:a,isActiveRow:R})}),subtitle:o,media:(0,Y.jsx)(Zw.C,{src:f,size:"lg",alt:a}),body:!l&&(0,Y.jsxs)("div",{className:rr()(sS),children:[(0,Y.jsx)(cS,{description:r,lineClamp:3}),(0,Y.jsx)("div",{className:nS,children:(0,Y.jsxs)(Qw.v,{lineClamp:1,semanticColor:"textBase",children:[d&&(0,Y.jsx)(nu,{}),u?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Xw.j,{size:"small",className:rr()(iS)}),c.Ru.formatNumber(u,{maximumFractionDigits:1})]}):c.Ru.get("web-player.audiobooks.noRating"),Boolean(null==m?void 0:m.length)&&(0,Y.jsxs)(tr.E,{children:[" • ",null==m?void 0:m.join(c.Ru.getSeparator())]}),v&&(0,Y.jsxs)(tr.E,{children:[" ","•"," ",mu({h:v.hours,m:v.minutes,s:v.seconds})]})]})})]}),variant:"naked",contentAlign:!0,"aria-label":a,id:p,footer:!l&&(0,Y.jsxs)("div",{className:rS,children:[(0,Y.jsx)(Uu,{uri:t},`heart-${t}`),(0,Y.jsx)(Kc.P,{uri:t}),(0,Y.jsx)(wb.z,{contextURI:s,onDemand:!0,track:y,onContextMenuClick:C},`context-menu-action-${t}`),(0,Y.jsx)("div",{className:aS,children:(0,Y.jsx)(Hu.R,{"data-testid":`play-button-audiobook-${b}`,size:"small",version:Hu.H.secondary,onClick:async()=>{if(y.locked){const e=(0,Ze.o_h)(y.uri);return void(e&&A(e.toURLPath(!0)))}if((0,Ve.KX)(null==g?void 0:g.accessExplanation))return x({type:"click",intent:"audiobook-consumption-cap-overlay-show",itemIdSuffix:"playlist/audiobook/play"}),void I({type:"SHOW_DIALOG",context:t,data:g});if(R)return void T((0,gn.d5)());const e={shuffle:!1,playOrigin:{referrerIdentifier:S}};T((0,gn.xN)(t,null,e,undefined))},isPlaying:R&&!w,disabled:!1,locked:null==y?void 0:y.locked,isLoading:!1})})]})}),(0,Y.jsx)(Jw.d,{className:rr()(oS),"aria-hidden":!0})]})},pS=()=>(0,Y.jsx)(su,{ariaLabel:c.Ru.get("paid"),text:c.Ru.get("paid")}),mS=e=>{const{uri:t,contextURI:s,images:n,title:a,subtitle:o,description:r,isExplicit:l,isActiveRow:d,onClick:c,id:u,durationTotalMilliseconds:p,index:m,fullEpisodeObject:h,isPaymentRequired:_}=e,y=(0,zu.g)(n,48,48),b=p&&hu(p),g=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t?void 0:t.paused})),{onContextMenuClick:f}=(0,fb.E)();return(0,Y.jsxs)("div",{className:rr()(eS),"data-testid":`episode-list-row-${m}`,children:[(0,Y.jsx)($w.v,{title:(0,Y.jsx)(Mc.N,{to:t,children:(0,Y.jsx)(dS.o,{title:a,isActiveRow:d})}),subtitle:(0,Y.jsxs)("div",{className:lS,children:[_&&(0,Y.jsx)(pS,{}),(0,Y.jsx)(tr.E,{variant:"bodySmall",semanticColor:"textSubdued",children:o})]}),media:(0,Y.jsx)(Zw.C,{src:y,size:"lg",alt:a}),body:(0,Y.jsxs)("div",{className:rr()(sS),children:[(0,Y.jsx)(cS,{description:r,lineClamp:3}),(0,Y.jsx)(Qw.v,{lineClamp:1,semanticColor:"textBase",children:(0,Y.jsxs)("span",{className:nS,children:[l&&(0,Y.jsx)(nu,{}),b&&(0,Y.jsx)(tr.E,{children:mu({h:b.hours,m:b.minutes,s:b.seconds})})]})})]}),variant:"naked",contentAlign:!0,"aria-label":a,id:u,footer:(0,Y.jsxs)("div",{className:rS,children:[(0,Y.jsx)(Uu,{uri:t},`heart-${t}`),(0,Y.jsx)(Kc.P,{uri:t}),(0,Y.jsx)(wb.z,{contextURI:s,onDemand:!0,track:h,onContextMenuClick:f},`context-menu-action-${t}`),(0,Y.jsx)("div",{className:aS,children:(0,Y.jsx)(Hu.R,{size:"small","data-testid":`play-button-episode-${m}`,version:Hu.H.secondary,onClick:c,locked:_,isPlaying:d&&!g,isLoading:!1})})]})}),(0,Y.jsx)(Jw.d,{className:rr()(oS),"aria-hidden":!0})]})},hS="RPMwWpskeHvzUheYt4ut";var _S=s(55993);const yS=e=>{let{onRowClick:t,onContextMenuClick:s,shouldDisableRow:n,playlistUri:a,numTracksOnPage:o,handleSetTracksOnPage:r}=e;const l=(0,H.useContext)(ar.gJ),d=(0,i.d4)((e=>{let{session:t}=e;return t.isAnonymous})),c=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t||null===(t=t.track_window.current_track)||void 0===t?void 0:t.uri})),u=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t?void 0:t.context.uri})),p=(0,i.d4)((e=>{let{entities:t}=e;return t.items[a]})),m=(0,He.V)(p)?p:void 0,h=(0,Ve.W$)(null==m?void 0:m.content)?m.content:void 0,_=null==h?void 0:h.pagingInfo.nextOffset,y=Kw(null==h?void 0:h.items).map(Hw),b=(0,_S.V)(),g=(0,i.wA)();return(0,H.useEffect)((()=>{o!==y.length&&r({total:!0,count:y.length})}),[r,o,y.length]),(0,Y.jsx)(Ww._,{onReachBottom:(0,H.useCallback)((()=>{null!==_&&g((0,Di.iI)(a,{offset:_||0,limit:30}))}),[g,a,_]),children:null==y?void 0:y.map(((e,i)=>{const o="string"==typeof e.subtitle?l.get("audiobook.search.with_author_name",e.subtitle):(e=>b?(0,Y.jsx)(Qw.v,{children:e.map(((e,t)=>(0,Y.jsxs)("span",{"data-testid":"internal-artist-link",children:[t?l.getSeparator():"",(0,Y.jsx)(Mc.N,{className:hS,to:e.uri,children:e.name})]},`list-row-details-${e.uri}`)))}):e.map((e=>e.name)).join(l.getSeparator()))(e.subtitle),r=void 0!==u&&u===a,p=void 0!==c&&e.uri===c,m=r&&p,h=d?null:(0,Y.jsx)(Bw.H,{uri:e.uri},`heart-icon-${e.uri}`),_=e.images&&(0,zw.h)(e.images,"small"),y=e.preTitle&&(0,Y.jsx)(tr.E,{variant:"bodySmall",semanticColor:"textBrightAccent",className:qw.A.premiumSignifier,children:e.preTitle});return"audiobook"===e.rawTrack.type?(0,Y.jsx)(uS,{index:i,uri:e.uri,contextURI:a,disabled:n(i,e),id:`audiobook-${e.uri}-${i}`,title:e.title,subtitle:o,description:e.description??"",images:e.images||[],preTitle:y,ratingAverage:e.ratingAverage,isExplicit:e.isExplicit||!1,genres:e.genres,durationTotalMilliseconds:e.durationTotalMilliseconds,fullAudiobookObject:e,accessInfo:e.accessInfo},`audiobook-${e.uri}-${i}`):"episode"===e.rawTrack.type?(0,Y.jsx)(mS,{index:i,uri:e.uri,contextURI:a,id:`episode-${e.uri}-${i}`,isActiveRow:m,title:e.title,subtitle:o,description:e.description??"",images:e.images||[],isExplicit:e.isExplicit||!1,durationTotalMilliseconds:e.durationTotalMilliseconds??null,fullEpisodeObject:e,onClick:t(i,e),isPaymentRequired:(0,Bu.R)({playable:e.isPlayable,reason:e.reason??Xi.$c.Playable})},`episode-${e.uri}-${i}`):(0,Y.jsx)("div",{children:(0,Y.jsx)(Mw.u,{id:`track-${e.uri}-${i}`,uri:e.uri,"data-testid":"track-row",title:e.title,subtitle:o,disabled:n(i,e),internalLink:!0,isActiveRow:m,onClick:t(i,e),activeElement:d&&m&&(0,Y.jsx)(Uw.S,{fallback:(0,Y.jsx)(Mw.c,{children:i+1})}),imageUrl:null==_?void 0:_.url,actions:[h,(0,Y.jsx)(wb.z,{contextURI:a,onDemand:!0,track:e,onContextMenuClick:s},`actions-${e.uri}`)]})},`track-${e.uri}-${i}`)}))})};var bS=s(41986);const gS=e=>{let{children:t,testId:s}=e;return t?(0,Y.jsx)("div",{"data-testid":s,className:qf.A.description,children:t}):null};var fS=s(91675);const vS="Zlw_JpvCycfWtpw7K5Oq",ES="cWtv1Xy3HnTGsu4VB7YR",wS="dzV1y02TCyScKnBeoIJF",SS="LOK9zVOq4IF4ZWCNB_MZ",RS="AF2mc6vkJDU5n3xU_bqN";function TS(e){let{items:t}=e;return(0,Y.jsx)("div",{className:ES,children:(0,Y.jsx)(fS.H,{tracks:t.map(Hw).slice(0,6).map((e=>{var t,s;return{title:"object"==typeof e.subtitle?(null===(t=e.subtitle[0])||void 0===t?void 0:t.name)??"":"",subtitle:e.title,uri:e.uri,artistUri:"object"==typeof e.artists?(null===(s=e.artists[0])||void 0===s?void 0:s.uri)??"":""}}))})})}var AS=s(92665),xS=s(10514);const CS=e=>{let{name:t,uri:s,images:n}=e;return(0,Y.jsxs)(tr.E,{as:"div",variant:"bodySmall",className:vS,"data-testid":"entity-owner",children:[(0,Y.jsx)(Tv,{images:n??[],fallback:(0,Y.jsx)(Sv.v,{iconSize:24})}),(0,Y.jsx)(Mc.N,{to:s,children:t})]})},IS=new Ni.l("addToPlaylist","mutation","47c69e71df79e3c80e4af7e7a9a727d82565bb20ae20dc820d6bc6f94def482d",null),kS=(new Ni.l("removeFromPlaylist","mutation","47c69e71df79e3c80e4af7e7a9a727d82565bb20ae20dc820d6bc6f94def482d",null),new Ni.l("moveItemsInPlaylist","mutation","47c69e71df79e3c80e4af7e7a9a727d82565bb20ae20dc820d6bc6f94def482d",null),"wASHoSBsBfc_qAFLe44e"),NS=e=>{var t;let{onContextMenuClick:s,playlistUri:n,track:a,canEdit:o,addToPlaylist:r,isAdding:l}=e;const d=(0,ar.s9)(),c=(0,ip.V)(),u=(0,i.d4)((e=>{var t;return null===(t=e.playback.current)||void 0===t||null===(t=t.track_window.current_track)||void 0===t?void 0:t.uri})),p=(0,i.d4)((e=>{var t;return null===(t=e.playback.current)||void 0===t?void 0:t.context.uri})),m="string"==typeof a.subtitle?a.subtitle:a.subtitle.map((e=>e.name)).join(d.getSeparator()),h=void 0!==p&&p===a.uri,_=void 0!==u&&a.uri===u,y=h&&_,b=c?null:(0,Y.jsx)(Bw.H,{uri:a.uri},`heart-icon-${a.uri}`),g=(0,Jf._)(a.uri),f=mE(a.uri,c,g,void 0,u);return(0,Y.jsx)(Mw.u,{id:`track-${a.uri}`,uri:a.uri,"data-testid":"track-row",title:a.title,subtitle:m,isActiveRow:y,onClick:f,internalLink:!0,imageUrl:null==a||null===(t=a.album)||void 0===t||null===(t=t.images[0])||void 0===t?void 0:t.url,activeElement:null,actions:[b,o?(0,Y.jsx)(nr.H,{onClick:()=>{r(a.uri)},"aria-label":d.get("addToPlaylist-icon.label"),semanticColor:"textBase",className:kS,disabled:l,children:(0,Y.jsx)(Du.P,{})},"add-to-playlist-action"):(0,Y.jsx)(wb.z,{contextURI:n,onDemand:!0,track:a,onContextMenuClick:s},`actions-${a.uri}`)]},`track-${a.uri}`)},PS=e=>{let{onContextMenuClick:t,playlistUri:s,recommendedTracks:n,canEdit:a,numTracksOnPage:o,handleSetTracksOnPage:r}=e;const l=(0,H.useContext)(ar.gJ),d=(0,H.useContext)(V.j),c=(0,i.wA)(),[u,p]=(0,H.useState)(!1),m=(0,H.useMemo)((()=>{if(n)return n.map(Yw)}),[n]),h=(0,H.useCallback)((async e=>{try{p(!0),d.request(IS,{uris:[e],playlistUri:s,newPosition:{moveType:Xi.nz.BottomOfPlaylist,fromUid:""}}).then((()=>{const t=n.filter((t=>t.uri!==e));c(function(e){return{type:As,newRecommendedTracks:e}}(t)),c((0,Di.iI)(s,{offset:o,limit:1})),r({total:!1,count:1}),c((0,io.P)(l.get("feedback.added-to-playlist-generic"),pe.Ck.default,!0)),p(!1)}))}catch(t){p(!1),c((0,io.P)(l.get("error.generic"),pe.Ck.error,!0))}}),[n,o,c,d,r,s,l,p]);return(0,Y.jsx)("div",{children:null==m?void 0:m.map((e=>(0,Y.jsx)(NS,{onContextMenuClick:t,playlistUri:s,track:e,canEdit:a,addToPlaylist:h,isAdding:u},e.uri)))})},LS=e=>{let{playlistInitialLength:t,onContextMenuClick:s,playlistUri:n,canEdit:a,numTracksOnPage:o,handleSetTracksOnPage:r,allTracksVisible:l}=e;const d=(0,ar.s9)(),c=(0,i.wA)(),{data:u,uri:p}=(0,i.d4)((e=>e.playlistRecommendedTracks.playlist));return(0,H.useEffect)((()=>{p!==n&&c({type:Ss,uri:n})}),[c,p,n]),(0,Y.jsx)("div",{className:l?void 0:RS,children:null!=u&&u.length?(0,Y.jsxs)("section",{"data-testid":a?"recommended-tracks-add":"recommended-tracks-context",children:[(0,Y.jsxs)("header",{className:wS,children:[(0,Y.jsx)(tr.E,{as:"h2",variant:"titleSmall",children:d.get("playlist.extender.recommended.title")}),(0,Y.jsx)(tr.E,{variant:"bodySmall",className:SS,children:t?d.get("playlist.extender.songs.in.playlist"):d.get("playlist.extender.empty.playlist")})]}),(0,Y.jsx)(PS,{onContextMenuClick:s,playlistUri:n,recommendedTracks:u,canEdit:a,numTracksOnPage:o,handleSetTracksOnPage:r})]}):null})};let jS=function(e){return e.ALLOWED="ALLOWED",e.DISALLOWED="DISALLOWED",e.NOT_YET_KNOWN="NOT_YET_KNOWN",e}({});const OS=()=>{var e,t,s,n;const a=(0,ar.s9)(),{playlistId:o=""}=(0,fr.g)(),r=(0,Ze.Pse)(o).toURI(),l=(0,i.wA)(),d=(0,i.d4)((e=>{let{entities:t}=e;return t.items[r]})),c=(0,i.d4)((e=>{let{playback:t}=e;return t.isBuffering})),u=(0,i.d4)((e=>{var t;let{session:s}=e;return null===(t=s.me)||void 0===t||null===(t=t.profile)||void 0===t?void 0:t.uri})),p=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t?void 0:t.context.uri})),m=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t||null===(t=t.track_window.current_track)||void 0===t?void 0:t.uri})),h=(0,i.d4)((e=>{let{onDemandPlaylists:t}=e;return(0,Xn.$)(t,r)})),_=(0,He.V)(d)?d:void 0,y=(0,Ve.W$)(null==_?void 0:_.content)?null==_?void 0:_.content:void 0,b=(0,Xe.m)(null==_||null===(e=_.images)||void 0===e?void 0:e.items.map((e=>e.sources[0]??null)).filter(sa),300),[g,f]=(0,H.useState)(0),[v,E]=(0,H.useState)(!1),w=(0,Ve.QY)(null==_?void 0:_.ownerV2.data)?null==_?void 0:_.ownerV2.data:void 0,S=w&&(null==w?void 0:w.uri)===u,R="Spotify"===(null==w?void 0:w.name),T=(0,Ve.L)(y)?0:(null==y?void 0:y.totalCount)??0,A=(0,i.d4)((e=>(0,_h.W)(e,b))),x=(0,i.d4)((e=>{let{colorExtraction:t}=e;return b&&Boolean(t.colors[b])})),C=`rgb(${A})`;(0,$u.n)({visible:!0,title:null==_?void 0:_.name,backgroundColor:x?C:void 0});const I=(0,H.useCallback)((e=>{let{total:t,count:s}=e;if(t)f(s);else{f(g+s)}s===T&&E(!0)}),[g,T]);(0,H.useEffect)((()=>{b&&!x&&l(Cb({url:b}))}),[l,b,x]),(0,H.useEffect)((()=>{_||l((0,Di.iI)(r))}),[l,r,_]);const k=(0,Jf._)(r),N=(0,H.useMemo)((()=>Kw(null==y?void 0:y.items)),[null==y?void 0:y.items]),P=(0,H.useMemo)((()=>(e=>e.some((e=>"Audiobook"===e.__typename)))(N)),[N]),L=(0,H.useMemo)((()=>(e=>e.some((e=>"Episode"===e.__typename)))(N)),[N]),j=(0,i.d4)((e=>{let{onDemandPlaylists:t}=e;return null==t?void 0:t.fetched}));let O;(0,H.useEffect)((()=>{l((0,bt.D4)())}),[l]),O=k?jS.ALLOWED:j?jS.DISALLOWED:jS.NOT_YET_KNOWN;const D=(0,AS.s)(),M=(0,i.d4)((e=>{var t;let{playback:s}=e;return p===r&&!(null!==(t=s.current)&&void 0!==t&&t.paused)})),{onContextMenuClick:U}=(0,fb.E)(),{onRowClick:B,shouldDisableRow:G}=(0,bS.X)(r,D,c,h,m),F=N.filter((e=>"Audiobook"!==e.__typename&&"RestrictedAudiobookContent"!==e.__typename))[0],V=(0,Xf.$n)({uri:r,isOnDemand:h,playbackContextUri:p,audioFileMetadataResolver:()=>(0,Xf.yo)(D,F)});(0,qu.r)((0,Qu.Q2)({playlistName:null==_?void 0:_.name,userName:null==w?void 0:w.name,isSpotifyOwned:R}));const K=function(e,t){if(t>30)return null;const s=e.reduce(((e,t)=>{return"RestrictedAudiobookContent"===t.__typename||("Audiobook"===t.__typename?e+=(null===(s=t.audiobookDuration)||void 0===s?void 0:s.totalMilliseconds)??0:e+=t.duration.totalMilliseconds??0),e;var s}),0);return e.length>0?s/e.length*t:0}(N,(null==y?void 0:y.totalCount)??0),z=!R&&!L&&!P;return _?(0,Y.jsxs)(Tp.h,{testId:"playlist-entity-view",children:[(0,Y.jsxs)(Yc.z,{backgroundColor:C,children:[(0,Y.jsx)(Qc.b,{images:null===(t=_.images.items[0])||void 0===t?void 0:t.sources,fallback:(0,Y.jsx)(Dw.e,{size:"xxlarge"}),fadeImageBetween:[50,175]}),(0,Y.jsx)($c.m,{children:_.name}),(0,Y.jsx)(gS,{children:_.description&&(0,Y.jsx)(xS.q,{html:_.description,onTimeStampClick:()=>{}})}),(0,Y.jsx)(CS,{name:(null==w?void 0:w.name)??"",uri:(null==w?void 0:w.uri)??"",images:null==w||null===(s=w.avatar)||void 0===s?void 0:s.sources}),(0,Y.jsxs)(Wc.l,{children:[(0,Y.jsxs)(xv.$,{children:[((null==_?void 0:_.followers)??0)>0&&(0,Y.jsx)(tr.E,{variant:"bodySmall",children:a.get("saves",(null==_?void 0:_.followers)??0)}),K&&(0,Y.jsx)(Ru,{durationMs:K})]}),(0,Y.jsxs)(zc.z,{children:[!S&&(0,Y.jsx)(Zf,{uri:r}),(0,Y.jsx)(Kc.P,{uri:r}),(0,Y.jsx)(Ku.e,{uri:r,header:{title:_.name,backgroundImage:(0,zu.g)(null===(n=_.images.items[0])||void 0===n?void 0:n.sources,64)}})]}),!P&&(0,Y.jsx)(fv.q,{onClick:V,isPlaying:M,disabled:0===(null==y?void 0:y.totalCount),isOnDemand:k})]})]}),(0,Y.jsx)(Bc.A,{children:(0,Y.jsxs)("div",{children:[O===jS.DISALLOWED&&!P&&(0,Y.jsx)(TS,{items:N}),(O===jS.ALLOWED||P)&&(0,Y.jsx)(yS,{playlistUri:_.uri,onContextMenuClick:U,onRowClick:B,shouldDisableRow:G,numTracksOnPage:g,handleSetTracksOnPage:I}),z&&(0,Y.jsx)(LS,{playlistInitialLength:T,onContextMenuClick:U,playlistUri:_.uri,canEdit:S,numTracksOnPage:g,handleSetTracksOnPage:I,allTracksVisible:v})]})}),(0,Y.jsx)(xp.h,{})]}):(0,Y.jsx)(Ap.c,{})};var DS=s(18686);const MS=e=>"Track"===(null==e?void 0:e.__typename),US=e=>{let{contextURI:t,currentTrackURI:s,onRowClick:n,tracks:i,shouldDisableRow:a,onContextMenuClick:o,loadMoreTracks:r}=e;const l=((e,t)=>t.items.map((e=>{var t;return null==e||null===(t=e.track)||void 0===t?void 0:t.data})).filter(MS).map(((t,s)=>((e,t,s)=>{const n=(e=>{var t,s,n,i;const a=((null==e||null===(t=e.albumOfTrack)||void 0===t||null===(t=t.coverArt)||void 0===t?void 0:t.sources)||[]).map((e=>({url:e.url,height:e.height??void 0,width:e.height??void 0}))),o={name:(null===(s=e.albumOfTrack)||void 0===s?void 0:s.name)??"",uri:(null===(n=e.albumOfTrack)||void 0===n?void 0:n.uri)??"",images:a},r=e.artists.items.map((e=>({name:e.profile.name,uri:e.uri})));return{name:e.name,uri:e.uri,type:"track",is_playable:e.playability.playable,duration_ms:e.duration.totalMilliseconds,preview_url:(null===(i=e.previews)||void 0===i||null===(i=i.audioPreviews)||void 0===i||null===(i=i.items)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.url)??"",id:e.id,images:a,artists:r,album:o}})(t);return{index:s,rawTrack:n,isPlayable:t.playability.playable,uri:t.uri,images:n.images,album:n.album,artists:n.artists,title:t.name,subtitle:t.artists.items.map((e=>{let{profile:t}=e;return t.name})).join(e.getSeparator())}})(e,t,s))))((0,ar.s9)(),i);return(0,Y.jsx)(Ww._,{onReachBottom:r,children:l.map(((e,i)=>{const r=s===e.uri,l=e.images&&(0,zw.h)(e.images,"small");return(0,Y.jsx)(Mw.u,{id:e.uri,uri:e.uri,"data-testid":"track-row",title:e.title,subtitle:String(e.subtitle),disabled:a(i,e),isActiveRow:r,onClick:n(i,e),imageUrl:null==l?void 0:l.url,actions:[(0,Y.jsx)(Bw.H,{uri:e.uri},`heart-icon-${e.uri}`),(0,Y.jsx)(wb.z,{contextURI:t,onDemand:!0,track:e,onContextMenuClick:o},`actions-${e.uri}`)]},e.uri)}))})},BS=new Ni.l("getLikedSongs","query","c2c53c28f71da143c0753c22dc84d98b315cb4275472ea5a597c29338ae20b23",null),GS=()=>{const e=(0,H.useContext)(V.j),[t,s]=(0,H.useState)(!0),[n,i]=(0,H.useState)(null),a=(0,H.useCallback)((async t=>{s(!0);const n=await(async(e,t)=>{var s;const n=await e.request(BS,{offset:t});return null!=n&&null!==(s=n.data)&&void 0!==s&&null!==(s=s.me)&&void 0!==s&&null!==(s=s.library)&&void 0!==s&&s.tracks?n.data.me.library.tracks:(bm().error("GraphQL query `getLikedSongs` did not return tracks"),null)})(e,t);n&&i((e=>((e,t)=>t?{...e,items:[...t.items,...e.items]}:e)(n,e))),s(!1)}),[e]);(0,H.useEffect)((()=>{a()}),[a]);return[n,t,()=>{const e=null==n?void 0:n.pagingInfo.nextOffset;e&&a(e)}]},FS=()=>(0,i.d4)((e=>e.playback.isBuffering));var VS=s(34171);const HS="Eo2JiwOmXxKkuv2IAWcH",YS=()=>{const e=(0,ar.s9)(),t=(0,fr.Zp)();return(0,Y.jsxs)("div",{className:HS,children:[(0,Y.jsx)(tr.E,{as:"h2",variant:"titleMedium",paddingBottom:(0,VS.po)("tighter"),children:e.get("mobile-web-player.LikedSongsEntityView.empty-state.title")}),(0,Y.jsx)(tr.E,{as:"h3",variant:"bodyMediumBold",semanticColor:"textSubdued",paddingBottom:(0,VS.po)("looser-2"),children:e.get("mobile-web-player.LikedSongsEntityView.empty-state.suggestion")}),(0,Y.jsx)(ir.$,{colorSet:"invertedLight",size:"large",onClick:()=>t("/search/"),children:e.get("mobile-web-player.LikedSongsEntityView.empty-state.discover")})]})},KS=e=>{let{likedSongs:t}=e;const s=t.map((e=>{var t;return null===(t=e.track)||void 0===t?void 0:t.data})).filter(MS).map((e=>{var t;let{name:s,artists:n}=e;return{title:null===(t=n.items[0])||void 0===t?void 0:t.profile.name,subtitle:s}}));return(0,Y.jsx)(fS.H,{tracks:s})},zS=()=>{var e;const t=(0,ar.s9)();(0,$u.n)({visible:!0,title:t.get("mobile-web-player.LikedSongsEntityView.title"),backgroundColor:yh.Vh$});const s=(0,i.d4)((e=>{var t;return null===(t=e.session.me)||void 0===t||null===(t=t.profile)||void 0===t?void 0:t.id})),n=`spotify:user:${s}:collection`,a=(0,Jf._)(n),o=FS(),r=(0,AS.s)(),{onContextMenuClick:l}=(0,fb.E)(),d=(0,i.d4)((e=>{let{playback:t}=e;return t.current})),c=null==d?void 0:d.context.uri,u=c===n&&!(null!=d&&d.paused),p=null==d||null===(e=d.track_window.current_track)||void 0===e?void 0:e.uri,[m,h,_]=GS(),y=(null==m?void 0:m.totalCount)??0,b=(0,Xf.$n)({uri:n,isOnDemand:a,playbackContextUri:c}),{onRowClick:g,shouldDisableRow:f}=(0,bS.X)(n,r,o,!1,p),v=y>0;return(0,Y.jsxs)(Tp.h,{children:[(0,Y.jsxs)(Yc.z,{backgroundColor:yh.Vh$,children:[(0,Y.jsx)(DS.m,{children:t.get("mobile-web-player.LikedSongsEntityView.title")}),(0,Y.jsx)(Wc.l,{children:v&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(xv.$,{children:(0,Y.jsx)(tr.E,{variant:"bodySmall",children:t.get("mobile-web-player.LikedSongsEntityView.song-count",y)})}),(0,Y.jsx)(fv.q,{onClick:b,isPlaying:u,disabled:!1,isOnDemand:a})]})})]}),(0,Y.jsxs)(Bc.A,{children:[v&&!a&&(0,Y.jsx)(KS,{likedSongs:m.items}),v&&a&&(0,Y.jsx)(US,{currentTrackURI:p,contextURI:n,onRowClick:g,shouldDisableRow:f,onContextMenuClick:l,tracks:m,loadMoreTracks:_}),!v&&!h&&(0,Y.jsx)(YS,{})]}),(0,Y.jsx)(xp.h,{})]})},WS=36e5,qS=864e5,QS="poz9gZKE7xqFwgk231J4";function $S(e,t){return e-e%t}const ZS=e=>{let{durationMs:t,className:s}=e;const n=t>qS;let i;i=n?qS:function(e){return $S(e,e>36e6?WS:e>18e6?18e5:e>36e5?9e5:e>18e5?3e5:6e4)}(t);const{hours:a,minutes:o}=hu(i);if(0===a&&0===o)return null;let r=mu({h:a,m:o,s:0});return r=n?c.Ru.get("time.over",r):c.Ru.get("time.estimated",r),(0,Y.jsx)("span",{className:rr()(QS,s),children:r})},XS=e=>{let{durationMs:t,isEstimate:s}=e;return s?(0,Y.jsx)(ZS,{durationMs:t}):(0,Y.jsx)(Ru,{durationMs:t})},JS=e=>{let{durationMs:t,isEstimate:s}=e;const n=(0,ar.s9)();return(0,Y.jsxs)(Y.Fragment,{children:[n.getSeparator(),(0,Y.jsx)(XS,{durationMs:t,isEstimate:s})]})},eR=e=>{let{year:t,totalCount:s,durationMs:n,isEstimate:i}=e;const a=(0,ar.s9)();return(0,Y.jsx)("div",{className:wv,"data-testid":"time-and-duration",children:(0,Y.jsxs)(xv.$,{children:[!!t&&(0,Y.jsx)(tr.E,{variant:"bodySmall",children:t}),(0,Y.jsxs)(tr.E,{variant:"bodySmall",children:[a.get("tracklist-header.songs-counter",s),n>0&&(0,Y.jsx)(JS,{durationMs:n,isEstimate:i})]})]})})};const tR=e=>{let{items:t}=e;return(0,Y.jsx)("div",{className:Ev,children:(0,Y.jsx)(fS.H,{tracks:t.slice(0,6).map((e=>{var t;return{title:e.name,subtitle:null===(t=e.artists.items[0])||void 0===t||null===(t=t.profile)||void 0===t?void 0:t.name}}))})})},sR="SmjQKWSgMHccEbtVbzGz",nR=function(e,t,s){var n;return(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{subtitleAsLink:!1}).subtitleAsLink?t.artists.items.map((e=>({uri:e.uri,name:e.profile.name}))):t.artists&&s?t.artists.items.map((e=>e.profile.name)).join(e.getSeparator()):(null===(n=t.artists.items[0])||void 0===n?void 0:n.profile.name)??""},iR=function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{subtitleAsLink:!1};const i=(t,i,a)=>{const o=s?t.name:nR(e,t,s)??"",r=function(e,t,s){return s?nR(e,t,s,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{subtitleAsLink:!1}):t.name}(e,t,s,n),l=(e=>{var t;const{album:s,track:n}=e,i=s.coverArt&&s.coverArt.sources.length>0?s.coverArt.sources.map((e=>({url:e.url,height:e.height??void 0,width:e.height??void 0}))):[],a={name:s.name,uri:s.uri,images:i},o=n.artists.items.map((e=>({name:e.profile.name,uri:e.uri})));return{name:n.name,uri:n.uri,type:"track",is_playable:n.playability.playable,duration_ms:n.duration.totalMilliseconds,preview_url:(null===(t=n.previews)||void 0===t||null===(t=t.audioPreviews)||void 0===t||null===(t=t.items)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.url)??"",id:n.id,images:i,artists:o,album:a}})({album:a,track:t});return{index:i,rawTrack:l,isPlayable:t.playability.playable,uri:t.uri,images:l.images,album:l.album,artists:l.artists,title:o,subtitle:r}};return t.tracksV2.items.filter(Ui).map(((e,s)=>i(e.track,s,t)))},aR=e=>{var t;let{isAnonymous:s,isOnDemand:n,contextURI:a,currentTrackURI:o,album:r,onRowClick:l,shouldDisableRow:d,onContextMenuClick:c}=e;const u=(0,ar.s9)(),p=(0,i.wA)(),m=null===(t=r.tracksV2)||void 0===t||null===(t=t.pagingInfo)||void 0===t?void 0:t.offset,h=(0,H.useMemo)((()=>iR(u,r,n,{subtitleAsLink:!0})),[r,u,n]);return(0,Y.jsx)(Ww._,{onReachBottom:(0,H.useCallback)((()=>{null!==m&&p((0,Di.iI)(r.uri,{offset:m,limit:30}))}),[p,r.uri,m]),children:h.map(((e,t)=>{const{title:i,uri:r}=e,p=o===r,m="string"==typeof e.subtitle?e.subtitle:(e=>(0,Y.jsx)(Qw.v,{children:e.map(((e,t)=>(0,Y.jsxs)("span",{children:[t?u.getSeparator():"",(0,Y.jsx)(Mc.N,{className:sR,to:e.uri,children:e.name})]},`list-row-details-${e.uri}`)))}))(e.subtitle),h=s&&p?(0,Y.jsx)(Uw.S,{fallback:(0,Y.jsx)(Mw.c,{children:t+1})}):void 0,_=s?null:(0,Y.jsx)(Bw.H,{uri:r},t);return(0,Y.jsx)(Mw.u,{id:`track-${r}`,uri:r,"data-testid":"track-row",title:i,subtitle:m,disabled:d(t,e),isActiveRow:p,onClick:l(t,e),activeElement:h,noMedia:!0,internalLink:!0,actions:[_,(0,Y.jsx)(wb.z,{contextURI:a,onDemand:n,track:e,onContextMenuClick:c},`actions-${r}`)]},`track-${r}`)}))})},oR=(e,t)=>(0,Y.jsx)(tr.E,{as:"p",variant:"bodySmall",children:e},t),rR=e=>{let{copyright:t,testId:s="entity-copyright",className:n}=e;return t&&null!=t&&t.length?"string"==typeof t?(0,Y.jsx)("div",{className:rr()(qf.A.copyright,n),"data-testid":s,children:oR(t)}):(0,Y.jsx)("div",{className:rr()(qf.A.copyright,n),"data-testid":s,children:(t||[]).map(((e,t)=>{const s=(e=>{const t=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let s;return s="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,`${s} ${t}`})(e);return oR(s,`copyright-item-${t}`)}))}):null},lR=e=>{let{artistName:t,uri:s}=e;const n=(0,i.wA)(),{data:a,uri:o}=(0,i.d4)((e=>e.internalLinkRecommender.moreAlbums)),r=a&&a.length>0;return(0,H.useEffect)((()=>{n(function(e){return{type:us,uri:e}}(s))}),[n,s,o]),r?(0,Y.jsx)(Zu.$,{"data-testid":"more-albums-by-artist",title:c.Ru.get("album-page.more-by-artist",t),children:a.map((e=>{var t;return(0,Y.jsx)(kw.B,{name:e.name||"",uri:e.uri||"",sources:null===(t=e.coverArt)||void 0===t?void 0:t.sources},e.uri)}))}):(0,Y.jsx)(Y.Fragment,{})},dR=()=>{var e,t,s,n,a,o;const r=(0,ar.s9)(),{entityId:l=""}=(0,fr.g)(),c=(0,Ze.Q00)(l).toURI(),u=(0,i.wA)(),p=(0,i.d4)((e=>e.entities.items[c])),m=(e=>!!e&&"__typename"in e&&"Album"===e.__typename)(p)?p:void 0;(0,$u.n)({visible:!0,title:null==m?void 0:m.name,backgroundColor:null==m||null===(e=m.coverArt)||void 0===e||null===(e=e.extractedColors)||void 0===e?void 0:e.colorDark.hex});const h=!!m,_=(0,ip.V)(),y=(0,Dm.W)({type:"link",uri:c}),b=(0,d.NC)(W.LA)===W.nC.Enabled;(0,H.useEffect)((()=>{h||u((0,Di.iI)(c))}),[u,c,h]);const g=(0,Qu.qc)({i18n:r,albumArtists:(0,Qu.$1)(r,null==m?void 0:m.artists.items),albumName:null==m?void 0:m.name,albumType:null==m?void 0:m.type,shouldLocalize:y});(0,qu.r)(g);const f=(0,Jf._)(c),v=ev(),E=FS(),w=(0,AS.s)(),S=(0,i.d4)((e=>{var t;return null===(t=e.playback.current)||void 0===t?void 0:t.context.uri})),R=(0,i.d4)((e=>{var t;return null===(t=e.playback.current)||void 0===t||null===(t=t.track_window.current_track)||void 0===t?void 0:t.uri})),T=(0,Xf.$n)({uri:c,isOnDemand:f,playbackContextUri:S,audioFileMetadataResolver:()=>(0,Xf.VH)(w,m)}),{onContextMenuClick:A}=(0,fb.E)(),{onRowClick:x,shouldDisableRow:C}=(0,bS.X)(c,w,E,!1,R);if(!m)return(0,Y.jsx)(Ap.c,{});const I=m.artists.items[0],k=function(e){let{items:t,totalCount:s}=e;const n=t.reduce(((e,t)=>e+(t.track.duration.totalMilliseconds||0)),0);return{milliseconds:t.length>0?n/t.length*s:0,isEstimate:t.length<s}}({items:m.tracksV2.items.filter(Ui),totalCount:m.tracksV2.totalCount}),N=c===S&&!v;return(0,Y.jsxs)(Tp.h,{children:[(0,Y.jsxs)(Yc.z,{backgroundColor:null===(t=m.coverArt)||void 0===t||null===(t=t.extractedColors)||void 0===t?void 0:t.colorRaw.hex,children:[(0,Y.jsx)(Qc.b,{images:null===(s=m.coverArt)||void 0===s?void 0:s.sources,fallback:(0,Y.jsx)(Vc.I,{size:"xxlarge"})}),(0,Y.jsx)($c.m,{children:m.name}),(0,Y.jsx)(Av,{name:I.profile.name,uri:I.uri,images:null===(n=I.visuals.avatarImage)||void 0===n?void 0:n.sources}),(0,Y.jsxs)(Wc.l,{children:[(0,Y.jsx)(eR,{year:null===(a=m.date)||void 0===a?void 0:a.year,totalCount:m.tracksV2.totalCount,durationMs:k.milliseconds,isEstimate:k.isEstimate}),(0,Y.jsxs)(zc.z,{children:[(0,Y.jsx)(Zf,{uri:c}),(0,Y.jsx)(Kc.P,{uri:c}),(0,Y.jsx)(Ku.e,{uri:c,header:{title:m.name,subtitle:I.profile.name,backgroundImage:(0,zu.g)(null===(o=m.coverArt)||void 0===o?void 0:o.sources,64)}})]}),(0,Y.jsx)(fv.q,{onClick:T,isPlaying:N,disabled:0===m.tracksV2.totalCount,isOnDemand:f})]})]}),(0,Y.jsxs)(Bc.A,{children:[f?(0,Y.jsx)(aR,{isAnonymous:_,isOnDemand:f,contextURI:m.uri,currentTrackURI:R,album:m,onRowClick:x,shouldDisableRow:C,onContextMenuClick:A}):(0,Y.jsx)(tR,{items:m.tracksV2.items.filter(Ui).map((e=>e.track))}),b?(0,Y.jsx)(lR,{uri:c,artistName:I.profile.name}):(0,Y.jsx)(Y.Fragment,{}),(0,Y.jsx)(rR,{copyright:null==m?void 0:m.copyright.items})]}),(0,Y.jsx)(xp.h,{})]})},cR=e=>{var t;return!(null===(t=e.playback)||void 0===t||null===(t=t.current)||void 0===t||!t.paused)},uR=e=>{var t;return null===(t=e.playback)||void 0===t||null===(t=t.current)||void 0===t||null===(t=t.track_window)||void 0===t||null===(t=t.current_track)||void 0===t?void 0:t.uri},pR="zUeHx5Wth4dCT8AnSKZ2",mR="Gc59yuDLJWTc2ghPCqNG",hR="HskdQlF4aPBVSu6vZQf7",_R="zoVqFIBaM9pAPXLnEfCY",yR="asAGCceDzqi7tElU3KDh",bR="icLZHx_B6PawjKwPQ6JN",gR="_B0xem4hGrvD6UTUPD8H",fR="Fpgv7dXZ9Wt_LDkRGHuN",vR="DD4GA5Z1QCskWu_ICJLo",ER="whCbpErjcis4kOUrCAuC",wR="AXqebQodsMJzw6_7BpEP",SR="BqdAGiR2dUHN4QqjnsTA",RR="c1iC5021Gb2vDc1Dka9H";function TR(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=(0,Ze.gHQ)(e),a=function(e){const t=new Date;return!!e&&Math.floor(t.getTime()-Date.parse(e))<6048e5}(t),o=function(e,t){return!!e||!!t&&t>3e5}(n,s);return i&&a&&!o}const AR=H.memo((function(e){let{className:t,label:s}=e;const n=s||c.Ru.get("type.newEpisode");return(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(lr.Z,{label:n,children:(0,Y.jsx)("span",{className:rr()(RR,t),"aria-label":n})}),s]})})),xR="sBMYG9Tv0jj_aiLMhC6G",CR="oNPKMGKlBv221aQ7CTDW",IR=H.memo((e=>{var t;let{episode:s,useVideoThumbnail:n=!1}=e;const i=(0,H.useMemo)((()=>{var e;if("ImageV2"===(null===(e=s.videoPreviewThumbnail)||void 0===e||null===(e=e.imagePreview)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.__typename))return(0,zu.y)(s.videoPreviewThumbnail.imagePreview.data.sources,Cu.Qe.SIZE_88)}),[s]);return(0,Y.jsx)("div",{className:xR,"data-testid":"episode-block-image",children:n?(0,Y.jsx)(Gc._,{className:CR,imageWidth:"larger-5",src:i,placeholderIcon:Fc.L,borderRadius:"base",title:s.name,"data-testid":"episode-thumbnail-image"}):(0,Y.jsx)(Dg,{type:Ti.c.EPISODE,size:Cu.Qe.SIZE_48,title:s.name,shape:Og.ROUNDED_CORNERS,images:null===(t=s.coverArt)||void 0===t?void 0:t.sources})})})),kR="activation-trigger-mme",NR=H.memo((e=>{var t,s,n;let{index:a,podcast:o,episode:r,currentTrackUri:l,isPlaying:d,playbackPosition:c}=e;const u=(0,ar.s9)(),p=(0,i.wA)(),m=r.playedState.playPositionMilliseconds,h=l===r.uri,_=r.playedState.state===Xi._w.Completed,y=r.playability.playable,b=r.duration.totalMilliseconds,g=(0,Bu.R)(r.playability),f=null===(t=r.mediaTypes)||void 0===t?void 0:t.includes(Xi.Cx.Video),{setUpsellMetadata:v}=Sp(),E=r.releaseDate,w=h?c:void 0,S=(0,fr.Zp)(),R=h&&d,T=(null===(s=(0,Ze.o_h)(r.uri))||void 0===s?void 0:s.toURLPath(!0))??"",A=TR(r.uri,null==E?void 0:E.isoString,m,_),x=u.get("tracklist.a11y.play",r.name,o.name),C=u.get("tracklist.a11y.pause",r.name,o.name),I=(0,br.W)(),{setUpsellMetadata:k}=gp(),N=(0,H.useMemo)((()=>{var e,t;const{badges:s}=UE({contentRating:null===(e=r.contentRating)||void 0===e?void 0:e.label}),n=(null===(t=r.restrictions)||void 0===t?void 0:t.paywallContent)&&g;return(0,Y.jsxs)(Y.Fragment,{children:[s.explicit&&(0,Y.jsx)(nu,{}),s.nineteen&&(0,Y.jsx)(QE,{}),n&&(0,Y.jsx)(pS,{})]})}),[r,g]),P=(0,H.useCallback)((e=>{let{children:t}=e;return(0,Y.jsx)(Fu,{id:`${kR}${r.uri}`,deferredLinkUri:(0,Ze.o_h)(r.uri),triggerOptions:Vu(u),children:t})}),[r,u]),L=(0,H.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),I({type:"click",intent:"navigate",itemIdSuffix:"track-list/card"}),S(T)}),[T,S,I]),[j,O]=(0,H.useState)(!1),D=(0,H.useCallback)((e=>{if(e.stopPropagation(),O(!0),r.type!==Xi.I_.Episode){if(g){var t;const e=(0,yc.O1)(r.podcastV2.data)?r.podcastV2.data:o;Ge(null===(t=e.accessInfo)||void 0===t?void 0:t.accessExplanation)&&k({episode:r,podcastName:e.name,podcastAccessUrl:e.accessInfo.accessExplanation.url})}else f&&v({episode:r,show:o,listenAction:()=>{p(Ic("show-view",r,o,{hasLockedContent:g}))}});p(Ic("show-view",r,o,{hasLockedContent:g,isVideoSignifier:f}))}else ur.set((()=>({triggerId:`${kR}${r.uri}`,triggerAction:null})))}),[r,f,o,g,p,k,v]),M=(0,i.d4)((e=>{let{playback:t}=e;return null==t?void 0:t.isBuffering})),U=(0,i.d4)((e=>{var t;let{playback:s}=e;return null==s||null===(t=s.current)||void 0===t||null===(t=t.track_window)||void 0===t||null===(t=t.current_track)||void 0===t?void 0:t.uri}));(0,H.useEffect)((()=>{j&&U===r.uri&&!M&&O(!1)}),[U,r.uri,M,j]);return(0,Y.jsxs)("div",{className:rr()(pR,{[mR]:h}),"data-testid":`episode-${a}`,onClick:L,children:[Oe(r)&&(0,Y.jsx)(IR,{episode:r,useVideoThumbnail:f}),(0,Y.jsx)("div",{className:vR,children:(0,Y.jsx)("div",{className:_R,children:(0,Y.jsx)(fc.N_,{to:T,onClick:L,children:(0,Y.jsxs)(tr.E,{as:"h4",variant:"bodyMedium",className:hR,"data-testid":"episodeTitle",children:[A&&(0,Y.jsx)(AR,{}),r.name]})})})}),(0,Y.jsx)("div",{className:ER,children:(0,Y.jsx)(tr.E,{as:"p",variant:"bodySmall",className:yR,children:r.description??""})}),(0,Y.jsxs)("div",{className:bR,children:[(0,Y.jsx)("div",{className:gR,children:N}),(0,Y.jsx)(xu,{isPlaying:R,fullyPlayed:_,durationMs:b,releaseDate:E,resumePositionMs:m,position:h?w:void 0,compactVariant:!0})]}),(0,Y.jsxs)("div",{onClick:e=>{e.stopPropagation()},className:fR,"data-testid":"action-buttons",children:[(0,Y.jsx)(Uu,{uri:r.uri}),(0,Y.jsx)(Kc.P,{uri:r.uri}),(0,Y.jsx)(Ku.e,{className:SR,uri:r.uri,header:{title:r.name,subtitle:o.name,backgroundImage:(0,zu.g)(null===(n=r.coverArt)||void 0===n?void 0:n.sources,64)},isAudiobook:Le(r)})]}),(0,Y.jsx)("div",{className:wR,children:(0,Y.jsx)(P,{children:(0,Y.jsx)(Hu.R,{size:"small",version:Hu.H.secondary,onClick:D,isPlaying:R,disabled:!y&&!g,locked:g,ariaPlayLabel:x,ariaPauseLabel:C,isLoading:M&&j})})})]})})),PR="qQhx9B4sHuzP__b8fx8l",LR="bDPoZI5G616yCuWjwhQ5",jR="bUHWkd_7Xz2LpuBOBsCb",OR=()=>{const[e,t]=(0,H.useState)(!1);return{limit:e?50:12,defaultLimitReinstated:e,reinstateDefaultLimit:t}};var DR=s(28761);const MR=e=>{let{podcast:t}=e;const s=(0,H.useRef)(null),n=(0,ar.s9)(),a=(0,i.d4)(uR),o=!(0,i.d4)(cR),[r,l]=(0,H.useState)(0),[d,c]=(0,H.useState)(!0),u=(e=>Ue(e.pages)?e.pages.items.map((e=>{let{entity:{data:t}}=e;return t})).filter(Oe):[])(t),{limit:p,defaultLimitReinstated:m,reinstateDefaultLimit:h}=OR();(0,H.useEffect)((()=>{const e=Bn.subscribe("position",l);return()=>{Bn.unsubscribe(e)}}),[]);const _=(0,i.wA)(),y=Ue(t.pages)?t.pages.pagingInfo.nextOffset:null,b=(0,V_.YQ)((()=>{null!==y&&_(kc(t.uri,{offset:y,limit:p}))}),500);return(0,H.useEffect)((()=>{m||h(!0)}),[m,h]),u.length?(0,Y.jsxs)("div",{ref:s,style:{"--placeholder-image":`url(${(0,og.bj)("images/mwp-episodelist-placeholder.png")})`},children:[(0,Y.jsx)(Ww._,{onReachBottom:d?void 0:b,children:u.map(((e,s)=>(0,Y.jsxs)("div",{children:[(0,Y.jsx)("hr",{className:PR,"aria-hidden":!0}),(0,Y.jsx)(NR,{index:s,podcast:t,episode:e,currentTrackUri:a,isPlaying:o,playbackPosition:a===e.uri?r:void 0})]},s)))}),d&&(0,Y.jsx)("div",{className:LR,children:(0,Y.jsxs)(DR.v,{onClick:()=>{b(),d&&c(!1)},className:jR,children:[(0,Y.jsx)(tr.E,{variant:"bodySmall",children:n.get("internal-link-recommender.load-more-episodes")}),(0,Y.jsx)(gc.V,{size:"xsmall"})]})})]}):null},UR="cSxpV1kp8s5tDuFHpXqa",BR="xaeg80UilPbCGJwvuqlq",GR="fxq8aYefmAUWdpCjvhGy",FR="eVyMJCF8Tv_CYj_PneTb",VR="TPY2kGXzOVsTcBq2Ibgp";var HR=s(47117);const YR=e=>{let{children:t}=e;return(0,Y.jsx)("div",{className:qf.A.titleAndSubtitleWrapper,"data-testid":"entity-header-title-and-subtitle-section",children:t})},KR="RJ2ghlVZbMebiellbSza",zR=e=>{let{reason:t}=e;const s=(0,ar.s9)(),n=(0,d.NC)(W.DX),i=function(e,t){switch(t){case"OTP":return e.get("podcasts.subscriber-indicator.otp");case"SUBSCRIPTION":return e.get("podcasts.subscriber-indicator.subscription");default:return""}}(s,t);return n&&i?(0,Y.jsx)(tr.E,{variant:"marginal",className:KR,children:i}):null};var WR=s(16601);const qR="QYhCzOuzmVDxvotcebTz",QR="rztt5d643qy3WfyZjbfY";var $R=s(84812);const ZR="_yl4tOZxcpoUt28k6B8I",XR="lcJflizNrSwDM9yPNk6h",JR="ret7iHkCxcJvsZU14oPY",eT=e=>{var t,s,n,i,a,o;let{rating:r,className:l,onClick:d}=e;if(!r)return null;const u=Boolean(null===(t=r.rating)||void 0===t?void 0:t.rating),p=c.Ru.formatNumber((null===(s=r.averageRating)||void 0===s?void 0:s.average)??0,{maximumFractionDigits:1}),m=c.Ru.formatNumberCompact(Number((null===(n=r.averageRating)||void 0===n?void 0:n.totalRatings)??0)),h=null!==(i=r.averageRating)&&void 0!==i&&i.showAverage?c.Ru.get("web-player.audiobooks.rating.ratingButton",{averageStars:c.Ru.get("web-player.audiobooks.rating.ratingButtonStars",p),totalRatings:c.Ru.get("web-player.audiobooks.rating.ratingButtonRatings",m)}):c.Ru.get("web-player.audiobooks.noRating");return(0,Y.jsxs)("button",{className:rr()(ZR,l),onClick:d,"aria-label":h,children:[(0,Y.jsx)(tr.E,{dir:"auto",variant:"bodySmallBold",children:null!==(a=r.averageRating)&&void 0!==a&&a.showAverage?p:c.Ru.get("web-player.audiobooks.noRating")}),u?(0,Y.jsx)(Xw.j,{size:"small",className:rr()(XR)}):(0,Y.jsx)($R.a,{size:"small",className:rr()(XR)}),(null===(o=r.averageRating)||void 0===o?void 0:o.showAverage)&&(0,Y.jsxs)(tr.E,{variant:"bodySmall",className:rr()(JR),children:["(",m,")"]})]})},tT=e=>{let{rating:t,topics:s,uri:n,showOrAudiobook:a}=e;const o=(0,br.W)(),r=(0,i.wA)(),l=(0,fr.Zp)();return(0,Y.jsxs)("div",{className:qR,"data-testid":"rating-and-topics",children:[(0,Y.jsx)(eT,{rating:t,onClick:()=>{r(an(Re.RATING,n)),o({type:"click",intent:"navigate",itemIdSuffix:`${a}/rating`})}}),(0,Y.jsx)(WR.I,{"aria-label":"Topics",mode:"navigation",className:QR,children:s.map((e=>(0,Y.jsx)(DR.v,{as:"button",onClick:()=>{var t;const s=(null===(t=(0,Ze.o_h)(e.uri))||void 0===t?void 0:t.toURLPath(!0))??"";s&&(o({type:"click",intent:"navigate",itemIdSuffix:`${a}/topic`}),l(s))},children:e.title},e.uri)))})]})};var sT=s(25165);const nT=e=>{let{sources:t,name:s,uri:n,disabled:i,loading:a,publisher:o}=e;return n?(0,Y.jsx)(dp.Z,{disabled:i,children:(0,Y.jsxs)(Mc.N,{to:n,children:[(0,Y.jsx)(cp.M,{sources:t,loading:a,Placeholder:(0,Y.jsx)(pp.s,{title:s,type:Ti.c.SHOW})}),(0,Y.jsx)(up.Z,{className:lp.A.twoLineTitle,children:s}),o&&(0,Y.jsx)(sT.v,{children:o})]})}):null},iT=e=>{let{title:t,uri:s}=e;const n=(0,i.wA)(),a=(0,i.d4)((e=>{var t;return null===(t=e.internalLinkRecommender)||void 0===t?void 0:t.shows})),{data:o,status:r,uri:l}=a,d=r===vs.LOADING;return(0,H.useEffect)((()=>{l&&l===s||n(function(e){return{type:ss,uri:e}}(s))}),[n,l,s]),o&&0!==(null==o?void 0:o.length)?d?(0,Y.jsx)(np,{}):(0,Y.jsx)(Zu.$,{title:t,children:o.map((e=>{var t,s;return je(e)?(0,Y.jsx)(nT,{uri:e.uri,publisher:(null===(t=e.publisher)||void 0===t?void 0:t.name)||"",name:e.name,sources:null===(s=e.coverArt)||void 0===s?void 0:s.sources},e.uri):(0,Y.jsx)(H.Fragment,{})}))}):null},aT=e=>(0,Y.jsx)(rp.tH,{onError:()=>{(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"mwp-ilr-component-error",value:1,tags:{entityType:Ti.c.SHOW,componentType:"shelf"}})},fallback:(0,Y.jsx)(Y.Fragment,{}),children:(0,Y.jsx)(iT,{...e})}),oT="yKMDkkvaY80URmLQ9CIS",rT="qOUupNVumeZNOn6c1BuC",lT="W8KFcWDM7VI64df0f02F",dT="Up2kXijlttYggMOR8j0H",cT="nNPaVBo9JHOng4miGg8A",uT="oYgwjIFw64tzlqga7BCC",pT="Sa3BW_56dh2LQU2un6tt",mT="t8BgSRxn1J4BAvFOIQcw",hT="Wuj8QX6EEgV8aZnxEyxA",_T="pvwrqS2ZMl1a6Lzeo9jG",yT="HWuOXEaXAGmEIpowcFVe";let bT=function(e){return e.SMALL="small",e.LARGE="large",e}({});const gT=e=>{let{images:t,title:s,contentRating:n,duration:i,moreButton:a,onClick:o,onContextMenu:r,onTouchStart:l,onTouchEnd:d,isPlaying:c,isActive:u,size:p,className:m,label:h,isPlayable:_=!0}=e;const y=p===bT.LARGE?"medium":"small",{badges:b}=UE({contentRating:n});return(0,Y.jsxs)("div",{"data-testid":"trailer-component",className:rr()(oT,m,{[rT]:u}),onContextMenu:r,onTouchStart:l,onTouchEnd:d,children:[(0,Y.jsxs)("div",{className:dT,children:[(0,Y.jsxs)("div",{className:mT,children:[(0,Y.jsx)(Dg,{type:Ti.c.EPISODE,title:s,className:rr()(pT,{[yT]:p===bT.SMALL,[_T]:p===bT.LARGE}),size:Cu.Qe.SIZE_56,images:t,shape:Og.ROUNDED_CORNERS}),(0,Y.jsx)("div",{className:hT,children:(0,Y.jsx)(Hu.R,{"data-testid":"trailer-play-button",version:Hu.H.transparent,size:y,isPlaying:c,onClick:o,disabled:!_})})]}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)("div",{className:cT,children:(0,Y.jsx)(tr.E,{dir:"auto",className:lT,variant:"bodyMedium",children:s})}),(0,Y.jsxs)("div",{className:uT,children:[(0,Y.jsx)(su,{text:h}),b.explicit&&(0,Y.jsx)(nu,{}),b.nineteen&&(0,Y.jsx)(QE,{}),(0,Y.jsx)(tr.E,{dir:"auto",variant:"bodySmall",children:(0,Y.jsx)(Ru,{durationMs:i,displaySeconds:!1})})]})]})]}),a]})},fT=e=>{var t,s,n,a,o;let{show:r}=e;const l=(0,i.wA)(),d=(0,ar.s9)(),c=(0,i.d4)((e=>e.playback)),u=null==r?void 0:r.trailerV2,p=null==u?void 0:u.data;if(!Oe(m=p)&&!De(m))return null;var m;const h=null==c||null===(t=c.current)||void 0===t||null===(t=t.track_window)||void 0===t||null===(t=t.current_track)||void 0===t?void 0:t.uri,_=null==c||null===(s=c.current)||void 0===s?void 0:s.paused,y=h===p.uri,b=Boolean(y&&!_),g=null!==(n=p.coverArt)&&void 0!==n&&n.sources?(0,Hc.X)(null===(a=p.coverArt)||void 0===a?void 0:a.sources):[];return(0,Y.jsx)(gT,{images:g,title:p.name,duration:p.duration.totalMilliseconds,moreButton:(0,Y.jsx)(Ku.e,{uri:p.uri,header:{title:p.name,subtitle:r.name,backgroundImage:(0,zu.g)(g,64)},condensedAll:!0}),onClick:()=>{l(Ic("show-view",p,r))},isPlaying:b,isActive:y,size:bT.SMALL,label:d.get("track-trailer"),contentRating:null===(o=p.contentRating)||void 0===o?void 0:o.label})},vT=e=>{var t,s,n,i;const a=(0,ar.s9)(),{uri:o,show:r}=e,l=(0,br.W)(),d={title:r.name,subtitle:null===(t=r.publisher)||void 0===t?void 0:t.name,images:(0,Hc.X)((null===(s=r.coverArt)||void 0===s?void 0:s.sources)??[]),type:Zc.c.SHOW},c=null!=(u=null==r||null===(n=r.accessInfo)||void 0===n?void 0:n.unlockedBy)&&u.length?u.some((e=>e&&[Xi.UG.OapOtp,Xi.UG.AudiobookDirectSales].includes(e)))?"OTP":u.some((e=>e&&[Xi.UG.OapLinking,Xi.UG.AnchorPaywall].includes(e)))?"SUBSCRIPTION":"OTHER":null;var u;const p=!!Ue(null==r?void 0:r.pages)&&Boolean(r.pages.totalCount),{hex:m="#000000"}=(null===(i=r.coverArt)||void 0===i||null===(i=i.extractedColors)||void 0===i?void 0:i.colorLight)??{},h=(0,zu.g)(d.images,64);(0,$u.n)({visible:!0,title:d.title,backgroundColor:m});return(0,qu.r)((0,Qu.hV)({showOrAudiobookName:r.name,type:"Podcast"})),(0,Y.jsxs)(Tp.h,{testId:"podcast-entity-view",children:[(0,Y.jsxs)(Yc.z,{backgroundColor:m,children:[(0,Y.jsxs)(qc.r,{direction:"row",children:[(0,Y.jsx)(Qc.b,{images:d.images,fallback:(0,Y.jsx)(Vc.I,{size:"xxlarge"}),fadeImageBetween:[50,175],testid:"entity-header-entity-image",roundedCorners:!0,condensed:!0,size:Cu.Qe.SIZE_112}),(0,Y.jsxs)(YR,{children:[c&&(0,Y.jsx)(zR,{reason:c}),(0,Y.jsx)($c.m,{testId:"showTitle",children:d.title}),d.subtitle&&(0,Y.jsx)(xv.$,{testId:"entity-header-entity-subtitle",children:d.subtitle})]})]}),(0,Y.jsx)(Wc.l,{condensed:!0,children:(0,Y.jsxs)(zc.z,{className:UR,children:[(0,Y.jsx)(HR.$,{uri:o,className:BR}),(0,Y.jsx)(Kc.P,{uri:o}),(0,Y.jsx)(Ku.e,{uri:o,header:{title:d.title,subtitle:d.subtitle,backgroundImage:h},testId:"show-view-more-icon"})]})})]}),(0,Y.jsxs)(Bc.A,{children:[(0,Y.jsxs)("div",{className:FR,children:[r.description&&(0,Y.jsx)(bc.N,{className:GR,content:r.description,onExpanded:()=>{l({type:"click",intent:"expand-description"})},maxLines:5}),(0,Y.jsx)(tT,{rating:r.rating,topics:r.topics.items,uri:r.uri,showOrAudiobook:"show"}),(0,Y.jsx)(fT,{show:r}),p&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(tr.E,{variant:"bodyMediumBold",as:"h2",className:VR,children:a.get("mwp.podcast.all.episodes")}),(0,Y.jsx)(MR,{podcast:r})]})]}),(0,Y.jsx)(aT,{title:a.get("internal-link-recommender.more-podcasts-like-this"),uri:o})]}),(0,Y.jsx)(xp.h,{})]})},ET=e=>{let{type:t,releaseDate:s,timezone:n}=e;const i=(0,ar.s9)();return(0,Y.jsxs)(xv.$,{testId:"prerelease-bullet-metadata",children:[(0,Y.jsx)(tr.E,{variant:"bodySmall",children:(()=>{switch(t){case Zc.c.ALBUM:return i.get("album");case Zc.c.AUDIOBOOK:return i.get("mwp.audiobook");default:return""}})()}),s&&(0,Y.jsx)(tr.E,{variant:"bodySmall",children:i.get("mobile-web-player.views.prerelease.releases_on",i.formatDate(new Date(s),ou({month:"long",day:"numeric",year:"numeric",timeZone:n??void 0})))})]})},wT="e1D_lysESsEq1l2HC_w2",ST="rAIFrDW9VKAeE6_WWzw2",RT="X5sPOQfOVS4kitY3MUEE",TT="s3Ht1pHqjuCznUkIC6Uh",AT="H1fQog5G67QIrKmUTz7s",xT=e=>{let{uri:t}=e;const s=(0,ar.s9)();return(0,Y.jsx)("div",{className:AT,"data-testid":"prerelease-presave-button",children:(0,Y.jsx)(Mu.h,{uri:t,inLibraryComponent:e=>(0,Y.jsx)(Qg.n,{size:"small",iconTrailing:Ou.k,"aria-pressed":"false",onClick:e,children:s.get("mobile-web-player.views.prerelease.presaved.button")}),notInLibraryComponent:e=>(0,Y.jsx)(ir.$,{size:"small",iconTrailing:Du.P,"aria-pressed":"true",onClick:e,children:s.get("mobile-web-player.views.prerelease.presave.button")})})})};var CT=s(20431);const IT=e=>{const t=new Date;return new Date(e).getTime()-t.getTime()},kT=e=>{let{releaseDate:t,onCountDownEnds:s}=e;const[n,i]=(0,H.useState)(IT(t));return(0,H.useEffect)((()=>{const e=setInterval((()=>{const n=IT(t);n<=0?(null==s||s(),clearInterval(e)):i(n)}),1e3);return()=>clearInterval(e)}),[t,s]),(e=>e<=0?{days:0,hours:0,minutes:0,seconds:0}:{days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/6e4%60),seconds:Math.floor(e/1e3%60)})(n)},NT="mlEakLeaQwOCn6CkuQlW",PT="zXfnbe1UxvkVitHFeo0B",LT="WHZVI_PX48YQjMdhmyX3",jT=e=>{let{releaseDate:t,onCountDownEnds:s}=e;const{days:n,hours:i,minutes:a,seconds:o}=kT({releaseDate:t,onCountDownEnds:s}),r=(0,ar.s9)();return(0,Y.jsxs)(CT.a,{variant:"tinted",borderRadius:"larger-3",className:NT,"data-testid":"prerelease-countdown",children:[(0,Y.jsxs)("div",{className:rr()(PT,LT),children:[(0,Y.jsx)(tr.E,{variant:"titleMedium",children:n}),(0,Y.jsx)(tr.E,{variant:"marginal",color:"textSubdued",children:r.get("mobile-web-player.views.prerelease.days",n)})]}),(0,Y.jsxs)("div",{className:rr()(PT,LT),children:[(0,Y.jsx)(tr.E,{variant:"titleMedium",children:i}),(0,Y.jsx)(tr.E,{variant:"marginal",color:"textSubdued",children:r.get("mobile-web-player.views.prerelease.hours",i)})]}),(0,Y.jsxs)("div",{className:rr()(PT,LT),children:[(0,Y.jsx)(tr.E,{variant:"titleMedium",children:a}),(0,Y.jsx)(tr.E,{variant:"marginal",color:"textSubdued",children:r.get("mobile-web-player.views.prerelease.minutes",a)})]}),(0,Y.jsxs)("div",{className:PT,children:[(0,Y.jsx)(tr.E,{variant:"titleMedium",children:o}),(0,Y.jsx)(tr.E,{variant:"marginal",color:"textSubdued",children:r.get("mobile-web-player.views.prerelease.seconds",o)})]})]})},OT=e=>{var t,s,n,a;let{prerelease:o}=e;const r=(0,ar.s9)(),l=null===(t=o.preReleaseEndDateTime)||void 0===t?void 0:t.isoString,{badges:d}=UE({contentRatingV2:o.contentRatingV2}),{limit:c}=OR(),u=(0,i.wA)();return(0,Y.jsxs)(Yc.z,{backgroundColor:null===(s=o.coverArt)||void 0===s||null===(s=s.extractedColors)||void 0===s?void 0:s.colorDark.hex,"data-testid":"audiobook-prerelease-header",children:[(0,Y.jsx)(Qc.b,{images:null===(n=o.coverArt)||void 0===n?void 0:n.sources,fallback:(0,Y.jsx)(Ff.l,{size:"xxlarge"}),fadeImageBetween:[50,175],size:Cu.Qe.SIZE_232}),(0,Y.jsx)(DS.m,{testId:"audiobook-prerelease-title",small:!0,children:null==o?void 0:o.name}),(0,Y.jsx)(gS,{testId:"audiobook-prerelease-description",children:(0,Y.jsx)(tr.E,{variant:"bodySmallBold",semanticColor:"textBase",children:Fw(o.authorsV2,r.getSeparator())})}),(0,Y.jsxs)(Wc.l,{children:[(0,Y.jsxs)("div",{className:wT,"data-testid":"audiobook-prerelease-more-info",children:[d.explicit&&(0,Y.jsx)(nu,{}),d.nineteen&&(0,Y.jsx)(QE,{size:16}),(0,Y.jsx)(ET,{type:Zc.c.AUDIOBOOK,releaseDate:l??""})]}),(0,Y.jsxs)(zc.z,{className:ST,children:[(0,Y.jsx)(Kc.P,{uri:o.uri,condensedAll:!0}),(0,Y.jsx)(Ku.e,{condensedAll:!0,className:RT,testId:"prerelease-context-menu-button",uri:o.uri,header:{title:(null==o?void 0:o.name)??"",backgroundImage:null==o||null===(a=o.coverArt)||void 0===a||null===(a=a.sources[0])||void 0===a?void 0:a.url},isAudiobook:!0})]}),(0,Y.jsx)(xT,{uri:o.uri})]}),l&&(0,Y.jsx)("div",{className:TT,children:(0,Y.jsx)(jT,{releaseDate:l,onCountDownEnds:()=>{u(kc(o.uri,{offset:0,limit:c}))}})})]})},DT="rQo4D7Tz00XHpWd8EKAT",MT="L6epO201ZBrP5Y9xJotv",UT=e=>{let{audiobook:t}=e;const s=(0,ar.s9)(),n=function(e){return((arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])||[]).map((e=>null==e?void 0:e.name)).filter(Boolean).join(e.getSeparator())}(s,t.narrators);return n?(0,Y.jsx)(tr.E,{variant:"bodySmall",semanticColor:"textBase","data-testid":"audiobook-narrators",children:s.get("web-player.audiobooks.narratedByX",n)}):null},BT=e=>{let{audiobook:t}=e;const s=(0,ar.s9)(),{publishDate:n,duration:i,authorsV2:a,htmlDescriptionPlain:o,isPreRelease:r}=t,l=(0,br.W)(),d=Fw(a,s.getSeparator())??"",c=i&&hu(i.totalMilliseconds),u=c&&mu({h:c.hours,m:c.minutes},s.getSeparator()),p=n&&s.formatDate(new Date(n.isoString),{year:"numeric",month:"short",day:"numeric"}),m=`\n    ${o}\n    <p>\n      ${s.get("audiobook.search.with_author_name",d)}<br />\n      ${u&&`${s.get("audiobook.length",u)}<br />`}\n      ${p&&`${r?s.get("mobile-web-player.views.prerelease.releases_on",p):s.get("audiobook.released",p)}<br />`}\n    </p>\n  `;return(0,Y.jsxs)("div",{className:DT,children:[(0,Y.jsx)(UT,{audiobook:t}),(0,Y.jsx)(bc.N,{maxLines:5,className:MT,content:m,htmlContent:m,onExpanded:()=>l({type:"click",intent:"expand-description"})})]})},GT=e=>{var t,s,n,a,o,r;let{audiobook:l}=e;const d=(0,ar.s9)(),c=(0,br.W)(),u=(0,i.wA)(),p=null==l||null===(t=l.trailerV2)||void 0===t?void 0:t.data,m=(0,i.d4)((e=>{var t;let{playback:s}=e;return null==s||null===(t=s.current)||void 0===t||null===(t=t.track_window)||void 0===t||null===(t=t.current_track)||void 0===t?void 0:t.uri})),h=(0,i.d4)((e=>{var t;let{playback:s}=e;return!Boolean(null==s||null===(t=s.current)||void 0===t?void 0:t.paused)})),_=De(null===(s=l.trailerV2)||void 0===s?void 0:s.data)&&(null===(n=l.trailerV2)||void 0===n?void 0:n.data.playability.playable);if("Chapter"!==(null==p?void 0:p.__typename)||!_)return null;const y=m===p.uri;return(0,Y.jsx)(gT,{moreButton:null,images:(null===(a=p.coverArt)||void 0===a?void 0:a.sources)&&(0,Hc.X)(null===(o=p.coverArt)||void 0===o?void 0:o.sources),title:p.name,duration:p.duration.totalMilliseconds,onClick:()=>{u(Ic("show-view",p,l,{isAudiobookSample:!0})),c({type:"click",intent:"play",itemIdSuffix:"audiobook/trailer/play"})},isPlaying:y&&h,isActive:y,size:bT.SMALL,label:d.get("audiobook.page.sample"),contentRating:null===(r=p.contentRating)||void 0===r?void 0:r.label})},FT=e=>{var t;let{audiobook:s}=e;return(0,Y.jsxs)("div",{"data-testid":"audiobook-copyright",children:[s.publisher&&(0,Y.jsxs)(tr.E,{as:"p",semanticColor:"textSubdued",children:["Ⓟ ",null===(t=s.publisher)||void 0===t?void 0:t.name]}),Boolean(s.copyrights.items.length)&&(0,Y.jsxs)(tr.E,{as:"p",semanticColor:"textSubdued",children:["©"," ",s.copyrights.items.reduce(((e,t)=>""===e?`${t.text}`:`${e}, ${t.text}`),"")]})]})},VT="MKg6_yEbFt1Tgea8Gt7M",HT=e=>{var t;let{prerelease:s}=e;return(0,$u.n)({visible:!0,title:null==s?void 0:s.name,backgroundColor:null==s||null===(t=s.coverArt)||void 0===t||null===(t=t.extractedColors)||void 0===t?void 0:t.colorDark.hex}),(0,Y.jsxs)(Tp.h,{testId:"audiobook-prerelease-entity-view",children:[(0,Y.jsx)(OT,{prerelease:s}),(0,Y.jsx)(Bc.A,{children:(0,Y.jsxs)("div",{className:VT,children:[(0,Y.jsx)(BT,{audiobook:s}),(0,Y.jsx)(tT,{rating:s.rating,topics:s.topics.items,uri:s.uri,showOrAudiobook:"audiobook"}),(0,Y.jsx)(GT,{audiobook:s}),(0,Y.jsx)(FT,{audiobook:s})]})}),(0,Y.jsx)(xp.h,{})]})},YT=e=>{let{prerelease:t}=e;const s=(0,br.W)(),n=t.uri;return(0,H.useEffect)((()=>{s({type:"view",intent:"view",targetUri:n,itemIdSuffix:"audiobook-prerelease"})}),[s,n]),(0,Y.jsx)(Sr.p,{value:"audiobook-prerelease",children:(0,Y.jsx)(HT,{prerelease:t})})},KT="BXP02uzhT3tA5umUZOEY",zT="IFB_zGtfjqpaHLHMUsP9",WT="hiDrpPN5sTCbj9BPanr3",qT="aqUusTCZuVQioHnHxLR3",QT="d_oxVN8jTc3HAjo5m91Y",$T="kijgofPxR6kU0BKzLIBo",ZT=e=>{let{price:t}=e;const s=(0,ar.s9)();if(null==t||!t.finalPrice)return null;const{finalListPrice:n,finalPrice:i}=t;return(e=>{var t,s;return 0===(null===(t=e.finalPrice)||void 0===t?void 0:t.amount)&&0===(null===(s=e.finalListPrice)||void 0===s?void 0:s.amount)})(t)?(0,Y.jsx)(tr.E,{variant:"bodyMedium",semanticColor:"textBase",as:"p",className:QT,children:s.get("audiobook.freePriceDescription")}):(0,Y.jsxs)("div",{className:QT,children:[(0,Y.jsx)(tr.E,{variant:"titleSmall",semanticColor:"textBase",children:null==i?void 0:i.formattedPrice}),n&&i.amount<n.amount&&(0,Y.jsx)(tr.E,{variant:"bodySmall",semanticColor:"textSubdued",className:$T,children:null==n?void 0:n.formattedPrice})]})};function XT(){const e=(0,ar.s9)(),t=(0,i.wA)(),{pathname:s}=(0,fr.zy)(),[n,a]=(0,H.useState)(!1);(0,H.useEffect)((()=>{a(!1)}),[s]);const o=()=>{a(!1),t((0,Di.cc)(e.get("error.generic")))};return{createCheckoutSession:e=>(a(!0),function(e,t){const s="undefined"!=typeof window&&window.navigator&&window.navigator.platform||"";let n=null;return-1!==s.indexOf("Mac")?n="OSX":-1!==s.indexOf("Win")?n="Win32":-1!==s.indexOf("Linux")&&(n="Linux"),e.build().withMethod("POST").withHost(j.RQ).withPath("/CheckoutBook").withoutMarket().withBody(JSON.stringify(t)).withEndpointIdentifier("show/{showId}").withHeaders([{key:"App-Platform",value:n??"Browser"}]).send()}(new nl.t,e).then((e=>{const{body:{redirectToUrl:t}}=e;window.location=t,a(!1)})).catch(o)),onError:o,isLoading:n}}const JT="Y9s9Ni6gTI2hNpvQkAJZ";function eA(e){var t;return e.session.isAnonymous?"DE"===e.session.country:"DE"===(null===(t=e.session.me)||void 0===t||null===(t=t.account)||void 0===t?void 0:t.country)}function tA(e){var t;let{hasLockedContent:s,isShowPlaying:n,uri:a,isAnonymous:o,price:r,isConsumptionCapped:l}=e;const d=(0,ar.s9)(),c=function(e,t){const s=(0,i.d4)((e=>{var t;return null===(t=e.playback.current)||void 0===t?void 0:t.context.uri}));return(0,Xf.$n)({uri:e,playbackContextUri:s,isOnDemand:!0,hasLockedContent:t})}(a,s),p=(0,br.W)(),m=null==r||null===(t=r.finalPrice)||void 0===t?void 0:t.formattedPrice;!function(e,t,s){const n=(0,br.W)();(0,H.useEffect)((()=>{t&&s&&n({type:"view",intent:"mobile-web-locked-audiobook",targetUri:e,itemIdSuffix:`audiobook/price/${s}`})}),[n,e,t,s])}(a,s,m);const{createCheckoutSession:h,isLoading:_,onError:y}=XT(),{dispatch:b}=U_(),g=(0,i.d4)((e=>e.entities)),f=(0,i.d4)(eA)?d.get("mobile-web-player.locales.audiobooks.unlock"):d.get("mobile-web-player.locales.audiobooks.buy"),v=g.items[a],E=null==v?void 0:v.accessInfo;if(l)return(0,Y.jsx)("div",{className:JT,children:(0,Y.jsx)(Hu.R,{onClick:()=>{p({type:"click",intent:"audiobook-consumption-cap-overlay-show",itemIdSuffix:"audiobook/play"}),E&&b({type:"SHOW_DIALOG",context:a,data:E})},size:"medium",isPlaying:n})});if(s){var w;const e=0===(null==r||null===(w=r.finalPrice)||void 0===w?void 0:w.amount),t=e?"audiobook-get":"audiobook-buy";return(0,Y.jsx)("div",{className:JT,children:(0,Y.jsx)(ir.$,{"data-testid":"play-button",disabled:_,onClick:async()=>{p({type:"click",intent:t,targetUri:a,itemIdSuffix:"audiobook/buy"}),(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"audiobook-buy",value:1}),o?c():null!=r&&r.finalPrice?await h({show_uri:a,currency:r.finalPrice.currency,price:r.finalPrice.amount}):y()},children:e?d.get("mobile-web-player.locales.audiobooks.buyFree"):f})})}return(0,Y.jsx)("div",{className:JT,children:(0,Y.jsx)(Hu.R,{onClick:async e=>{e.preventDefault(),p({type:"click",intent:"play",itemIdSuffix:"audiobook/play"}),c()},size:"medium",isPlaying:n})})}const sA=e=>{let{children:t}=e;return(0,Y.jsx)("div",{className:qf.A.entityHeaderMetadata,children:t})},nA=e=>{var t;let{audiobook:s}=e;const n=(0,ar.s9)();return(0,Y.jsxs)(qc.r,{direction:"row",children:[(0,Y.jsx)(Qc.b,{roundedCorners:!0,images:null===(t=s.coverArt)||void 0===t?void 0:t.sources,fallback:(0,Y.jsx)(Ff.l,{size:"xxlarge"}),fadeImageBetween:[50,175],testid:"audiobook-entity-header-entity-image"}),(0,Y.jsxs)(YR,{children:[(0,Y.jsx)(DS.m,{testId:"showTitle",small:!0,children:s.name}),(0,Y.jsx)(xv.$,{testId:"entity-audiobook-entity-subtitle",children:Fw(s.authorsV2,n.getSeparator())})]})]})},iA=e=>{var t,s,n,a;let{audiobook:o}=e;const r=(0,ar.s9)(),{price:l,uri:d,publishDate:c,contentRatingV2:u,duration:p}=o,m=(0,i.d4)((e=>{let{session:t}=e;return Boolean(t.isAnonymous)})),h=(0,i.d4)((e=>{var t;let{playback:s}=e;return!Boolean(null==s||null===(t=s.current)||void 0===t?void 0:t.paused)})),_=(0,i.d4)((e=>{var t;let{playback:s}=e;return null==s||null===(t=s.current)||void 0===t?void 0:t.context.uri})),y=(null===(t=o.accessInfo)||void 0===t||null===(t=t.signifier)||void 0===t?void 0:t.text)??void 0,b=!(null!==(s=o.accessInfo)&&void 0!==s&&s.isUserMemberOfAtLeastOneGroup),g="ConsumptionCappedAccessExplanation"===(null===(n=o.accessInfo)||void 0===n||null===(n=n.accessExplanation)||void 0===n?void 0:n.__typename),{badges:f}=UE({contentRatingV2:u}),v=p&&hu(p.totalMilliseconds);return(0,Y.jsxs)(Wc.l,{children:[(0,Y.jsx)(sA,{children:(0,Y.jsx)("div",{className:zT,children:(0,Y.jsxs)(tr.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",className:WT,children:[f.explicit&&(0,Y.jsx)(nu,{}),f.nineteen&&(0,Y.jsx)(QE,{size:16}),(0,Y.jsxs)(tr.E,{className:qT,children:[c&&(0,Y.jsx)(tr.E,{children:r.formatDate(new Date(c.isoString),null)}),v&&(0,Y.jsx)(tr.E,{children:mu({h:v.hours,m:v.minutes,s:v.seconds})})]})]})})}),(0,Y.jsxs)(zc.z,{children:[(0,Y.jsx)(Uu,{uri:d}),(0,Y.jsx)(Kc.P,{uri:d}),(0,Y.jsx)(Ku.e,{uri:d,header:{title:o.name,backgroundImage:(0,zu.g)(null===(a=o.coverArt)||void 0===a?void 0:a.sources,64)},isAudiobook:!0})]}),(0,Y.jsx)(tA,{price:l,hasLockedContent:b,isShowPlaying:_===o.uri&&h,isAnonymous:m,uri:d,isConsumptionCapped:g}),b&&!y&&(0,Y.jsx)(ZT,{price:l}),y&&(0,Y.jsx)(tr.E,{variant:"bodySmall",semanticColor:"textBrightAccent",children:y})]})},aA=e=>{let{audiobook:t,backgroundColor:s}=e;return(0,Y.jsxs)(Yc.z,{backgroundColor:s,"data-testid":"audiobook-entity-header",children:[(0,Y.jsx)(nA,{audiobook:t}),(0,Y.jsx)(iA,{audiobook:t})]})};var oA=s(74836);const rA="tbPnjqeS45worqV9tkbi",lA="_n_xaCwTzIy6bV7hSpNe",dA="AfsMFsEEb6cZ9lqDl0w8",cA="vpOeJQIUaLjnUeXXhzbC",uA="B5naCgCbNHNjDCoz4yCF",pA="M9XIv6gs10mJ8UJU4rWL",mA=()=>{const e=(0,cl.o)(ul.P.SimilarAudiobooksComponent,(0,fr.zy)()),t=(0,d.NC)(W.VW)===W.IY.Enabled;return e||t},hA=e=>!e.playability.playable&&e.playability.reason===Xi.$c.PaymentRequired,_A=e=>{var t;const{badges:s}=UE({contentRating:null===(t=e.contentRating)||void 0===t?void 0:t.label});return(0,Y.jsxs)(Y.Fragment,{children:[s.explicit&&(0,Y.jsx)(nu,{}),s.nineteen&&(0,Y.jsx)(QE,{size:16})]})},yA=e=>{let{audiobook:t}=e;const s=(0,ar.s9)(),n=(0,i.wA)(),a=(0,br.W)(),o=(0,i.d4)((e=>{let{playback:t}=e;return t.isBuffering})),r=(0,i.d4)((e=>uR(e))),l=(0,i.d4)((e=>{var t;return(null===(t=e.playback.current)||void 0===t?void 0:t.position)??0})),d=(0,i.d4)((e=>cR(e))),c=(e=>{var t;if(!Be(e.pages))return[];const s="Chapter"===(null===(t=e.trailerV2)||void 0===t?void 0:t.data.__typename)?e.trailerV2.data.id:null;return e.pages.items.map((e=>{let{entity:{data:t}}=e;return t})).filter(De).filter((e=>e.id!==s))})(t),u=Be(t.pages)?t.pages.pagingInfo.nextOffset:null,p=(0,H.useRef)(null),{dispatch:m}=U_(),[h,_]=(0,H.useState)(!1),y=mA(),[b,g]=(0,H.useState)(!0),f=h&&b,v=(0,H.useCallback)((e=>{var s;if((0,Ve.KX)(null===(s=t.accessInfo)||void 0===s?void 0:s.accessExplanation))return a({type:"click",intent:"audiobook-consumption-cap-overlay-show",itemIdSuffix:"audiobook/chapter/play"}),void m({type:"SHOW_DIALOG",context:t.uri,data:t.accessInfo});a({type:"click",intent:"play",itemIdSuffix:"audiobook/chapter/play"}),n(Ic("show-view",e,t))}),[t,a,n,m]);(0,H.useEffect)((()=>{y&&_(!0)}),[y,_]),(0,H.useEffect)((()=>{c.length<12&&!u&&g(!1)}),[c,g,u]);const E=(0,V_.YQ)((()=>{null!==u&&n(kc(t.uri,{offset:u,limit:50}))}),500);return c.length?(0,Y.jsxs)("div",{ref:p,"data-testid":"audiobook-chapter-list",children:[(0,Y.jsx)(Ww._,{triggerOnInitialLoad:!1,onReachBottom:f?void 0:E,children:c.map(((e,n)=>{var i;return(0,Y.jsxs)("div",{children:[(0,Y.jsx)("hr",{className:dA,"aria-hidden":!0}),(0,Y.jsx)($w.v,{className:rA,paddingInlineStart:"0",paddingInlineEnd:"0",title:(0,Y.jsx)(oA.d,{semanticColor:r===e.uri?"textBrightAccent":void 0,children:e.name}),isRedundantOnClick:!0,size:"lg",id:e.uri,hoverBackgroundColor:"backgroundBase",onClick:()=>v(e),onClickHint:s.get("playback-control.play"),body:(0,Y.jsxs)("div",{className:cA,children:[_A(e),(0,Y.jsx)(xu,{isPlaying:r===e.uri&&!d,fullyPlayed:e.playedState.state===Xi._w.Completed,durationMs:(null===(i=e.duration)||void 0===i?void 0:i.totalMilliseconds)??0,resumePositionMs:e.playedState.playPositionMilliseconds,position:r===e.uri?l:void 0})]}),footer:(0,Y.jsx)("div",{className:lA}),trailing:(0,Y.jsx)(Hu.R,{size:"small",version:Hu.H.secondary,onClick:t=>{t.stopPropagation(),v(e)},isPlaying:r===e.uri&&!d,disabled:!e.playability.playable,locked:hA(e),ariaPlayLabel:s.get("tracklist.a11y.play",e.name,t.name),ariaPauseLabel:s.get("tracklist.a11y.pause",e.name,t.name),isLoading:r===e.uri&&o})})]},`${e.uri}/${n}`)}))}),f&&(0,Y.jsx)("div",{className:uA,children:(0,Y.jsxs)(DR.v,{onClick:()=>{E(),h&&_(!1)},className:pA,children:[(0,Y.jsx)(tr.E,{variant:"bodySmall",children:s.get("similar-audiobooks.load-more-chapters")}),(0,Y.jsx)(gc.V,{size:"xsmall"})]})})]}):null},bA=e=>{let{sources:t,name:s,uri:n,disabled:i,loading:a,author:o}=e;return n?(0,Y.jsx)(dp.Z,{disabled:i,children:(0,Y.jsxs)(Mc.N,{to:n,children:[(0,Y.jsx)(cp.M,{sources:t,loading:a,Placeholder:(0,Y.jsx)(pp.s,{title:s,type:Ti.c.AUDIOBOOK})}),(0,Y.jsx)(up.Z,{className:lp.A.twoLineTitle,children:s}),o&&(0,Y.jsx)(sT.v,{children:o})]})}):null};const gA=e=>{let{title:t,uri:s}=e;const n=(0,i.wA)(),a=(0,i.d4)((e=>{var t;return null===(t=e.internalLinkRecommender)||void 0===t?void 0:t.similarAudiobooks})),{data:o,status:r,uri:l}=a,u=r===vs.LOADING,p=(e=>{const t=(0,ip.V)(),s=(0,i.d4)((e=>{var t;return null===(t=e.session.me)||void 0===t||null===(t=t.profile)||void 0===t?void 0:t.id})),n=(0,i.d4)((e=>e.session.country)),a=(0,d.NC)(W.VW);return(0,Wd.DO)((()=>{const i={category:"audiobook_more_like_this_component_visible",action:"component_visible",variant:a,label:"mwp",os:(0,ap.f)(),context:e,country:s?n:"",sp_t:(0,F.v8)("sp_t")};return t?(0,Br.r)(i):(0,Ur._)(i)}))})(s),{ref:m,inView:h}=(0,Wh.Wx)({threshold:1});return(0,H.useEffect)((()=>{h&&p()}),[h,p]),(0,H.useEffect)((()=>{l&&l===s||n(function(e){return{type:hs,uri:e}}(s))}),[n,l,s]),o&&0!==(null==o?void 0:o.length)?u?(0,Y.jsx)(np,{}):(0,Y.jsx)(Zu.$,{title:t,ref:m,children:o.map((e=>{var t,s;return(0,Y.jsx)(bA,{uri:e.uri,author:(s=e.authorsV2,s.map((e=>null==e?void 0:e.name)).join(c.Ru.getSeparator())??""),name:e.name,sources:null===(t=e.coverArt)||void 0===t?void 0:t.sources},e.uri)}))}):null},fA=e=>(0,Y.jsx)(rp.tH,{onError:()=>{(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"mwp-ilr-component-error",value:1,tags:{entityType:Ti.c.AUDIOBOOK,componentType:"shelf"}})},fallback:(0,Y.jsx)(Y.Fragment,{}),children:(0,Y.jsx)(gA,{...e})}),vA=e=>{var t;let{audiobook:s}=e;const n=null===(t=s.coverArt)||void 0===t||null===(t=t.extractedColors)||void 0===t?void 0:t.colorLight.hex,a=mA(),o=(0,ar.s9)(),r=(0,i.d4)((e=>{let{session:t}=e;return t.country})),l=(0,i.d4)((e=>{let{session:t}=e;return t.isAnonymous}));return(0,qu.r)((0,Qu.hV)({showOrAudiobookName:s.name,type:"Audiobook"})),(0,$u.n)({visible:!0,title:s.name,backgroundColor:n}),(e=>{let{category:t,action:s,remoteConfigProperty:n,defaultVariant:i,label:a,context:o,country:r,spt:l=!1,isAnonymous:c=!1,isFirstRender:u,setIsFirstRender:p}=e;const m=(0,d.NC)(n),h=(0,Wd.DO)((()=>{const e={category:t,action:s,variant:i??m,label:a,os:Kr(),...o&&{context:o},...r&&{country:r},...l&&{sp_t:(0,F.v8)("sp_t")}};return c?(0,Br.r)(e):(0,Ur._)(e)}));(0,H.useEffect)((()=>{m&&a&&u&&(h(),p&&p(!1))}),[m,a,h,u,p])})({category:"audiobook_show_page_exposure",action:"audiobook_show_page_visit",remoteConfigProperty:W.VW,label:"mwp",context:s.uri,country:r,isAnonymous:l,isFirstRender:!0}),(0,Y.jsxs)(Tp.h,{testId:"audiobook-entity-view",children:[(0,Y.jsx)(aA,{audiobook:s,backgroundColor:n}),(0,Y.jsx)(Bc.A,{children:(0,Y.jsxs)("div",{className:KT,children:[(0,Y.jsx)(BT,{audiobook:s}),(0,Y.jsx)(tT,{rating:s.rating,topics:s.topics.items,uri:s.uri,showOrAudiobook:"audiobook"}),(0,Y.jsx)(GT,{audiobook:s}),(0,Y.jsx)(yA,{audiobook:s}),a&&(0,Y.jsx)(fA,{title:o.get("similar-audiobooks.more-audiobooks-like-this"),uri:s.uri}),(0,Y.jsx)(FT,{audiobook:s})]})})]})},EA=()=>{const e=(0,i.wA)(),{limit:t}=OR(),{showId:s=""}=(0,fr.g)(),n=(0,gr.Mc)(s).toURI(),a=(0,i.d4)((e=>e.entities.items[n])),[o,r]=(0,H.useState)(!Np());return(0,H.useEffect)((()=>{a?a&&o&&r(!1):(e(kc(n,{offset:0,limit:t})),r(!1))}),[e,n,a,t,o]),o||!Fe(a)?(0,Y.jsx)(Ap.c,{"data-testid":"entity-loading-state"}):Le(a)?a.isPreRelease?(0,Y.jsx)(YT,{prerelease:a}):(0,Y.jsx)(vA,{audiobook:a}):(0,Y.jsx)(vT,{show:a,uri:n})};var wA=s(2752),SA=s(86048);const RA="kuaEGWoWGq0S9QqNdvJo",TA="pygMn2clY4N50X5huOIA",AA="SSDnU0NW3WZDccM1Gyxf",xA="xhb3In2fU1juvx4nw1Py",CA="hQ6OTfV_id9v2AGuAFO2",IA="Ya2RuShUvifFp1aPXdIz",kA=e=>(0,Y.jsx)("svg",{width:e.iconSize,height:e.iconSize,viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 0C21.0532 0 22.0879 0.278738 23 0.808199L38 9.51508C38.6081 9.86805 39.113 10.3757 39.4641 10.9871C39.8151 11.5984 40 12.2919 40 12.9978V39.9892C40 40.5225 39.7893 41.0339 39.4142 41.411C39.0391 41.7882 38.5304 42 38 42H26H14H2C1.46957 42 0.960859 41.7882 0.585786 41.411C0.210714 41.0339 0 40.5225 0 39.9892V12.9978C1.78369e-05 12.2919 0.184851 11.5984 0.535924 10.9871C0.886996 10.3757 1.39194 9.86805 2 9.51508L17 0.808199C17.9121 0.278738 18.9468 0 20 0ZM29.2728 14.7624H12.9091V27.5589H11.2728C10.5176 27.5589 9.77939 27.7841 9.15149 28.2059C8.52359 28.6277 8.03421 29.2273 7.74522 29.9287C7.45623 30.6302 7.38062 31.402 7.52794 32.1467C7.67527 32.8914 8.03891 33.5754 8.5729 34.1123C9.10688 34.6491 9.78721 35.0148 10.5279 35.1629C11.2685 35.311 12.0362 35.235 12.7339 34.9444C13.4316 34.6539 14.0279 34.1618 14.4475 33.5305C14.867 32.8992 15.0909 32.157 15.0909 31.3978V16.956H27.0909V27.5589H25.4546C24.6994 27.5589 23.9612 27.7841 23.3333 28.2059C22.7054 28.6277 22.216 29.2273 21.927 29.9287C21.638 30.6302 21.5624 31.402 21.7098 32.1467C21.8571 32.8914 22.2207 33.5754 22.7547 34.1123C23.2887 34.6491 23.969 35.0148 24.7097 35.1629C25.4503 35.311 26.2181 35.235 26.9157 34.9444C27.6134 34.6539 28.2097 34.1618 28.6293 33.5305C29.0488 32.8992 29.2728 32.157 29.2728 31.3978V14.7624Z",fill:"currentColor"})}),NA=(e,t)=>c.Ru.formatDate(t,{weekday:"short"}),PA=(e,t)=>c.Ru.formatDate(t,{hour:"numeric",minute:"numeric",hour12:!0}),LA=(e,t)=>c.Ru.formatDate(t,{month:"short"}),jA=(e,t)=>c.Ru.formatDate(t,{day:"numeric"}),OA=e=>Object.keys(e).length>0,DA=e=>{let{concerts:t}=e;return(0,Y.jsx)("div",{children:(0,Y.jsx)("div",{className:xA,children:t.map((e=>{var t;const[s]=e.artists.items,n=(i=null==s?void 0:s.data)&&"uri"in i?s.data:void 0;var i;const[a]=(null==n||null===(t=n.visuals.avatarImage)||void 0===t?void 0:t.sources)??[],o=new Date(e.startDateIsoString);return(0,Y.jsx)(Mc.N,{to:e.uri,children:(0,Y.jsx)($w.v,{id:e.uri,title:(0,Y.jsx)(dS.o,{isActiveRow:!1,title:e.title}),subtitle:[NA(c.Ru,o),PA(c.Ru,o)].join(c.Ru.getSeparator()),variant:"naked",media:(0,Y.jsxs)("div",{className:CA,children:[a&&(0,Y.jsx)(mh._,{loading:"lazy",src:a.url,alt:e.title}),(0,Y.jsxs)("time",{dateTime:e.startDateIsoString,children:[(0,Y.jsx)(tr.E,{variant:"bodySmall",children:LA(c.Ru,o)}),(0,Y.jsx)(tr.E,{variant:"bodyMediumBold",children:jA(c.Ru,o)})]})]})})},e.uri)}))})})};var MA=s(28061);const UA=e=>(0,Y.jsxs)("div",{className:IA,children:[(0,Y.jsx)(MA.t,{}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)(tr.E,{variant:"bodyMediumBold",as:"div",children:e.name}),(0,Y.jsxs)(tr.E,{semanticColor:"textSubdued",children:[" ",[e.address.city,e.address.country].join(c.Ru.getSeparator())]})]})]}),BA="Fl9aCKLsebT09sA3K6uM",GA=e=>{let{concepts:t}=e;const s=(0,fr.Zp)(),n=t.filter(ol.V5);return(0,Y.jsx)("div",{style:{"--background-base":"transparent"},children:(0,Y.jsx)(WR.I,{mode:"navigation","aria-label":c.Ru.get("card.tag.genre"),className:BA,children:n.map((e=>{var t;const n=`/concerts/genre/${null===(t=(0,Ze.o_h)(e.data.uri))||void 0===t?void 0:t.id}-${e.data.name.replaceAll(" ","-")}`;return(0,Y.jsx)(DR.v,{onClick:e=>{e.preventDefault(),s(n)},href:n,children:e.data.name},e.data.uri)}))})})},FA=()=>{const e=(0,d.NC)($p.eh),t=(0,ar.s9)(),{venueId:s=""}=(0,fr.g)(),n=(0,Ze.unu)(s).toURI(),a=(0,i.wA)(),o=(0,i.d4)((e=>e.entities.items[n])),r=(l=o)&&"__typename"in l&&"Venue"===(null==l?void 0:l.__typename)?o:void 0;var l;const{pathname:c}=(0,fr.zy)();(0,$u.n)({visible:!0,title:null==r?void 0:r.name,backgroundColor:Yb.Ql9});const u=!!r;if((0,H.useEffect)((()=>{u||a((0,Di.iI)(n))}),[a,n,u]),(0,qu.r)((0,Qu.nU)({venueName:null==r?void 0:r.name})),!r)return(0,Y.jsx)(Ap.c,{});const p=r.concepts.items.filter(ol.V5);return(0,Y.jsxs)(Tp.h,{children:[(0,Y.jsxs)(Yc.z,{backgroundColor:Yb.Hhe,children:[(0,Y.jsxs)("div",{className:RA,children:[(0,Y.jsx)("div",{className:TA,children:(0,Y.jsx)(Qc.b,{images:void 0,fallback:(0,Y.jsx)(kA,{iconSize:48}),circular:!0,size:Cu.Qe.SIZE_96})}),(0,Y.jsx)("div",{children:(0,Y.jsx)(DS.m,{children:r.name})})]}),(0,Y.jsx)(Wc.l,{children:(0,Y.jsxs)(sA,{children:[(0,Y.jsxs)(xv.$,{children:[(0,Y.jsx)(tr.E,{children:t.get("tracklist.header.venue")}),(0,Y.jsx)(tr.E,{children:[r.address.city,r.address.country].join(t.getSeparator())})]}),e&&(0,Y.jsx)(GA,{concepts:p})]})})]}),(0,Y.jsxs)(Bc.A,{children:[(0,Y.jsx)("div",{className:AA,children:(0,Y.jsxs)(wA.w,{"aria-label":"Venue",children:[(0,Y.jsx)(SA.V,{label:t.get("live_events.overview_tab"),value:"overview",as:e=>(0,Y.jsx)(fc.N_,{to:`/venue/${s}`,...e}),"aria-selected":!c.includes("concerts")}),(0,Y.jsx)(SA.V,{as:e=>(0,Y.jsx)(fc.N_,{to:`/venue/${s}/concerts`,...e}),label:t.get("live_events.all_events_tab"),value:"all events","aria-selected":c.includes("concerts")})]})}),(0,Y.jsxs)(fr.BV,{children:[(0,Y.jsx)(fr.qh,{path:"/",element:(0,Y.jsx)(UA,{...r})}),(0,Y.jsx)(fr.qh,{path:"/concerts",element:(0,Y.jsx)(Y.Fragment,{children:r.concerts.items&&(0,Y.jsx)(DA,{concerts:r.concerts.items.map((e=>e.data)).filter(OA)})})})]})]})]})},VA=(e,t)=>t.formatDate(e,{year:"numeric",month:"numeric",day:"numeric"}),HA=(e,t)=>t.formatDate(e,{hour:"numeric",minute:"numeric"});var YA=s(46320),KA=s(32537);const zA=(0,H.memo)((e=>{const{geonameId:t,locationName:s}=e,[n,i]=(0,H.useState)(!1),a=`https://concerts.spotifycdn.com/feed_city_images_1/${t}.jpg`;return(0,H.useEffect)((()=>{const e=()=>{i(!0)},t=()=>{i(!1)},s=new Image;return s.addEventListener("load",e),s.addEventListener("error",t),s.src=a,()=>{s.removeEventListener("load",e),s.removeEventListener("error",t)}}),[a]),(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsxs)("div",{className:KA.A.cityEnhancement,children:[n&&(0,Y.jsx)(Gc._,{src:a,className:KA.A.cityImage,circle:!0,imageHeight:"56px",imageWidth:"56px"}),(0,Y.jsx)("div",{children:(0,Y.jsxs)(tr.E,{variant:"bodyMedium",semanticColor:"textSubdued",as:"p",children:[c.Ru.get("live_events.city_info_find_tickets",s)," ",c.Ru.get("live_events.city_info_view_details")]})})]})})}));var WA=s(84182),qA=s(83462);const QA={root:"wLSCoZ7aoICQZ0fzv3g8",vhidden:"S05IfV225Z8FILZ3mQMa",button_reset:"cco7F6WhTbhxHeug6YoA",button:"ZGg6FNL0H9cS3nUAfLQ0",day_selected:"t9ewYfbFdhcAOBjG69Bs",month:"IsxQ_myOpzgYuecXGyRu",table:"p0Ua_NOVylYfmEZWjhTs",with_weeknumber:"D7ABjvDOfMxFM87PZPT7",caption:"nWt5GOotQnPyHeojviRz",multiple_months:"H8XQ6lx4ZaZ3lk6_XgdW",caption_dropdowns:"FJPLqm3zeDQUnMaDhGGB",caption_label:"lKxOvWMaWLqqrAoNyJR8",nav:"ZJJlOgUyFXyzsjlQkZNn",caption_start:"cRmbo8kRBBLOGwSFistR",caption_end:"iA7oEPX5zodIUuZKAhAu",nav_button:"tuA23WX0UsEydKsYpWKQ",dropdown_year:"dVWkxho4h0jZbi5jj2Ek",dropdown_month:"aDA57W5l8RjIwdAdhP4C",dropdown:"pLJRpsDbCcxSZbP_vrAC",dropdown_icon:"AgGN77XCaI05Dkc_OmKw",head:"TBq6LhJ4c5qITRHE2WR3",head_cell:"i6ddD9vwAex5aHq9qPDj",tbody:"KSN5ehMEdZVYYk466x6i",tfoot:"A4SjHlPjVfwhgOssc7p1",cell:"fY_8NMquXIL5OTXEgslj",weeknumber:"mnv76s_Zfo_eNPkH1b7o",day:"lH4Cier9D4XwJwaDOqnA",day_today:"TtsfX0aTTJiqY1ymYUve",day_outside:"YpURFIFBi2QVtLdBtThA",day_range_end:"o2u2mu_Xr0eoNeXQifoT",day_range_start:"e8_G77eWBynb_2CAjBP3"};var $A=s(70043),ZA=s(67017),XA=s(91985),JA=s(3091),ex=s(17176),tx=s(6924),sx=s(72653),nx=s(94222),ix=s(96644),ax=s(87584),ox=s(63514),rx=s(16856),lx=s(54869),dx=s(96132),cx=s(24808),ux=s(47613),px=s(2283),mx=s(88593),hx=s(56708),_x=s(64416),yx=s(79494),bx=s(38408),gx=s(62224),fx=s(63240),vx=s(45523),Ex=s(10632),wx=s(54701),Sx=s(80675),Rx=s(72861),Tx=s(76804),Ax=s(55128),xx=s(53406),Cx=s(15643),Ix=s(1467),kx=s(24428),Nx=s(48199),Px=s(61845),Lx=s(83536),jx=s(70756),Ox=s(63855),Dx=s(1103),Mx=s(96344),Ux=s(38903),Bx=s(17530),Gx=s(33140),Fx=s(64741),Vx=s(71418),Hx=s(44135),Yx=s(6729),Kx=s(32409),zx=s(67031),Wx=s(98045),qx=s(86111),Qx=s(11554),$x=s(61753),Zx=s(87318),Xx=s(89949),Jx=s(22180),eC=s(85428);const tC={af:$A.af,am:ZA.c,ar:XA.ar,arEG:JA.m,arMA:ex.E,arSA:tx.G,az:sx.az,bg:nx.bg,bn:ix.bn,bho:ZA.c,bs:ax.bs,ca:ox.ca,cs:rx.cs,da:lx.da,de:dx.de,el:cx.el,en:ZA.c,enGB:ux.b,es419:px.es,es:px.es,esAR:px.es,esMX:px.es,et:mx.et,eu:hx.eu,fa:_x.$,fi:yx.fi,fil:ZA.c,frCA:bx.V,fr:gx.fr,gl:fx.gl,gu:vx.gu,he:Ex.he,hi:wx.hi,hr:Sx.hr,hu:Rx.hu,id:Tx.id,is:Ax.is,it:xx.it,ja:Cx.ja,kn:Ix.kn,ko:kx.ko,lt:Nx.lt,lv:Px.lv,mk:Lx.mk,ml:ZA.c,mr:ZA.c,ms:jx.ms,nb:Ox.nb,ne:ZA.c,nl:Dx.nl,or:ZA.c,paIN:ZA.c,paPK:ZA.c,pl:Mx.pl,ptBR:Ux.F,ptPT:Bx.pt,ro:Gx.ro,ru:Fx.ru,sk:Vx.sk,sl:Hx.sl,sr:Yx.sr,sv:Kx.sv,sw:ZA.c,ta:zx.ta,te:Wx.te,th:qx.th,tr:Qx.tr,uk:$x.uk,ur:ZA.c,vi:Zx.vi,zhCN:Xx.g,zhHK:Jx.a,zhTW:eC.G,zu:ZA.c},sC=e=>(e=>Object.keys(tC).includes(e))(e)?tC[e]:ZA.c,nC=e=>{const t=(0,ar.s9)(),s={formatCaption:e=>t.formatDate(e,{month:"long",year:"numeric"}),formatDay:e=>t.formatDate(e,{day:"numeric"}),formatWeekdayName:e=>t.formatDate(e,{weekday:"short"})},{onSelectDateRange:n,onClickCancel:i,dateRange:a}=e,[o,r]=(0,H.useState)(a),l=new Date,d=(0,YA.f7)(l),c=(0,YA.oh)(l),u=(0,YA.I7)(o,d),p=(0,YA.I7)(o,c),m=new Date;return m.setFullYear(m.getFullYear()+1),(0,Y.jsxs)("div",{className:rr()(KA.A.overlay,KA.A.locationSelector,"encore-dark-theme"),children:[(0,Y.jsxs)("div",{className:KA.A.dateModalHeader,children:[(0,Y.jsx)(nr.H,{semanticColor:"textBase",iconOnly:qA.G,onClick:i,"aria-label":t.get("navbar.go-back")}),(0,Y.jsx)(tr.E,{as:"h3",variant:"bodyMediumBold",children:t.get("live_events.date_picker_dialog_title")})]}),(0,Y.jsxs)("div",{className:KA.A.dateModalFilterChipContainer,children:[(0,Y.jsx)(DR.v,{className:KA.A.dateModalFilterChip,size:"sm",selectedColorSet:"brightAccent",selected:u,onClick:()=>{r(u?void 0:d)},children:t.get("live_events.this_weekend_preset")}),(0,Y.jsx)(DR.v,{className:KA.A.dateModalFilterChip,size:"sm",selectedColorSet:"brightAccent",selected:p,onClick:()=>{r(p?void 0:c)},children:t.get("live_events.next_weekend_preset")})]}),(0,Y.jsx)(WA.hv,{mode:"range",selected:o,onSelect:r,numberOfMonths:1,defaultMonth:null==o?void 0:o.from,fromDate:new Date,toDate:m,formatters:s,classNames:QA,locale:sC(t.getLocaleForFormatting())}),(0,Y.jsxs)("div",{className:KA.A.dateModalButtons,children:[(0,Y.jsx)(nr.H,{size:"medium",onClick:()=>{r(void 0)},disabled:!(null!=o&&o.from),children:t.get("live_events.date_picker_dialog_clear")}),(0,Y.jsx)(ir.$,{size:"medium",onClick:()=>{if(null!=o&&o.from){const{from:e,to:t}=o;n({from:e,to:t||e})}else n()},children:t.get("live_events.date_picker_dialog_done")})]})]})},iC=(0,H.memo)((e=>{const{show:t,onClickCancel:s,onSelectDateRange:n,dateRange:i}=e;return(0,Y.jsx)(ff.K,{selector:"body",children:(0,Y.jsx)(Wm.A,{timeout:200,classNames:{enter:KA.A.overlayEnter,enterActive:KA.A.overlayEnterActive,exit:KA.A.overlayExit,exitActive:KA.A.overlayExitActive},in:t,unmountOnExit:!0,children:(0,Y.jsx)(nC,{onClickCancel:s,onSelectDateRange:n,dateRange:i})})})}));var aC=s(9461),oC=s(12058);const rC={month:"short",day:"numeric"},lC=e=>{const t=(0,ar.s9)(),s=(0,ip.V)(),{location:n,onClickChangeLocation:i,onClickChangeDateRange:a,onClickChangeGenre:o,dateRange:r,genre:l}=e;return(0,Y.jsxs)("div",{children:[(0,Y.jsx)(Yc.z,{backgroundColor:yh.Hhe,children:(0,Y.jsx)("div",{className:KA.A.headerTitle,children:(0,Y.jsx)(tr.E,{as:"h1",variant:"titleMedium",children:s&&n?t.get("live_events.location_concert_tickets",n):t.get("live_events.label")})})}),(0,Y.jsxs)("div",{className:KA.A.headerFilters,children:[(0,Y.jsxs)(DR.v,{onClick:i,children:[(0,Y.jsx)(MA.t,{iconSize:16,className:KA.A.locationButtonIcon}),n]}),(0,Y.jsxs)(DR.v,{onClick:a,selectedColorSet:"brightAccent",selected:!!r,children:[(0,Y.jsx)(aC.R,{iconSize:16,className:KA.A.locationButtonIcon}),r?(e=>{if((0,oC.r)(e.from,e.to))return t.formatDate(e.from,rC);return`${t.formatDate(e.from,rC)} - ${t.formatDate(e.to,rC)}`})(r):t.get("live_events.date_picker_button_text")]}),(0,Y.jsx)(DR.v,{onClick:o,selectedColorSet:"brightAccent",selected:!!l,children:l??t.get("concerts.genres.all_genres")})]})]})};var dC=s(20656),cC=s(45871),uC=s(28924);const pC=e=>{let{concert:t}=e;const s=(0,YA.l4)(t.startDateIsoString);return(0,Y.jsxs)(Mc.N,{to:t.uri,className:KA.A.groupedConcertRow,children:[(0,Y.jsxs)("div",{className:KA.A.groupedConcertCalendar,"aria-hidden":!0,children:[(0,Y.jsx)(tr.E,{as:"div",className:KA.A.groupedConcertCalendarMonth,variant:"marginalBold",children:(0,YA.tj)(c.Ru,s)}),(0,Y.jsx)(tr.E,{as:"div",className:KA.A.groupedConcertCalendarDate,variant:"bodyMediumBold",children:(0,YA.Py)(c.Ru,s)})]}),(0,Y.jsxs)("div",{className:KA.A.groupedConcertInfo,children:[(0,Y.jsx)(tr.E,{as:"div",variant:"bodyMedium",className:KA.A.groupedConcertTitle,children:t.title}),(0,Y.jsx)(cC.s,{children:(0,YA.Fn)(c.Ru,s)}),(0,Y.jsxs)(tr.E,{as:"div",variant:"bodySmall",className:KA.A.groupedConcertWeekdayTimeAndVenue,children:[(0,YA.$p)(c.Ru,s)," · ",t.location.name,","," ",t.location.city]})]})]})},mC=(0,H.memo)((e=>{var t;let{concertGroup:s,locationName:n,onClickCancel:i}=e;if(!s)return null;const a=(0,uC.L)(s),o=a&&(0,uC.gh)(a),[r]=(null==o||null===(t=o.visuals.avatarImage)||void 0===t?void 0:t.sources)||[];return(0,Y.jsxs)("div",{className:KA.A.groupConcert,children:[(0,Y.jsxs)("div",{className:KA.A.artistContainer,children:[(0,Y.jsx)(Gc._,{height:"48",width:"48",className:KA.A.artistImage,src:null==r?void 0:r.url}),(0,Y.jsxs)("div",{className:KA.A.artistInfoContainer,children:[(0,Y.jsx)(tr.E,{as:"h3",variant:"bodyMediumBold",className:KA.A.artistName,children:null==o?void 0:o.profile.name}),(0,Y.jsx)(tr.E,{as:"h3",variant:"bodySmall",className:KA.A.concertsCount,children:`${c.Ru.get("concerts.count_near_location",s.concerts.length,n)}`})]})]}),(0,Y.jsx)("div",{children:s.concerts.map((e=>e.data)).filter(ol.Pp).map((e=>(0,Y.jsx)(pC,{concert:e},e.uri)))}),(0,Y.jsx)(nr.H,{className:KA.A.closeButton,onClick:i,children:(0,Y.jsx)(tr.E,{className:KA.A.closeButtonText,variant:"bodyMedium",children:c.Ru.get("close")})})]})})),hC=e=>{let{concertGroup:t,locationName:s,onClickCancel:n}=e;return(0,Y.jsx)(ff.K,{selector:"body",children:(0,Y.jsx)(Wm.A,{timeout:200,classNames:{enter:KA.A.overlayEnter,enterActive:KA.A.overlayEnterActive,exit:KA.A.overlayExit,exitActive:KA.A.overlayExitActive},in:!!t,unmountOnExit:!0,children:(0,Y.jsx)("div",{className:KA.A.overlay,children:t&&(0,Y.jsx)(mC,{concertGroup:t,locationName:s,onClickCancel:n})})})})};var _C=s(89189);const yC=new Ni.l("concertLocationSearch","query","8b0f452736bbe49583d0e0d384ad3a85c14b6452ade1bb96540d71aa7eb19c61",null),bC=(e,t)=>(0,Pi.I)(yC,e,t),gC=e=>{const t=null==e?void 0:e.match(/(202\d)-([01]\d)-([0-3]\d)/);if(!t)return;const[,s="",n="",i=""]=t;return new Date(parseInt(s,10),parseInt(n,10)-1,parseInt(i,10))},fC=e=>{const t=((e,t)=>{const[s,n]=(0,H.useState)(e);return(0,H.useEffect)((()=>{const s=setTimeout((()=>n(e)),t);return()=>clearTimeout(s)}),[e,t]),s})(e,250),{data:s}=bC({searchQuery:t},{enabled:t.trim().length>1});return{suggestions:(0,ol.Bb)(null==s?void 0:s.concertLocations)&&s.concertLocations?null==s?void 0:s.concertLocations.items:null}},vC=/^(\d+)/;var EC=s(74611);const wC=e=>{const t=(0,ar.s9)(),{onClickCancel:s,onSelectLocation:n}=e,[i,a]=(0,H.useState)(""),{suggestions:o}=fC(i);return(0,Y.jsxs)("div",{className:rr()(KA.A.overlay,KA.A.locationSelector,"encore-dark-theme","encore-layout-themes"),children:[(0,Y.jsx)("div",{className:KA.A.stickyLocationSearchBar,children:(0,Y.jsxs)("div",{className:KA.A.inputAndBackButtonWrapper,children:[(0,Y.jsx)(nr.H,{semanticColor:"textBase",iconOnly:qA.G,onClick:s,"aria-label":t.get("navbar.go-back")}),(0,Y.jsx)(EC.D,{placeholder:t.get("concerts.input.search_placeholder"),onChange:a,value:i,focusOnMount:!0})]})}),(0,Y.jsx)("div",{className:KA.A.locationSelectorResult,children:null!==o&&(0===o.length?(0,Y.jsxs)("div",{className:KA.A.changeLocationError,children:[(0,Y.jsx)(_C.b,{size:"small",className:KA.A.changeLocationErrorIcon}),(0,Y.jsx)(tr.E,{as:"p",children:t.get("concert.error.no_locations_found_subtitle")})]}):(0,Y.jsx)(Y.Fragment,{children:o.map((e=>(0,Y.jsx)(tr.E,{as:"p",className:KA.A.locationSelectorResultRow,onClick:()=>n(e),children:e.fullName},e.geonameId)))}))}),(0,Y.jsx)(nr.H,{className:KA.A.closeButton,onClick:s,children:(0,Y.jsx)(tr.E,{className:KA.A.closeButtonText,variant:"bodyMedium",children:t.get("close")})})]})},SC=e=>{const{show:t,onClickCancel:s,onSelectLocation:n}=e;return(0,Y.jsx)(ff.K,{selector:"body",children:(0,Y.jsx)(Wm.A,{timeout:200,classNames:{enter:KA.A.overlayEnter,enterActive:KA.A.overlayEnterActive,exit:KA.A.overlayExit,exitActive:KA.A.overlayExitActive},in:t,unmountOnExit:!0,children:(0,Y.jsx)(wC,{onClickCancel:s,onSelectLocation:n})})})};var RC=s(44351);const TC=new Ni.l("concertFeed","query","4d5f059c15044b6199daf274f63d7a343b522befd79b67eea21bf5a26ac203a1",null);var AC=s(97492);const xC=e=>{var t;let{geonameId:s,dateRange:n,initialFeed:i,conceptUris:a}=e;const{request:o}=(0,H.useContext)(V.j),[r,l]=(0,H.useState)(!!i);(0,H.useEffect)((()=>{l(!1)}),[]);const d=r&&i?{pages:[{data:{liveEventsFeed:{__typename:"LiveEventsFeed",sections:(null==i?void 0:i.sections)??[]}}}],pageParams:[null]}:void 0,c=(0,RC.q)({queryKey:["concert-feed",s,n,a],queryFn:e=>{let{pageParam:t}=e;return(0,AC.c)(o,TC,{geonameId:s,dateRange:n,paginationKey:t,clientIp:null,conceptUris:a})},initialPageParam:null,enabled:!!s,initialData:d,getNextPageParam:e=>{var t,s;return(0,ol.NY)(null==e||null===(t=e.data)||void 0===t?void 0:t.liveEventsFeed)&&(null===(s=e.data.liveEventsFeed.sections.find(ol.vE))||void 0===s?void 0:s.paginationKey)||null},staleTime:6e4,gcTime:6e4}),{data:u}=c,p=null==u||null===(t=u.pages[u.pages.length-1])||void 0===t||null===(t=t.data)||void 0===t?void 0:t.liveEventsFeed,m=(0,ol.NY)(p)?p.sections.find(ol.Xq):null,h=(e=>{if(!e)return;const t=e.map((e=>{var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.liveEventsFeed})).filter(ol.NY).map((e=>e.sections.find(ol.vE))),s=t.flatMap((e=>null==e?void 0:e.sections)).filter(dC.s).reduce(((e,t)=>e.find((e=>e.key===t.key))?e.map((e=>e.key===t.key?{...e,concerts:e.concerts.concat(t.concerts)}:e)):e.concat(t)),[]).sort(((e,t)=>e.key.localeCompare(t.key)));return{__typename:"AllEvents",paginationKey:t.map((e=>null==e?void 0:e.paginationKey)).pop()??null,sections:s}})(null==u?void 0:u.pages);if(!m&&!h)return{...c,data:null};const _={...p,sections:[...m?[m]:[],...h?[h]:[]]};return{...c,data:_}},CC=new Ni.l("concertConcepts","query","90f5e078b71e5c07910689b1191edbf0fd0d6f68150bb716260e556471df96d5",null),IC=e=>{const{onClickCancel:t,onSelectGenres:s,geohash:n="",defaultConceptUris:i}=e,[a,o]=(0,H.useState)(i),{data:r}=(l={geohash:n},(0,Pi.I)(CC,l,d));var l,d;const u=(0,ol.ID)(null==r?void 0:r.concertConcepts)?r.concertConcepts.items:[];return(0,Y.jsxs)("div",{className:rr()(KA.A.overlay,KA.A.locationSelector,"encore-dark-theme"),children:[(0,Y.jsxs)("div",{className:KA.A.dateModalHeader,children:[(0,Y.jsx)(nr.H,{semanticColor:"textBase",iconOnly:qA.G,onClick:t,"aria-label":c.Ru.get("navbar.go-back")}),(0,Y.jsx)(tr.E,{as:"h3",variant:"titleSmall",children:c.Ru.get("concerts.genres.genres")})]}),(0,Y.jsx)("div",{className:KA.A.genreFilterChipContainer,children:(0,Y.jsx)(WR.I,{mode:"multi-select","aria-label":c.Ru.get("concerts.genres.genres"),layout:"multi-line",children:u.map((e=>(0,Y.jsx)(DR.v,{selectedColorSet:"brightAccent",variant:a.includes(e.data.uri)?"contrasting":"tinted",onClick:()=>o((t=>t.includes(e.data.uri)?t.filter((t=>t!==e.data.uri)):[...t,e.data.uri])),children:e.data.name},e.data.uri)))})}),(0,Y.jsxs)("div",{className:KA.A.genreModalButtons,children:[(0,Y.jsx)(nr.H,{disabled:0===a.length,onClick:()=>o([]),children:c.Ru.get("concerts.genres.clear")}),(0,Y.jsx)(ir.$,{onClick:()=>{const[e]=a,t=u.find((t=>t.data.uri===e));s(a,null==t?void 0:t.data.name)},children:c.Ru.get("concerts.genres.done")})]})]})},kC=(0,H.memo)((e=>{const{show:t}=e;return(0,Y.jsx)(ff.K,{selector:"body",children:(0,Y.jsx)(Wm.A,{timeout:200,classNames:{enter:KA.A.overlayEnter,enterActive:KA.A.overlayEnterActive,exit:KA.A.overlayExit,exitActive:KA.A.overlayExitActive},in:t,unmountOnExit:!0,children:(0,Y.jsx)(IC,{...e})})})})),NC=()=>{const e=(0,ar.s9)(),[t,s]=(0,H.useState)(),[n,a]=(0,fc.ok)(),o=(0,fr.Zp)(),{location:r,id:l}=(0,fr.g)(),d=(0,br.W)(),c=(0,i.d4)((e=>e.concertHub)),{concertFeed:u,location:p}=c,m=(0,ip.V)(),h=(()=>{const{location:e}=(0,fr.g)(),t=(0,i.d4)((e=>e.concertHub.location)),[,s]=(null==e?void 0:e.match(vC))||[];return s||(null==t?void 0:t.geonameId)})(),_=(()=>{var e,t;const[s]=(0,fc.ok)(),n=null===(e=s.get("startDate"))||void 0===e?void 0:e.trim(),i=null===(t=s.get("endDate"))||void 0===t?void 0:t.trim(),a=gC(n),o=gC(i);return a&&o&&{from:a,to:o}})(),y=(()=>{const{id:e}=(0,fr.g)(),[t]=(0,fc.ok)(),s=(e=>{if(!e)return;const t=e.split("-"),[s]=t;return{id:`spotify:concept:${s}`,name:t.reduce(((e,t,s)=>0===s?e:`${e} ${t}`),"").trim()}})(e),n=t.getAll("genres").map((e=>(0,Ze.dDZ)(e).toString())),i=[...new Set(s?[s.id,...n]:n)],a=i.filter((e=>e!==(null==s?void 0:s.id))).length;return{displayName:null!=s&&s.name?[s.name,a>0?`+${a}`:""].join(" ").trim():void 0,conceptUris:i}})(),{data:b,fetchNextPage:g,hasNextPage:f}=xC({geonameId:h??null,dateRange:_?{from:(0,YA.bU)(_.from),to:(0,YA.bU)(_.to)}:null,clientIp:null,initialFeed:u,conceptUris:y.conceptUris}),v=(0,i.wA)();var E;(0,H.useEffect)((()=>{p&&h===p.geonameId||v({type:Fs,data:{isAnonymous:m,geonameId:h}})}),[v,h,m,p]),(0,qu.r)(`Concert Tickets & Tour Dates for you${(E=null==p?void 0:p.name)?` in ${E}`:""} | Spotify`),(0,$u.n)({visible:!0,backgroundColor:yh.Ql9,title:e.get("live_events.label")});return b&&p?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsxs)("section",{className:KA.A.headerWrapper,children:[(0,Y.jsx)(lC,{location:p.name,onClickChangeLocation:()=>{s({type:"locationSelect"})},onClickChangeDateRange:()=>{s({type:"dateRangeSelect"})},onClickChangeGenre:()=>s({type:"genreSelect"}),dateRange:_,genre:y.displayName}),(0,Y.jsxs)("div",{className:KA.A.concertsHubContainer,children:[(0,Y.jsx)(dC.p,{sectionsData:b.sections,location:p,onOpenGroupedEvent:e=>{s({type:"groupConcert",concertGroup:e});const t=(0,uC.L)(e),n=t&&(0,uC.gh)(t);d({type:"click",intent:"open-grouped-live-event",targetUri:null==n?void 0:n.uri})}}),f&&(0,Y.jsx)(Qg.n,{className:KA.A.loadMore,onClick:()=>g(),children:e.get("concerts.load_more")}),(0,Y.jsx)("div",{className:KA.A.disclaimerContainer,children:(0,Y.jsx)(tr.E,{as:"div",className:KA.A.disclaimer,variant:"marginal",semanticColor:"textSubdued",children:e.get("live_events.disclaimer")})}),(null==p?void 0:p.geonameId)&&(0,Y.jsx)(zA,{geonameId:p.geonameId,locationName:p.name})]})]}),(0,Y.jsx)(SC,{show:"locationSelect"===(null==t?void 0:t.type),onClickCancel:()=>s(void 0),onSelectLocation:e=>{s(void 0),d({type:"click",intent:"change-live-events-location"}),e.geonameId&&o({pathname:`${(0,YA.nm)(e.geonameId,e.fullName??void 0)}${l?`/genre/${l}`:""}`,search:`?${n.toString()}`})}}),(0,Y.jsx)(hC,{concertGroup:"groupConcert"===(null==t?void 0:t.type)?t.concertGroup:void 0,locationName:p.name,onClickCancel:()=>s(void 0)}),(0,Y.jsx)(iC,{show:"dateRangeSelect"===(null==t?void 0:t.type),onClickCancel:()=>s(void 0),onSelectDateRange:e=>{const t={};e&&(t.startDate=(0,YA.bU)(e.from),t.endDate=(0,YA.bU)(e.to)),s(void 0),a(t)},dateRange:_}),(0,Y.jsx)(kC,{geohash:p.geoHash,show:"genreSelect"===(null==t?void 0:t.type),defaultConceptUris:y.conceptUris,onClickCancel:()=>s(void 0),onSelectGenres:(e,t)=>{s(void 0),n.delete("genres");const i=["/concerts"];if(r&&i.push(`/location/${r}`),e.length>0){var a;e.forEach((e=>{var t;return n.append("genres",null===(t=(0,Ze.o_h)(e))||void 0===t?void 0:t.id)}));const[s]=e;o({pathname:`${i.join("")}/genre/${null===(a=(0,Ze.o_h)(s))||void 0===a?void 0:a.id}-${null==t?void 0:t.replaceAll(" ","-")}`,search:n.toString()})}else o({pathname:i.join(""),search:n.toString()})}})]}):(0,Y.jsx)(Ap.c,{})},PC="OsQyiaYlcSC_mBpN1_OF",LC="ZX5KjVbmczdjyB92M8Bj",jC="XQ6ZCYfT0z3pycynvpaQ",OC="AfYR7128VW14t3vxQYh3",DC="qKW1WB_why6BHNMsgQqp",MC="FFWgGAHsnszCfuWuK7Cv",UC="IvNW3l1GLEe0Eap4GfgA",BC="_G9BoW7GMhmFbz6DNcXS",GC="AR_VIbYE9lNMlp_y_sGJ",FC="yCo77MJ0uVvsqQZ4QSaA",VC=e=>!!e&&Object.keys(e).includes("concerts"),HC=e=>!!e&&Object.keys(e).includes("uri"),YC="Z9YhF4Ac3hCSZH7AhrbH",KC="ijSdl42S7TIi8DvVoLSw",zC="x4HPg1PZ6o7I0ixBndVI",WC="VJzTiN2gC7JDSpzq4kyM",qC="pK7WF7EdEU9T8TOgvAqq",QC="YrvcUG2HiDlvy7ZxxaQ2",$C="uc4hPPYCIreuUzCiGhFg",ZC="k36wNQSC_Yl2COkLXWdK",XC="qpu3IEfInp5xzVxeimFk",JC="PaWWcs4DPMdptnFryv4Q",eI="ZXTnNgsSePCdVSTLsIdO",tI="qIulsMg27dyAkgxVrZ6r",sI="U9B2gkvgPJVO1SJqbMAh",nI="kX_b4KsKQIEPqCw8y0u0",iI=e=>{const t=((e,t)=>{const[s,n]=(0,H.useState)(e);return(0,H.useEffect)((()=>{const s=setTimeout((()=>n(e)),t);return()=>clearTimeout(s)}),[e,t]),s})(e,250),{data:s,error:n}=bC({searchQuery:t},{enabled:!!t});return null!=s&&s.concertLocations&&"items"in s.concertLocations?{suggestions:null==s?void 0:s.concertLocations.items.map((e=>({location:e.fullName??e.name,geonameId:Number(e.geonameId),geohash:e.geoHash,name:e.name}))),fetchError:n?"network":void 0}:{suggestions:[]}},aI=e=>{const t=(0,ar.s9)(),{onClickCancel:s,onSelectLocation:n}=e,[i,a]=(0,H.useState)(""),{suggestions:o,fetchError:r}=iI(i);return(0,Y.jsxs)("div",{className:rr()(YC,QC,"encore-dark-theme"),children:[(0,Y.jsx)("div",{className:$C,children:(0,Y.jsxs)("div",{className:ZC,children:[(0,Y.jsx)(nr.H,{semanticColor:"textBase",iconOnly:qA.G,onClick:s,"aria-label":t.get("navbar.go-back")}),(0,Y.jsx)(EC.D,{placeholder:t.get("concerts.input.search_placeholder"),onChange:a,value:i,focusOnMount:!0})]})}),(0,Y.jsxs)("div",{className:XC,children:[r&&(0,Y.jsxs)("div",{className:JC,children:[(0,Y.jsx)(_C.b,{size:"small",className:eI}),(0,Y.jsxs)(tr.E,{as:"p",children:["network"===r&&t.get("concert.error.general_error_title"),"noResults"===r&&t.get("concert.error.no_locations_found_subtitle")]})]}),o.map(((e,t)=>(0,Y.jsx)(tr.E,{as:"p",className:tI,onClick:()=>n(e),children:e.location},t)))]}),(0,Y.jsx)(nr.H,{className:sI,onClick:s,children:(0,Y.jsx)(tr.E,{className:nI,variant:"bodyMedium",children:t.get("close")})})]})},oI=e=>{const{show:t,onClickCancel:s,onSelectLocation:n}=e;return(0,Y.jsx)(ff.K,{selector:"body",children:(0,Y.jsx)(Wm.A,{timeout:200,classNames:{enter:KC,enterActive:zC,exit:WC,exitActive:qC},in:t,unmountOnExit:!0,children:(0,Y.jsx)(aI,{onClickCancel:s,onSelectLocation:n})})})};var rI=s(29922);const lI=e=>e.artists.items.map((e=>e.data)).map((e=>{if(e&&"profile"in e)return e.profile.name})).filter(dC.s),dI=e=>{var t;const s=null==e?void 0:e.sort(((e,t)=>(e.width??0)-(t.width??0)));return null==s||null===(t=s[0])||void 0===t?void 0:t.url},cI=(0,H.memo)((()=>{var e,t;const s=(0,ar.s9)(),{artistId:n=""}=(0,fr.g)(),a=(0,Ze.ZAw)(n).toURI(),o=(0,i.d4)((e=>e.entities.items[a])),r=(l=o)&&Object.keys(l).includes("artistUnion")?o:void 0;var l;const d=(c=null==r?void 0:r.artistUnion)&&Object.keys(c).includes("uri")?r.artistUnion:void 0;var c;const u=VC(null==r?void 0:r.concerts)?r.concerts.concerts.items.map((e=>HC(e.data)?e.data:void 0)).filter(dC.s):[],p=VC(null==r?void 0:r.nearby)?r.nearby.concerts.items.map((e=>HC(e.data)?e.data:void 0)).filter(dC.s):[],m=(h=null==r?void 0:r.nearby)&&Object.keys(h).includes("locationName")?r.nearby.locationName:void 0;var h;const[_,y]=(0,H.useState)(),b=(0,i.wA)();var g;(0,H.useEffect)((()=>{b((0,Di.uS)(a,null==_?void 0:_.geonameId))}),[b,a,null==_?void 0:_.geonameId]),(0,$u.n)({visible:!0,backgroundColor:yh.Ql9,title:null==d?void 0:d.profile.name}),(0,qu.r)((g=null==d?void 0:d.profile.name)?`${g} Tickets - ${(new Date).getFullYear()} Concert Tour Dates | Spotify`:"");const[f,v]=(0,H.useState)(!1);if(!d)return(0,Y.jsx)(Ap.c,{});const E=(null==_||null===(e=_.location)||void 0===e?void 0:e.split(",")[0])||m||s.get("concerts.default_location");if(!u.length&&m)return(0,Y.jsx)(tr.E,{variant:"bodyMedium",className:BC,children:s.get("concerts.error.no_concerts_found_message",m)});const w=p.map((e=>e.uri)),S=u.filter((e=>!(null!=w&&w.includes(e.uri))));return(0,Y.jsxs)(Tp.h,{children:[(0,Y.jsxs)(Yc.z,{backgroundColor:"black",children:[(0,Y.jsxs)("div",{className:PC,children:[(0,Y.jsx)(Gc._,{height:"48",width:"48",className:LC,src:dI(null===(t=d.visuals.avatarImage)||void 0===t?void 0:t.sources)}),(0,Y.jsxs)("div",{className:jC,children:[(0,Y.jsx)(Mc.N,{to:d.uri,children:(0,Y.jsx)(tr.E,{as:"h1",variant:"titleMedium",children:d.profile.name})}),(0,Y.jsx)(tr.E,{as:"h1",semanticColor:"textSubdued",variant:"bodyMedium",children:s.get("artist.concerts.tour_dates")})]})]}),(0,Y.jsx)(zc.z,{children:(0,Y.jsx)(Kc.P,{uri:a})})]}),(0,Y.jsxs)(Bc.A,{children:[(0,Y.jsxs)("div",{className:FC,children:[(0,Y.jsxs)(tr.E,{as:"h2",variant:"titleSmall",children:[s.get("concerts_shows_in")," ",E]}),(0,Y.jsx)(tr.E,{as:"div",variant:"bodySmall",className:DC,onClick:()=>{v(!0)},children:s.get("concerts.change_location")}),(0,Y.jsx)(Qg.n,{"aria-label":"change",className:OC,buttonSize:"sm",onClick:()=>{v(!0)},iconOnly:gc.V})]}),(0,Y.jsx)(oI,{show:f,onClickCancel:()=>v(!1),onSelectLocation:e=>{y(e),v(!1)}}),0===(null==p?void 0:p.length)?(0,Y.jsx)(tr.E,{as:"p",variant:"bodySmall",className:MC,children:s.get("artist.concerts.error.not_found_near_location",E)}):(0,Y.jsx)("div",{children:(0,Y.jsx)("ul",{className:UC,children:p.map((e=>(0,Y.jsx)("li",{children:(0,Y.jsx)(rI.I,{artistNames:lI(e),venueName:e.location.name,venueLocation:e.location.city,date:e.startDateIsoString,uri:e.uri})},e.uri)))})}),(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(tr.E,{as:"h2",className:GC,variant:"titleSmall",children:s.get("concerts.header.other")}),0===S.length?(0,Y.jsx)(tr.E,{as:"p",variant:"bodySmall",className:MC,children:s.get("artist.concerts.error.not_found")}):(0,Y.jsx)("div",{children:(0,Y.jsx)("ul",{className:UC,children:S.map((e=>{var t;return(0,Y.jsx)("li",{children:(0,Y.jsx)(rI.I,{artistNames:lI(e),venueName:e.location.name,venueLocation:null===(t=e.location)||void 0===t?void 0:t.city,date:e.startDateIsoString,uri:e.uri})},e.uri)}))})})]})]})]})})),uI="MGNBcjzqOR9BCLW7grPM",pI="DtZxvmC_KGLgqm4FWccv",mI="hLJith7V3pxB0wC2bj7l",hI="__7C3SGPvF63ZYLK1JBN",_I="QYXgoRzyCS7F0ThxdT4Z";var yI=s(63572);const bI=e=>{var t;let{albumPrerelease:s,onContextMenuClick:n}=e;const a=(0,ar.s9)(),o=(0,i.wA)(),r=(0,br.W)(),l=(0,AS.s)(),d=(0,i.d4)((e=>{var t;let{playback:s}=e;return null===(t=s.current)||void 0===t||null===(t=t.track_window.current_track)||void 0===t?void 0:t.uri})),c=s.uri,u=null===(t=s.preReleaseContent)||void 0===t?void 0:t.tracks,p=null==u?void 0:u.pagingInfo.nextOffset,m=(0,H.useMemo)((()=>((e,t)=>{var s,n;const i=null===(s=e.preReleaseContent)||void 0===s?void 0:s.tracks,a=null===(n=e.preReleaseContent)||void 0===n||null===(n=n.coverArt)||void 0===n?void 0:n.sources;return((null==i?void 0:i.items)||[]).map(((e,s)=>{var n,i;const o=e.uri,r=e.name??"",l=e.artists.items.map((e=>{let{data:t}=e;return Fi(t)?t.profile.name:""})).join(t.getSeparator()),d=!1!==(null===(n=e.playability)||void 0===n?void 0:n.playable);return{isPlayable:d,subtitle:l,title:r,uri:o,index:s,images:a||[],isExplicit:(null===(i=e.contentRating)||void 0===i?void 0:i.label)===Xi.x7.Explicit,rawTrack:{preview_url:"",is_playable:d,name:r,uri:o,type:"track",id:o,images:a||[]}}}))})(s,a)),[s,a]),h=(e=>{let{uri:t,tracks:s,isOnDemand:n,currentTrackUri:a}=e;const o=(0,i.wA)(),r=(0,pE.R)();return async e=>{if(a===e)return void o((0,gn.d5)());const i=(e=>e.filter((e=>{var t;return!1!==(null===(t=e.playability)||void 0===t?void 0:t.playable)})).map((e=>({uri:e.uri}))))(s),l=[{tracks:i}],d=i.findIndex((t=>"string"!=typeof t&&t.uri===e)),c={shuffle:!n,playOrigin:{referrerIdentifier:r},contextURI:t,index:d};o((0,gn.xN)(e,null,c,void 0,void 0,void 0,l))}})({tracks:(null==u?void 0:u.items)||[],isOnDemand:!l,uri:c,currentTrackUri:d}),_=(0,H.useCallback)((e=>{r({type:"click",intent:"play",itemIdSuffix:"prerelease/track/play"}),h(e)}),[r,h]);return(0,Y.jsxs)("div",{className:uI,children:[!(null==u||!u.totalCount)&&(0,Y.jsx)(tr.E,{className:pI,variant:"titleSmall",children:a.get("mobile-web-player.views.prerelease.tracklist.title")}),(0,Y.jsx)(Ww._,{className:mI,onReachBottom:(0,H.useCallback)((()=>{p&&o((0,Di.cZ)(c,{offset:p,limit:10}))}),[o,p,c]),children:m.map(((e,t)=>{const{title:i,subtitle:a,uri:o,isPlayable:r,isExplicit:l}=e;return(0,Y.jsx)($w.v,{className:hI,"data-testid":"track-row",title:(0,Y.jsx)(oA.d,{disabled:!r,className:rr()({[_I]:!r}),semanticColor:d===o?"textBrightAccent":void 0,children:i}),size:"lg",id:o,variant:"naked",contentAlign:!0,onClick:()=>_(o),disabled:!r,subtitle:(0,Y.jsxs)(yI.j,{disabled:!r,className:rr()({[_I]:!r}),children:[l&&(0,Y.jsx)(nu,{})," ",a.toString()]}),trailing:(0,Y.jsx)(wb.z,{contextURI:s.uri,onDemand:!0,track:e,onContextMenuClick:n,disabled:!r},`actions-${e.uri}`)},`${o}/${t}`)}))})]})},gI="kMkft_IUeKEzD_x4fMed",fI="wiLyaenceTJmrBnHpGWZ",vI="ypkl3KkkX7gxzJGTRGDq",EI=e=>{var t,s,n,i,a,o,r;let{prerelease:l}=e;const d=(0,fr.Zp)(),c=l.preReleaseContent,u=null==c||null===(t=c.coverArt)||void 0===t||null===(t=t.extractedColors)||void 0===t?void 0:t.colorDark.hex,p=null==c||null===(s=c.artists)||void 0===s||null===(s=s.items[0])||void 0===s?void 0:s.data,m=null===(n=l.releaseDate)||void 0===n?void 0:n.isoString,h=l.timezone;return(0,Y.jsxs)(Yc.z,{backgroundColor:u,children:[(0,Y.jsx)(Qc.b,{images:null==c||null===(i=c.coverArt)||void 0===i?void 0:i.sources,fallback:(0,Y.jsx)(Vc.I,{size:"xxlarge"}),fadeImageBetween:[50,175],size:Cu.Qe.SIZE_232}),(0,Y.jsx)(DS.m,{small:!0,children:null==c?void 0:c.name}),(0,Y.jsx)(gS,{children:Fi(p)&&(0,Y.jsx)(Av,{name:p.profile.name,uri:p.uri,images:null===(a=p.visuals.avatarImage)||void 0===a?void 0:a.sources})}),(0,Y.jsxs)(Wc.l,{children:[(0,Y.jsx)(ET,{type:Zc.c.ALBUM,releaseDate:(null===(o=l.releaseDate)||void 0===o?void 0:o.isoString)||"",timezone:h}),(0,Y.jsxs)(zc.z,{className:gI,children:[(0,Y.jsx)(Kc.P,{uri:l.uri,condensedAll:!0}),(0,Y.jsx)(Ku.e,{className:fI,condensedAll:!0,testId:"prerelease-context-menu-button",uri:l.uri,header:{title:(null==c?void 0:c.name)||"",subtitle:Fi(p)?p.profile.name:"",backgroundImage:(0,zu.g)(null==c||null===(r=c.coverArt)||void 0===r?void 0:r.sources,64)}})]}),(0,Y.jsx)(xT,{uri:l.uri})]}),m&&(0,Y.jsx)("div",{className:vI,children:(0,Y.jsx)(jT,{releaseDate:m,onCountDownEnds:()=>{var e,t;d(`/album/${null===(e=(0,Ze.o_h)(null===(t=l.preReleaseContent)||void 0===t?void 0:t.uri))||void 0===e?void 0:e.id}`)}})})]})},wI="XsfZGsEy1LDfZ8E3_1Qs",SI=e=>{var t,s,n;let{prerelease:i}=e;const{onContextMenuClick:a}=(0,fb.E)();return(0,$u.n)({visible:!0,title:null===(t=i.preReleaseContent)||void 0===t?void 0:t.name,backgroundColor:null===(s=i.preReleaseContent)||void 0===s||null===(s=s.coverArt)||void 0===s||null===(s=s.extractedColors)||void 0===s?void 0:s.colorDark.hex}),(0,Y.jsxs)(Tp.h,{testId:"prerelease-entity-view",children:[(0,Y.jsx)(EI,{prerelease:i}),(0,Y.jsxs)(Bc.A,{children:[(0,Y.jsx)(bI,{albumPrerelease:i,onContextMenuClick:a}),(0,Y.jsx)(rR,{className:wI,copyright:(null===(n=i.preReleaseContent)||void 0===n?void 0:n.copyright)??""})]}),(0,Y.jsx)(xp.h,{})]})},RI=e=>{if(!e)return!1;const t=new Date(e),s=new Date;return t.getTime()-s.getTime()<=0},TI=()=>{var e;const t=(0,i.wA)(),s=(0,fr.Zp)(),n=(0,br.W)(),{prereleaseId:a=""}=(0,fr.g)(),o=(0,Ze.jsG)(a).toURI(),r=(0,i.d4)((e=>{let{entities:t}=e;return t.items[o]}));return(0,H.useEffect)((()=>{n({type:"view",intent:"view",targetUri:o,itemIdSuffix:"album-prerelease"})}),[n,o]),(0,H.useEffect)((()=>{Gi(r)||t((0,Di.iI)(o))}),[r,t,o]),(0,H.useEffect)((()=>{var e,t;if(!Gi(r))return;const n=r.preReleaseContent&&(0,Ze.Lce)(null===(e=r.preReleaseContent)||void 0===e?void 0:e.uri);if(n&&RI(null===(t=r.releaseDate)||void 0===t?void 0:t.isoString)){const e=n.toURLPath(!0);s(e)}}),[r,s]),Gi(r)&&!RI(null===(e=r.releaseDate)||void 0===e?void 0:e.isoString)?(0,Y.jsx)(SI,{prerelease:r}):(0,Y.jsx)(Ap.c,{})},AI="q4bCiojUsFvHURQiJ3F9",xI="KcmXWxjDZ9YXQTqPM7VS",CI="Y9MDye688XLyCp4EfoYj",II="XslK8vG7FJN5BxPD4GMM",kI="Ymrlf30ugjBRzMcRu7Pp",NI="hmSaLnAngPi_7Ji88slF",PI="HN2haMw2ZX9eWPcooyk5",LI="nL974ObFJ8b_nuryWHcN",jI="uhcH_fAHkHpJ0MCMLdt8",OI="hbctTgav3zjscinMx9fT",DI="y8_xcU5FvzcLx1F2GJQw",MI="JPfNvYjGaqoBb7TudKAU",UI="vhFhP_3a4BVCec8erfFH",BI="NBVK249tXknMNCfLxxdm",GI="LjmNckzwlxs5t_ywafUo",FI="_waOSYC0FNzjjYEspyTl",VI="UYw6E1uF0tfjfJNY6hoJ",HI="Y58fDG52br3ahF1e7nGc",YI="rRu88v1C33zFHCTKTDNs",KI="_bjmEdicdcVmWGizudOo",zI="hua7mfSFUGRdQTeyHhWY",WI="QEoHtU689NfpQSEKjQdg",qI="xTc1VCT_CzMVdKDuGoOf",QI="lAP5bxKoxTpa5elyed1h",$I="GAOw5C83TxIvQixcgHaf",ZI="ROeZwiQMtxCYHZ_oHG5A",XI="Ghfp1A1T_2hwVuwIwQxs",JI="rfROb9KBW8Mke0Dkgged",ek="zWQe3SP1Z3P0dnNpQ8gh",tk="IXochz6Q1OEvvG05LKdS",sk="hQ6rkvGO7RcXwSrUZRMn",nk="k5A63LbiwmHokpU8bLPO",ik="DUNnnySIi28zYewXMc60",ak="hdNajrmvp9ckPbQbI4mg",ok="kGCL6vMkPF2kzDL3tVDS",rk="yer257cq4TAEvgxinNDX",lk="Gw3AW7KAIVEypKUa7RUv",dk="Fj473gxu1KjYA4msuh_X",ck="qoyhwou2E2HHKMa1p0dT",uk="iZogYdTQpd3GvhYX0LqY",pk="E8q_xBa8coXjs19ZuouP",mk="vwOOIy4QKbs59VIQAJjF",hk="y0hd6YKbc3QoxIS6p5OB",_k="lQDw0C2HozI8dkS9RIqi",yk="N6RJB0GTol4SWuFudBax",bk="YkahjYTBeYMAvc9LVRKw",gk="lYrV4K3LRyTyKcdzD0fQ",fk="s7MRlSflIudS29RRWMqE",vk="Y2mo3MSJ3I1au7d7DUQD",Ek="RnJx2C4ngBQPRTd9jGy6",wk="xSuP6Cedxs6q7K3tcdfl";var Sk=s(69240);const Rk=new Ni.l("addConcertToLibrary","mutation","c4670bb9503f201cff5a61ee426a0aa93cac0eaa1c1b9b8c66d53e058f270f7c",null),Tk=new Ni.l("concertInLibrary","query","744665b0107e29dc3c4fa499cb2c3e670841a1e19c1e072dd13ebd44725c409f",null),Ak=new Ni.l("removeConcertFromLibrary","mutation","2b6a3dc45db6b423eb36c628ccb26768f2c03e75ae274e09a1701336d46dd21d",null),xk=(e,t)=>e(Rk,{concertUri:t}),Ck=(e,t)=>e(Ak,{concertUri:t}),Ik=e=>{let{concertId:t,addConcertToLibraryMutation:s=xk,removeConcertFromLibraryMutation:n=Ck}=e;const i=`spotify:concert:${t}`,[a,o]=(0,H.useState)(!1),{data:r,loading:l,invalidate:d}=(c={concertUri:i},(0,Pi.I)(Tk,c,u));var c,u;const{request:p}=(0,H.useContext)(V.j),m=!(null==r||!r.concert||!("saved"in r.concert))&&(null==r?void 0:r.concert.saved);return{isLoading:l||a,inCollection:m,toggle:async()=>{if(!a){o(!0);try{m?(await n(p,i),await d()):(s(p,i),await d())}finally{o(!1)}}}}},kk=e=>{const t=(0,ar.s9)(),{isLoading:s,inCollection:n,toggle:i}=Ik(e);return n?(0,Y.jsx)(ir.$,{size:"small",iconLeading:wu.i,disabled:s,onClick:i,"aria-pressed":"true",className:gk,children:t.get("concerts_interested")}):(0,Y.jsx)(Qg.n,{size:"small",iconLeading:Sk.u,disabled:s,onClick:i,"aria-pressed":"false",className:gk,children:t.get("concerts_interested")})},Nk=e=>{let{artists:t,date:s}=e;(0,ar.s9)();const n=t.slice(0,3);return(0,Y.jsxs)("div",{className:CI,role:"presentation",children:[n.map((e=>{const t=(e=>{var t;const s=null==e?void 0:e.sources.sort(((e,t)=>(e.width??0)-(t.width??0)));return(null==s||null===(t=s[0])||void 0===t?void 0:t.url)??null})(e.visuals.avatarImage);return t?(0,Y.jsx)(Gc._,{src:t,className:II,alt:"",imageHeight:"96px",imageWidth:"96px",crop:!0,circle:!0},e.uri):null})),(0,Y.jsxs)("div",{className:kI,children:[(0,Y.jsx)(tr.E,{as:"div",className:NI,variant:"marginal",children:LA(0,s)}),(0,Y.jsx)(tr.E,{as:"div",className:PI,variant:"bodyMediumBold",children:jA(0,s)})]})]})};var Pk=s(55483),Lk=s(17362);const jk=e=>{const t=(0,ar.s9)(),{offer:s,handleConcertLinkClick:n,displayPartnerLink:i=!1,isCancelled:a=!1}=e,o=(0,d.NC)(W.g4),r={"on-sale":t.get("concerts.on_sale"),presale:t.get("concerts.presale")},l=!!s.dates.startDateIsoString&&(0,YA.PR)(s.dates.startDateIsoString),c=s.dates.startDateIsoString?(0,YA.l4)(s.dates.startDateIsoString):"",u=!!s.dates.endDateIsoString&&(s.availability===Xi.sg.SoldOut||(0,YA.m7)(s.dates.endDateIsoString)),p=s.availability===Xi.sg.FewLeft,m=l?null:s.url;return i?(0,Y.jsxs)("a",{href:s.url,target:"_blank",className:ZI,onClick:n,children:[(0,Y.jsxs)("div",{className:XI,children:[(0,Y.jsx)(Pk.T,{className:sk,size:"medium"}),(0,Y.jsx)("div",{dir:"auto",children:(0,Y.jsx)(tr.E,{as:"p",className:fk,semanticColor:"textSubdued",children:t.get("concerts.on_sale")})})]}),(0,Y.jsx)(ir.$,{size:"small",iconTrailing:()=>(0,Y.jsx)(Lk.p,{size:"xsmall"}),className:Ek,children:(0,Y.jsx)(tr.E,{variant:"bodySmallBold",children:t.get("concert_buy_tickets")})})]}):(0,Y.jsxs)(Mc.N,{draggable:!1,className:ZI,to:m,target:"_blank",onClick:n,children:[(0,Y.jsxs)("div",{className:XI,children:[(0,Y.jsx)("div",{className:JI,children:(0,Y.jsx)(mh._,{className:ek,loading:"eager",src:s.providerImageUrl,height:"100%",width:"100%",children:(0,Y.jsx)(Pk.T,{className:tk,iconSize:24})})}),(0,Y.jsxs)("div",{dir:"auto",children:[!l&&s.saleType&&r[s.saleType]&&!u&&!p&&!a&&(0,Y.jsx)(tr.E,{as:"p",className:fk,children:r[s.saleType]}),u&&(0,Y.jsx)(tr.E,{as:"p",className:fk,children:t.get("concerts.soldout")}),a&&(0,Y.jsx)(tr.E,{as:"p",className:fk,children:t.get("concerts.cancelled")}),p&&(0,Y.jsx)(tr.E,{as:"p",semanticColor:"textSubdued",className:fk,children:t.get("concerts.few_left")}),o&&!u&&l&&c&&(0,Y.jsx)(tr.E,{as:"p",className:fk,children:t.get("concerts.tickets_on_sale_soon")}),o&&"Spotify"===s.providerName&&s.minPrice&&!u&&!l&&(0,Y.jsx)(tr.E,{as:"p",semanticColor:"textPositive",className:fk,children:t.get("concerts.ticket_price",s.minPrice)}),o&&!u&&l&&c&&(0,Y.jsx)(tr.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:vk,children:t.get("concerts.ticket_date_time",(0,YA.Y)(t,c),(0,YA.WB)(t,c))}),(0,Y.jsx)(tr.E,{as:"p",semanticColor:"textSubdued",children:s.providerName})]})]}),(!u||!o||!a)&&!l&&s.urlType===Xi.I2.TicketPage&&(0,Y.jsx)("div",{className:wk,children:(0,Y.jsx)(ir.$,{fullWidth:!0,size:"small",iconTrailing:()=>(0,Y.jsx)(Lk.p,{size:"xsmall"}),className:Ek,children:(0,Y.jsx)(tr.E,{variant:"bodySmallBold",children:o&&"Spotify"===s.providerName?t.get("concert_buy_tickets"):t.get("concert_find_tickets")})})}),s.urlType===Xi.I2.EventPage&&(0,Y.jsx)("div",{className:wk,children:(0,Y.jsx)(ir.$,{fullWidth:!0,size:"small",iconTrailing:()=>(0,Y.jsx)(Lk.p,{size:"xsmall"}),className:Ek,children:(0,Y.jsx)(tr.E,{variant:"bodySmallBold",children:t.get("concerts.event.view")})})})]})},Ok=e=>{var t,s,n,i;let{offers:a,isCancelled:o}=e;const r=(0,br.W)();function l(e){r({targetUri:e,intent:"find-concert",type:"click"})}const d=1===a.length&&"Spotify"===(null===(t=a[0])||void 0===t?void 0:t.providerName),c=!(null===(s=a[0])||void 0===s||!s.dates.endDateIsoString)&&(a[0].availability===Xi.sg.SoldOut||(0,YA.m7)(a[0].dates.endDateIsoString)),u=d&&c&&(null===(n=a[0])||void 0===n?void 0:n.url);return 0===a.length?null:(0,Y.jsxs)("div",{className:$I,children:[a.map((e=>(0,Y.jsx)(jk,{isCancelled:o,offer:e,handleConcertLinkClick:()=>l(e.url)},e.providerName))),u&&(null===(i=a[0])||void 0===i?void 0:i.url)&&(0,Y.jsx)(jk,{isCancelled:o,offer:a[0],handleConcertLinkClick:()=>{var e;return l(null===(e=a[0])||void 0===e?void 0:e.url)},displayPartnerLink:!0},a[0].url)]})},Dk=e=>{let{imageUri:t,uri:s,name:n}=e;const i=(0,ar.s9)(),a=t?(0,Y.jsx)(Gc._,{src:t,className:GI,crop:!0,circle:!0,alt:"",imageHeight:"48px",imageWidth:"48px"}):(0,Y.jsx)("div",{className:YI,children:(0,Y.jsx)(kf.r,{iconSize:24})}),o=`${s}:concerts`;return(0,Y.jsxs)(Mc.N,{className:OI,to:o,children:[a,(0,Y.jsxs)("div",{className:MI,children:[(0,Y.jsxs)("div",{children:[(0,Y.jsx)(tr.E,{as:"h3",variant:"bodyMedium",children:n}),(0,Y.jsx)(tr.E,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",children:i.get("concerts.view_all_events")})]}),(0,Y.jsx)(gc.V,{className:KI,iconSize:16})]})]})},Mk=e=>{var t,s;let{artists:n,onClickMoreArtists:i}=e;const a=(0,ar.s9)(),o=(e,t)=>e?(0,Y.jsx)(Gc._,{src:e,className:`${FI} ${t?VI:""}`,crop:!0,circle:!0,alt:"",imageHeight:"28px",imageWidth:"28px"}):(0,Y.jsx)("div",{className:`${YI} ${t?VI:""}`,children:(0,Y.jsx)(kf.r,{iconSize:24})}),r=(0,Y.jsxs)("div",{className:BI,children:[o((0,Xe.m)(null===(t=n[0])||void 0===t||null===(t=t.visuals.avatarImage)||void 0===t?void 0:t.sources,28)??null,!1),o((0,Xe.m)(null===(s=n[1])||void 0===s||null===(s=s.visuals.avatarImage)||void 0===s?void 0:s.sources,28)??null,!0)]});return(0,Y.jsxs)("button",{className:DI,onClick:i,children:[r,(0,Y.jsxs)("div",{className:HI,children:[(0,Y.jsx)(tr.E,{as:"div",variant:"bodySmallBold",children:`${n[0].profile.name} • ${n[1].profile.name} `}),n.length-2>0?(0,Y.jsx)(tr.E,{as:"div",variant:"bodySmall",semanticColor:"textSubdued",className:UI,children:a.get("concerts.artist_lineup_and_more",n.length-2)}):null]})]})},Uk=e=>{var t;let{artists:s,onClickMoreArtists:n}=e;const i=(0,ar.s9)();return(0,Y.jsxs)("div",{className:LI,children:[(0,Y.jsx)(tr.E,{variant:"titleSmall",as:"h2",className:jI,children:i.get("concert.lineup")}),(0,Y.jsx)(Y.Fragment,{children:s.length<3?s.map((e=>{var t;return(0,Y.jsx)(Dk,{imageUri:(0,Xe.m)(null===(t=e.visuals.avatarImage)||void 0===t?void 0:t.sources,48),name:e.profile.name,uri:e.uri},e.uri)})):(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(Dk,{imageUri:(0,Xe.m)(null===(t=s[0])||void 0===t||null===(t=t.visuals.avatarImage)||void 0===t?void 0:t.sources,48),name:s[0].profile.name,uri:s[0].uri}),(0,Y.jsx)(Mk,{onClickMoreArtists:n,artists:s.slice(1)})]})})]})},Bk="xbObB1wPpV_2r_mIcbNX",Gk=e=>{let{artists:t,show:s=!1,onCancelClick:n}=e;const i=(0,ar.s9)();return(0,Y.jsx)(ff.K,{selector:"body",children:(0,Y.jsx)(Wm.A,{timeout:200,classNames:"more-artists-overlay",in:s,unmountOnExit:!0,children:(0,Y.jsxs)("div",{className:Bk,children:[(0,Y.jsxs)("div",{className:zI,children:[(0,Y.jsx)(tr.E,{className:WI,variant:"bodyMediumBold",children:i.get("artists")}),t.map((e=>{var t;return(0,Y.jsx)(Dk,{imageUri:(0,Xe.m)(null===(t=e.visuals.avatarImage)||void 0===t?void 0:t.sources,48),name:e.profile.name,uri:e.uri},e.uri)}))]}),(0,Y.jsx)(nr.H,{className:qI,onClick:n,children:(0,Y.jsx)(tr.E,{className:QI,variant:"bodyMedium",children:i.get("close")})})]})})})},Fk=(0,H.memo)((e=>{let{concert:t}=e;const s=(0,ar.s9)(),n=(0,YA.l4)(t.startDateIsoString),i=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])).map((e=>e.profile.name));return(0,Y.jsxs)(Mc.N,{to:t.uri,className:uk,children:[(0,Y.jsxs)("div",{className:pk,children:[(0,Y.jsx)(tr.E,{as:"div",className:hk,variant:"marginalBold",children:(0,YA.tj)(s,n)}),(0,Y.jsx)(tr.E,{as:"div",className:_k,variant:"bodyMediumBold",children:(0,YA.Py)(s,n)})]}),(0,Y.jsxs)("div",{className:mk,children:[(0,Y.jsx)(tr.E,{as:"h3",variant:"bodyMedium",className:yk,children:(0,YA.YA)(t.title,t.festival,i)}),(0,Y.jsxs)(tr.E,{as:"div",variant:"bodySmall",semanticColor:"textSubdued",className:bk,children:[(0,YA.$p)(s,n)," · ",t.location.name]})]})]})})),Vk=(0,H.memo)((e=>{const t=(0,ar.s9)(),{concerts:s}=e;return 0===s.length?null:(0,Y.jsxs)("div",{className:lk,children:[(0,Y.jsxs)("div",{className:dk,children:[(0,Y.jsx)(tr.E,{as:"h2",variant:"titleSmall",children:t.get("concert.similar_events")}),(0,Y.jsx)(Mc.N,{to:"spotify:concerts",children:(0,Y.jsx)(tr.E,{as:"h3",variant:"marginalBold",semanticColor:"textSubdued",className:ck,children:t.get("view.see-all")})})]}),s.slice(0,3).map((e=>(0,Y.jsx)(Fk,{concert:e},e.uri)))]})})),Hk="ITavJQsoT53Tx1fMScru",Yk="eNdsNX54tihhB9L_qeAm",Kk="Eksfde4kZAw3Tmyovczj",zk="iJ0AHOTTvIELJze6Js08",Wk=e=>{var t,s,n;let{showTime:i,ageRestriction:a,doorsOpenTime:o,location:r}=e;const l=r.metroAreaLocation?(0,YA.nm)(null===(t=r.metroAreaLocation)||void 0===t?void 0:t.geonameId,null===(s=r.metroAreaLocation)||void 0===s?void 0:s.fullName):null;return(0,Y.jsxs)("div",{className:Hk,children:[(0,Y.jsx)(tr.E,{as:"h2",variant:"titleSmall",className:Yk,children:c.Ru.get("tracklist.header.venue")}),(0,Y.jsxs)("div",{className:Kk,children:[(0,Y.jsx)(Pc.p,{}),(0,Y.jsxs)("div",{children:[(0,Y.jsxs)(tr.E,{as:"h3",variant:"bodyMediumBold",children:[o&&(0,Y.jsx)("time",{dateTime:null==o?void 0:o.toISOString(),children:c.Ru.get("concert.door_time",c.Ru.formatDate(o,{timeStyle:"short"}))}),o&&" • ",(0,Y.jsx)("time",{dateTime:i.toISOString(),children:c.Ru.get("concert.show_time",c.Ru.formatDate(i,{timeStyle:"short"}))})]}),(null==a?void 0:a.trim())&&(0,Y.jsx)(tr.E,{as:"p",variant:"bodyMedium",children:a})]})]}),(0,Y.jsxs)("div",{className:Kk,children:[(0,Y.jsx)(MA.t,{}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)(tr.E,{as:"h3",variant:"bodyMediumBold",children:r.name}),(0,Y.jsx)(tr.E,{as:"p",variant:"bodyMedium",semanticColor:"textSubdued",children:(0,YA.im)({...r,name:""})})]})]}),l&&(0,Y.jsxs)("div",{className:zk,children:[(0,Y.jsxs)("div",{className:Kk,children:[(0,Y.jsx)(Pk.T,{}),(0,Y.jsx)(Mc.N,{to:l,children:(0,Y.jsx)(tr.E,{variant:"bodyMedium",children:c.Ru.get("concert.see_more_events_in_location",null===(n=r.metroAreaLocation)||void 0===n?void 0:n.fullName)})})]}),(0,Y.jsx)(gc.V,{size:"small",semanticColor:"textSubdued"})]})]})},qk=e=>{let{uri:t,name:s,imageUri:n,artistName:i}=e;return(0,Y.jsxs)(Mc.N,{className:ak,to:t,children:[(0,Y.jsx)(Gc._,{src:n,alt:"",imageHeight:"80px",imageWidth:"80px"}),(0,Y.jsxs)("div",{className:ok,children:[(0,Y.jsx)(tr.E,{as:"h3",variant:"bodyMediumBold",children:s}),(0,Y.jsx)(tr.E,{as:"div",variant:"bodySmall",semanticColor:"textSubdued",className:rk,children:i})]})]})},Qk=e=>{let{playlists:t}=e;const s=(0,ar.s9)();if(0===t.length)return null;const n=t.filter((e=>e.artistsOnTour)).slice(0,3);return(0,Y.jsxs)("div",{className:nk,children:[(0,Y.jsx)(tr.E,{variant:"bodyMediumBold",as:"h2",className:ik,children:s.get("playlists")}),n.map((e=>{var t;return(0,Y.jsx)(qk,{imageUri:(0,Xe.m)(e.images.items.flatMap((e=>e.sources)),80),uri:e.uri,name:e.name,artistName:(null===(t=e.artistsOnTour)||void 0===t?void 0:t.map((e=>e.title)).join(s.getSeparator()))??""},e.uri)}))]})},$k="wGheJfDQuwX6XTFb1hfl",Zk=()=>(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(tr.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:$k,children:c.Ru.get("events_page.disclaimer")}),(0,Y.jsx)(tr.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",children:c.Ru.get("events_page.timezone_hint")})]}),Xk=new Ni.l("ConcertNotInterested","mutation","63056abc924ddd824bef4baa60b277bbc6cf328d1735cadfa626e57894fbf33e",null),Jk="Q6S5Bcl8hx0D4IPWYGmX",eN="s7PHH53hYgZ44XD0_pCy",tN="i2fKFbGjXsNG3dT6juMw",sN="tbj4LsNvhhjZJ3BVwBZz",nN="pkA_5WeuGfMVaoOihPV4",iN="Uh85qlsgO0Uf3YhDUTNG",aN="ViZeubXfOYIkX_Fh_91d",oN="IZFLVyQQCKbOYqxfs8St";var rN=function(e){return e.CONCERT="concert",e.ARTIST="artist",e}(rN||{});const lN=[{type:"location",message:()=>c.Ru.get("concerts.not_interested.reason.location"),uri:rN.CONCERT},{type:"going",message:()=>c.Ru.get("concerts.not_interested.reason.bought_tickets"),uri:rN.CONCERT},{type:"date",message:()=>c.Ru.get("concerts.not_interested.reason.date"),uri:rN.CONCERT},{type:"artist",message:()=>c.Ru.get("concerts.not_interested.reason.artist"),uri:rN.ARTIST},{type:"other",message:()=>c.Ru.get("concerts.not_interested.reason.other"),uri:rN.CONCERT}],dN={[rN.ARTIST]:()=>c.Ru.get("concerts.not_interested.success.artist"),[rN.CONCERT]:()=>c.Ru.get("concerts.not_interested.success.concert")},cN=e=>{const{request:t}=(0,H.useContext)(V.j),s=(0,ip.V)(),n=(0,i.wA)();return(0,Y.jsxs)("div",{className:rr()(Jk,iN,"encore-dark-theme","encore-layout-themes"),children:[(0,Y.jsx)("div",{children:(0,Y.jsxs)("div",{className:aN,children:[(0,Y.jsx)(nr.H,{semanticColor:"textBase",iconOnly:qA.G,onClick:e.onClose,"aria-label":c.Ru.get("navbar.go-back")}),(0,Y.jsx)(tr.E,{as:"h3",variant:"titleSmall",children:c.Ru.get("concerts.not_interested.title")})]})}),lN.map((i=>(0,Y.jsx)(nr.H,{className:oN,onClick:()=>(async i=>{if(s)return void(0,pc.PW)();const a=i.uri===rN.ARTIST?e.artistUri:null,o=i.uri===rN.CONCERT?e.concertUri:null;await t(Xk,{artistUri:a,concertUri:o}),n((0,io.P)(dN[i.uri](),pe.Ck.default,!0)),e.onClose()})(i),children:i.message()},i.type)))]})},uN=e=>(0,Y.jsx)(ff.K,{selector:"body",children:(0,Y.jsx)(Wm.A,{timeout:200,classNames:{enter:eN,enterActive:tN,exit:sN,exitActive:nN},in:e.show,unmountOnExit:!0,children:(0,Y.jsx)(cN,{...e})})}),pN=e=>{let{venue:t}=e;const{uri:s,name:n,marketing:{coverImage:i},address:{city:a}}=t;return(0,Y.jsxs)(Mc.N,{to:s,children:[i&&(0,Y.jsx)(Gc._,{src:i,height:16,width:16,marginWidth:8}),(0,Y.jsxs)(tr.E,{as:"h2",children:[(0,Y.jsx)(tr.E,{variant:"bodySmall",children:n}),(0,Y.jsx)(tr.E,{variant:"bodySmall",semanticColor:"textSubdued",children:`${c.Ru.getSeparator()} ${a}`})]})]})},mN=(0,H.memo)((e=>{var t,s;let{locationInfo:n}=e;const i=new URL("https://maps.google.com/");return i.searchParams.set("q",`${n.name},${n.city}`),i.searchParams.set("ll",`${null===(t=n.coordinates)||void 0===t?void 0:t.latitude},${null===(s=n.coordinates)||void 0===s?void 0:s.longitude}`),(0,Y.jsx)(Mc.N,{to:i.href,target:"_blank",children:(0,Y.jsx)(tr.E,{as:"h2",semanticColor:"textSubdued",variant:"bodySmall",children:`${n.name}, ${n.city}`})})})),hN=(0,H.memo)((()=>{const e=c.Ru.get("artist.concerts.footer_text"),[t,s]=e.split('<a href="spotify:app:concerts" data-section-id="footer">'),[n,i]=(null==s?void 0:s.split("</a>"))||[];return(0,Y.jsx)("div",{className:AI,children:(0,Y.jsxs)(tr.E,{variant:"bodyMedium",children:[t,(0,Y.jsx)(Mc.N,{className:xI,to:"/concerts",children:n}),i]})})})),_N="notInterested",yN=()=>{var e,t;const s=(0,ip.V)(),[n]=(0,fc.ok)(),a=(0,fr.Zp)(),o=(0,d.NC)(W.KX),r=!!n.get(_N),{concertId:l=""}=(0,fr.g)(),u=(0,Ze.B4D)(l).toURI(),p=(0,i.wA)(),m=(0,i.d4)((e=>e.entities.items[u])),h=(0,ol.sq)(m)?m:void 0,_=!!h;(0,H.useEffect)((()=>{_||p((0,Di.iI)(u))}),[p,u,_]);const y=(0,i.d4)((e=>{var t;return null===(t=e.session.me)||void 0===t||null===(t=t.profile)||void 0===t?void 0:t.username})),[b,g]=(0,H.useState)(!1),f=(0,d.NC)(W.O6,{loadingValue:!1}),v=(null==h?void 0:h.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])))??[],E=v&&v[0]&&v?null===(e=v[0].visuals.avatarImage)||void 0===e||null===(e=e.extractedColors)||void 0===e?void 0:e.colorDark.hex:void 0;if((0,$u.n)({visible:!0,backgroundColor:E,title:null==h?void 0:h.title}),(0,qu.r)(((e,t,s,n,i)=>{if(!e||!i)return"";if(e&&t&&s&&n){const a=VA(n,i),o=HA(n,i);return i.get("concert.entity_metadata.title_with_date_and_time",e,t,s,a,o)}return i.get("concert.entity_metadata.title",e,t,s)})(null==h?void 0:h.title,null==h?void 0:h.location.city,null==h?void 0:h.location.name,null!=h&&h.startDateIsoString?(0,YA.l4)(null==h?void 0:h.startDateIsoString):void 0,c.Ru)),!h)return(0,Y.jsx)(Ap.c,{});const w=(0,YA.l4)(h.startDateIsoString),S=h.relatedConcerts.items.flatMap((e=>"ConcertV2"===e.data.__typename?[e.data]:[])),R=v.flatMap((e=>e.relatedContent.featuringV2.items)).flatMap((e=>"Playlist"===e.data.__typename?[e.data]:[])),T=h.concepts.items.filter(ol.V5),A=h.status===Xi.TA.Cancelled;return(0,Y.jsxs)(Tp.h,{children:[s&&(0,Y.jsx)(hN,{}),(0,Y.jsxs)(Yc.z,{backgroundColor:E,children:[(0,Y.jsx)(Nk,{date:w,artists:v.slice(0,3)}),(0,Y.jsx)(DS.m,{small:!0,children:null==h?void 0:h.title}),(0,Y.jsxs)(Wc.l,{children:[(0,Y.jsxs)(sA,{children:[(0,Y.jsx)("time",{dateTime:w.toISOString(),children:(0,Y.jsxs)(xv.$,{children:[(0,Y.jsx)(tr.E,{as:"h2",semanticColor:"textSubdued",variant:"bodySmall",children:(0,YA.Y)(c.Ru,w)}),(0,Y.jsx)(tr.E,{as:"h2",semanticColor:"textSubdued",variant:"bodySmall",children:(0,YA.WB)(c.Ru,w)})]})}),o&&h.venue&&(0,ol.OO)(h.venue.data)?(0,Y.jsx)(pN,{venue:h.venue.data}):(0,Y.jsx)(mN,{locationInfo:h.location}),(0,Y.jsx)(GA,{concepts:T})]}),(0,Y.jsxs)(zc.z,{children:[f&&y&&(0,Y.jsx)(kk,{concertId:l,username:y}),(0,Y.jsx)(Kc.P,{uri:h.uri})]})]})]}),(0,Y.jsxs)(Bc.A,{children:[(0,Y.jsx)(Ok,{offers:h.offers.items,isCancelled:A}),(0,Y.jsx)(Zk,{}),(0,Y.jsx)(Qk,{playlists:R}),(0,Y.jsx)(Uk,{artists:v,onClickMoreArtists:()=>g(!0)}),(0,Y.jsx)(Wk,{location:h.location,showTime:w,ageRestriction:h.ageRestriction,doorsOpenTime:h.doorsOpenTimeIsoString?(0,YA.l4)(h.doorsOpenTimeIsoString):null}),(0,Y.jsx)(Vk,{concerts:S}),(0,Y.jsx)(Gk,{show:b,onCancelClick:()=>g(!1),artists:v.slice(1)})]}),(0,Y.jsx)(uN,{concertUri:h.uri,artistUri:(null===(t=v[0])||void 0===t?void 0:t.uri)??null,show:r,onClose:()=>{n.delete(_N),a(`?${n.toString()}`,{replace:!0})}})]})};let bN=function(e){return e.AD="AD",e.AE="AE",e.AG="AG",e.AL="AL",e.AM="AM",e.AO="AO",e.AR="AR",e.AT="AT",e.AU="AU",e.AZ="AZ",e.BA="BA",e.BB="BB",e.BD="BD",e.BE="BE",e.BF="BF",e.BG="BG",e.BH="BH",e.BI="BI",e.BJ="BJ",e.BN="BN",e.BO="BO",e.BR="BR",e.BS="BS",e.BT="BT",e.BW="BW",e.BY="BY",e.BZ="BZ",e.CA="CA",e.CD="CD",e.CG="CG",e.CH="CH",e.CI="CI",e.CL="CL",e.CM="CM",e.CO="CO",e.CR="CR",e.CV="CV",e.CW="CW",e.CY="CY",e.CZ="CZ",e.DE="DE",e.DJ="DJ",e.DK="DK",e.DM="DM",e.DO="DO",e.DZ="DZ",e.EC="EC",e.EE="EE",e.EG="EG",e.ES="ES",e.ET="ET",e.FI="FI",e.FJ="FJ",e.FM="FM",e.FR="FR",e.GA="GA",e.GB="GB",e.GD="GD",e.GE="GE",e.GH="GH",e.GM="GM",e.GN="GN",e.GQ="GQ",e.GR="GR",e.GT="GT",e.GW="GW",e.GY="GY",e.HK="HK",e.HN="HN",e.HR="HR",e.HT="HT",e.HU="HU",e.ID="ID",e.IE="IE",e.IL="IL",e.IN="IN",e.IQ="IQ",e.IS="IS",e.IT="IT",e.JM="JM",e.JO="JO",e.JP="JP",e.KE="KE",e.KG="KG",e.KH="KH",e.KI="KI",e.KM="KM",e.KN="KN",e.KR="KR",e.KW="KW",e.KZ="KZ",e.LA="LA",e.LB="LB",e.LC="LC",e.LI="LI",e.LK="LK",e.LR="LR",e.LS="LS",e.LT="LT",e.LU="LU",e.LV="LV",e.LY="LY",e.MA="MA",e.MC="MC",e.MD="MD",e.ME="ME",e.MG="MG",e.MH="MH",e.MK="MK",e.ML="ML",e.MN="MN",e.MO="MO",e.MR="MR",e.MT="MT",e.MU="MU",e.MV="MV",e.MW="MW",e.MX="MX",e.MY="MY",e.MZ="MZ",e.NA="NA",e.NE="NE",e.NG="NG",e.NI="NI",e.NL="NL",e.NO="NO",e.NP="NP",e.NR="NR",e.NZ="NZ",e.OM="OM",e.PA="PA",e.PE="PE",e.PG="PG",e.PH="PH",e.PK="PK",e.PL="PL",e.PS="PS",e.PT="PT",e.PW="PW",e.PY="PY",e.QA="QA",e.RO="RO",e.RS="RS",e.RW="RW",e.SA="SA",e.SB="SB",e.SC="SC",e.SE="SE",e.SG="SG",e.SI="SI",e.SK="SK",e.SL="SL",e.SM="SM",e.SN="SN",e.SR="SR",e.ST="ST",e.SV="SV",e.SZ="SZ",e.TD="TD",e.TG="TG",e.TH="TH",e.TJ="TJ",e.TL="TL",e.TN="TN",e.TO="TO",e.TR="TR",e.TT="TT",e.TV="TV",e.TW="TW",e.TZ="TZ",e.UA="UA",e.UG="UG",e.US="US",e.UY="UY",e.UZ="UZ",e.VC="VC",e.VE="VE",e.VN="VN",e.VU="VU",e.WS="WS",e.XK="XK",e.ZA="ZA",e.ZM="ZM",e.ZW="ZW",e}({});const gN=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Ru;switch(e){case bN.AD:return t.get("country.ad");case bN.AE:return t.get("country.ae");case bN.AG:return t.get("country.ag");case bN.AL:return t.get("country.al");case bN.AM:return t.get("country.am");case bN.AO:return t.get("country.ao");case bN.AR:return t.get("country.ar");case bN.AT:return t.get("country.at");case bN.AU:return t.get("country.au");case bN.AZ:return t.get("country.az");case bN.BA:return t.get("country.ba");case bN.BB:return t.get("country.bb");case bN.BD:return t.get("country.bd");case bN.BE:return t.get("country.be");case bN.BF:return t.get("country.bf");case bN.BG:return t.get("country.bg");case bN.BH:return t.get("country.bh");case bN.BI:return t.get("country.bi");case bN.BJ:return t.get("country.bj");case bN.BN:return t.get("country.bn");case bN.BO:return t.get("country.bo");case bN.BR:return t.get("country.br");case bN.BS:return t.get("country.bs");case bN.BT:return t.get("country.bt");case bN.BW:return t.get("country.bw");case bN.BY:return t.get("country.by");case bN.BZ:return t.get("country.bz");case bN.CA:return t.get("country.ca");case bN.CD:return t.get("country.cd");case bN.CG:return t.get("country.cg");case bN.CH:return t.get("country.ch");case bN.CI:return t.get("country.ci");case bN.CL:return t.get("country.cl");case bN.CM:return t.get("country.cm");case bN.CO:return t.get("country.co");case bN.CR:return t.get("country.cr");case bN.CV:return t.get("country.cv");case bN.CW:return t.get("country.cw");case bN.CY:return t.get("country.cy");case bN.CZ:return t.get("country.cz");case bN.DE:return t.get("country.de");case bN.DJ:return t.get("country.dj");case bN.DK:return t.get("country.dk");case bN.DM:return t.get("country.dm");case bN.DO:return t.get("country.do");case bN.DZ:return t.get("country.dz");case bN.EC:return t.get("country.ec");case bN.EE:return t.get("country.ee");case bN.EG:return t.get("country.eg");case bN.ES:return t.get("country.es");case bN.ET:return t.get("country.et");case bN.FI:return t.get("country.fi");case bN.FJ:return t.get("country.fj");case bN.FM:return t.get("country.fm");case bN.FR:return t.get("country.fr");case bN.GA:return t.get("country.ga");case bN.GB:return t.get("country.gb");case bN.GD:return t.get("country.gd");case bN.GE:return t.get("country.ge");case bN.GH:return t.get("country.gh");case bN.GM:return t.get("country.gm");case bN.GN:return t.get("country.gn");case bN.GQ:return t.get("country.gq");case bN.GR:return t.get("country.gr");case bN.GT:return t.get("country.gt");case bN.GW:return t.get("country.gw");case bN.GY:return t.get("country.gy");case bN.HK:return t.get("country.hk");case bN.HN:return t.get("country.hn");case bN.HR:return t.get("country.hr");case bN.HT:return t.get("country.ht");case bN.HU:return t.get("country.hu");case bN.ID:return t.get("country.id");case bN.IE:return t.get("country.ie");case bN.IL:return t.get("country.il");case bN.IN:return t.get("country.in");case bN.IQ:return t.get("country.iq");case bN.IS:return t.get("country.is");case bN.IT:return t.get("country.it");case bN.JM:return t.get("country.jm");case bN.JO:return t.get("country.jo");case bN.JP:return t.get("country.jp");case bN.KE:return t.get("country.ke");case bN.KG:return t.get("country.kg");case bN.KH:return t.get("country.kh");case bN.KI:return t.get("country.ki");case bN.KM:return t.get("country.km");case bN.KN:return t.get("country.kn");case bN.KR:return t.get("country.kr");case bN.KW:return t.get("country.kw");case bN.KZ:return t.get("country.kz");case bN.LA:return t.get("country.la");case bN.LB:return t.get("country.lb");case bN.LC:return t.get("country.lc");case bN.LI:return t.get("country.li");case bN.LK:return t.get("country.lk");case bN.LR:return t.get("country.lr");case bN.LS:return t.get("country.ls");case bN.LT:return t.get("country.lt");case bN.LU:return t.get("country.lu");case bN.LV:return t.get("country.lv");case bN.LY:return t.get("country.ly");case bN.MA:return t.get("country.ma");case bN.MC:return t.get("country.mc");case bN.MD:return t.get("country.md");case bN.ME:return t.get("country.me");case bN.MG:return t.get("country.mg");case bN.MH:return t.get("country.mh");case bN.MK:return t.get("country.mk");case bN.ML:return t.get("country.ml");case bN.MN:return t.get("country.mn");case bN.MO:return t.get("country.mo");case bN.MR:return t.get("country.mr");case bN.MT:return t.get("country.mt");case bN.MU:return t.get("country.mu");case bN.MV:return t.get("country.mv");case bN.MW:return t.get("country.mw");case bN.MX:return t.get("country.mx");case bN.MY:return t.get("country.my");case bN.MZ:return t.get("country.mz");case bN.NA:return t.get("country.na");case bN.NE:return t.get("country.ne");case bN.NG:return t.get("country.ng");case bN.NI:return t.get("country.ni");case bN.NL:return t.get("country.nl");case bN.NO:return t.get("country.no");case bN.NP:return t.get("country.np");case bN.NR:return t.get("country.nr");case bN.NZ:return t.get("country.nz");case bN.OM:return t.get("country.om");case bN.PA:return t.get("country.pa");case bN.PE:return t.get("country.pe");case bN.PG:return t.get("country.pg");case bN.PH:return t.get("country.ph");case bN.PK:return t.get("country.pk");case bN.PL:return t.get("country.pl");case bN.PS:return t.get("country.ps");case bN.PT:return t.get("country.pt");case bN.PW:return t.get("country.pw");case bN.PY:return t.get("country.py");case bN.QA:return t.get("country.qa");case bN.RO:return t.get("country.ro");case bN.RS:return t.get("country.rs");case bN.RW:return t.get("country.rw");case bN.SA:return t.get("country.sa");case bN.SB:return t.get("country.sb");case bN.SC:return t.get("country.sc");case bN.SE:return t.get("country.se");case bN.SG:return t.get("country.sg");case bN.SI:return t.get("country.si");case bN.SK:return t.get("country.sk");case bN.SL:return t.get("country.sl");case bN.SM:return t.get("country.sm");case bN.SN:return t.get("country.sn");case bN.SR:return t.get("country.sr");case bN.ST:return t.get("country.st");case bN.SV:return t.get("country.sv");case bN.SZ:return t.get("country.sz");case bN.TD:return t.get("country.td");case bN.TG:return t.get("country.tg");case bN.TH:return t.get("country.th");case bN.TJ:return t.get("country.tj");case bN.TL:return t.get("country.tl");case bN.TN:return t.get("country.tn");case bN.TO:return t.get("country.to");case bN.TR:return t.get("country.tr");case bN.TT:return t.get("country.tt");case bN.TV:return t.get("country.tv");case bN.TW:return t.get("country.tw");case bN.TZ:return t.get("country.tz");case bN.UA:return t.get("country.ua");case bN.UG:return t.get("country.ug");case bN.US:return t.get("country.us");case bN.UY:return t.get("country.uy");case bN.UZ:return t.get("country.uz");case bN.VC:return t.get("country.vc");case bN.VE:return t.get("country.ve");case bN.VN:return t.get("country.vn");case bN.VU:return t.get("country.vu");case bN.WS:return t.get("country.ws");case bN.XK:return t.get("country.xk");case bN.ZA:return t.get("country.za");case bN.ZM:return t.get("country.zm");case bN.ZW:return t.get("country.zw");default:return e}},fN=e=>Object.values(bN).includes(e),vN=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.Ru;switch(e){case Xi.sX.TrendingSongs:return s.get("country-hubs.trending-songs-title",{country:gN(t,s)});case Xi.sX.Charts:return s.get("country-hubs.featured-charts-title",{country:gN(t,s)});case Xi.sX.PopularArtists:return s.get("country-hubs.popular-artists-title",{country:gN(t,s)});case Xi.sX.PopularAlbums:return s.get("country-hubs.popular-albums-title",{country:gN(t,s)});default:throw new Error(`Unsupported content id ${e}`)}};var EN=s(58318);const wN="zz4xX0vglGAbaYpSSb8t",SN="KmlmbpBUbrQAZJYgYusu",RN="baqsItZ79zFx7knS7iP6",TN="ABQoNMRTRTa83vyYljUK",AN="UsPa2Ge3d7XJtKkEb38L",xN="IeZcqyS49A4h53pr26dj",CN="tH3xt7TlxToj5r9DAKVQ",IN="I1os_wQ5mY1n4ZwtlBkm",kN="xMvJpo_fpG9lGFd76fu9",NN="g2h1d8QLSycSZjnQbp_m",PN="CQaFEvUNiEiOGW9dUemw",LN="RQhgO2Z60VFanRyukSyg";var jN=s(45951);const ON=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),DN=e=>{let{isOpen:t,onClose:s}=e;const n=(0,ar.s9)(),i=(0,H.useRef)(null),a=(0,jN.Y)(),o=(0,H.useMemo)((()=>Object.values(bN).map((e=>({name:gN(e),code:e,normalizedName:ON(gN(e))}))).sort(((e,t)=>e.name.localeCompare(t.name,a,{sensitivity:"accent"})))),[a]),[r,l]=(0,H.useState)(""),d=(0,H.useDeferredValue)(r),[c,u]=(0,H.useState)(o),[p,m]=(0,H.useState)(!1),[h,_]=(0,H.useState)(!1),y=(0,H.useMemo)((()=>{const e=ON(d);return o.filter((t=>t.normalizedName.includes(e.trim())))}),[o,d]);(0,H.useEffect)((()=>{0===y.length?m(!0):m(!1),u(y)}),[y]);const b=e=>{h||l(e)},g=()=>{b(""),s(),i.current&&(i.current.scrollTop=0)};return(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsx)(l_.s,{active:t,children:(0,Y.jsx)("div",{className:rr()(wN,SN,"encore-dark-theme"),role:"presentation",ref:i,children:(0,Y.jsxs)("div",{role:"dialog","aria-modal":!0,"aria-labelledby":"country-selection-title",children:[(0,Y.jsx)("div",{className:RN,children:(0,Y.jsxs)("div",{className:TN,children:[(0,Y.jsx)(nr.H,{semanticColor:"textBase",iconOnly:qA.G,onClick:g,"aria-label":n.get("navbar.go-back")}),(0,Y.jsx)(EN.Z,{className:AN,placeholder:n.get("concert.location.search.placeholder"),onChange:e=>b(e.target.value),onCompositionStart:()=>{_(!0)},onCompositionEnd:e=>{_(!1),l(e.currentTarget.value)},value:r,"data-testid":"search-input"})]})}),(0,Y.jsxs)("div",{className:xN,children:[p&&(0,Y.jsxs)("div",{className:CN,children:[(0,Y.jsx)(_C.b,{size:"small",className:IN}),(0,Y.jsx)(tr.E,{as:"p",children:p&&n.get("concert.error.no_locations_found_subtitle")})]}),(0,Y.jsx)("ul",{className:kN,children:c.map((e=>(0,Y.jsx)(tr.E,{as:"li",className:NN,children:(0,Y.jsx)(Mc.N,{to:`/popular-in/${e.code.toLowerCase()}`,onClick:()=>{g()},children:e.name})},e.code)))})]}),(0,Y.jsx)(nr.H,{className:PN,onClick:()=>{g()},"aria-label":n.get("close"),children:(0,Y.jsx)(tr.E,{className:LN,variant:"bodyMedium",children:n.get("close")})})]})})})})},MN="fumUT3H9UxfWukwPEQwJ",UN="_GdCNEgp7ZHv48ms6YLZ",BN=e=>{let{loading:t,disabled:s,sources:n,name:i,uri:a,artistNames:o,onClick:r}=e;return a?(0,Y.jsx)(dp.Z,{disabled:s,onClick:r,children:(0,Y.jsxs)(Mc.N,{to:a,children:[(0,Y.jsx)(cp.M,{sources:n,loading:t,Placeholder:(0,Y.jsx)(pp.s,{title:i,type:Ti.c.TRACK})}),(0,Y.jsx)(up.Z,{children:i}),(0,Y.jsx)(sT.v,{children:o})]})}):null};function GN(e){return{url:e.url,width:e.width,height:e.height}}function FN(e){var t;const s=function(e){var t,s,n,i;switch(e.__typename){case"Artist":return(null===(t=e.visuals.avatarImage)||void 0===t?void 0:t.sources.map(GN))??[];case"Album":return(null===(s=e.coverArt)||void 0===s?void 0:s.sources.map(GN))??[];case"Track":return(null===(n=e.albumOfTrack)||void 0===n||null===(n=n.coverArt)||void 0===n?void 0:n.sources.map(GN))??[];case"Playlist":return(null===(i=e.images.items[0])||void 0===i?void 0:i.sources.map(GN))??[];default:return[]}}(e);switch(e.__typename){case"Album":return(0,Y.jsx)(TE.a,{uri:e.uri,name:e.name,sources:s,type:e.type,year:null===(t=e.date)||void 0===t?void 0:t.year},e.uri);case"Artist":return(0,Y.jsx)(XE.a,{uri:e.uri,name:e.profile.name,sources:s},e.uri);case"Playlist":return(0,Y.jsx)(kw.B,{uri:e.uri,name:e.name,sources:s},e.uri);case"Track":return(0,Y.jsx)(BN,{uri:e.uri,name:e.name,sources:s,artistNames:e.artists.items.map((e=>e.profile.name)).join(c.Ru.getSeparator())},e.uri);default:return null}}const VN=e=>{let{contentId:t,countryCode:s,shelfItems:n}=e;return(0,Y.jsx)(Zu.$,{title:vN(t,s)??"",children:n.items.map((e=>function(e){return FN(e)}(e.data)))})},HN=()=>{const[e,t]=(0,H.useState)(!1),[s,n]=(0,H.useState)(""),a=(0,i.wA)(),o=(0,fr.Zp)(),r=(0,fr.zy)(),{country:l=""}=(0,fr.g)(),p=(0,i.d4)((e=>{var t;return null===(t=e.countryHubs.page)||void 0===t?void 0:t.data})),m=(0,i.d4)((e=>{var t;return null===(t=e.countryHubs.page)||void 0===t?void 0:t.status})),h=m===Bs.LOADING,_=(0,i.d4)((e=>e.countryHubs.countryCode)),y=null==p?void 0:p.shelves;(0,H.useEffect)((()=>{p&&!h&&n(p.country.hexColor)}),[p,h]);const b=null==l?void 0:l.toUpperCase(),g=((e,t)=>{const s=(0,i.d4)((e=>{var t;return null===(t=e.session.me)||void 0===t||null===(t=t.profile)||void 0===t?void 0:t.id})),n=(0,i.d4)((e=>e.session.country)),a=(0,ip.V)();return(0,Wd.DO)((()=>{(0,u.fE)({metric_type:pn.MetricTypes.COUNTER,what:"mwp-country-hub-component-error",value:1,tags:{entityType:t}});const i={category:"country_hub_render_error",label:"mwp",os:(0,ap.f)(),context:JSON.stringify({countryCode:e}),country:s?n:"",sp_t:(0,F.v8)("sp_t")};return a?(0,Br.r)(i):(0,Ur._)(i)}))})(b,Ti.c.COUNTRY_HUB),f=(e=>{const t=(0,d.NC)(W.g7),s=(0,ip.V)();return(0,Wd.DO)((()=>{const n={category:"country_hub_pageview",action:"viewed",variant:t,label:"mwp",os:(0,ap.f)(),context:e,sp_t:(0,F.v8)("sp_t")};return s?(0,Br.r)(n):(0,Ur._)(n)}))})(r.pathname),v=fN(b)?b:null;if((0,H.useEffect)((()=>{p&&fN(b)&&f()}),[p,b,f]),(0,H.useEffect)((()=>{v&&(p&&v===_||a(function(e){return{type:Ds,countryCode:e}}(v)))}),[a,p,v,_]),(0,H.useEffect)((()=>{v||o("/")}),[v,o]),!v)return null;const E=gN(v),w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Ru;return t.get("country-hubs.hub-title",{country:gN(e,t)})}(v),S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.Ru;return t.get("country-hubs.hub-description",{country:gN(e,t)})}(v);return(0,Y.jsx)(rp.tH,{onError:g,fallback:()=>(0,Y.jsx)(Y.Fragment,{}),children:(0,Y.jsxs)(Tp.h,{children:[(0,Y.jsxs)(Yc.z,{backgroundColor:(null==p?void 0:p.country.hexColor)||s,children:[(0,Y.jsx)(DS.m,{children:w}),(0,Y.jsx)(tr.E,{variant:"bodySmall",children:S})]}),(0,Y.jsxs)(Bc.A,{children:[(0,Y.jsx)(Qg.n,{iconLeading:MA.t,onClick:()=>t(!e),size:"small",children:E}),(0,Y.jsx)("div",{role:"presentation","data-open":e?"open":"closed",className:rr()({[MN]:e,[UN]:!e}),children:(0,Y.jsx)(DN,{isOpen:e,onClose:()=>{t(!1)}})}),h?(0,Y.jsxs)("span",{"data-testid":"country-hubs-loader",children:[(0,Y.jsx)(np,{lineHeight:32}),(0,Y.jsx)(np,{lineHeight:32}),(0,Y.jsx)(np,{lineHeight:32}),(0,Y.jsx)(np,{lineHeight:32})]}):(0,Y.jsx)(Y.Fragment,{children:null==y?void 0:y.map((e=>(0,Y.jsx)(VN,{contentId:e.contentId,shelfItems:e.items,countryCode:v},e.contentId)))})]}),(0,Y.jsx)(xp.h,{})]})})};var YN=s(36995),KN=s(23889),zN=s(26496);const WN=(0,zN.Ay)({resolved:{},chunkName:()=>"mwp-artist-page",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:()=>Promise.all([s.e(112),s.e(85)]).then(s.bind(s,99721)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve:()=>99721},{resolveComponent:e=>e.ArtistEntityView}),qN=(0,zN.Ay)({resolved:{},chunkName:()=>"mwp-home-page",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:()=>Promise.all([s.e(112),s.e(229)]).then(s.bind(s,48496)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve:()=>48496},{resolveComponent:e=>e.HomePage}),QN=(0,zN.Ay)({resolved:{},chunkName:()=>"mwp-user-profile",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:()=>s.e(987).then(s.bind(s,83454)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve:()=>83454},{resolveComponent:e=>e.UserEntityView}),$N=(0,zN.Ay)({resolved:{},chunkName:()=>"mwp-discography-page",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:()=>s.e(459).then(s.bind(s,40333)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve:()=>40333},{resolveComponent:e=>e.DiscographyView}),ZN=(0,zN.Ay)({resolved:{},chunkName:()=>"mwp-search-landing",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:()=>s.e(992).then(s.bind(s,16931)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve:()=>16931},{resolveComponent:e=>e.SearchLanding}),XN=(0,zN.Ay)({resolved:{},chunkName:()=>"mwp-search-results",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:()=>Promise.all([s.e(112),s.e(571)]).then(s.bind(s,75788)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve:()=>75788},{resolveComponent:e=>e.SearchPage}),JN=(0,zN.Ay)({resolved:{},chunkName:()=>"mwp-download-page",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:()=>s.e(310).then(s.bind(s,24530)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve:()=>24530},{resolveComponent:e=>e.DownloadPage}),eP=(0,zN.Ay)({resolved:{},chunkName:()=>"mwp-browse-page",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:()=>Promise.all([s.e(112),s.e(920)]).then(s.bind(s,33042)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve:()=>33042},{resolveComponent:e=>e.BrowsePage}),tP=(0,zN.Ay)({resolved:{},chunkName:()=>"mwp-section-page",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!s.m[t]},importAsync:()=>Promise.all([s.e(112),s.e(597)]).then(s.bind(s,19399)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return s(t)},resolve:()=>19399},{resolveComponent:e=>e.SectionPage});var sP=s(64263);const nP=()=>{const e=(0,ar.s9)(),t=(0,i.d4)((e=>e.session)),{enableShows:s}=t.features,n=t.isAnonymous,a=(0,YN.L)(),o=(0,KN.t)(),r=(0,sP.B)();return(0,Y.jsx)(fr.BV,{children:(0,Y.jsxs)(fr.qh,{element:(0,Y.jsx)(Wf,{}),children:[(0,Y.jsx)(fr.qh,{path:"/",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{pageId:ac.$h.HOME,navigationalRoot:tc.HOME,entityUri:sc.SPOTIFY_APP_HOME,children:(0,Y.jsx)(qN,{})})})}),(0,Y.jsx)(fr.qh,{path:"/search",element:(0,Y.jsx)($f,{message:e.get("mwp.playback.error.refresh"),primaryButtonTitle:e.get("mwp.nav.home"),primaryButtonNavigatePath:"/",children:(0,Y.jsx)(uc,{pageId:ac.$h.SEARCH,navigationalRoot:tc.SEARCH,entityUri:sc.SPOTIFY_APP_SEARCH,children:(0,Y.jsx)(ZN,{})})})}),(0,Y.jsx)(fr.qh,{path:"/search/:type/:query?",element:(0,Y.jsx)($f,{message:e.get("mwp.playback.error.refresh"),primaryButtonTitle:e.get("mwp.nav.home"),primaryButtonNavigatePath:"/",children:(0,Y.jsx)(uc,{pageId:ac.$h.SEARCH,navigationalRoot:tc.SEARCH,entityUri:sc.SPOTIFY_APP_SEARCH,children:(0,Y.jsx)(XN,{})})})}),(0,Y.jsx)(fr.qh,{path:"/playlist-format/:title/:category",element:(0,Y.jsx)(hc,{isAnonymous:n})}),(0,Y.jsx)(fr.qh,{path:"/playlist-format/:title",element:(0,Y.jsx)(hc,{isAnonymous:n})}),(0,Y.jsx)(fr.qh,{path:"/playlist/:playlistId",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{pageId:ac.$h.PLAYLIST,navigationalRoot:tc.HOME,children:(0,Y.jsx)(OS,{})})})}),(0,Y.jsx)(fr.qh,{path:"/user/:userId/playlist/:playlistId",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{pageId:ac.$h.PLAYLIST,navigationalRoot:tc.HOME,children:(0,Y.jsx)(OS,{})})})}),(0,Y.jsx)(fr.qh,{path:"/show/:showId",element:s?(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,children:(0,Y.jsx)(EA,{})})}):(0,Y.jsx)(fr.C5,{to:"/",replace:!0})}),(0,Y.jsx)(fr.qh,{path:"/episode/:episodeId",element:s?(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{pageId:ac.$h.EPISODE,navigationalRoot:tc.HOME,children:(0,Y.jsx)(Cp,{})})}):(0,Y.jsx)(fr.C5,{to:"/",replace:!0})}),(0,Y.jsx)(fr.qh,{path:"/collection/tracks",element:n?(0,Y.jsx)(fr.C5,{to:"/",replace:!0}):(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{pageId:ac.$h.PLAYLIST,navigationalRoot:tc.LIKED_SONGS,children:(0,Y.jsx)(zS,{})})})}),(0,Y.jsx)(fr.qh,{path:"/user/:userId/collection/*",element:n?(0,Y.jsx)(fr.C5,{to:"/",replace:!0}):(0,Y.jsx)(fr.C5,{to:"/collection/tracks",replace:!0})}),(0,Y.jsx)(fr.qh,{path:"/user/:entityId",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{pageId:ac.$h.PROFILE,navigationalRoot:tc.PROFILE,children:(0,Y.jsx)(QN,{})})})}),(0,Y.jsx)(fr.qh,{path:"/track/:entityId",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(Ow,{})})}),(0,Y.jsx)(fr.qh,{path:"/artist/:entityId",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,pageId:ac.$h.ARTIST,children:(0,Y.jsx)(WN,{})})})}),(0,Y.jsx)(fr.qh,{path:"/artist/:artistId/discography/:type",element:r?(0,Y.jsx)($f,{children:(0,Y.jsx)($N,{})}):(0,Y.jsx)(fr.C5,{to:"/",replace:!0})}),(0,Y.jsx)(fr.qh,{path:"/album/:entityId",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,pageId:ac.$h.ALBUM,children:(0,Y.jsx)(dR,{})})})}),(0,Y.jsx)(fr.qh,{path:"/artist/:artistId/concerts",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,pageId:ac.$h.ARTIST,children:(0,Y.jsx)(cI,{})})})}),(0,Y.jsx)(fr.qh,{path:"/concerts/location/:location",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,pageId:ac.$h.CONCERTS,children:(0,Y.jsx)(NC,{})})})}),(0,Y.jsx)(fr.qh,{path:"/concerts/location/:location/genre/:id",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,pageId:ac.$h.CONCERTS,children:(0,Y.jsx)(NC,{})})})}),(0,Y.jsx)(fr.qh,{path:"/concerts/genre/:id",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,pageId:ac.$h.CONCERTS,children:(0,Y.jsx)(NC,{})})})}),(0,Y.jsx)(fr.qh,{path:"/concerts",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,pageId:ac.$h.CONCERTS,children:(0,Y.jsx)(NC,{})})})}),(0,Y.jsx)(fr.qh,{path:"/concert/:concertId",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,pageId:ac.$h.CONCERTS_CONCERT,children:(0,Y.jsx)(yN,{})})})}),(0,Y.jsx)(fr.qh,{path:"/popular-in/:country",element:a?(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,children:(0,Y.jsx)(HN,{})})}):(0,Y.jsx)(fr.C5,{to:"/",replace:!0})}),W.KX&&(0,Y.jsx)(fr.qh,{path:"/venue/:venueId/*",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,children:(0,Y.jsx)(FA,{})})})}),(0,Y.jsx)(fr.qh,{path:"/download",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,pageId:ac.$h.DOWNLOAD_MOBILE,children:(0,Y.jsx)(JN,{})})})}),(0,Y.jsx)(fr.qh,{path:"/__noul__/*",element:(0,Y.jsx)(_c,{})}),(0,Y.jsx)(fr.qh,{path:"/__noul__",element:(0,Y.jsx)(_c,{})}),_v.NW.map((e=>{return t=e,(0,Y.jsx)(fr.qh,{path:`/${_v.CT}${t}`,element:(0,Y.jsx)($f,{children:(0,Y.jsx)(qN,{})})},`${t}_home`);var t})),(0,Y.jsx)(fr.qh,{path:"/genre/:genreId",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,pageId:ac.$h.GENRE,children:(0,Y.jsx)(eP,{})})})}),(0,Y.jsx)(fr.qh,{path:"/:localeFromPath/track/:entityId",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,pageId:ac.$h.TRACK,children:(0,Y.jsx)(Ow,{})})})}),(0,Y.jsx)(fr.qh,{path:"/:localeFromPath/artist/:entityId",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,pageId:ac.$h.ARTIST,children:(0,Y.jsx)(WN,{})})})}),(0,Y.jsx)(fr.qh,{path:"/:localeFromPath/album/:entityId",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,pageId:ac.$h.ALBUM,children:(0,Y.jsx)(dR,{})})})}),(0,Y.jsx)(fr.qh,{path:"/:localeFromPath/popular-in/:country",element:a?(0,Y.jsx)($f,{children:(0,Y.jsx)(HN,{})}):(0,Y.jsx)(fr.C5,{to:"/",replace:!0})}),(0,Y.jsx)(fr.qh,{path:"/prerelease/:prereleaseId",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(uc,{navigationalRoot:tc.HOME,pageId:ac.$h.PRERELEASE,children:(0,Y.jsx)(TI,{})})})}),o&&(0,Y.jsx)(fr.qh,{path:"/section/:sectionId",element:(0,Y.jsx)($f,{children:(0,Y.jsx)(tP,{})})}),(0,Y.jsx)(fr.qh,{path:"*",element:(0,Y.jsx)(fr.C5,{to:"/",replace:!0})})]})})},iP=e=>{let{history:t,children:s}=e;const[n,i]=(0,H.useState)((()=>({location:t.location,action:t.action})));return(0,H.useLayoutEffect)((()=>{t.listen(((e,t)=>i({location:e,action:t})))}),[t]),(0,Y.jsx)(fr.Ix,{location:n.location,navigationType:n.action,navigator:t,children:s})};var aP=s(37813),oP=s(60628);const rP=e=>{var t;const s=e.pathname.split("/"),n=s.pop(),i=s.pop();if(i&&n)return null===(t=(0,Ze.o_h)(`spotify:${i}:${n}`))||void 0===t?void 0:t.toURI()};const lP=(e,t)=>{const s=new URL(window.location.href),n=s.searchParams.get("dlsi")||md().create().hex.replace(/-/g,"").substr(0,16),i={link:window.location.href,entity_uri:rP(s),source:window.navigator.userAgent,deeplink_session_id:n};t?e.send((0,oP.W)(i)):e.send((0,aP.N)(i))},dP=e=>e.searchParams.has("si")||"1"===e.searchParams.get("go")||"1"===e.searchParams.get("wta_deep_link");var cP=s(92146);async function uP(){try{const e=new AbortController,t=setTimeout((()=>e.abort()),4e3),s=await fetch("/api/server-time",{signal:e.signal});clearTimeout(t);const n=await s.json(),i=Number(n.serverTime);return i&&!isNaN(i)?i:null}catch(e){return null}}function pP(e,t){const s=yP();return pP=function(t,n){let i=s[t-=492];if(void 0===pP.oAQtdT){var a=function(e){let t="",s="",n=t+a;for(let i,a,o=0,r=0;a=e.charAt(r++);~a&&(i=o%4?64*i+a:a,o++%4)?t+=n.charCodeAt(r+10)-10!=0?String.fromCharCode(255&i>>(-2*o&6)):o:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let i=0,a=t.length;i<a;i++)s+="%"+("00"+t.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(s)};pP.MyGiFo=a,e=arguments,pP.oAQtdT=!0}const o=t+s[0],r=e[o];if(r)i=r;else{const t=function(e){this.UvgxNs=e,this.JuYnBI=[1,0,0],this.mhqBXZ=function(){return"newState"},this.mKAdpI="\\w+ *\\(\\) *{\\w+ *",this.rGaYSu="['|\"].+['|\"];? *}"};t.prototype.SaYbct=function(){const e=new RegExp(this.mKAdpI+this.rGaYSu).test(this.mhqBXZ.toString())?--this.JuYnBI[1]:--this.JuYnBI[0];return this.YaUPCt(e)},t.prototype.YaUPCt=function(e){return Boolean(~e)?this.sHTjZa(this.UvgxNs):e},t.prototype.sHTjZa=function(e){for(let t=0,s=this.JuYnBI.length;t<s;t++)this.JuYnBI.push(Math.round(Math.random())),s=this.JuYnBI.length;return e(this.JuYnBI[0])},new t(pP).SaYbct(),i=pP.MyGiFo(i),e[o]=i}return i},pP(e,t)}!function(e){const t=1289,s=1310,n=1311,i=1323,a=1319,o=1323,r=1306,l=1319,d=1315,c=1322,u=1313,p=1312,m=1303,h=728,_=709,y=722,b=807,g=224;function f(e,t,s,n){return pP(s-g,e)}function v(e,t,s,n){return pP(e-b,s)}const E=e();for(;;)try{if(497175===-parseInt(v(1302,0,t))/1+-parseInt(v(s,0,n))/2+-parseInt(v(i,0,1334))/3+parseInt(v(a,0,o))/4+parseInt(v(r,0,l))/5*(parseInt(v(d,0,c))/6)+-parseInt(v(u,0,1305))/7*(parseInt(v(p,0,m))/8)+parseInt(f(736,0,h))/9*(parseInt(f(_,0,y))/10))break;E.push(E.shift())}catch(w){E.push(E.shift())}}(yP);const mP=function(){const e=287,t=284;let s=!0;return function(n,i){const a=s?function(){if(i){const o=i[(s=-e,a=-t,pP(s- -798,a))](n,arguments);return i=null,o}var s,a}:function(){};return s=!1,a}}()(void 0,(function(){const e=1266,t=252,s=272,n=273,i=270,a=258,o=1262,r=1273,l=764;function d(e,t,s,n){return pP(n-l,t)}const c={};function u(e,t,s,n){return pP(e- -772,n)}c[d(0,1279,0,1281)]="(((.+)+)+)+$";const p=c;return mP[d(0,1274,0,e)]()[u(-263,0,0,-t)](u(-s,0,0,-n)+"+$")[u(-i,0,0,-a)]().constructor(mP)[d(0,o,0,r)](p[d(0,1274,0,1281)])}));function hP(e,t,s,n){return pP(n-697,t)}mP();const _P={};function yP(){const e=["mti1zKvUsg9N","kcGOlISPkYKRkq","DMfSAwrvBNrPBa","Dg9tDhjPBMC","mZGZmJmWDxDwD21p","mtHxuNDNvwe","nJGYota0ogP3wNf1tG","n0fVCvf2AW","pw46yInpDuvMsa","nJe4nZHkveToA0m","C2vHCMnO","C2vJCMv0","yxbWBhK","odKZntG4t0PYz0Hp","vda5oJaWoJaWlG","xgzfxsLLkKS","vJfenLCYshK0qa","mtm2mJC3ne51rLzAAq","ruL1ChK","osSKuwfinsLooa","mdaWwG","BwvAy0jCDgXvrG","ndK5nZyXwe1Vswni","DMvYC2LVBG","C2vJCMv0CW","mtaWnZyWotblBuPXq2K"];return(yP=function(){return e})()}_P[vP(442,442,443,437)]=hP(0,1207,0,1204)+hP(0,1199,0,1211),_P[hP(0,1197,0,1193)]=10;const bP={};bP[vP(442,453,444,438)]=hP(0,1181,0,1191)+vP(447,442,459,434)+vP(424,422,419,412),bP.version=9;const gP={};gP[vP(442,451,444,431)]=[37,84,32,76,87,90,87,47,13,75,48,54,44,28,19,21,22],gP[hP(0,1191,0,1193)]=8;const fP={};function vP(e,t,s,n){return pP(e- -68,n)}fP[hP(0,1186,0,1198)]="2025-07-07"+vP(445,433,443,445)+vP(425,434,435,436),fP[hP(0,1190,0,1194)]=[_P,bP,gP];const EP=fP;var wP=s(84686).hp;function SP(){const e=["AM9PBG","zuHNrvG","yMzWv1q","r1nTEeq","mtC3mdm5oxnNC3nZuG","C2vYDMvYvgLTzq","y29UC3rYDwn0BW","vNbLD0u","sfrjt1a","wLney0y","wvL2qwK","Dg9tDhjPBMC","Ahr0Chm6lY9VCa","v2DHyK8","zw50AwzPzxi","DMfSAwrHDgLVBG","wKn4yMi","AvnOvu0","mZq5odyXoePOAvDVtW","AujZs0W","CeTesfO","zxHfzMe","Cw5isvu","DgLTzxn0yw1W","yxjHBwv0zxjZ","r0PYzMi","BM93","mte5nJmXy1ztEeDs","D2L0Ag91De1HCG","q2vLA1u","Ag9YAxPHDgLVBG","mZa1mZbwquDYBg0","C2vUza","lMnVBq","DxrMoa","y0rPs3q","n0zrAxnNyG","C3rYAw5N","l2fWAs9SB2DVDq","BgDIvw0","D2L0AeHVC3q","Aw5PDa","C2vHCMnO","ue1YAxa","yujPEe8","rgD2DhK","zgLNAxrZ","l2fWAs90B2TLBG","B3jPz2LU","A2v0","tKPQs0C","s3jWD1C","v2LUzg93","s2rAt1y","D2jvz1K","D2L0AeHVC3rjza","DMfSAwrvBNrPBa","BgvUz3rO","BwfW","DMvYC2LVBG","nZq0otG1nLj5sfP6Cq","D2L0AfbHDgG","tg1OqxG","u1zSwee","D2L0Ag91Def1Da","wLvUv3q","CvvgwNO","v09Htuu","zxvSDe0","z2vUzxjHDgu","D0P5Exy","CgvYAw9K","vuzdB1a","rw1dAhK","sKPZsMy","mtjhrNLtvhC","D2L0AevUzhbVAq","mJi4ndu1nfLZu25OBq","yNvPBgq","EwTbAfC","C2vJCMv0","zw4UC3bVDgLMEq","ywXNB3jPDgHT","Dw5HDMfPBgfIBa","BKvkwNm","BevVu1C","mtyZmti0mhnLBxPxBW","ELPJr3O","D2L0Aff1zxj5ua","zNjVBq","y2HHCKnVzgvbDa","yxbWBhK","BNrjzgvUDgLMAq","zNjVBuHLEa","yxHHs0W","u0Hbmq","mtb3AvfYDMe","vMjHC0G","B2PlDvO","qxrdvw0","kcGOlISPkYKRkq"];return(SP=function(){return e})()}function RP(e){const t=561,s=512,n=564,i=564,a=305,o=279,r=282,l=342,d=345,c=362,u=343,p=343,m=309,h=293,_=259,y=312,b=335,g=348,f=357,v=344,E=306,w=305,S=333,R=592,T=622,A=554,x=593,C=571,I=272,k=236,N=599,P=359,L=614,j=649,O=569,D=589,M=611,U=595,B=562,G=594,F=558,V=533,H=297,Y=281,K=292,z=342,W=650,q=641,Q=347,$=560,Z=308,X=642,J=625,ee=250,te=1370,se=1350,ne=1394,ie=1305,ae=1367,oe=1328,re=1415,le=731,de=162,ce=170,ue=680,pe=247,me=287,he=282,_e=170,ye=369,be=285,ge=309,fe=281,ve=264,Ee=227,we=175,Se=196,Re=206,Te=221,Ae=210,xe=178,Ce=131,Ie=184,ke=196,Ne=314,Pe=255,Le=282,je=213,Oe=310,De=301,Me=307,Ue=276,Be=209,Ge=646,Fe=100,Ve=126,He=1226,Ye=1216,Ke=1176,ze=1142,We=387,qe=372,Qe=390,$e=412,Ze=345,Xe=391,Je=410,et=540,tt=515,st=557,nt=375,it=447,at=383,ot=411,rt=530,lt=369,dt=272,ct={eultM:function(e,t){return e===t},VbasH:mt(-278,-323,-272,-229),CeekU:_t(t,s,n,i)+mt(-300,-a,-o,-r)+mt(-348,-l,-d,-c),lbNnK:mt(-u,-390,-p,-336)+"t",ZWXqW:"(((.+)+)+)+$",GSmxD:mt(-m,-h,-_,-y),ZCxbb:mt(-342,-b,-g,-f),wJyyv:function(e,t){return e^t},zZcGz:function(e,t){return e+t},WgabO:function(e,t){return e(t)},nEJZs:function(e,t){return e*t},aBixO:function(e,t,s){return e(t,s)},lFDjn:function(e){return e()},HTIOP:mt(-v,-E,-w,-S),NJjKG:function(e,t){return e!==t},ZUnWt:_t(R,T,A,544),EmChy:"hex"},ut=function(){const e=1515,t=472,s=299,n=344,i=304,a=256,o=302,r=335,l=290,d=274,c=337,u=296,p=269,m=332,h=283,_=232,y=245,b=181,g=236,f=272,v=241,E=262,w=266,S=178,R=220,T=240,A=247,x=277,C=233,I=210,k=235,N=286,P=287,L=268,j=237,O=161,D=191,M=490,U=14,B={ojKuZ:function(e,t){return ct.eultM(e,t)},lEoSW:ct[V(He,Ye,Ke,ze)],exEfa:ct[G(We,qe,Qe,$e)],GJrfb:ct.lbNnK};function G(e,t,s,n){return _t(e- -D,n,s-M,n-U)}let F=!0;function V(e,t,s,n){return _t(s-rt,t,s-lt,n-dt)}return function(D,M){function U(e,t,s,n){return G(t-O,0,s-11,n)}const H={};H[z(-399,-Ze,-Xe,-Je)]=B[U(0,et,tt,st)],H[z(-nt,-it,-417,-417)]=B[z(-at,-it,-ot,-429)];const Y=H,K=F?function(){const e=314;function t(e,t,s,n){return U(0,t- -318,s-339,e)}function O(t,s,n,i){return U(0,i- -e,n-253,s)}if(!B[t(313,s,318)](t(n,i,a),B[O(0,o,r,l)]))return _0x322e8e[O(0,320,m,h)]()[O(0,253,_,y)](_0x41a5c1)["withHostId"+t(b,215,256)](Y[O(0,g,f,250)])[O(0,v,E,w)](Y[t(S,R,T)])[t(186,229,A)+O(0,x,C,254)]()[O(0,i,247,p)+O(0,I,214,k)]()[t(N,277,P)+"ntIdentifier"]("/api/logout")[O(0,283,L,j)]();if(M){const e=M[O(0,d,c,u)](D,arguments);return M=null,e}}:function(){};function z(s,n,i,a){return V(0,n,i- -e,a-t)}return F=!1,K}}(),pt=ct[_t(x,i,565,C)](ut,this,(function(){const e=787,t=41,s=25,n={};function i(e,t,s,n){return mt(s-Ge,t-Fe,s-Ve,e)}function a(n,i,a,o){return _t(o- -e,a,a-t,o-s)}n[i(pe,me,he)]=ct.ZWXqW;return ct[a(0,0,-157,-_e)](ct[i(396,402,ye)],ct[i(be,ge,fe)])?_0x5c14b2[a(0,0,-ve,-Ee)]()[a(0,0,-we,-Se)](CmfSek[a(0,0,-Re,-Te)])[a(0,0,-Ae,-227)]()[a(0,0,-xe,-Ce)+"r"](_0x581a7c)[a(0,0,-Ie,-ke)](CmfSek[i(Ne,Pe,Le)]):pt[a(0,0,-je,-227)]()[i(Oe,De,Me)](a(0,0,-156,-138)+"+$")[i(317,Pe,Ue)]().constructor(pt)[a(0,0,-Be,-196)](i(325,357,365)+"+$")}));ct.lFDjn(pt);function mt(e,t,s,n){return AP(e- -ue,n)}let ht=[];function _t(e,t,s,n){return AP(e-ee,t)}typeof e===ct[mt(-I,0,0,-k)]?ht=e.split("").map(((e,t)=>{function s(e,t,s,n){return _t(t-le,n,s-de,n-ce)}const n=e[s(0,te,1338,1381)](0);return ct[s(0,se,ne,ie)](n,ct[s(0,ae,oe,re)](t%33,9))})):ct[_t(N,607,614,565)](mt(-P,0,0,-379),ct[_t(L,j,O,609)])?ht=e[_t(607,D,M,U)](((e,t)=>e^t%33+9)):_0x5659cb=ct[_t(B,G,F,V)](_0x3d5f0c,ct[mt(-H,0,0,-Y)](_0x3ff082,1e3));const yt=wP[mt(-K,0,0,-z)](ht[_t(W,q)](""),mt(-Q,0,0,-388))[_t($,558)](ct[mt(-Z,0,0,-308)]);return cP.zh[_t(X,J)](yt)}function TP(e,t,s,n){return AP(e- -748,t)}function AP(e,t){const s=SP();return AP=function(t,n){let i=s[t-=310];if(void 0===AP.VrvuGr){var a=function(e){let t="",s="",n=t+a;for(let i,a,o=0,r=0;a=e.charAt(r++);~a&&(i=o%4?64*i+a:a,o++%4)?t+=n.charCodeAt(r+10)-10!=0?String.fromCharCode(255&i>>(-2*o&6)):o:0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let i=0,a=t.length;i<a;i++)s+="%"+("00"+t.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(s)};AP.LuqFTK=a,e=arguments,AP.VrvuGr=!0}const o=t+s[0],r=e[o];if(r)i=r;else{const t=function(e){this.NfRehM=e,this.eIGyVh=[1,0,0],this.BYHgyD=function(){return"newState"},this.hmOlwr="\\w+ *\\(\\) *{\\w+ *",this.WzQOlV="['|\"].+['|\"];? *}"};t.prototype.uQgXfI=function(){const e=new RegExp(this.hmOlwr+this.WzQOlV).test(this.BYHgyD.toString())?--this.eIGyVh[1]:--this.eIGyVh[0];return this.dAaVPk(e)},t.prototype.dAaVPk=function(e){return Boolean(~e)?this.KesIEO(this.NfRehM):e},t.prototype.KesIEO=function(e){for(let t=0,s=this.eIGyVh.length;t<s;t++)this.eIGyVh.push(Math.round(Math.random())),s=this.eIGyVh.length;return e(this.eIGyVh[0])},new t(AP).uQgXfI(),i=AP.LuqFTK(i),e[o]=i}return i},AP(e,t)}!function(e){const t=858,s=878,n=55,i=59,a=16,o=46,r=791,l=821,d=72,c=15,u=27,p=28,m=36,h=431;function _(e,t,s,n){return AP(t-504,e)}function y(e,t,s,n){return AP(t- -h,e)}const b=e();for(;;)try{if(872188===parseInt(_(800,830))/1*(parseInt(_(t,s))/2)+-parseInt(y(-52,-n))/3+-parseInt(y(-a,-o))/4+parseInt(y(-i,-101))/5+parseInt(_(r,l))/6+parseInt(_(886,839))/7*(parseInt(y(-90,-d))/8)+parseInt(y(c,-u))/9*(-parseInt(y(-p,-m))/10))break;b.push(b.shift())}catch(g){b.push(b.shift())}}(SP);const xP={};xP[TP(-378,-424)]=30,xP[TP(-367,-367)]=TP(-354,-341),xP[NP(-300,-345,-337,-396)]=6,xP[NP(-402,-376,-413,-367)+TP(-397,-411)]=2;const CP=xP,IP=EP.secrets.map((e=>({secret:RP(e[NP(-292,-311,-285,-284)]),version:e[NP(-291,-332,-314,-303)]})))[0],kP={};function NP(e,t,s,n){return AP(t- -690,e)}kP[TP(-378,-423)]=CP[TP(-378,-340)],kP[NP(-303,-309,-311,-285)]=CP[NP(-353,-309,-341,-295)],kP[TP(-403,-359)]=CP[TP(-403,-450)],kP[NP(-283,-311)]=IP[NP(-352,-311)];const PP=new cP._k(kP);new Date(EP[TP(-393,-388)]);function LP(){const e=775,t=753,s=778,n=513,i=504,a=498,o=707,r=547,l=503,d=737,c=750,u={};function p(e,t,s,n){return NP(s,t- -179)}function m(e,t,s,n){return NP(e,s-1072)}u[m(791,811,e,t)]=function(e,t){return e>t},u.qUFZz=function(e,t){return e!==t};const h=u;let _=h[m(s,0,e)](arguments[p(0,-n,-500)],0)&&h[p(0,-i,-a)](arguments[0],void 0)?arguments[0]:Date[m(679,0,o)]();const y={};return y[p(0,-r,-l)]=_,PP[m(d,0,c)](y)}function jP(e,t,s){const n=426,i=420,a=422,o=435,r=483,l=115,d=94,c=129,u=376,p=399,m=68,h=50,_=125,y=43,b=82,g=418,f=478,v=474,E=453,w=446,S=464,R=450,T=466,A=60,x={SVlXA:function(e,t){return e(t)},ZSDcF:C(-446,-416,-398,-426)+"e",cDiKt:function(e,t){return e(t)},kSmve:function(e,t){return e*t},eHgEX:function(e,t){return e(t)},KrpwW:function(e,t){return e!==t},VpewE:C(-n,-i,-a,-o)};function C(e,t,s,n){return TP(n- -A,t)}const I=Date[C(0,-439,0,-r)](),k=x[N(119,l,d,c)](LP,I);function N(e,t,s,n){return TP(e-T,s)}let P=x[C(0,-u,0,-p)];if(s&&!isNaN(s)){if(x[N(m,0,h)](x[N(125,0,143)],x[N(_,0,86)])){const e=_0x426f90[N(y,0,b)](),t=x[C(0,-g,0,-446)](_0x45b347,e);let s=x[N(127,0,136)];return _0x1410eb&&!x[C(0,-f,0,-v)](_0x36c58f,_0x1130e0)&&(s=x[C(0,-E,0,-w)](_0x4028fb,x.kSmve(_0xb222ae,1e3))),{reason:_0x3ec352,productType:_0xb20bbd,totp:t,totpServer:s,totpVer:x.cDiKt(_0x291249,_0x3c5c55.version)}}P=x[C(0,-S,0,-v)](LP,x.kSmve(s,1e3))}return{reason:e,productType:t,totp:k,totpServer:P,totpVer:String(IP[C(0,-i,0,-R)])}}const OP=TP(-402,-446);async function DP(e){const t=254,s=248,n=283,i=314,a=643,o=627,r=666,l=236,d=254,c=220,u=650,p=614,m=660,h=647,_=270,y=225,b=649,g=677,f=300,v=325,E=320,w=350,S=627,R=579,T=252,A=303,x=60,C=998,I={pKDHZ:function(e,t){return e(t)},OkPQU:function(e,t,s,n){return e(t,s,n)},YYvAi:L(600,631,648,683),KdZOV:function(e,t){return e===t},ykAhW:"Bearer"},k=new URL(OP,location[j(-t,-s,-n,-i)]),N=I[L(602,a,o,r)](za.x,Wa.I4),P=I.OkPQU(jP,I[j(-l,-d,-c,-s)],e,I[L(u,p,m,h)](N,null)||I.KdZOV(N,void 0)?void 0:N[j(-239,-_,-y,-243)]);function L(e,t,s,n){return NP(n,s-C)}function j(e,t,s,n){return NP(n,s-x)}k[L(0,0,b,g)]=new URLSearchParams(P)[j(-f,-v,-E,-w)]();const O=await I[L(0,0,S,R)](fetch,k),D={...await O.json()};return D.tokenType=I[j(0,0,-T,-A)],D}class MP{_token=null;_promise=null;_callbacks=[];_callbackResponses=[];async getToken(){let{preferCached:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&null!==this._token)return this._token;if(null!==this._promise)return this._promise;this._promise=this.loadToken();try{this._token=await this._promise,this._callbacks.forEach((e=>e(this._token))),this._callbackResponses.forEach((e=>e(this._token)))}catch(t){throw t instanceof O.O?this._callbackResponses.forEach((e=>{var s;return e(null===(s=t.response)||void 0===s?void 0:s.body)})):this._callbackResponses.forEach((e=>e(null))),t}finally{this._promise=null}return this._token}addOnTokenChanged(e){this._callbacks.push(e),e(this._token)}addOnNewTokenResponse(e){this._callbackResponses.push(e),e(this._token)}}class UP extends MP{constructor(e,t){var s;super(),this._productType=e,this.initialToken=t,(s=this.initialToken)&&["accessToken","accessTokenExpirationTimestampMs","isAnonymous"].every((e=>e in s))||(this.initialToken=null)}async loadToken(){if(null!==this.initialToken&&(e=this.initialToken,!(Date.now()>=e.accessTokenExpirationTimestampMs)))return this.initialToken;var e;return(await async function(e,t,s){const n=411,i=445,a=424,o=456,r=465,l=415,d=433,c=392,u=600,p=599,m=583,h=466,_=562,y=581,b=386,g=408,f=472,v=470,E=929;function w(e,t,s,n){return NP(n,s-E)}const S={WOaME:function(e){return e()},LmhAx:"https://open.spotify"+R(442,407,415,411)};function R(e,t,s,n){return TP(n-827,e)}const T=jP(t,s,await S[R(n,0,0,i)](uP));return e[R(a,0,0,o)]()[R(r,0,0,418)](j.Go)[R(l,0,0,d)+R(374,0,0,c)](S[w(0,0,u,644)])[w(0,0,p,m)](OP)[R(505,0,0,h)+w(0,0,_,y)](T).withoutMarket()[R(412,0,0,442)+R(b,0,0,g)]()["withEndpoi"+R(f,0,0,v)+"er"](OP)[R(428,0,0,410)]()}(oo.n.getInstance(),"transport",this._productType)).body}}const BP="data-translations-url-for-locale";async function GP(){const e=document.head.querySelector(`link[${BP}]`),t=e.getAttribute("href"),s=e.getAttribute(BP),n=new AbortController,i=setTimeout((()=>n.abort()),5e3),a=await fetch(t,{signal:n.signal}).then((e=>e.json())).catch((()=>({})));return clearTimeout(i),{translations:a,translationsUrl:t,locale:s}}var FP=s(3206);function VP(e,t,s,n){const i=[{node:e,path:[]}],a={terminate:!1,exclude:!1};let o=n;for(;i.length>0;){const{node:e,path:n}=i.pop();if(o=s(o,e,n,a),!0===a.terminate)return o;if(!0===a.exclude){a.exclude=!1;continue}const r=e.getNodes(t).reverse();i.push(...r.map((t=>({node:t,path:[...n,e]}))))}return o}let HP=function(e){return e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD",e}({});class YP extends Error{}class KP{_parents=(()=>new Set)();_children=(()=>new Map)();constructor(e,t,s){this._key=t,this._value=s,null!==e&&this._parents.add(e)}addChild(e,t){let s=this._children.get(e);return void 0!==s?(s._parents.add(this),s):(function(e,t,s){t(e,HP.BACKWARD,((e,t,n)=>{const i=n.map((e=>e.getKey()));if(i.includes(s))throw new YP(`Found dependency cycle! ${[s,...i].reverse().join(" -> ")}`)}),void 0)}(this,VP,e),s=new KP(this,e,t),this._children.set(e,s),s)}removeChild(e){this._children.delete(e)}getNodes(e){switch(e){default:case HP.FORWARD:return this.getChildren();case HP.BACKWARD:return this.getParents()}}getParents(){return Array.from(this._parents.values())}getChildren(){return Array.from(this._children.values())}isRoot(){return 0===this._parents.size}getKey(){return this._key}getValue(){return this._value}}class zP extends KP{constructor(e,t){super(null,e,t)}}class WP{addChild(){return this}removeChild(){}getNodes(){return[]}getParents(){return[]}getChildren(){return[]}isRoot(){return!0}getKey(){throw new Error("Method not supported.")}getValue(){throw new Error("Method not supported.")}}let qP=function(e){return e[e.ROOT=0]="ROOT",e[e.DEPENDENCY=1]="DEPENDENCY",e[e.INSTANCE=2]="INSTANCE",e[e.VALUE=3]="VALUE",e}({});class QP extends Error{}class $P{constructor(e,t){this._resolve=e,this._wrap=t}resolve(e){return ZP(e,this.resolveImpl(e))}resolveNoThrow(e){return this.resolveImpl(e)}resolveImpl(e){return this._resolve(e)}wrap(e,t){return this.wrapImpl(e,t)}wrapImpl(e,t){return this._wrap(e,t)}}function ZP(e,t){if(null===t)throw new QP(`No registration was found for token '${(0,L.o)(e)}'!`);return t}function XP(e,t){e.getChildren().forEach((e=>{const s=t.addChild(e.getKey(),e.getValue());XP(e,s)}))}function JP(e){const t=new zP(e.getKey(),e.getValue());return XP(e,t),t}class eL{_map=(()=>new Map)();_tree=(()=>new WP)();constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._parents=e}registerValue(e,t){return this.registerImpl(e,{instance:t})}registerFactory(e,t){return this.registerImpl(e,{factory:t,instance:void 0})}registerImpl(e,t){const s=(0,L.o)(e);return this._tree.addChild(`dependency:${s}`,{type:qP.DEPENDENCY,name:s,token:e}),this._map.set(e,t),this}resolve(e){return ZP(e,this.resolveImpl(this._tree,e))}resolveNoThrow(e){return this.resolveImpl(this._tree,e)}resolveImpl(e,t){{const s=(0,L.o)(t);e=e.addChild(`dependency:${s}`,{type:qP.DEPENDENCY,name:s,token:t})}const s=this._map.get(t);if(void 0===s){for(const e of this._parents){const s=e.resolveNoThrow(t);if(null!==s)return s}return null}if(function(e){return void 0!==e.instance}(s))return s.instance;const n=new $P((t=>this.resolveImpl(e,t)),((t,s)=>this.wrapImpl(e,t,s)));const i=s.factory(n);{const t=function(e){return null===e?"null":"object"==typeof e?e.constructor.name:typeof e}(i);e=e.addChild(`instance:${t}`,{type:qP.INSTANCE,name:t})}return s.instance=i}wrap(e,t){return this.wrapImpl(this._tree,e,t)}wrapImpl(e,t,s){return e=e.addChild(`value:${s}`,{type:qP.VALUE,name:s}),t}getDependencyTree(){return this._map.forEach(((e,t)=>this.resolve(t))),JP(this._tree)}}function tL(){return new eL(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])}const sL=e=>{let{registry:t,children:s}=e;const n=(0,H.useContext)(zp);return null!==n&&(t=tL([t,n])),(0,Y.jsx)(zp.Provider,{value:t,children:s})};!async function(){Q()&&(0,o.dV)("playback_load_start");const e=tL(),[{translations:t,locale:s},p]=await Promise.all([GP(),DP(ec)]),m=new c.F2;if(m.initialize({localeForTranslation:s,localeForFormatting:s,translations:t}),c.Ru.initialize({localeForTranslation:s,localeForFormatting:s,translations:t}),!("accessToken"in p)){var h;const e="error"in p?null===(h=p.error)||void 0===h?void 0:h.message:"Unknown error";throw new Error(`Failed to fetch initial access token: ${e}`)}const _=(0,za.x)(Wa.bm,{session:te}),y=FP.Vk.fromJSON((0,za.x)(Wa.Jv)),f=(0,za.x)(Wa.I4),{me:v}=_.session,{isAnonymous:E}=p,w=new UP(ec,p);e.registerFactory(Kp,(e=>w));const S=P(w,{useDealer:!E,clientInfoOptions:{deviceId:f.correlationId}});(0,vn.N)(S),g.n.setSession({accessToken:p.accessToken,accessTokenExpirationTimestampMs:p.accessTokenExpirationTimestampMs,isAnonymous:E,tokenType:p.tokenType}),g.n.setLocale(s),b("https://61f69548e77b4b52a0a8caa6885931c7@sentry.io/1242283","mobile-web-player_2025-07-06_1751779997678_df80a5a",{debug:false});const R="f6a40776580943a7bc5173125a1e8832",T=((e,t,s,n)=>{const i=(0,Qd.kE)({transport:e,suppressPersist:!1,context:[(0,$d.ks)(t),(0,$d.Ow)({version:"mobile-web-player_2025-07-06_1751779997678_df80a5a"}),(0,$d.ws)(),(0,$d.p4)(s)],ownerProvider:n,storagePrefix:t,storage:{flushStrategy:{kind:Qd.aN.IMMEDIATE},adapter:new Qd.ty}});return i})(S,R,f.correlationId||"",(()=>{var e;return(null==v||null===(e=v.profile)||void 0===e?void 0:e.username)??null})),A=new l.oM,x=new l.XV(T,!E);A.setTimeReporter(x),(0,u.kr)("mobile-web-player",w,E),function(e){pn.BrowserMetrics.getPageLoadTime().then((e=>{(0,u.fE)({metric_type:pn.MetricTypes.TIMER,what:"time-to-page-load-nanoseconds",value:(0,pn.asNanoseconds)(pn.Time.fromMillis(e).asNanos()),tags:{route:qn(window.location.pathname)}})})).catch((()=>{})),pn.BrowserMetrics.getTimeToFirstPaint().then((e=>{(0,u.fE)({metric_type:pn.MetricTypes.TIMER,what:"time-to-first-paint-nanoseconds",value:(0,pn.asNanoseconds)(pn.Time.fromMillis(e).asNanos()),tags:{route:qn(window.location.pathname)}})})).catch((()=>{})),pn.BrowserMetrics.getTimeToFirstContentfulPaint().then((e=>{(0,u.fE)({metric_type:pn.MetricTypes.TIMER,what:"time-to-first-contentful-paint-nanoseconds",value:(0,pn.asNanoseconds)(pn.Time.fromMillis(e).asNanos()),tags:{route:qn(window.location.pathname)}})})).catch((()=>{}));const t=t=>{const s=qn(window.location.pathname);if((0,u.fE)(pn.BrowserMetrics.getWebVitalsMetric({...t,label:t.name},{route:s})),e&&t.value>0){const n=e.makeTimeMeasurementBuilder("web_vitals");n.addPoint({identifier:t.name,durationInMicroseconds:Math.round(1e3*t.value)}).addDimension("page-identifier",s),e.send(n.build())}};(0,El.lt)(t),(0,El.IN)(t),(0,El.fK)(t),(0,El.rH)(t),(0,El.zB)(t),(0,El.Ck)(t)}(),(()=>{const e=new URL(window.location.href);return dP(e)||((t=e).searchParams.has("utm_source")||t.searchParams.has("utm_medium")||t.searchParams.has("utm_campaign"))&&!(e=>"/"===e.pathname&&"pwa_install"===e.searchParams.get("utm_source"))(e)||!(e=>"/"===e.pathname||"/__noul__"===e.pathname||/\/intl-[A-Za-z][A-Za-z]$/.test(e.pathname))(e);var t})()&&lP(T,E);const C=xd(S,{isAnonymous:!0,type:"mobile"}),I=D(g.n.getInstance()),k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return async(s,n,i,a)=>{const o=[],r=Math.max(...i.map((e=>{var t;return(null===(t=n[e])||void 0===t?void 0:t.length)??0})));for(let l=0;l<r;l+=t){const r={...n};i.forEach((e=>{var s;r[e]=null===(s=r[e])||void 0===s?void 0:s.slice(l,l+t)})),void 0!==a?o.push(e(s,r,a)):o.push(e(s,r))}return(await Promise.all(o)).map((e=>{if(null===e||void 0!==e.errors||null===e.data)throw new Error("GraphQL batched query failed!");return e.data}))}}(I),N=function(e,t,s){let{harmony:n,standalonePlayer:i}=e,{clientId:a}=s;if(null!==n)return new ud(n,t,"mobile-web-player_2025-07-06_1751779997678_df80a5a");if(null!==i){const{correlationId:e}=(0,za.x)(Wa.I4);return Ad(i,{clientId:a,correlationId:e})}throw new Error("Unable to create PlayerAPI without a Harmony or StandalonePlayer instance!")}(C,k,{clientId:R}),L=new Zd.E,j=(e=>Yd||(Yd=new Vd(e),Yd))(I),O=(0,a.zR)(),M=z.vR.getUBILogger({eventSender:T,disableAutoBackgroundMonitoring:!1,authenticationProvider:{isAuthenticated:()=>!E},contextualProviders:{playContextUriProvider:{getPlayContextUri:()=>{var e;return(null===(e=N.getState())||void 0===e?void 0:e.context.uri)??null}},playbackIdProvider:{getPlaybackId:()=>{var e;return(null===(e=N.getState())||void 0===e?void 0:e.playbackId)??null}}}}),U={history:O,graphQLLoader:I,player:N,transport:S,eventSender:T,i18n:m,timekeeper:A},B=vl(kl(_,Cl),U,{enablePlayback:!0}),G=document.getElementById("main");if(!G)throw new Error("#main component not found");const V=(0,Y.jsx)(sL,{registry:e,children:(0,Y.jsx)(d.PE,{resolver:Nd,context:{auth:!E},options:{clientId:"mobile-web-player",timeout:2e4,transport:S,eventSender:T,sp_t_cookie:f.correlationId,initialConfiguration:y},initialConfiguration:y,children:(0,Y.jsx)(qd.LU,{instance:A,children:(0,Y.jsx)(K,{request:I,children:(0,Y.jsx)(Wd.RJ,{instance:T,children:(0,Y.jsx)(Xd.Ht,{client:L,children:(0,Y.jsx)(zd,{instance:j,children:(0,Y.jsx)(ar.CY,{instance:m,children:(0,Y.jsx)(Jd.JI,{children:(0,Y.jsx)(cc,{ubiLogger:M,children:(0,Y.jsx)(i.Kq,{store:B,children:(0,Y.jsx)(iP,{history:O,children:(0,Y.jsx)(nP,{})})})})})})})})})})})})});if(G.getAttribute("data-ssr"))(0,n.c)(G,V);else{(0,n.H)(G).render(V)}if(!f.gtmId)throw new Error("Missing optimize and gtm IDs!");var H;(0,r.track)({dataLayerPushInitial:!0,googleTagManagerId:f.gtmId,language:null===(H=f.locale)||void 0===H?void 0:H.locale,market:f.market,loggedIn:!E,oneTrust:"1"===((0,F.v8)("client-web_one-trust")??"1"),userCountry:f.userCountry})}()},45063:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var n=s(84567),i=s(97500),a=s.n(i),o=s(48397),r=s(86070);const l=e=>{let{children:t,testId:s}=e;return(0,r.jsx)(n.E,{as:"div",variant:"bodySmall",className:a()(o.A.entityHeaderMetadata,o.A.bulletSeparated),"data-testid":s,children:t})}},45951:(e,t,s)=>{"use strict";s.d(t,{Y:()=>a});var n=s(62411),i=s(41158);function a(){const e=(0,n.d4)((e=>e.session));return(null==e?void 0:e.locale)??""??i.h.en}},46320:(e,t,s)=>{"use strict";s.d(t,{$p:()=>h,Fn:()=>m,I7:()=>f,PR:()=>E,Py:()=>p,WB:()=>_,Y:()=>c,YA:()=>l,b0:()=>r,bU:()=>y,f7:()=>b,im:()=>w,l4:()=>d,m7:()=>v,nm:()=>S,oh:()=>g,tj:()=>u});var n=s(42534),i=s(12058),a=s(5191),o=s(53229);const r=(e,t)=>1===t.length?o.Ru.get("concert.header.entity_title_1",...t):2===t.length?o.Ru.get("concert.header.entity_title_2",...t):3===t.length?o.Ru.get("concert.header.entity_title_3",...t):4===t.length?o.Ru.get("concert.header.entity_title_4",...t):t.length>4?o.Ru.get("concert.header.entity_title_more",...t):"",l=function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"row";return!e||!t&&s.length?"row"===n?r(o.Ru,s):((e,t)=>1===t.length?o.Ru.get("concert.header.upcoming_concert_title_1",...t):2===t.length?o.Ru.get("concert.header.upcoming_concert_title_2",...t):3===t.length?o.Ru.get("concert.header.upcoming_concert_title_3",...t):4===t.length?o.Ru.get("concert.header.upcoming_concert_title_4",...t):t.length>4?o.Ru.get("concert.header.upcoming_concert_title_more",...t):"")(o.Ru,s):e},d=e=>24===e.length?new Date(e.substring(0,19)):22===e.length?new Date(e.substring(0,16)):new Date(e),c=(e,t)=>o.Ru.formatDate(t,{weekday:"short",month:"short",day:"numeric"}),u=(e,t)=>o.Ru.formatDate(t,{month:"short"}),p=(e,t)=>o.Ru.formatDate(t,{day:"numeric"}),m=(e,t)=>o.Ru.formatDate(t,{month:"short",day:"numeric"}),h=(e,t)=>o.Ru.formatDate(t,{weekday:"short",hour:"numeric"}),_=(e,t)=>o.Ru.formatDate(t,{hour:"numeric",minute:"numeric"}),y=e=>(0,n.x)(e,{representation:"date"}),b=e=>{const t=new Date(e);t.setDate(e.getDate()+(6-e.getDay()));const s=new Date(t);return s.setDate(t.getDate()+1),{from:t,to:s}},g=e=>{const t=new Date(e);t.setDate(e.getDate()+(6-e.getDay()));const s=new Date(t);s.setDate(t.getDate()+7);const n=new Date(s);return n.setDate(s.getDate()+1),{from:s,to:n}},f=(e,t)=>!!(null!=e&&e.from&&null!=e&&e.to&&null!=t&&t.from&&null!=t&&t.to)&&((0,i.r)(e.from,t.from)&&(0,i.r)(e.to,t.to)),v=e=>{const t=e?new Date(e):null,s=new Date;return!!t&&s>t},E=e=>(0,a.Y)(new Date,new Date(e)),w=e=>{let{name:t,city:s,region:n,country:i}=e;return[t,s,n,i].filter((e=>!!e&&"unknown"!==e.toLowerCase())).join(o.Ru.getSeparator())},S=(e,t)=>{if(!e)return"/concerts";const s=null==t?void 0:t.normalize().replaceAll(/\W+/g,"-");return s?`/concerts/location/${e}-${s}`:`/concerts/location/${e}`}},46563:(e,t,s)=>{"use strict";s.d(t,{l:()=>r});var n=s(48397),i=s(97500),a=s.n(i),o=s(86070);const r=e=>{let{children:t,condensed:s=!1}=e;return(0,o.jsx)("div",{className:a()(n.A.headerBottomSection,{[n.A.condensed]:s}),"data-testid":"entity-bottom-section",children:t})}},46658:(e,t,s)=>{"use strict";s.d(t,{V:()=>n});const n=e=>!!e&&"__typename"in e&&"Playlist"===e.__typename},47117:(e,t,s)=>{"use strict";s.d(t,{$:()=>r});var n=s(49942),i=s(9807),a=s(26481),o=s(86070);const r=e=>{let{uri:t,onLibraryUpdated:s,className:r}=e;const l=(0,i.s9)();return(0,o.jsx)(a.h,{uri:t,onLibraryUpdated:s,inLibraryComponent:e=>(0,o.jsx)(n.n,{onClick:e,size:"small","data-testid":"follow-button",className:r,children:l.get("following")}),notInLibraryComponent:e=>(0,o.jsx)(n.n,{onClick:e,size:"small","data-testid":"follow-button",className:r,children:l.get("follow")})})}},47287:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(48397),i=s(86070);const a=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:n.A.mainContent,children:t})}},48133:(e,t,s)=>{"use strict";s.d(t,{S:()=>d});var n=s(30758),i=s(62411);const a={circularContainer:"SDJ3TrWunyDbRFs3dGQs",circularInner:"MCTtpxU54yz5eip1oX7o",rangeBar:"d8pfjqGuoLzpwgWH56Mz",rangeBarLeft:"aZldQBNmzVbqQYKRlYeQ",rangeBarRight:"XolCTZsS8oOlsR1nSq15",rangeProgress:"EaVUATZMKtPVr5bfmgtB"};var o=s(6742),r=s(31760),l=s(86070);const d=e=>{let{fallback:t}=e;const[s,d]=(0,n.useState)({left:0,right:0}),c=(0,i.d4)((e=>{var t;return null===(t=e.playback.current)||void 0===t?void 0:t.duration})),u=(0,i.d4)((e=>{var t;return null===(t=e.playback.current)||void 0===t?void 0:t.position})),p=(0,i.d4)((e=>{var t;return(null===(t=e.playback.current)||void 0===t?void 0:t.paused)??!1})),m=(0,n.useRef)(!0);m.current=s.right<180,(0,n.useEffect)((()=>{if(0===u)return m.current=!0,void d({left:0,right:0});if(c&&u&&u>0){const e=360*u/c,t=e>180?180:e,s=m.current;if(180===t&&s)return void d({left:0,right:t});d({left:e>180?e-180:0,right:t})}}),[c,u]);const h={zIndex:1,transform:`rotate(${s.right}deg)`,transition:0===s.right?"none":"1s ease-in-out"},_={zIndex:2,transform:`rotate(${s.left}deg)`,transition:0===s.left?"none":"1s ease-in-out"};return p&&0===u?t??null:(0,l.jsxs)("div",{className:a.circularContainer,"data-testid":"preview-progress",children:[(0,l.jsx)("div",{className:a.circularInner,children:p?(0,l.jsx)(o.A,{style:{marginLeft:"4px"}}):(0,l.jsx)(r._,{})}),(0,l.jsx)("div",{className:[a.rangeBar,a.rangeBarRight].join(" "),children:(0,l.jsx)("div",{className:a.rangeProgress,style:h})}),(0,l.jsx)("div",{className:[a.rangeBar,a.rangeBarLeft].join(" "),children:(0,l.jsx)("div",{className:a.rangeProgress,style:_})})]})}},48397:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});const n={TOP_BAR_HEIGHT:"56px",entityView:"E34FrewmewkuBM1IDQsg",navLink:"VJ9XCKvwmqEJqlHUzxKn",logoButton:"NMw3sb63e2C5YJNyH5WW",iconSearchLink:"V7faNUQZHOPh68ejp4o2",fixedTopBar:"WgXPl8hmQOs4k7Em9TTI",stickyTopBar:"gAFgy6O9bftcBUbrJ0Mb",topBarSectionVariable:"xdBFM20jlfuhrxxERzoR",topBarSectionStart:"c1XHPjv6ZW1uVRksjeK0",topBarSectionEnd:"JM2zGYawSwyoOKBmo1ph",header:"M2zTPqWSULZAGKARgjXG",condensed:"lBPLQvOs6NEAQQaTuYm9",title:"gj6rSoF7K4FohS2DJDEm",copyright:"M5bwNckFxajwyYitrezA",headerBottomSection:"kVj4O1X1hlTwIyajGjJb",headerImageAndTextWrapper:"LTYHCckz80h0rAHEj0aQ",row:"jy9mr3vYagWjfUxmWauX",column:"OgFUAo4HM9zkORh6yYKs",titleAndSubtitleWrapper:"zJT83mTjBmPlNfEnuNYs",actions:"jXbmfyIkvfBoDgVxAaDD",moreButton:"w96CFLxhFqhRr3qTeQo2",playButton:"ZHjbpDQJimn7TrEg5NRa",bottomAligned:"SLA1vC6tXhIFG1Tfb7Db",playButtonInner:"KLdvTULHpZ_WiyOPzi0I",description:"GJjW130sRB_AyuNNFz0u",entityHeaderMetadata:"sMT6JaxLhI2QLVSevX_3",bulletSeparated:"fjP8GyQyM5IWQvTxWk6W",mainContent:"AXLhOsSjT3bowfjf42kK",loadingState:"XOErnGrVFhfEECdqd8pQ",errorContainer:"bU3UqkklVsK3NOIeFwOo"}},48975:(e,t,s)=>{"use strict";s.d(t,{Cq:()=>u,F$:()=>o,Qm:()=>l,Ur:()=>d,WZ:()=>r,Xe:()=>h,Y7:()=>b,Z3:()=>y,cK:()=>_,hA:()=>m,kP:()=>n,kc:()=>i,ke:()=>p,mD:()=>g,ub:()=>c,vL:()=>a});const n="FETCH_RESULTS_REQUEST_V2",i="FETCH_RESULTS_SUCCESS_V2",a="FETCH_RECENT_REQUEST_V2",o="FETCH_RECENT_SUCCESS_V2",r="CLEAR_RECENT_REQUEST_V2",l="CLEAR_ALL_RECENT_REQUEST_V2",d="SAVE_RECENT_REQUEST_V2",c="SAVE_RECENT_SUCCESS_V2",u=e=>({type:n,data:e}),p=e=>({type:i,data:e}),m=()=>({type:a}),h=e=>({type:o,recentSearches:e}),_=e=>({type:r,uri:e}),y=()=>({type:l}),b=e=>({type:d,data:e}),g=e=>({type:c,data:e})},49849:(e,t,s)=>{"use strict";s.d(t,{e:()=>u});var n=s(30758),i=s(9807),a=s(39237),o=s(71375),r=s(75186),l=s(26031),d=s(38758),c=s(86070);const u=(0,n.memo)((e=>{let{className:t,uri:s,header:n,isAudiobook:u=!1,testId:p,condensedAll:m}=e;const h=(0,i.s9)(),_=(0,l.j)(),{handleHeaderMenuClick:y}=(0,d.E)();return(0,c.jsx)(a.H,{iconOnly:_?o.x:r.g,"aria-label":h.get("more"),onClick:()=>y({uri:s,header:n,isAudiobook:u}),className:t,"data-testid":p,condensedAll:m})}))},50721:(e,t,s)=>{"use strict";s.d(t,{h:()=>n});let n=function(e){return e[e.Chips=0]="Chips",e[e.Cards=1]="Cards",e}({})},51728:(e,t,s)=>{"use strict";s.d(t,{El:()=>l,LY:()=>c,Rz:()=>u,VG:()=>o,YN:()=>d,ax:()=>a,hf:()=>r});s(16961),s(54615),s(32807);var n=s(35746);const i=e=>Boolean(e);function a(e){var t;return((null==e||null===(t=e.current_track)||void 0===t?void 0:t.artists)||[]).map((e=>e.name)).filter(i)}function o(e){var t;return(null==e||null===(t=e.current_track)||void 0===t?void 0:t.name)||""}function r(e){var t;return(null==e||null===(t=e.current_track)||void 0===t?void 0:t.uri)||""}function l(e){const t=(0,n.o_h)(r(e));return(null==t?void 0:t.type)===n.NQG.AD||(null==t?void 0:t.type)===n.NQG.APPLICATION}function d(e){const t=(0,n.o_h)(r(e));return Boolean(t)&&(null==t?void 0:t.type)===n.NQG.EPISODE}function c(e){var t,s;const n=null==e||null===(t=e.album)||void 0===t?void 0:t.images;if(null==n||!n[0])return"";return(null===(s=n.filter((e=>void 0!==e.height&&e.height<640&&e.height>64&&e))[0])||void 0===s?void 0:s.url)??n[0].url}function u(e){var t;return null==e||null===(t=e.current_track)||void 0===t||null===(t=t.artists)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.uri}},51926:(e,t,s)=>{"use strict";s.d(t,{Z:()=>y});var n=s(30758),i=s(97500),a=s.n(i);const o="m6tYD7JARxwotGwjQOF_",r="XIQ8c7TbSFE_9gDXPplL",l="kZ3GbBBmNy8sgcoQ7PGJ";var d=s(82493),c=s(22122),u=s(24484),p=s(86070);const m=200,h=e=>{let{children:t,className:s,showDelay:i=m}=e;const[h,_]=n.useState(!1),y=(0,u.Oj)(),b=(0,c.ZY)(),g=(0,n.useRef)(!0);return(0,n.useEffect)((()=>(g.current=!0,()=>{g.current=!1}))),(0,n.useEffect)((()=>{const e=setTimeout((()=>{g.current&&(_(!0),null==b||b.addEventListener("click",t,{once:!0}))}),i);function t(){g.current&&(_(!1),y({type:"close"}),clearTimeout(e))}return()=>{null==b||b.removeEventListener("click",t),clearTimeout(e)}}),[b,i,y]),(0,p.jsx)(d.A,{in:h,timeout:200,unmountOnExit:!0,classNames:{enter:r,enterActive:l},children:(0,p.jsx)("div",{className:a()(o,s),"data-testid":"hover-or-focus-tooltip",children:t})})};var _=s(95089);const y=e=>{let{label:t,children:s,renderInline:i,showDelay:a,disabled:o,placement:r="top",labelClassName:l}=e;const d=(0,n.useMemo)((()=>o?null:(0,p.jsx)(h,{showDelay:a,className:l,children:(0,p.jsx)("span",{id:"hover-or-focus-tooltip",role:"tooltip",children:t})})),[o,a,t,l]);return(0,p.jsx)(_.y,{action:"open",trigger:"hover-or-focus",placement:r,content:d,renderInline:i,children:s})}},53182:(e,t,s)=>{"use strict";s.d(t,{s:()=>d});var n=s(97500),i=s.n(n);const a="Ozitxbqs1vcOukDz3GDw",o="AeEoI6ueagbJtaHl2cRd";var r=s(56784),l=s(86070);const d=e=>{let{title:t,type:s,className:n,iconSize:d}=e;return(0,l.jsx)("div",{"aria-label":t,className:i()(a,n),children:(0,l.jsx)(r.s,{type:s,className:i()({[o]:!d}),size:d})})}},53229:(e,t,s)=>{"use strict";s.d(t,{F2:()=>u,a7:()=>c,Ru:()=>m});s(7130),s(16961),s(54615),s(89370),s(32807),s(8200),s(36886),s(56831),s(4118),s(5981),s(63074),s(39724);var n=s(30758),i=s(94758),a=s.n(i),o=s(62327);let r=function(e){return e.AR="، ",e.FA="، ",e.EN=", ",e}({});var l=s(41158);const d=new Intl.Locale(l.h.en);Object.values(l.h);function c(e){"string"==typeof e&&(e=new Intl.Locale(e));const t=new Set([l.h.paIN,l.h.paPK,l.h.zhCN,l.h.zhTW,l.h.zhHK]);return e?t.has(e.baseName)?e:new Intl.Locale(e.language):d}class u{_localeForTranslation=(()=>d)();_localeForFormatting=(()=>d)();_localeForURLPath=(()=>d)();_translations={};_relativeTimeFormat=null;_dateTimeFormats=(()=>new o.fq)();_pluralRules=null;getRelativeTimeFormat(){return null===this._relativeTimeFormat&&(this._relativeTimeFormat=new Intl.RelativeTimeFormat(this._localeForFormatting.toString())),this._relativeTimeFormat}getDateTimeFormat(e){const t=JSON.stringify(Object.keys(e).sort().map((t=>({[t]:e[t]}))));return this._dateTimeFormats.create(t,(()=>new Intl.DateTimeFormat(this._localeForFormatting.toString(),e)))}getPluralRules(){return null===this._pluralRules&&(this._pluralRules=new Intl.PluralRules(this._localeForTranslation.toString())),this._pluralRules}getPluralKey(e){const t=this.getPluralRules();try{return"string"==typeof e&&(e=parseInt(e,10)),t.select(e)}catch{return"other"}}initialize(e){let{localeForTranslation:t,localeForFormatting:s,translations:n}=e;var i;this._localeForTranslation=new Intl.Locale(t),this._localeForFormatting=("string"==typeof(i=s??t)&&(i=new Intl.Locale(i)),"ar"===i.baseName?new Intl.Locale(i,{numberingSystem:"latn"}):i),this._localeForURLPath=c(t),this._relativeTimeFormat=null,this._dateTimeFormats.clear(),this._pluralRules=null,this._translations=n}getLocaleForTranslation(){return this._localeForTranslation.baseName}getLocaleForFormatting(){return this._localeForFormatting.baseName}getLocaleForURLPath(){return this._localeForURLPath.baseName}getLocaleForSmartling(){const e=this._localeForTranslation.baseName;return a()[e]||e}getTranslations(){return this._translations}toLocaleLowerCase(e){return null==e?void 0:e.toLocaleLowerCase(this._localeForTranslation.toString())}toLocaleUpperCase(e){return null==e?void 0:e.toLocaleUpperCase(this._localeForTranslation.toString())}get(e){const t=e in this._translations?this._translations[e]:e;let s="";for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if("string"!=typeof t){const e=a[0],n=t[this.getPluralKey(e)];void 0!==n?s=n:t.other&&(s=t.other)}else s=t;if(/%\d%/.test(s)){if(!["desktop.login.DefaultErrorMessage","desktop.login.ErrorProxyAuthRequired","desktop.login.MissingUserInfoMessage","desktop.login.RegionMismatchMessage","desktop.login.ClientUpdateFail","desktop.login.FbUserNotFoundSignUp","desktop-auth.error"].includes(e))throw new Error("i18n: The placeholder format %0% is legacy and is only allowed for existing strings.")}const r={},l={};a.forEach(((e,t)=>{const s="object"!=typeof e||null===e||(0,n.isValidElement)(e)?[[t,e]]:Object.entries(e);for(const[i,a]of s)(0,n.isValidElement)(a)?l[i]=a:void 0!==a&&(r[i]=a)})),s=s.replace(p(Object.keys(r)),((e,t)=>{const s=t.slice(1,-1),n=r[s];return"number"==typeof n?this.formatNumber(n):n}));const d=Object.keys(l);return d.length?(0,n.createElement)(n.Fragment,null,s.split(p(d)).map(((e,t)=>{if(t%2){const t=e.slice(1,-1),s=l[t];return(0,n.cloneElement)(s,{key:s.key??t})}return e})).filter((e=>""!==e))):s}getSeparator(){switch(new Intl.Locale(this._localeForTranslation).language){case l.h.ar:return r.AR;case l.h.fa:return r.FA;default:return r.EN}}formatNumber(e,t){return e.toLocaleString(this._localeForFormatting,t)}formatNumberCompact(e){return this.formatNumber(e,{notation:"compact",maximumFractionDigits:1})}formatDate(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||{year:"numeric",month:"long",day:"numeric"};return this.getDateTimeFormat(t).format(e)}formatRelativeDate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2592e6;const i=this.getRelativeTimeFormat(),a=e.getTime()-s.getTime(),o=Math.abs(a)<n;if(null!==i&&o){const{weeks:t,days:n,hours:o,minutes:l,seconds:d}=(r=a,{seconds:Math.round(r/1e3),minutes:Math.round(r/1e3/60),hours:Math.round(r/1e3/60/60),days:Math.round(r/1e3/60/60/24),weeks:Math.round(r/1e3/60/60/24/7)}),c=e.getFullYear()-s.getFullYear(),u=e.getMonth()-s.getMonth()+12*c;return Math.abs(u)>=12?i.format(c,"years"):Math.abs(t)>4?i.format(u,"months"):Math.abs(n)>=7?i.format(t,"weeks"):Math.abs(o)>=24?i.format(n,"days"):Math.abs(l)>=60?i.format(o,"hours"):Math.abs(d)>=60?i.format(l,"minutes"):i.format(d,"seconds")}var r;return this.formatDate(e,t)}}function p(e){const t=`(?:${e.join("|")})`;return new RegExp(String.raw`(\{${t}\}|%${t}%)`,"g")}const m=new u},54009:(e,t,s)=>{"use strict";s.d(t,{IB:()=>i,Np:()=>o});s(53229),s(34207);var n=s(41158);const i={[n.h.en]:{displayName:"English",displayNameEn:"English"},[n.h.af]:{displayName:"Afrikaans",displayNameEn:"Afrikaans"},[n.h.am]:{displayName:"አማርኛ",displayNameEn:"Amharic"},[n.h.ar]:{displayName:"العَرَبِيَّة",displayNameEn:"Arabic",isRTL:!0},[n.h.arEG]:{displayName:"عربي مصري",displayNameEn:"Arabic (Egypt)",isRTL:!0},[n.h.arMA]:{displayName:"العَرَبِيَّة مغربي",displayNameEn:"Arabic (Morocco)",isRTL:!0},[n.h.arSA]:{displayName:"العربية السعودية",displayNameEn:"Arabic (Saudi Arabia)",isRTL:!0},[n.h.az]:{displayName:"Azərbaycanca",displayNameEn:"Azerbaijani"},[n.h.bg]:{displayName:"Български",displayNameEn:"Bulgarian"},[n.h.bho]:{displayName:"भोजपुरी",displayNameEn:"Bhojpuri"},[n.h.bn]:{displayName:"বাংলা",displayNameEn:"Bengali"},[n.h.bs]:{displayName:"Bosanski",displayNameEn:"Bosnian"},[n.h.ca]:{displayName:"Català",displayNameEn:"Catalan"},[n.h.cs]:{displayName:"Čeština",displayNameEn:"Czech"},[n.h.da]:{displayName:"Dansk",displayNameEn:"Danish"},[n.h.de]:{displayName:"Deutsch",displayNameEn:"German"},[n.h.el]:{displayName:"Eλληνικά",displayNameEn:"Greek"},[n.h.enGB]:{displayName:"English",displayNameEn:"United Kingdom"},[n.h.es]:{displayName:"Español de España",displayNameEn:"European Spanish"},[n.h.esAR]:{displayName:"Español (Argentina)",displayNameEn:"Spanish (Argentina)"},[n.h.esMX]:{displayName:"Español (México)",displayNameEn:"Spanish (Mexico)"},[n.h.es419]:{displayName:"Español de Latinoamérica",displayNameEn:"Latin American Spanish"},[n.h.et]:{displayName:"Eesti",displayNameEn:"Estonian"},[n.h.eu]:{displayName:"Euskara",displayNameEn:"Basque"},[n.h.fa]:{displayName:"فارسی",displayNameEn:"Persian",isRTL:!0},[n.h.fi]:{displayName:"Suomeksi",displayNameEn:"Finnish"},[n.h.fil]:{displayName:"Filipino",displayNameEn:"Filipino"},[n.h.fr]:{displayName:"Français",displayNameEn:"French"},[n.h.frCA]:{displayName:"Français Canadien",displayNameEn:"Canadian French"},[n.h.gl]:{displayName:"Galego",displayNameEn:"Galician"},[n.h.gu]:{displayName:"ગુજરાતી",displayNameEn:"Gujarati"},[n.h.he]:{displayName:"עברית",displayNameEn:"Hebrew",isRTL:!0},[n.h.hi]:{displayName:"हिन्दी",displayNameEn:"Hindi"},[n.h.hr]:{displayName:"Hrvatski",displayNameEn:"Croatian"},[n.h.hu]:{displayName:"Magyar",displayNameEn:"Hungarian"},[n.h.id]:{displayName:"Bahasa Indonesia",displayNameEn:"Indonesian"},[n.h.is]:{displayName:"Íslenska",displayNameEn:"Icelandic"},[n.h.it]:{displayName:"Italiano",displayNameEn:"Italian"},[n.h.ja]:{displayName:"日本語",displayNameEn:"Japanese"},[n.h.kn]:{displayName:"ಕನ್ನಡ",displayNameEn:"Kannada"},[n.h.ko]:{displayName:"한국어",displayNameEn:"Korean"},[n.h.lt]:{displayName:"Lietuvių",displayNameEn:"Lithuanian"},[n.h.lv]:{displayName:"Latviešu",displayNameEn:"Latvian"},[n.h.mk]:{displayName:"Македонски",displayNameEn:"Macedonian"},[n.h.ml]:{displayName:"മലയാളം",displayNameEn:"Malayalam"},[n.h.mr]:{displayName:"मराठी",displayNameEn:"Marathi"},[n.h.ms]:{displayName:"Melayu",displayNameEn:"Malay"},[n.h.nb]:{displayName:"Norsk",displayNameEn:"Norwegian"},[n.h.ne]:{displayName:"नेपाली",displayNameEn:"Nepali"},[n.h.nl]:{displayName:"Nederlands",displayNameEn:"Dutch"},[n.h.or]:{displayName:"ଓଡ଼ିଆ",displayNameEn:"Odia"},[n.h.paIN]:{displayName:"ਪੰਜਾਬੀ",displayNameEn:"Punjabi"},[n.h.paPK]:{displayName:"پنجابی",displayNameEn:"Punjabi (Naskh)",isRTL:!0},[n.h.pl]:{displayName:"Polski",displayNameEn:"Polish"},[n.h.ptBR]:{displayName:"Português do Brasil",displayNameEn:"Brazilian Portuguese"},[n.h.ptPT]:{displayName:"Português",displayNameEn:"European Portuguese"},[n.h.ro]:{displayName:"Română",displayNameEn:"Romanian"},[n.h.ru]:{displayName:"Русский",displayNameEn:"Russian"},[n.h.sk]:{displayName:"Slovenčina",displayNameEn:"Slovak"},[n.h.sl]:{displayName:"Slovenski",displayNameEn:"Slovenian"},[n.h.sr]:{displayName:"Srpski",displayNameEn:"Serbian"},[n.h.sv]:{displayName:"Svenska",displayNameEn:"Swedish"},[n.h.sw]:{displayName:"Kiswahili",displayNameEn:"Swahili"},[n.h.ta]:{displayName:"தமிழ்",displayNameEn:"Tamil"},[n.h.te]:{displayName:"తెలుగు",displayNameEn:"Telugu"},[n.h.th]:{displayName:"ภาษาไทย",displayNameEn:"Thai"},[n.h.tr]:{displayName:"Türkçe",displayNameEn:"Turkish"},[n.h.uk]:{displayName:"Українська",displayNameEn:"Ukrainian"},[n.h.ur]:{displayName:"اردو",displayNameEn:"Urdu",isRTL:!0},[n.h.vi]:{displayName:"Tiếng Việt",displayNameEn:"Vietnamese"},[n.h.zhCN]:{displayName:"简体中文",displayNameEn:"Simplified Chinese"},[n.h.zhHK]:{displayName:"繁體中文 (香港)",displayNameEn:"Chinese (Traditional) Hong Kong"},[n.h.zhTW]:{displayName:"中文",displayNameEn:"Traditional Chinese"},[n.h.zu]:{displayName:"IsiZulu",displayNameEn:"Zulu"}},a=[n.h.en,n.h.af,n.h.am,n.h.ar,n.h.arEG,n.h.arMA,n.h.arSA,n.h.az,n.h.bg,n.h.bho,n.h.bn,n.h.bs,n.h.ca,n.h.cs,n.h.da,n.h.de,n.h.el,n.h.enGB,n.h.es,n.h.es419,n.h.esAR,n.h.esMX,n.h.et,n.h.eu,n.h.fa,n.h.fi,n.h.fil,n.h.fr,n.h.frCA,n.h.gl,n.h.gu,n.h.he,n.h.hi,n.h.hr,n.h.hu,n.h.id,n.h.is,n.h.it,n.h.ja,n.h.kn,n.h.ko,n.h.lt,n.h.lv,n.h.mk,n.h.ml,n.h.mr,n.h.ms,n.h.nb,n.h.ne,n.h.nl,n.h.or,n.h.paIN,n.h.paPK,n.h.pl,n.h.ptBR,n.h.ptPT,n.h.ro,n.h.ru,n.h.sk,n.h.sl,n.h.sr,n.h.sv,n.h.sw,n.h.ta,n.h.te,n.h.th,n.h.tr,n.h.uk,n.h.ur,n.h.vi,n.h.zhCN,n.h.zhHK,n.h.zhTW,n.h.zu],o=[...a]},54317:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s(1581),i=s(97500),a=s.n(i),o=s(30758),r=s(86070);const l=(0,o.forwardRef)((function(e,t){let{disabled:s=!1,children:i,onClick:o}=e;return(0,r.jsx)("div",{"data-testid":"card-mwp",className:a()(n.A.container,{[n.A.disabled]:s}),ref:t,onClick:o,children:i})}))},54971:(e,t,s)=>{"use strict";s.d(t,{N:()=>E});s(16961),s(54615),s(32807);var n=s(30758),i=s(9807);const a="buqVKMpwHgGMDJFSl54R",o="Zbad_ytC5aqG3ZISd4Gw",r="XtRaMxXYR3jQlMDuhW1f";var l=s(34738),d=s(84567),c=s(10514),u=s(86070);const p=n.memo((function(e){let{text:t,onTimeStampClick:s,children:i,className:a,enableTimestamps:o=!1}=e;const r=(0,n.useMemo)((()=>(0,u.jsx)(c.q,{html:t,onTimeStampClick:s,enableTimestamps:o})),[t,o,s]);return(0,u.jsxs)(d.E,{variant:"bodySmall",as:"div",className:a,children:[r,i]})}));var m=s(39237);const h="folcB21SoeMSI_BeIbEo",_=(0,n.memo)((function(e){let{text:t,onTimeStampClick:s,onToggle:n,className:a,enableTimestamps:o}=e;const r=(0,i.s9)();return(0,u.jsx)(p,{className:a,text:t,onTimeStampClick:s,enableTimestamps:o,children:(0,u.jsx)(m.H,{className:h,semanticColor:"textBase",condensedAll:!0,onClick:n,children:(0,u.jsxs)(d.E,{variant:"bodySmallBold",children:[" … ",r.get("mwp.see.more")]})})})})),y=(e,t,s,n)=>{const i=e.get("mwp.see.more").length,a=t.length+i+6;return n<=1&&a<s},b=(0,n.memo)((function(e){let{paragraphs:t,clickHandler:s,maxCharactersPerLine:n,maxLines:a,toggleExpandedState:o,className:r,enableTimestamps:l}=e;const d=(0,i.s9)();let c=!1,m=0;const h=t.map(((e,i)=>{const h=Math.round(e.length/n);if(m+=h>0?h:1,c)return null;const b=a-(m-h);if(!(i+1===t.length&&(y(d,e,n,b)||h<=b))&&m>=a){c=!0;const t=((e,t,s,n)=>{const i=e.get("mwp.see.more").length;if(y(e,t,s,n))return t;const a=s*n-i-6;return t.slice(0,a)})(d,e,n,b);return(0,u.jsx)(_,{text:t,onTimeStampClick:s,onToggle:o,className:r,enableTimestamps:l},i)}return(0,u.jsx)(p,{className:r,text:e,onTimeStampClick:s,enableTimestamps:l},i)})).filter((e=>null!==e)).map(((e,t,s)=>t+1===s.length?e:[e," "])).flat();return(0,u.jsx)(u.Fragment,{children:h})})),g={isExpanded:!1,contentWidth:0},f=(e,t)=>({...e,...t}),v=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(/[ \u00a0]{2}/).filter(Boolean)},E=(0,n.memo)((function(e){let{content:t,htmlContent:s,maxLines:h=2,className:_,onTimeStampClick:y=()=>{},onExpanded:E,enableTimestamps:w=!1}=e;const[S,R]=(0,n.useReducer)(f,g),{isExpanded:T,contentWidth:A}=S,x=(0,i.s9)(),C=(0,n.useCallback)((()=>{const e=!T;R({isExpanded:e}),null==E||E(e)}),[T,E]),I=A?A/7.8:Number.MAX_VALUE,k=(0,n.useRef)(null),N=(0,n.useCallback)((e=>{e&&(k.current=e,R({contentWidth:e.clientWidth}))}),[]),P=(0,n.useMemo)((()=>s?(0,u.jsx)(c.q,{html:s,onTimeStampClick:y,enableTimestamps:w}):((e,t,s)=>v(e).map(((e,n)=>(0,u.jsx)(p,{className:o,text:e,onTimeStampClick:t,enableTimestamps:s},n))))(t,y,w)),[t,w,s,y]),L=(0,n.useMemo)((()=>s?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace("<p>","").split(/<\/p>/).filter(Boolean)}(s):v(t)),[t,s]);return(0,l.s)((()=>{k.current&&R({contentWidth:k.current.clientWidth})})),(0,u.jsx)("div",{className:_,"data-testid":"expandable-description",children:(0,u.jsx)("div",{ref:N,className:a,children:T?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d.E,{variant:"bodySmall",children:P}),(0,u.jsx)(m.H,{"aria-expanded":!0,condensedAll:!0,semanticColor:"textBase",onClick:C,children:(0,u.jsx)(d.E,{className:r,variant:"bodySmallBold",children:x.get("show_less")})})]}):(0,u.jsx)(b,{className:o,paragraphs:L,clickHandler:y,enableTimestamps:w,maxCharactersPerLine:I,maxLines:h,toggleExpandedState:C})})})}))},55453:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});const n=(0,s(30758).createContext)({instance:null})},55758:(e,t,s)=>{"use strict";s.d(t,{Ix:()=>a,bx:()=>n,pq:()=>i});const n="SECTION_PAGE_DATA_REQUEST",i="SECTION_PAGE_DATA_REQUEST_SUCCESS",a="SECTION_PAGE_DATA_REQUEST_ERROR"},55993:(e,t,s)=>{"use strict";s.d(t,{V:()=>a});var n=s(11876),i=s(13932);const a=()=>(0,i.NC)(n.rS)===n.K9.Enabled},56781:(e,t,s)=>{"use strict";s.d(t,{K:()=>a});var n=s(30758),i=s(8143);const a=e=>{let{children:t,selector:s}=e;const a=(0,n.useRef)(),[o,r]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{a.current=document.querySelector(s),r(!0)}),[s]),o?(0,i.createPortal)(t,a.current):null}},56784:(e,t,s)=>{"use strict";s.d(t,{s:()=>h});var n=s(96926),i=s(45200),a=s(73667),o=s(84325),r=s(50831),l=s(11313),d=s(92259),c=s(19058),u=s(93876),p=s(90135),m=s(86070);function h(e){let{type:t,...s}=e,h=n.e;switch(t){case"folder":case p.c.FOLDER:h=i.h;break;case"album":case p.c.ALBUM:h=a.I;break;case"artist":case p.c.ARTIST:h=o.r;break;case"show":case"episode":case p.c.SHOW:case p.c.EPISODE:h=r.L;break;case"user":case p.c.USER:h=l.v;break;case"book":case"audiobook":case p.c.AUDIOBOOK:h=d.l;break;case p.c.AUTHOR:h=c.m;break;case p.c.AUTOCOMPLETE:h=u.C;break;case"playlist":case p.c.PLAYLIST:default:h=n.e}return(0,m.jsx)(h,{"aria-hidden":"true","data-testid":t,...s})}},56814:(e,t,s)=>{"use strict";s.d(t,{o:()=>i,y:()=>a});var n=s(30758);const i=(0,n.createContext)(void 0),a=()=>(0,n.useContext)(i)},56852:(e,t,s)=>{"use strict";s.d(t,{T:()=>n});const n=e=>!!e&&"object"==typeof e&&"__typename"in e&&"Artist"===e.__typename},58249:(e,t,s)=>{"use strict";s.d(t,{q:()=>_});var n=s(84567),i=s(48397),a=s(97500),o=s.n(a),r=s(52821),l=s(26933);const d="ciq3LACfrZ4TsVZ_CTQE",c="BUpdxpsCgBdI_N0nB_IN",u="UCZjvaNJBUialFciRYfq";var p=s(84745),m=s(86070);const h=e=>{let{isShuffle:t=!1,...s}=e;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p.R,{...s,size:"large"}),t?(0,m.jsx)("span",{className:(0,r.Ju)("base",d),"data-testid":"shuffle-button",children:(0,m.jsx)(l.p,{className:o()(c,{[u]:s.disabled}),"aria-hidden":!0,iconSize:16})}):null]})},_=e=>{let{onClick:t,isPlaying:s,disabled:a,isOnDemand:r,bottomAligned:l=!1}=e;return(0,m.jsx)(n.E,{as:"div",variant:"bodySmall",className:o()(i.A.playButton,{[i.A.bottomAligned]:l}),children:(0,m.jsx)("div",{"data-testid":"entity-play-button",className:i.A.playButtonInner,children:(0,m.jsx)(h,{onClick:t,isPlaying:s,disabled:a,isShuffle:!r})})})}},58316:(e,t,s)=>{"use strict";s.d(t,{M:()=>n});const n="ANONYMOUS_DEFER_PLAY_STATE"},58538:(e,t,s)=>{"use strict";function n(e){return e.replace(/<.+?>/g,"")}s.d(t,{Iv:()=>o,Q3:()=>n,fZ:()=>a});const i=[[/<iframe[^>]*>/gi,"<span>"],[/<\/iframe>/gi,"</span>"],[/<script[^>]*>/gi,"<span>"],[/<\/script>/gi,"</span>"],[/srcdoc=/gi,"data-invalid="],[/onerror=/gi,"data-invalid="],[/onload=/gi,"data-invalid="],[/<form[^>]*>/gi,"<span>"],[/<\/form>/gi,"</span>"],[/<input[^>]*>/gi,"<span>"],[/<\/input>/gi,"</span>"],[/<link[^>]*>/gi,"<span>"],[/<\/link>/gi,"</span>"]];function a(e){return i.reduce(((e,t)=>{const[s,n]=t;return e.replace(s,n)}),e)}function o(e){return["http://","https://","#","/","www","spotify:"].some((t=>e.startsWith(t)))?e:""}},58625:(e,t,s)=>{"use strict";s.d(t,{DO:()=>r,RJ:()=>o,j1:()=>a});s(7130);var n=s(30758),i=s(86070);const a=(0,n.createContext)(null),o=e=>{let{instance:t,children:s}=e;return(0,i.jsx)(a.Provider,{value:t,children:s})};function r(e){const t=(0,n.useContext)(a);return(0,n.useCallback)((function(){if(null===t)throw new Error("useEventSender must be used within a EventSenderProvider");const s=e(...arguments);s&&t.send(s)}),[e,t])}},58811:(e,t,s)=>{"use strict";s.d(t,{I4:()=>n,Jv:()=>i,bm:()=>a});const n="appServerConfig",i="remoteConfig",a="initialState"},59057:(e,t,s)=>{"use strict";s.d(t,{V:()=>Ee,n:()=>be});var n=s(98576),i=s(61042),a=s(30758),o=s(92665),r=s(48397),l=s(97500),d=s.n(l),c=s(66590),u=s(13932),p=s(11876),m=s(86070);const h=e=>{let{children:t,backgroundColor:s=c.srq,className:n}=e;const i=(0,u.NC)(p.v6)!==p.ah.BottomStickyBar;return(0,m.jsx)("div",{className:d()(n,r.A.fixedTopBar,{[r.A.stickyTopBar]:i}),style:{"--backgroundColor":s,"--backgroundColorShade":"transparent"===s?"transparent":c.i_N},"data-testid":"entity-view-top-bar",children:t})};var _=s(2056),y=s(7769),b=s(9807),g=s(46938);const f=()=>{const e=(0,b.s9)(),t=(0,y.W)();return(0,m.jsx)(g.$,{"data-testid":"download-button",onClick:()=>{const e=(0,_.KY)().toString();t({type:"click",intent:"download-app",itemIdSuffix:"download-button",targetUri:e}),window.open(e,"_self","noopener")},colorSet:"invertedLight",size:"small",children:e.get("mwp.nav.open.app")})},v="BvJFBdeeDryjw7xxJNSo";var E=s(39237),w=s(83462),S=s(62411),R=s(85387);const T=()=>{const e=(0,b.s9)(),t=(0,S.d4)((e=>e.session.canGoBack)),s=(0,R.Zp)();return(0,m.jsx)(E.H,{onClick:()=>s(-1),iconOnly:w.G,"aria-label":e.get("navbar.go-back"),disabled:!t,semanticColor:"textBase",className:v})};var A=s(6905),x=(s(16961),s(32807),s(82493)),C=s(56781),I=s(41350),k=s(42398),N=s(64482),P=s(84567),L=s(68729),j=s(98985);const O="zMb46yYwnZqiade3cK16",D="MQ8e3i9shKPzADo8Y4FL",M="iwWFmynUTgNQ7QNDQnbb",U="_ZrPb7E0RAvtcAE9aNEg",B="Wkd3I7_I1BD7k1ww1oin",G="mcUA10akTYTwscXjJwu5",F="dg4sKseLMZjaESdmD5_C",V=e=>({animationDelay:17*e+"ms"}),H=(e,t)=>({name:e.get("mwp.preview-menu.login"),dataTestId:"preview-menu-login",onClick:()=>{t(),(0,k.fE)({metric_type:I.MetricTypes.COUNTER,what:"login",value:1})}}),Y=(e,t)=>({name:e.get("mwp.preview-menu.signup"),dataTestId:"preview-menu-signup",onClick:()=>{t(),(0,k.fE)({metric_type:I.MetricTypes.COUNTER,what:"signup",value:1})}}),K=`${L.BW}?ref=mweb_loggedout_premium_menu`,z=e=>{let{isMenuVisible:t,onLoginClick:s,onSignUpClick:n,onClose:i,isTrapActive:a=!0}=e;const o=(0,b.s9)(),r=(0,y.W)(),l=s&&n?[H(o,s),Y(o,n)]:[],d=s&&n?((e,t)=>[{name:e.get("mwp.settings.premium"),onClick:()=>{t({type:"click",intent:"navigate",itemIdSuffix:"top-bar/menu/premium",targetUri:K}),window.open(K,"_blank","noopener")}},{name:e.get("mwp.preview-menu.help"),onClick:()=>{t({type:"click",intent:"navigate",itemIdSuffix:"top-bar/menu/help",targetUri:L.nw}),window.open(L.nw,"_blank","noopener")}},{name:e.get("mwp.preview-menu.download"),onClick:()=>{const e=(0,_.mb)().toString();t({type:"click",intent:"navigate",itemIdSuffix:"top-bar/menu/download",targetUri:e}),window.open(e,"_blank","noopener")}},{name:e.get("mwp.preview-menu.privacy"),onClick:()=>{t({type:"click",intent:"navigate",itemIdSuffix:"top-bar/menu/privacy",targetUri:L.sK}),window.open(L.sK,"_blank","noopener")}},{name:e.get("mwp.preview-menu.terms"),onClick:()=>{t({type:"click",intent:"navigate",itemIdSuffix:"top-bar/menu/terms",targetUri:L.c5}),window.open(L.c5,"_blank","noopener")}}])(o,r):[];return(0,m.jsx)(C.K,{selector:"#preview-menu-container",children:(0,m.jsx)(x.A,{timeout:300,classNames:"preview-menu",in:t,unmountOnExit:!0,children:(0,m.jsx)(j.s,{active:a,children:(0,m.jsxs)("div",{className:O,id:"preview-menu","data-testid":"preview-menu",role:"menu","aria-labelledby":"preview-menu-button",children:[(0,m.jsx)(E.H,{className:F,role:"menuitem","aria-label":o.get("mwp.preview-menu.close"),"data-testid":"cancel-button",onClick:i,iconOnly:N.M,semanticColor:"textBase"}),(0,m.jsxs)("div",{className:D,role:"presentation",children:[l.map(((e,t)=>{let{name:s,onClick:n,dataTestId:i}=e;return(0,m.jsx)(E.H,{className:M,role:"menuitem",onClick:n,"data-testid":i,size:"large",style:V(t),condensed:!0,children:(0,m.jsx)(P.E,{variant:"titleSmall",children:s})},s)})),(0,m.jsx)("div",{className:B,role:"none",style:V(l.length),children:(0,m.jsx)("div",{className:G})}),(0,m.jsx)("div",{className:U,children:d.map(((e,t)=>{let{name:s,onClick:n}=e;return(0,m.jsx)(E.H,{className:M,role:"menuitem",onClick:n,size:"small",style:V(l.length+1+t),condensed:!0,children:(0,m.jsx)(P.E,{variant:"bodyMediumBold",children:s})},s)}))})]})]})})})})},W="s8xNHBQoLGzjVdosOSqC",q="XJXGRdtw5uc3RmBrVxGX",Q=e=>{let{onLoginClick:t,onSignUpClick:s}=e;const n=(0,b.s9)(),[i,o]=(0,a.useState)(!1),r=(0,y.W)(),l=(0,a.useCallback)((()=>{o(!1),r({type:"click",intent:"close-menu",itemIdSuffix:"top-bar/menu"})}),[o,r]),d=(0,a.useCallback)((()=>{o(!0),r({type:"click",intent:"open-menu",itemIdSuffix:"top-bar"})}),[o,r]);return(0,m.jsxs)("div",{className:W,id:"preview-menu-container",children:[(0,m.jsx)(E.H,{id:"preview-menu-button","data-testid":"preview-menu-button","aria-label":n.get("mwp.preview-menu.menu"),"aria-controls":"preview-menu","aria-haspopup":"true","aria-expanded":i,style:{visibility:i?"hidden":"visible"},onClick:d,iconOnly:A.d,className:q}),(0,m.jsx)(z,{isMenuVisible:i,onLoginClick:t,onSignUpClick:s,onClose:l})]})};var $=s(58316);function Z(){return{type:$.M}}var X=s(73593);const J=()=>{const e=(0,y.W)(),t=(0,S.wA)();return(0,m.jsx)(Q,{"data-testid":"top-bar-preview-menu-button",onLoginClick:()=>{t(Z()),e({type:"click",intent:"login",itemIdSuffix:"top-bar/menu"}),(0,X.PW)()},onSignUpClick:()=>{t(Z()),e({type:"click",intent:"signup",itemIdSuffix:"top-bar/menu"}),(0,X.ie)()}})};var ee=s(93876),te=s(42558);const se=()=>{const e=(0,y.W)();return(0,m.jsx)(te.k,{className:r.A.iconSearchLink,to:"/search",onClick:()=>{e({type:"click",intent:"navigate",itemIdSuffix:"search-icon"})},children:(0,m.jsx)(ee.C,{size:"small","data-testid":"search-icon",semanticColor:"textBase"})})},ne=e=>{let{children:t}=e;return(0,m.jsx)("div",{className:r.A.topBarSectionEnd,children:t})},ie=e=>{let{children:t}=e;return(0,m.jsx)("div",{className:r.A.topBarSectionStart,children:t})},ae=e=>{let{children:t}=e;return(0,m.jsx)("div",{className:r.A.topBarSectionVariable,children:t})};var oe=s(46833),re=s(71767),le=s(87801),de=s(90135),ce=s(56814),ue=s(29812);const pe=()=>{const e=(0,ce.y)(),t=(0,y.W)(),s=(0,le.W)({type:"locale",uri:de.c.HOME})?(0,re.hF)("/"):"/",n=(0,u.NC)(p.v6)!==p.ah.Default;return(0,m.jsx)(te.k,{className:n?r.A.navLink:r.A.logoButton,to:s,onClick:()=>{t({type:"click",intent:"navigate",itemIdSuffix:"spotify-logo"})},children:(0,m.jsx)(oe.G,{"data-testid":"spotify-icon",height:24,semanticColor:"textBase",condensed:!n&&e===ue.E.SMALL})})},me="cixAxOBK_zmjVnmC5zol",he=e=>{let{children:t}=e;return(0,m.jsx)("div",{className:me,children:t})};var _e=s(11232);let ye;const be=e=>{(0,a.useEffect)((()=>{ye&&ye((t=>({visible:e.visible,title:e.title??t.title,backgroundColor:Boolean(e.backgroundColor)?e.backgroundColor:t.backgroundColor})))}),[e.visible,e.title,e.backgroundColor])},ge=e=>{let{backgroundColor:t}=e;const s=(0,u.NC)(p.v6)!==p.ah.Default,n=!(0,_e.V)();return(0,m.jsxs)(h,{backgroundColor:t,children:[(0,m.jsx)(ie,{children:(0,m.jsx)(pe,{})}),(0,m.jsx)(ae,{}),(0,m.jsxs)(ne,{children:[n&&!s&&(0,m.jsx)(se,{}),(0,m.jsx)(f,{}),n&&(0,m.jsx)(J,{})]})]})},fe=e=>{let{title:t,backgroundColor:s}=e;const[n,o]=(0,a.useState)(!0),r=(0,a.useCallback)((e=>{(null==e?void 0:e.target.scrollTop)>100&&n?o(!1):(null==e?void 0:e.target.scrollTop)<100&&!n&&o(!0)}),[n]);return(0,i.i)(r),(0,m.jsxs)(h,{backgroundColor:n?"transparent":s,children:[(0,m.jsx)(ie,{children:(0,m.jsx)(T,{})}),!n&&(0,m.jsx)(he,{children:t??""})]})},ve={visible:!1,title:"",backgroundColor:n.srq},Ee=()=>{const e=(0,o.s)(),[t,s]=(0,a.useState)(ve);return(0,a.useEffect)((()=>{ye=s}),[]),t.visible?e?(0,m.jsx)(ge,{backgroundColor:t.backgroundColor}):(0,m.jsx)(fe,{title:t.title,backgroundColor:t.backgroundColor}):null}},60568:(e,t,s)=>{"use strict";s.d(t,{OP:()=>a,SR:()=>n,U5:()=>o,pn:()=>i});const n={CATEGORY:{CLICK:"click"},ACTIONS:{PLAY:"play",PAUSE:"pause",ADD_TO_LIBRARY:"add-to-library",REMOVE_FROM_LIBRARY:"remove-from-library"},LABEL:{TRACK_ROW:"track-list/row",BUTTON:"/button",PODCAST_TIMESTAMP_DESCRIPTION:"/podcast-description-timestamp",NOW_PLAYING_BAR:"now-playing-bar"}},i="GENERIC_ERROR",a="LOG_INTERACTION",o="LOG_PAGEVIEW"},60708:(e,t,s)=>{"use strict";s.d(t,{h:()=>x});var n=s(30758),i=s(9807),a=s(62411),o=s(49942),r=s(76111),l=s(54009),d=s(32934),c=s(86070);const u=()=>{const e=(0,i.s9)().getLocaleForTranslation(),t=l.IB[e]??l.IB.en,s=(0,d.ZZ)(),a=(0,n.useCallback)((()=>{s({type:"OPEN"})}),[s]);return(0,c.jsx)(o.n,{iconLeading:r.d,size:"small",onClick:a,"data-testid":"language-selection-button",children:t.displayName})},p="vPotEW28Q2P3zSJbEHQK";var m=s(42153);let h=new class{get(){return m.t5}};let _=new class{get(){return m.wi}};var y=s(11232),b=s(8335),g=s(76358),f=s(76541),v=s(58625),E=s(98607),w=s(6323),S=s(34698);let R=function(e){return e.InView="in_view",e.OutOfView="out_of_view",e}({});var T=s(36995),A=s(90348);const x=()=>{const e=(0,i.s9)(),t=(0,a.d4)((e=>{let{session:t}=e;return t.country})),{data:s,isCrawlerBot:o,isSSRFooterTest:r}=(0,a.d4)((e=>{let{masthead:t}=e;return t})),{ref:l,inView:d}=(0,b.Wx)({threshold:.5}),m=h.get(),x=_.get(),C=(()=>{const e=(0,E.V)(),t=(0,a.d4)((e=>{var t;return null===(t=e.session.me)||void 0===t||null===(t=t.profile)||void 0===t?void 0:t.id})),s=(0,a.d4)((e=>e.session.country));return(0,v.DO)((n=>{const i={category:n,action:"footer_view",variant:"none",label:"mwp",country:t?s:"",os:(0,S.f)(),context:location.pathname,sp_t:(0,w.v8)("sp_t"),timestamp:(new Date).toISOString()};return e?(0,f.r)(i):(0,g._)(i)}))})(),I=e.getLocaleForURLPath(),k=(0,T.L)(),N=(0,T.J)(),P=(0,A.p)({urlLocale:I,type:"locale"});(0,n.useEffect)((()=>{C(d?R.InView:R.OutOfView)}),[d,C]);const L=N?{}:{countryHub:!0,openUrlLocale:P?I:void 0};return(0,c.jsx)("div",{className:p,"data-testid":"masthead-footer",ref:l,children:(0,c.jsx)(m,{language:e.getLocaleForSmartling(),market:t.toLowerCase(),masthead:r||o?s:void 0,excludePlanLinks:o||(0,y.V)(),...k&&L,children:(0,c.jsx)(x,{hideWebPlayerLink:!0,languageSelectionButton:(0,c.jsx)(u,{})})})})}},61042:(e,t,s)=>{"use strict";s.d(t,{i:()=>a});var n=s(30758),i=s(73679);function a(e){let{executeOnceOnStart:t=!1,disabled:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,i.SF)();(0,n.useLayoutEffect)((()=>{const n=a.current;if(!s&&n){if(n.addEventListener("scroll",e),t)try{const t={...new Event("scroll"),target:n};e(t)}catch(i){}return()=>n.removeEventListener("scroll",e)}}),[a,e,t,s])}},61228:(e,t,s)=>{"use strict";s.d(t,{$M:()=>o,Eo:()=>l,V_:()=>a,ki:()=>i,xZ:()=>r});var n=s(67193);const i=e=>{var t;return"premium"===(null===(t=e.product)||void 0===t?void 0:t.catalogue)},a=e=>{var t;return(null==e||null===(t=e.product)||void 0===t?void 0:t.product)===n.Yt.Premium},o=e=>e.includes("[FBAN")||e.includes("[FB_IAB"),r=e=>{var t,s;return Boolean(Number(null===(t=e.product)||void 0===t?void 0:t["on-demand"]))||Boolean(null===(s=e.features)||void 0===s?void 0:s.isReinventFreeEnabled)},l=e=>{var t;return!e||e.isAnonymous||!(null!==(t=e.features)&&void 0!==t&&t.isMWPAndPlaybackCapable)}},61886:(e,t,s)=>{"use strict";s.d(t,{$c:()=>E,DK:()=>u,KJ:()=>l,NF:()=>y,_M:()=>h,cZ:()=>f,cc:()=>g,gV:()=>i,hl:()=>o,iI:()=>c,ly:()=>_,mn:()=>v,rB:()=>b,sc:()=>p,u$:()=>m,uJ:()=>a,uS:()=>d,yN:()=>r});var n=s(80398);function i(e,t){return{type:n.P4,uri:e,data:t}}function a(e,t){return{type:n.Y3,uri:e,data:t}}function o(e,t){return{type:n.mH,uri:e,showAccessInfo:t}}function r(e){return{type:n.jq,error:e}}function l(e,t){return{type:n.SO,uri:e,data:t}}function d(e,t){return{type:n.Yx,uri:e,geonameId:t}}function c(e,t){return{type:n.Az,uri:e,pagination:t}}function u(e,t){return{type:n.gl,uri:e,data:t}}function p(e){return{type:n.LX,error:e}}function m(e,t){return{type:n.UZ,uri:e,options:t}}function h(e,t){return{type:n.Um,uri:e,data:t}}function _(e){return{type:n.Rt,error:e}}function y(e){return{type:n.X0,uri:e}}function b(e,t){return{type:n.Ju,uri:e,isLiked:t}}function g(e){return{type:n.uX,message:e}}function f(e,t){return{type:n.$r,uri:e,pagination:t}}function v(e,t){return{type:n.xh,uri:e,data:t}}function E(e){return{type:n.Us,error:e}}},62327:(e,t,s)=>{"use strict";s.d(t,{GG:()=>a,fq:()=>i});s(7130),s(16961),s(89370);const n=864e5;class i{_cache=(()=>new Map)();constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._ttl=e,null!==e&&(e<1||e>n))throw new Error("TTL should be between 1 (1 ms) and 86400000 (1 day).")}isExpired(e){return null!==e.expiry&&e.expiry<Date.now()}getExpiry(){return null!==this._ttl?Date.now()+this._ttl:null}entries(){return this._cache.entries()}has(e){return void 0!==this.get(e)}peek(e){const t=this._cache.get(e);return null==t?void 0:t.value}get(e){const t=this._cache.get(e);if(void 0!==t){if(!this.isExpired(t))return t.value;this._cache.delete(e)}}set(e,t){this._cache.set(e,{value:t,expiry:this.getExpiry()})}create(e,t){const s=this.get(e);if(void 0===s){const s=t();return this.set(e,s),s}return s}delete(e){this._cache.delete(e)}clear(){this._cache.clear()}cleanup(){this._cache.forEach(((e,t)=>{this.isExpired(e)&&this._cache.delete(t)}))}}class a extends i{constructor(e,t){super(e),setInterval(this.cleanup.bind(this),t)}}},63585:(e,t,s)=>{"use strict";function n(e){return Symbol.for(e)}function i(e){return e.description??e.toString()}s.d(t,{o:()=>i,u:()=>n})},63886:(e,t,s)=>{"use strict";s.d(t,{Mg:()=>i,SL:()=>n,j0:()=>a});const n="BROWSE_PAGE_DATA_REQUEST",i="BROWSE_PAGE_DATA_REQUEST_SUCCESS",a="BROWSE_PAGE_DATA_REQUEST_ERROR"},64263:(e,t,s)=>{"use strict";s.d(t,{B:()=>a});var n=s(11876),i=s(13932);const a=()=>(0,i.NC)(n._U)===n.Ii.Enabled},65126:(e,t,s)=>{"use strict";s.d(t,{o:()=>r});var n=s(74836),i=s(20489);const a="XWpTterac_80p1pzmH5N";var o=s(86070);const r=e=>{let{title:t,isActiveRow:s,showVerifiedBadge:r}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.d,{lineClamp:1,semanticColor:s?"textBrightAccent":void 0,children:t}),r&&(0,o.jsx)(i.C,{"data-testid":"verified-icon",size:"small",className:a})]})}},65438:(e,t,s)=>{"use strict";s.d(t,{Go:()=>d,KX:()=>h,L:()=>m,QY:()=>p,UG:()=>i,W$:()=>n,aE:()=>u,ax:()=>a,fR:()=>o,g1:()=>r,l4:()=>c,oS:()=>l});s(16961),s(14126);const n=e=>"PlaylistItemsPage"===(null==e?void 0:e.__typename),i=e=>"TrackResponseWrapper"===(null==e?void 0:e.__typename),a=e=>"EpisodeOrChapterResponseWrapper"===(null==e?void 0:e.__typename),o=e=>"PodcastOrAudiobookResponseWrapper"===(null==e?void 0:e.__typename),r=e=>"Track"===(null==e?void 0:e.__typename),l=e=>"Episode"===(null==e?void 0:e.__typename),d=e=>"Audiobook"===(null==e?void 0:e.__typename),c=e=>"RestrictedContent"===(null==e?void 0:e.__typename),u=e=>"RestrictedAudiobookContent"===(null==e?void 0:e.__typename),p=e=>"User"===(null==e?void 0:e.__typename),m=e=>{var t;return e&&e.items.length===e.totalCount&&(null===(t=e.items)||void 0===t?void 0:t.every((e=>{var t;return"UnknownType"===(null==e||null===(t=e.itemV2)||void 0===t?void 0:t.__typename)||"PodcastOrAudiobookResponseWrapper"===e.itemV2.__typename||"LocalTrackResponseWrapper"===e.itemV2.__typename||"EpisodeOrChapterResponseWrapper"===e.itemV2.__typename&&"Episode"!==e.itemV2.data.__typename})))},h=e=>!!e&&("__typename"in e&&"ConsumptionCappedAccessExplanation"===(null==e?void 0:e.__typename))},65468:(e,t,s)=>{"use strict";s.d(t,{a:()=>m});var n=s(12231),i=s(54317),a=s(16803),o=s(86075),r=s(25165),l=s(53182),d=s(90135),c=s(86136),u=s(86070);const p=(e,t)=>[e,t].join(" • "),m=e=>{let{sources:t,name:s,uri:m,disabled:h,loading:_,type:y,year:b,onClick:g}=e;return m?(0,u.jsx)(i.Z,{disabled:h,onClick:g,children:(0,u.jsxs)(c.N,{to:m,children:[(0,u.jsx)(a.M,{sources:t,loading:_,Placeholder:(0,u.jsx)(l.s,{title:s,type:d.c.ALBUM})}),(0,u.jsx)(o.Z,{children:s}),y&&!!b&&(0,u.jsx)(r.v,{children:p((0,n.C)(y),b)})]})}):null}},66093:(e,t,s)=>{"use strict";s.d(t,{L8:()=>r,LU:()=>o});s(7130);var n=s(30758),i=s(86070);const a=(0,n.createContext)(void 0),o=e=>{let{instance:t,children:s}=e;return(0,i.jsx)(a.Provider,{value:t,children:s})},r=()=>{const e=(0,n.useContext)(a);if(void 0===e)throw new Error("useTimeKeeper must be used within a TimeKeeperProvider");return e}},66348:(e,t,s)=>{"use strict";s.d(t,{A8:()=>l,SU:()=>o,Um:()=>a,Vf:()=>r,Xc:()=>i,vU:()=>n});const n="HOME_PAGE_DATA_REQUEST",i="HOME_PAGE_DATA_REQUEST_SUCCESS",a="HOME_PAGE_DATA_REQUEST_ERROR",o=()=>({type:n}),r=e=>({type:i,data:e}),l=()=>({type:a})},66362:(e,t,s)=>{"use strict";s.d(t,{J:()=>i,O:()=>n});s(7130);class n extends Error{static fromResponse(e,t){return new n({message:e.statusText,url:e.url,method:t,status:e.status,response:e})}constructor(e){const{message:t,url:s,method:n,status:i,response:a}=e;super(t),this.name="HttpResponseError",this.requestUrl=s,this.requestMethod=n,this.status=i,this.response=a}}class i extends n{constructor(e){const{timeout:t,url:s,method:n}=e;super({message:`${n.toUpperCase()} ${s} timed out (${t}ms)`,url:s,method:n,status:503}),this.name="HttpRequestTimeoutError",this.timeout=t}}},67193:(e,t,s)=>{"use strict";s.d(t,{$c:()=>y,Cx:()=>p,EK:()=>_,I2:()=>r,I_:()=>h,Ll:()=>g,NC:()=>i,TA:()=>l,UG:()=>E,Yt:()=>f,_m:()=>n,_w:()=>m,av:()=>v,by:()=>u,nz:()=>b,pb:()=>a,sX:()=>c,sg:()=>o,x7:()=>d});let n=function(e){return e.Album="ALBUM",e.Audiobook="AUDIOBOOK",e.Compilation="COMPILATION",e.Ep="EP",e.Podcast="PODCAST",e.Single="SINGLE",e.Unknown="UNKNOWN",e}({}),i=function(e){return e.DateAsc="DATE_ASC",e.DateDesc="DATE_DESC",e.NameAsc="NAME_ASC",e.NameDesc="NAME_DESC",e}({}),a=function(e){return e.Albums="ALBUMS",e.Artists="ARTISTS",e.Audiobooks="AUDIOBOOKS",e.Authors="AUTHORS",e.Episodes="EPISODES",e.Genres="GENRES",e.Playlists="PLAYLISTS",e.Podcasts="PODCASTS",e.TopResults="TOP_RESULTS",e.Tracks="TRACKS",e.Users="USERS",e.Videos="VIDEOS",e}({}),o=function(e){return e.Available="AVAILABLE",e.FewLeft="FEW_LEFT",e.SoldOut="SOLD_OUT",e.Unknown="UNKNOWN",e}({}),r=function(e){return e.EventPage="EVENT_PAGE",e.TicketPage="TICKET_PAGE",e.Unknown="UNKNOWN",e}({}),l=function(e){return e.Cancelled="CANCELLED",e.Postponed="POSTPONED",e.Rescheduled="RESCHEDULED",e.Unknown="UNKNOWN",e}({}),d=function(e){return e.Explicit="EXPLICIT",e.NineteenPlus="NINETEEN_PLUS",e.None="NONE",e.Unknown="UNKNOWN",e}({}),c=function(e){return e.Charts="CHARTS",e.PopularAlbums="POPULAR_ALBUMS",e.PopularArtists="POPULAR_ARTISTS",e.TrendingSongs="TRENDING_SONGS",e}({}),u=function(e){return e.Day="DAY",e.Hour="HOUR",e.Minute="MINUTE",e.Month="MONTH",e.Year="YEAR",e}({}),p=function(e){return e.Audio="AUDIO",e.Unknown="UNKNOWN",e.Video="VIDEO",e}({}),m=function(e){return e.Completed="COMPLETED",e.InProgress="IN_PROGRESS",e.NotStarted="NOT_STARTED",e}({}),h=function(e){return e.Episode="EPISODE",e.PodcastEpisode="PODCAST_EPISODE",e.Unknown="UNKNOWN",e}({}),_=function(e){return e.Facebook="FACEBOOK",e.Instagram="INSTAGRAM",e.Other="OTHER",e.Soundbetter="SOUNDBETTER",e.Tiktok="TIKTOK",e.Twitter="TWITTER",e.Whatsapp="WHATSAPP",e.Wikipedia="WIKIPEDIA",e}({}),y=function(e){return e.AgeRestricted="AGE_RESTRICTED",e.CatalogueRestricted="CATALOGUE_RESTRICTED",e.CountryRestricted="COUNTRY_RESTRICTED",e.Explicit="EXPLICIT",e.Hidden="HIDDEN",e.PaymentRequired="PAYMENT_REQUIRED",e.Playable="PLAYABLE",e.Unavailable="UNAVAILABLE",e.Unknown="UNKNOWN",e}({}),b=function(e){return e.AfterUid="AFTER_UID",e.BeforeUid="BEFORE_UID",e.BottomOfPlaylist="BOTTOM_OF_PLAYLIST",e.TopOfPlaylist="TOP_OF_PLAYLIST",e}({}),g=function(e){return e.Audio="AUDIO",e.Mixed="MIXED",e.Unknown="UNKNOWN",e.Video="VIDEO",e}({}),f=function(e){return e.Free="FREE",e.Premium="PREMIUM",e}({}),v=function(e){return e.Erotic="EROTIC",e.Explicit="EXPLICIT",e.NineteenPlus="NINETEEN_PLUS",e.NotForChildren="NOT_FOR_CHILDREN",e.SpotifyEighteenPlus="SPOTIFY_EIGHTEEN_PLUS",e.Unknown="UNKNOWN",e}({}),E=function(e){return e.Abp="ABP",e.AnchorPaywall="ANCHOR_PAYWALL",e.AudiobookDirectSales="AUDIOBOOK_DIRECT_SALES",e.AudiobookPromotion="AUDIOBOOK_PROMOTION",e.OapLinking="OAP_LINKING",e.OapOtp="OAP_OTP",e.Unknown="UNKNOWN",e}({})},68104:(e,t,s)=>{"use strict";s.d(t,{Lc:()=>o,VX:()=>i,WX:()=>a});var n=s(63886);const i=e=>({type:n.SL,uri:e}),a=(e,t)=>({type:n.Mg,uri:e,data:t}),o=e=>({type:n.j0,uri:e})},68426:(e,t,s)=>{"use strict";s.d(t,{_:()=>c});var n=s(30758),i=s(8335),a=s(97500),o=s.n(a);const r="eqw9lvuoZHrkWMTdyTpY",l="lb08f71wES9AQnKx6e0R";var d=s(86070);const c=(0,n.memo)((function(e){const{triggerOnInitialLoad:t=!1,onReachBottom:s,showScrollbar:a=!0,horizontalScroll:c=!1,className:u}=e,{ref:p,inView:m}=(0,i.Wx)({initialInView:t});return(0,n.useLayoutEffect)((()=>{m&&s&&s()}),[m,s]),(0,d.jsxs)("div",{className:o()({[l]:!a,[r]:c},u),"data-testid":"infinite-scroll-list",children:[e.children,(0,d.jsx)("div",{ref:p})]})}))},68626:(e,t,s)=>{"use strict";s.d(t,{D4:()=>o,Pt:()=>a,Wu:()=>i,ed:()=>r,es:()=>n,p1:()=>l});const n="ON_DEMAND_PLAYLISTS_REQUEST",i="ON_DEMAND_PLAYLISTS_REQUEST_SUCCESS",a="ON_DEMAND_PLAYLISTS_REQUEST_ERROR",o=()=>({type:n}),r=e=>({type:i,payload:e}),l=e=>({type:a,error:e})},68729:(e,t,s)=>{"use strict";s.d(t,{$K:()=>d,BW:()=>a,c5:()=>r,iG:()=>n,nw:()=>l,sK:()=>o,xD:()=>i});const n="https://open.spotify.com/",i="https://www.spotify.com/account/overview/",a="https://www.spotify.com/premium/",o="https://www.spotify.com/legal/privacy-policy/",r="https://www.spotify.com/legal",l="https://support.spotify.com/",d="/__noul__"},68771:(e,t,s)=>{"use strict";s.d(t,{P:()=>m});var n=s(39237),i=s(63e3),a=s(98570),o=s(9807),r=s(60568),l=s(7769),d=s(87801),c=s(27700),u=s(26031),p=s(86070);const m=e=>{let{uri:t,condensedAll:s}=e;const m=(0,o.s9)(),h=(0,u.j)(),_=(0,l.W)(),y=(0,c.q)(),b=(0,d.W)({type:"link",uri:t});return(0,p.jsx)(n.H,{iconOnly:h?i.C:a.y,"aria-label":m.get("mwp.list.item.share"),disabled:!t,condensedAll:s,"data-testid":"entity-share-button",onClick:async()=>{t&&(await y(t,b),_({type:r.SR.CATEGORY.CLICK,intent:"share-copy-link",targetUri:t}))}})}},69301:(e,t,s)=>{"use strict";s.d(t,{_:()=>a});var n=s(62411),i=s(87420);function a(e){return(0,n.d4)((t=>(0,i.u)({onDemandPlaylists:t.onDemandPlaylists,session:t.session})(e)))}},69674:(e,t,s)=>{"use strict";s.d(t,{j:()=>o,n:()=>r});s(7130),s(16961),s(32807);var n=s(34113),i=s(98116);s(90879);const a=new i.l("fetchExtractedColors","query","86bdf61bb598ee07dc85d6c3456d9c88eb94f33178509ddc9b33fc9710aa9e9c",null);function o(e){return n.Q.fromHex(e)}async function r(e,t){Array.isArray(t)||(t=[t]);const s=await e(a,{uris:t}),{extractedColors:n}=(null==s?void 0:s.data)||{};if(!n)throw new Error("Failed to fetch multiple extracted colors!");return n.map((e=>"ExtractedColors"!==e.__typename?null:{colorRaw:o(e.colorRaw.hex),colorDark:o(e.colorDark.hex),colorLight:o(e.colorLight.hex),isFallback:e.colorRaw.isFallback&&e.colorDark.isFallback&&e.colorLight.isFallback}))}},69813:(e,t,s)=>{"use strict";s.d(t,{M:()=>d});var n=s(30758),i=s(62411),a=s(7769),o=s(60568),r=s(61886),l=s(55453);const d=()=>{const{instance:e}=(0,n.useContext)(l.Z),t=(0,i.wA)(),s=(0,a.W)(),d=(0,i.d4)((e=>e.session.isAnonymous)),c=async n=>{await(null==e?void 0:e.removeEntityFromLibrary(n)),t((0,r.rB)(n,!1)),s({type:o.SR.CATEGORY.CLICK,intent:o.SR.ACTIONS.REMOVE_FROM_LIBRARY})},u=async n=>{await(null==e?void 0:e.addEntityToLibrary(n)),t((0,r.rB)(n,!0)),s({type:o.SR.CATEGORY.CLICK,intent:o.SR.ACTIONS.ADD_TO_LIBRARY})};return{removeFromLibrary:c,addToLibrary:u,toggleFromLibrary:async s=>{const n=await(null==e?void 0:e.checkIsInLibrary([s]));d?t((0,r.NF)(s)):n&&n[0]?await c(s):await u(s)}}}},70659:(e,t,s)=>{"use strict";s.d(t,{x:()=>n});s(16961),s(32807),s(87953),s(6441);function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=document.getElementById(e);return n?JSON.parse((s=n.innerHTML,decodeURIComponent(atob(s).split("").map((function(e){return`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`})).join("")))):t}catch{return t}var s}},71688:(e,t,s)=>{"use strict";s.d(t,{W:()=>a});var n=s(66590),i=s(34113);function a(e,t){var s;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.values(i.Q.fromCSS(n.vyq).rgb).join(",");return t?(null===(s=e.colorExtraction.colors[t])||void 0===s?void 0:s.join(","))??a:a}},71767:(e,t,s)=>{"use strict";s.d(t,{AY:()=>l,hF:()=>r,ll:()=>o});var n=s(53229),i=s(36450),a=s(68729);s(90135);const o=function(e){const t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?"/":"";if(!e)return"";const s=e.split("/"),n=s[1];return n&&n.includes(i.CT)?`${t}${s.slice(2).join("/")}`:e},r=(e,t)=>{const s=t||n.Ru.getLocaleForURLPath();if(!e)return"";const a=e.split("/")[1];if(!s||s===i.Xn||a&&a.includes(i.CT))return e;const o="/"===e?"":e;return`/${i.CT}${s}${o}`},l=(e,t)=>{const s=t||n.Ru.getLocaleForURLPath();return e?e.toURL(`${a.iG}${i.CT}${s}/`):`${a.iG}${i.CT}${s}`}},71770:(e,t,s)=>{"use strict";s.d(t,{h:()=>i});s(16961),s(54615);const n=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function i(e,t){return e.filter((e=>e.label?e.label===t:e.width?n(e.width)===t:!!e.height&&n(e.height)===t))[0]}},72330:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});s(16961),s(54615);const n=(e,t)=>s=>{const{intent:n,type:i,targetUri:a,itemIdSuffix:o,pathNameOverride:r}=s,l=o?`${t}/${o}`:t,d=r||e;return{page:d.split(/\//).filter((e=>""!==e)).shift(),view_uri:d,action_intent:n,action_type:i,target_uri:a,item_id:l}}},72936:(e,t,s)=>{"use strict";s.d(t,{qc:()=>r,$1:()=>o,j2:()=>l,hV:()=>d,L$:()=>c,Nd:()=>u,e3:()=>_,pr:()=>h,Q2:()=>p,rO:()=>m,nU:()=>y});s(16961),s(32807);var n=s(67193),i=s(12231);let a=function(e){return e.PopularArtists="0JQ5DAnM3wGh0gz1MXnu3C",e.PopularAlbums="0JQ5DAnM3wGh0gz1MXnu3B",e.PopularRadio="0JQ5DAnM3wGh0gz1MXnu4h",e.FeaturedCharts="0JQ5DAzQHECxDlYNI6xD1g",e.SpotifyPlaylists="0JQ5DAuChZYPe9iDhh2mJz",e.TrendingEpisodes="0JQ5DAnM3wGh0gz1MXnu8o",e.TrendingSongs="0JQ5DB5E8N831KzFzsBBQ2",e}({});const o=(e,t)=>(t||[]).map((e=>{let{profile:{name:t}}=e;return t})).join(e.getSeparator()),r=e=>{let{albumArtists:t,albumName:s,albumType:a,shouldLocalize:o,i18n:r}=e;if(!a||!s||!t)return"";const l=a!==n._m.Ep?(e=>e.charAt(0).toUpperCase()+e.toLowerCase().slice(1))(a):a,d=(0,i.C)(a),c=`${s} - ${l} by ${t} | Spotify`,u=r.get("i18n.meta.album.title",s,d,t);return o?u:c},l=e=>{let{artistName:t}=e;return t?`${t} | Spotify`:""},d=e=>{let{showOrAudiobookName:t,type:s}=e;return t?`${t} | ${s} on Spotify`:""},c=e=>{let{episodeOrChapterName:t,showOrAudiobookName:s,type:n}=e;return t&&s?`${t} - ${s} | ${n} on Spotify`:""},u=e=>{let{genreName:t}=e;return t?`${t} | Spotify`:""},p=e=>{let{playlistName:t,userName:s,isSpotifyOwned:n=!1}=e;if(!t||!s)return"";return`${t}${n?"":` - playlist by ${s}`} | ${n?"Spotify Playlist":"Spotify"}`},m=e=>{let{i18n:t,trackArtistsList:s,trackName:n,shouldLocalize:i,disabled:a=!1}=e;if(!s||!n)return"";let o=`${n} - song and lyrics by ${s} | Spotify`,r=t.get("i18n.meta.track-lyrics.title",n,s);return a&&(o=`${n} - song by ${s} | Spotify`,r=t.get("i18n.meta.track.title",n,s)),i?r:o},h=e=>{let{i18n:t,shouldLocalize:s}=e;const n=t.get("i18n.meta.home.title");return s?n:"Spotify - Web Player: Music for everyone"},_=e=>{let{sectionId:t}=e;if(!t)return"";let s="";switch(t){case a.PopularArtists:s="Popular Artists";break;case a.PopularAlbums:s="Popular Albums";break;case a.PopularRadio:s="Popular Radio Stations";break;case a.FeaturedCharts:s="Popular Song Charts";break;case a.SpotifyPlaylists:s="Spotify Playlists";break;case a.TrendingEpisodes:s="Trending Podcast Episodes";break;case a.TrendingSongs:s="Trending Songs";break;default:s=""}return`${s} | Spotify Web Player`},y=e=>{let{venueName:t}=e;return t?`${t} | Spotify`:""}},73481:(e,t,s)=>{"use strict";s.d(t,{r:()=>r});var n=s(48397),i=s(97500),a=s.n(i),o=s(86070);const r=e=>{let{children:t,direction:s="column",condensed:i=!1}=e;return(0,o.jsx)("div",{className:a()(n.A.headerImageAndTextWrapper,{[n.A.row]:"row"===s,[n.A.column]:"column"===s,[n.A.condensed]:i}),"data-testid":"entity-header-top-section",children:t})}},73523:(e,t,s)=>{"use strict";s.d(t,{P:()=>n});let n=function(e){return e.I18nSEO="i18nSEO",e.I18nAdditionalPages="i18nap",e.YourSoundCapsule="ysc",e.ChartsMVPVariantA="cmvpv-a",e.ChartsMVPVariantB="cmvpv-b",e.ChartsMVPVariantC="cmvpv-c",e.LazyLoadingForCWV="llcwv",e.UnauthHomeTrending="uht",e.BrotliCDNEnabled="bcdne",e.CountryHubs="ch",e.CountryHubsControl="chc",e.SectionPage="sp",e.SectionPageTileCountA="sptc-a",e.SectionPageTileCountB="sptc-b",e.SectionPageTileCountC="sptc-c",e.SimilarAudiobooksComponent="sac",e.SeoLyrics="sl",e.SeoLyricsReferrer="slr",e.PlaylistsWithThisSongControl="pwts-control",e.PlaylistsWithThisSongAboveFansAlsoLike="pwts-afal",e.PlaylistsWithThisSongAbovePopularReleases="pwts-apr",e.PlaylistsWithThisSongAboveRecommendedBasedOnThisSong="pwts-arbots",e}({})},73593:(e,t,s)=>{"use strict";s.d(t,{PW:()=>u,ie:()=>p});s(16961),s(32807),s(73385),s(82324),s(54303);var n=s(68729);let i=()=>{window.location.reload()},a=e=>{window.location.assign(e)},o=()=>window.location.origin,r=()=>window.location.href;const l={reload(){i()},assign(e){a(e)},get origin(){return o()},get href(){return r()}},d=()=>{if(/iphone|ipod|ipad/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent)){const e=new URL(l.href);return e.pathname=`${n.$K}${e.pathname}`,e.toString()}return l.href},c=(e,t)=>{var s;t&&(e+=`&${s=t,Object.keys(s).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(s[e]).replace(/%7C/g,"|")}`)).join("&")}`),l.assign(e)},u=e=>{const t=`https://accounts.spotify.com/login?continue=${encodeURIComponent(d())}`;c(t,e)},p=()=>{const e=`https://www.spotify.com/signup?forward_url=${encodeURIComponent(d())}`;c(e)}},73679:(e,t,s)=>{"use strict";s.d(t,{SF:()=>o,bi:()=>a,zz:()=>i});s(7130);var n=s(30758);const i=(0,n.createContext)(""),a=(0,n.createContext)({scrollNodeRef:{current:null},scrollNodeChildRef:{current:null},afterTheScrollNodeRef:{current:null},beforeTheScrollNodeRef:{current:null}}),o=()=>{const e=(0,n.useContext)(a);if(null===e)throw new Error("Trying to use 'ScrollNodeContext' without 'ScrollNodeContext.Provider'!");return e.scrollNodeRef}},74611:(e,t,s)=>{"use strict";s.d(t,{D:()=>h});var n=s(93876),i=s(39237),a=s(64482),o=s(9807),r=s(30758),l=s(40638);const d="Se6tAnECaHLzBf5d6Zfi",c="bsDwynUMyvLBY1h5Yjfn",u="xfLs2p800R6R4ZghQN1c",p="_FwO22cwCMdvLQqqCLCE";var m=s(86070);const h=e=>{let{placeholder:t,onChange:s,value:h,focusOnMount:_=!1}=e;const y=(0,o.s9)(),[b,g]=(0,r.useState)(""!==h),f=(0,l.YQ)((e=>{g(""!==e.target.value),s(e.target.value)}),200),v=(0,r.useRef)(null);(0,r.useEffect)((()=>{var e;_&&(null===(e=v.current)||void 0===e||e.focus())}),[_]);const E=(0,r.useCallback)((()=>{v.current&&(v.current.value="",g(!1))}),[]);return(0,m.jsxs)("div",{className:d,children:[(0,m.jsx)(n.C,{iconSize:16,className:u}),(0,m.jsx)("input",{ref:v,defaultValue:h,placeholder:t,className:c,onBlur:f,onChange:f,onFocus:f,"data-testid":"search-input"}),b&&(0,m.jsx)(i.H,{size:"small","aria-label":y.get("search.a11y.clear-input"),iconOnly:a.M,className:p,condensedAll:!0,onClick:E,"data-testid":"search-input-clear-button"})]})}},75660:(e,t,s)=>{"use strict";s.d(t,{p:()=>r});var n=s(73679),i=s(86070);const a=n.zz.Provider,o=n.zz.Consumer,r=e=>{let{value:t,index:s,children:n}=e;return(0,i.jsx)(o,{children:e=>{let o=""===e?t:`${e}/${t}`;return"number"==typeof s&&(o=`${o}/${s}`),(0,i.jsx)(a,{value:o,children:n})}})}},78219:(e,t,s)=>{"use strict";s.d(t,{lh:()=>o,oM:()=>a,wH:()=>i});var n=s(79855);function i(){return{type:n.tQ}}function a(){return{type:n.l3}}function o(e){return{type:n.g7,productState:e}}},79111:(e,t,s)=>{"use strict";s.d(t,{z:()=>l});var n=s(84567),i=s(48397),a=s(97500),o=s.n(a),r=s(86070);const l=e=>{let{children:t,className:s}=e;return(0,r.jsx)(n.E,{as:"div",variant:"bodySmall",className:o()(s,i.A.actions),children:t})}},79855:(e,t,s)=>{"use strict";s.d(t,{GE:()=>r,eb:()=>o,g7:()=>a,l3:()=>i,tQ:()=>n});const n="LOGOUT_REQUEST",i="LOGOUT_SUCCESS",a="REQUEST_USER_PRODUCT_SUCCESS",o="SET_FEATURE_FLAGS",r="REQUEST_INITIAL_BASE_DATA_SUCCESS"},80398:(e,t,s)=>{"use strict";s.d(t,{$r:()=>w,Az:()=>a,FE:()=>l,Hg:()=>T,IG:()=>y,Ju:()=>g,LX:()=>o,P4:()=>n,QG:()=>_,Rt:()=>c,SO:()=>v,UZ:()=>d,Um:()=>u,Us:()=>R,X0:()=>b,Y3:()=>E,YO:()=>p,Yx:()=>i,gl:()=>r,jq:()=>h,mH:()=>m,uX:()=>f,xh:()=>S});const n="ENTITY_PLAYLIST_REQUEST_SUCCESS",i="ARTIST_CONCERTS_ENTITY_VIEW_REQUEST",a="ENTITY_VIEW_REQUEST",o="ENTITY_VIEW_REQUEST_ERROR",r="ENTITY_VIEW_REQUEST_SUCCESS",l="ENTITY_CLEAR_SINGLE",d="USER_NEXT_PUBLIC_PLAYLISTS_REQUEST",c="USER_NEXT_PUBLIC_PLAYLISTS_ERROR",u="USER_NEXT_PUBLIC_PLAYLISTS_SUCCESS",p="SHOW_ACCESS_INFO_REQUEST",m="SHOW_ACCESS_INFO_REQUEST_SUCCESS",h="SHOW_ACCESS_INFO_REQUEST_ERROR",_="HAS_PREVIOUS_LIKES_SUCCESS",y="IS_BANNED_SUCCESS",b="TOGGLE_LIKE_REQUEST",g="TOGGLE_LIKE_SUCCESS",f="CHECKOUT_BOOK_ERROR",v="TRACK_ENTITY_VIEW_REQUEST_SUCCESS",E="ALBUM_ENTITY_VIEW_REQUEST_SUCCESS",w="ENTITY_NEXT_PAGINATION_REQUEST",S="ENTITY_NEXT_PAGINATION_SUCCESS",R="ENTITY_NEXT_PAGINATION_ERROR",T="FETCH_DISCOGRAPHY_REQUEST"},82033:(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var n=s(62411);const i=()=>(0,n.d4)((e=>{let{session:t}=e;return t.features}))},82418:(e,t,s)=>{"use strict";s.d(t,{D_:()=>i,dN:()=>a,ys:()=>o});var n=s(60568);function i(e){return{type:n.U5,data:e}}function a(e,t){return t?{type:n.OP,logData:e,skipGoogleAnalytics:t}:{type:n.OP,logData:e}}function o(e,t){return{type:n.pn,err:e,data:t}}},82598:(e,t,s)=>{"use strict";s.d(t,{R:()=>i});var n=s(67193);const i=e=>!(null!=e&&e.playable)&&(null==e?void 0:e.reason)===n.$c.PaymentRequired},82639:(e,t,s)=>{"use strict";s.d(t,{C:()=>n});s(7130);function n(e){return async()=>{const t=await e.getToken();if(null===t)throw new Error("Token is currently unavailable.");const{accessToken:s,accessTokenExpirationTimestampMs:n}=t;return[s,Math.floor(((n||0)-Date.now())/1e3)]}}},83471:(e,t,s)=>{"use strict";s.d(t,{a:()=>n});let n=function(e){return e[e.HEX=0]="HEX",e[e.HEXA=1]="HEXA",e[e.RGB=2]="RGB",e[e.RGBA=3]="RGBA",e[e.HSL=4]="HSL",e[e.HSLA=5]="HSLA",e}({})},84745:(e,t,s)=>{"use strict";s.d(t,{H:()=>m,R:()=>h});var n=s(30758),i=s(6742),a=s(90672),o=s(31760),r=s(46938),l=s(39237),d=s(53229);const c="ilFQxSwAuKW7R9upfQxi";var u=s(51926),p=s(86070);let m=function(e){return e.primary="primary",e.secondary="secondary",e.transparent="transparent",e}({});const h=n.memo((0,n.forwardRef)((function(e,t){const{onClick:s,isPlaying:n,locked:h,version:_=m.primary,size:y="medium",disabled:b=!1,children:g,ariaPauseLabel:f,ariaPlayLabel:v,isLoading:E,...w}=e,S=e=>{const{currentTarget:t,detail:n}=e;s(e),n>0&&t&&t.blur()};let R=d.Ru.get("play"),T=i.A;h?(R=d.Ru.get("mwp.header.content.unavailable"),T=a.u):n?(R=f??d.Ru.get("pause"),T=o._):R=v??R;return(0,p.jsx)(u.Z,{label:d.Ru.get("play-button.label"),children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:c,children:(()=>{const e={iconOnly:T,size:y,onClick:S,disabled:b||E,"aria-label":R,ref:t,"data-testid":"play-button",...w};switch(_){case m.secondary:return(0,p.jsx)(r.$,{...e,colorSet:"invertedLight"});case m.transparent:return(0,p.jsx)(l.H,{...e,semanticColor:"textBase"});default:return(0,p.jsx)(r.$,{...e})}})()}),g]})})})))},86075:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var n=s(97500),i=s.n(n),a=s(1581),o=s(84567),r=s(86070);function l(e){let{children:t,paddingBottom:s="spacer8",className:n}=e;return(0,r.jsx)(o.E,{variant:"bodySmallBold",className:i()(a.A.container,n),dir:"auto",paddingBottom:s,children:t})}},86136:(e,t,s)=>{"use strict";s.d(t,{N:()=>u});s(16961),s(54615),s(8200),s(36886),s(56831),s(4118),s(5981),s(63074),s(39724);var n=s(30758),i=s(35746),a=s(60749),o=s(7769),r=s(87801),l=s(71767),d=s(90135);var c=s(86070);const u=(0,n.memo)((e=>{const{to:t,onClick:s,children:u,draggable:h=!1,..._}=e,y=(0,o.W)(),b=(0,i.o_h)(t,{parseUnknown:!0}),g=null==b?void 0:b.toURL(),f=(0,i.o_h)(g),v=(E=t)&&E.includes("popular-in")?d.c.COUNTRY_HUB:E&&E.includes("popular-all")?d.c.COUNTRY_HUB_SECTION:void 0;var E;const w=(0,r.W)({type:"link",uri:v||(null==f?void 0:f.toURI())}),S={onClick:(0,n.useCallback)((e=>{y({intent:"navigate",type:"click",targetUri:t}),s&&s(e)}),[y,t,s]),draggable:h,..._};if(b){const e=b.toURLPath(!0),t=(0,l.hF)(e),s=w?t:e;return(0,c.jsx)(a.N_,{...S,to:{pathname:s},children:u})}return(0,c.jsx)("a",{...S,href:t,target:"_blank",rel:(R=S.rel,[...m,...(null==R?void 0:R.split(" ").filter((e=>p.has(e))))??[]].join(" ")),children:u});var R})),p=new Set(["nofollow"]),m=["noopener"]},86492:(e,t,s)=>{"use strict";s.d(t,{gf:()=>l,QH:()=>d,dl:()=>u});var n=s(9214),i=s(42587);const a=async(e,t,s)=>(s??="com.widevine.alpha",(await e.build().withMethod("GET").withHost(i.FN).withPath(`/unauth/episode/${t}/${s}`).withEndpointIdentifier("/unauth/episode/{episodeId}/{keysystem}").send()).body);var o=s(35746),r=function(e){return e.MP3="MP3",e.MP4="MP4",e.MP4_DUAL="MP4_DUAL",e.MP4_CBCS="MP4_CBCS",e.MP4_FLAC="MP4_FLAC",e.MANIFEST_ID="MANIFEST_ID",e.AD_MANIFEST="AD_MANIFEST",e.GENERIC_MEDIA="GENERIC_MEDIA",e}(r||{});function l(e){var t;return 0===(null===(t=e.showTypes)||void 0===t?void 0:t.length)}function d(e,t){var s;const n=null===(s=t.trailerV2)||void 0===s?void 0:s.data;return!(!n||!("uri"in n))&&e.uri===n.uri}const c=e=>{var t;const s=null==e||null===(t=e.split(".").pop())||void 0===t||null===(t=t.split("?")[0])||void 0===t?void 0:t.toUpperCase();return s&&s in r?s:r.MP3};async function u(e,t,s){var i;const l=(0,o.o_h)(e.uri),d=await a(n.n.getInstance(),null==l?void 0:l.id,t);var u;if("video"===s)return{format:r.MANIFEST_ID,mediaType:s,noManifest:!1,fileId:null===(u=d.video)||void 0===u||null===(u=u[0])||void 0===u?void 0:u.manifestId};const p="ALLOWED"===d.passthrough&&d.passthroughUrl?c(d.passthroughUrl):null===(i=d.format)||void 0===i?void 0:i.replace(/_(128|256)/,""),m="NONE"!==d.passthrough,h=m&&d.passthroughUrl;return{format:p,mediaType:s??"audio",noManifest:m,url:h?d.passthroughUrl:d.url[0],fileId:h?"":d.fileId}}},87420:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,u:()=>r});s(16961),s(24929);var n=s(35746),i=s(61228);const a=(e,t)=>{var s;if(!e.length||!t)return!1;const i=null===(s=(0,n.o_h)(t))||void 0===s?void 0:s.id;return e.some((a=i,e=>{var t;return(null===(t=(0,n.o_h)(e))||void 0===t?void 0:t.id)===a}));var a},o=(e,t)=>{const s=(null==e?void 0:e.items)??[];return a(s,t)},r=e=>{let{onDemandPlaylists:t,session:s}=e;return e=>(0,i.xZ)(s)||(e=>{var t;const s=null===(t=(0,n.o_h)(e))||void 0===t?void 0:t.type;return s===n.NQG.SHOW||s===n.NQG.EPISODE})(e)||o(t,e)}},87801:(e,t,s)=>{"use strict";s.d(t,{W:()=>l});var n=s(35746),i=s(53229),a=s(90348),o=s(82033),r=s(90135);const l=e=>{var t;let{type:s,uri:l}=e;const{isI18nAdditionalPagesEnabled:d}=(0,o.J)();if(void 0===l)return!1;const c=i.Ru.getLocaleForURLPath(),u=[r.c.HOME,r.c.COUNTRY_HUB,r.c.COUNTRY_HUB_SECTION].includes(l)?l:null===(t=(0,n.o_h)(l))||void 0===t?void 0:t.type;return(0,a.p)({entityFeatureFlag:d,urlLocale:c,entity:u,type:s})}},88493:(e,t,s)=>{"use strict";s.d(t,{s:()=>n});const n={ALBUM:"ALBUM",AUDIOBOOK:"AUDIOBOOK",EP:"EP",COMPILATION:"COMPILATION",PODCAST:"PODCAST",SINGLE:"SINGLE",UNKNOWN:"UNKNOWN"}},88783:(e,t,s)=>{"use strict";s.d(t,{$n:()=>d,VH:()=>l,yo:()=>r});var n=s(9702),i=s(62411),a=s(99410),o=s(29377);const r=async(e,t)=>{if(e&&t)return"Episode"===t.__typename?(0,a.Uw)(t):(0,a.Qf)(t)},l=async(e,t)=>{if(e&&t)return(0,a.au)(t)},d=e=>{let{uri:t,isOnDemand:s,playbackContextUri:a,audioFileMetadataResolver:r,hasLockedContent:l=!1}=e;const d=(0,i.wA)(),c=(0,o.R)();return async()=>{if(!l&&a===t)return void d((0,n.d5)());const e={shuffle:!s,playOrigin:{referrerIdentifier:c}},i=await(null==r?void 0:r());d((0,n.xN)(t,null,e,undefined,i))}}},89895:(e,t,s)=>{"use strict";s.d(t,{m:()=>o});var n=s(48397),i=s(84567),a=s(86070);const o=e=>{let{children:t,testId:s}=e;return(0,a.jsx)(i.E,{as:"h1",variant:"titleMedium","data-testid":s,className:n.A.title,children:t})}},90135:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});let n=function(e){return e.AD="ad",e.ALBUM="album",e.ARTIST="artist",e.ARTIST_CONCERTS="artist-concerts",e.AUDIOBOOK="audiobook",e.AUTHOR="author",e.CHAPTER="chapter",e.CONCERT="concert",e.CONCERTS="concerts",e.COUNTRY_HUB="country-hub",e.COUNTRY_HUB_SECTION="country-hub-section",e.EPISODE="episode",e.PODCAST_SHORT="podcast-short",e.GENRE="genre",e.HOME="",e.VIEW="view",e.PLAYLIST="playlist",e.PLAYLISTV2="playlist-v2",e.SHOW="show",e.TRACK="track",e.UNKNOWN="unknown",e.USER="user",e.LIKED_SONGS="liked-songs",e.LOCAL_FILES="local-files",e.YOUR_EPISODES="your-episodes",e.FOLDER="folder",e.PREMIUM="premium",e.PRE_RELEASE_ALBUM="pre-release-album",e.PRE_RELEASE_BOOK="pre-release-book",e.AUTOCOMPLETE="autocomplete",e}({})},90348:(e,t,s)=>{"use strict";s.d(t,{p:()=>c,vf:()=>u});s(16961),s(32807),s(24929);var n=s(36450),i=s(90135);const a=[i.c.CONCERT,i.c.CONCERTS],o=(e,t)=>void 0!==t&&e.some((e=>e===t)),r=(e,t)=>{const s=t&&a.some((e=>e===t)),i=s?n.r0:n.IU,r=s?n.Xq:n._h,l=o(i,e),d=o(r,e);return l||d},l=(e,t)=>{if(void 0===e)return!1;const s=""===e;return t.some((t=>t===e))||s},d=(e,t)=>{if(void 0===e)return!1;const s=l(e,n.IH)&&t,i=l(e,n.eA);return s||i},c=e=>{let{entityFeatureFlag:t,urlLocale:s,entity:n,type:i}=e;switch(i){case"locale":return r(s,n);case"route":return d(n,t);case"link":return r(s,n)&&d(n,t);default:return!1}},u=e=>{if(!e)return!1;return["/",...n.NW.map((e=>`/${n.CT}${e}`))].includes(e)}},90794:(e,t,s)=>{"use strict";s.d(t,{$v:()=>a,Ap:()=>o,wK:()=>i});var n=s(55758);const i=e=>({type:n.bx,uri:e}),a=(e,t)=>({type:n.pq,uri:e,data:t}),o=e=>({type:n.Ix,uri:e})},90813:(e,t,s)=>{"use strict";s.d(t,{n:()=>u});var n=s(41350),i=s(42398),a=s(66362),o=s(91712);function r(e,t,s){try{(0,i.fE)({metric_type:n.MetricTypes.COUNTER,what:"request-rate",value:1,tags:{endpoint:e,statusCode:t,isFatal:s}}).catch((()=>({})))}catch(a){}}class l extends o.t{build(){const e=super.build();return e.onAfterSend=t=>{let s="unknown",o=!1;if(null!==e.endpointIdentifier&&(o=!0,s=`${e.method} ${e.hostIdentifier||"unknown-host"}::${e.endpointIdentifier}`),t)throw o&&r(s,JSON.stringify(t.status||0),JSON.stringify(0===(e.endpointIdentifier||"").indexOf("/me"))),a.O.fromResponse(t,e.method);if(o){r(s,"200","false");const t=Date.now()-(e.startTimestamp||0);!function(e,t,s){try{(0,i.fE)({metric_type:n.MetricTypes.TIMER,what:"request-duration",value:s,tags:{endpoint:e,statusCode:t}}).catch((()=>({})))}catch(a){}}(s,"200",n.Time.fromMillis(t).asNanos())}},e}}var d=s(25203);let c=null;class u{static setSession(e){if(!e)return;const{accessToken:t}=e,s=this.getInstance();s.accessToken=t,t||s.resetPendingRequests()}static setLocale(e){this.getInstance().locale=e}static setMarket(e){this.getInstance().market=e}static resetInstance(){c=null}static getInstance(){return c||(c=this.createNew()),c}static createNew(){return new l(d.H)}}},90879:(e,t,s)=>{"use strict";s.d(t,{I:()=>l});var n=s(30758),i=s(26465),a=s(59878),o=s(31926),r=s(97492);function l(e,t,s){const l=(0,i.jE)(),{request:d}=(0,n.useContext)(o.j),{name:c,operation:u,sha256Hash:p}=e,m="query"===u,h=m&&null!=s&&s.gcTime?null==s?void 0:s.gcTime:0,_=m&&null!=s&&s.staleTime?null==s?void 0:s.staleTime:0,y=(0,n.useRef)([c,t,p]);y.current=[c,t,p];const{data:b,isLoading:g,error:f}=(0,a.I)({queryKey:y.current,queryFn:()=>(0,r.c)(d,e,t),...s,gcTime:h,staleTime:_,meta:{persist:!0}}),v=(0,n.useCallback)((()=>l.invalidateQueries({queryKey:y.current,exact:!0})),[l]),E=(0,n.useCallback)((()=>{var e;return(null===(e=l.getQueryData(y.current))||void 0===e?void 0:e.data)??null}),[l]),w=(0,n.useCallback)((e=>{l.setQueryData(y.current,{data:e})}),[l]),S=(0,n.useCallback)((()=>l.cancelQueries({queryKey:y.current})),[l]);return{data:(null==b?void 0:b.data)??null,extensions:null==b?void 0:b.extensions,error:f??null,loading:g,invalidate:v,getQueryData:E,setQueryData:w,cancelQueries:S}}},90998:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});const n={container:"jHYp6flNGXPXD2ZTP5vn",carouselContainer:"VNM5m8XvNUWPJdGQhG6w",carouselItemButton:"f80JyZ5x91hXaENUtuRz",shelfHeader:"xl4m08ueG7WUrW99ym1c",card:"RIfVjW4lFM3Uj7KC8I04",bottomNavigation:"DLgaDaCObsmY3OFAGIJo",itemsTitle:"lKhNMjJFgZ6RQ96RRsJ3",premiumSignifier:"YD1YOyGesM6eYlnUL5VQ"}},91675:(e,t,s)=>{"use strict";s.d(t,{H:()=>u});s(16961),s(32807);var n=s(97500),i=s.n(n),a=s(84567);const o="gFMID21sNOX0Lmrk2Q40",r="YMypgfizDPCuBPPoiaOr";var l=s(55993),d=s(86136),c=s(86070);const u=e=>{let{className:t,tracks:s=[]}=e;const n=(0,l.V)();return(0,c.jsx)("div",{"data-testid":"track-cloud-item",className:i()(t,o),children:s.slice(0,9).map(((e,t)=>(0,c.jsxs)(a.E,{variant:"bodyMedium",className:r,children:[n&&(0,c.jsx)(d.N,{to:e.artistUri||"",children:`${e.title} `}),!n&&`${e.title} `,(0,c.jsx)(a.E,{variant:"bodyMedium",children:e.subtitle})]},t)))})}},91712:(e,t,s)=>{"use strict";s.d(t,{t:()=>r});var n=s(63585);s(16961),s(89370),s(88747),s(73385),s(82324),s(54303);let i;class a{constructor(){this._accessToken=null,this._market="",this._headers=[],this._globalRequestHeaders=[],this._shouldSendMarket=!0,this._shouldSendGlobalHeaders=!0,this._locale=null,this._shouldSendLocale=!1,this._shouldSendAuthorization=!0,this._host="",this._hostIdentifier="",this.path="",this.responseType="json",this.queryParameters=void 0,this._method="GET",this.jsonContentType=!1,this.body=null,this._endpointIdentifier=null,this._startTimestamp=null,this._includeCredentials=!1,this._abortSignal=null}static setRequestImplementation(e){i=e}getRequestImplementation(){return i}set accessToken(e){this._accessToken=e}get market(){return this._market}set market(e){this._market=e}get locale(){return this._locale}set locale(e){this._locale=e}get globalRequestHeaders(){return this._globalRequestHeaders}set globalRequestHeaders(e){this._globalRequestHeaders=e}get startTimestamp(){return this._startTimestamp}get host(){return this._host}get hostIdentifier(){return this._hostIdentifier||this._host}get method(){return this._method}get endpointIdentifier(){return this._endpointIdentifier}get abortSignal(){return this._abortSignal}withHost(e){return this._host=e,this}withHostIdentifier(e){return this._hostIdentifier=e,this}withPath(e){return this.path=e,this}withResponseType(e){return this.responseType=e,this}withEndpointIdentifier(e){return this._endpointIdentifier=e,this}withQueryParameters(e){return this.queryParameters=e,this}withBody(e){return this.body=e,this}withMethod(e){return this._method=e,this}withoutMarket(){return this._shouldSendMarket=!1,this}withoutGlobalHeaders(){return this._shouldSendGlobalHeaders=!1,this}withoutAuthorization(){return this._shouldSendAuthorization=!1,this}withLocale(e){return this._shouldSendLocale=!0,e&&(this._locale=e),this}withJsonContentType(){return this.jsonContentType=!0,this}withHeaders(e){return this._headers=e,this}withCredentials(){return this._includeCredentials=!0,this}fromURL(e){const t=new URL(e);return this.withHost(t.origin),this.withPath(t.pathname),this.withQueryParameters(Array.from(t.searchParams.entries()).reduce(((e,t)=>{let[s,n]=t;return{...e,[s]:n}}),{})),this}withAbortSignal(e){return this._abortSignal=e,this}onBeforeSend(e){}onAfterSend(e){}async send(){const e=new i(this.method,`${this._host}${this.path}`,this._shouldSendAuthorization);this._shouldSendMarket&&this.market&&(this.queryParameters={...this.queryParameters,market:this.market}),this._shouldSendLocale&&this.locale&&(this.queryParameters={...this.queryParameters,locale:this.locale}),this.locale&&e.addHeader("Accept-Language",this.locale),e.withQueryParameters(this.queryParameters),e.withResponseType(this.responseType),e.withEndpointIdentifier(this._endpointIdentifier),this._abortSignal&&e.withAbortSignal(this._abortSignal),this._shouldSendAuthorization&&this._accessToken&&e.addHeader("Authorization",`Bearer ${this._accessToken}`),e.addHeader("Accept","application/json"),this._includeCredentials&&e.includeCredentials(),this._shouldSendGlobalHeaders&&this._globalRequestHeaders.length>0&&this._globalRequestHeaders.forEach((t=>{let[s,n]=t;void 0!==s&&void 0!==n&&e.addHeader(s,n)}));for(const s of this._headers)void 0!==s.key&&void 0!==s.value&&e.addHeader(s.key,s.value);this.jsonContentType&&e.addHeader("Content-Type","application/json;charset=UTF-8"),this.body&&e.withPostData(this.body);try{this.onBeforeSend(e)}catch(t){return Promise.reject(t)}return this._startTimestamp=Date.now(),e.send().then((e=>(this.onAfterSend(),e))).catch((e=>{throw this.onAfterSend(e),e}))}}var o=s(25203);(0,n.u)("RequestBuilder");class r{constructor(e){this._accessToken=null,this._market="",this._locale="",this._globalRequestHeaders=[],this._RequestImplementation=e||o.H}get accessToken(){return this._accessToken}set accessToken(e){this._accessToken=e}get globalRequestHeaders(){return this._globalRequestHeaders}set globalRequestHeaders(e){this._globalRequestHeaders=e}get market(){return this._market}set market(e){this._market=e}get locale(){return this._locale}set locale(e){this._locale=e}resetPendingRequests(){}build(){a.setRequestImplementation(this._RequestImplementation);const e=new a;return e.accessToken=this._accessToken,e.market=this.market,e.locale=this.locale,e.globalRequestHeaders=this.globalRequestHeaders,e}}},91890:(e,t,s)=>{"use strict";s.d(t,{m:()=>n});s(16961),s(32807);const n=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1?arguments[1]:void 0;const n=t.map((e=>{let t=e.width;return t||(t=64),{...e,width:t}})).sort(((e,t)=>e.width-t.width));for(const i of n)if(i.width>=s)return i.url;return null==t||null===(e=t[0])||void 0===e?void 0:e.url}},91893:(e,t,s)=>{"use strict";s.d(t,{h:()=>i,r:()=>a});var n=s(30758);const i="Spotify – Mobile Web Player",a=e=>{(0,n.useEffect)((()=>{e&&(document.title=e)}))}},92192:(e,t)=>{"use strict";var s;t.b=void 0,function(e){e.AUTHENTICATED="authenticated",e.AUTHENTICATION_ERROR="authentication_error",e.AUTOPLAY_FAILED="autoplay_failed",e.BEFORE_DISCONNECT="before_disconnect",e.BEFORE_VOLUME_CHANGE="before_volume_change",e.BUFFER_STALLED="stalled",e.BUFFERING_END="buffering_end",e.BUFFERING_START="buffering_start",e.REBUFFERING_END="rebuffering_end",e.REBUFFERING_START="rebuffering_start",e.CONNECTED="connected",e.CONNECTION_ERROR="connection_error",e.DEVICES_CHANGED="devices_changed",e.DEVICE_DEACTIVATED="device_deactivated",e.DEVICE_DESCRIPTOR_CHANGED="descriptor_changed",e.DISCONNECTED="disconnected",e.DISPLAYED_CUES_CHANGED="displayed_cues_changed",e.DURATION_CHANGED="duration_changed",e.ERROR="error",e.LAST_ACTIVE_DEVICE_INFO_CHANGED="last_active_device_info_changed",e.LOCAL_CONTEXT_ENDED="local_context_ended",e.LOCAL_PLAYER_DISABLED="local_player_disabled",e.LOCAL_PLAYER_ENABLED="local_player_enabled",e.LOCAL_PLAYER_LOGGED_OUT="local_player_logged_out",e.LOGGED_OUT="logged_out",e.MAX_LIST_ERRORS_REACHED="max_list_errors_reached",e.MAX_SUBSCRIPTIONS_REACHED="max_subscriptions_reached",e.PLAYBACK_CAPPED="playback_capped",e.PLAYER_INITIALIZATION_DONE="player_initialization_done",e.PLAYER_INITIALIZATION_FAILED="player_initialization_failed",e.PLAYING_PROFILE_CHANGED="playing_profile_changed",e.PRODUCT_STATE_CHANGED="product_state_changed",e.PROGRESS="progress",e.PLAYER_QUEUE_CHANGED="player_queue_changed",e.RECONNECTED="reconnected",e.RECONNECTING="reconnecting",e.REMOTE_OBSERVER_DISABLED="remote_observer_disabled",e.REMOTE_OBSERVER_ENABLED="remote_observer_enabled",e.REPORTING_START="reporting_start",e.REPORTING_FIRST_QUARTILE="reporting_first_quartile",e.REPORTING_MIDPOINT="reporting_midpoint",e.REPORTING_THIRD_QUARTILE="reporting_third_quartile",e.REPORTING_COMPLETE="reporting_complete",e.REPORTING_PAUSE="reporting_pause",e.REPORTING_RESUME="reporting_resume",e.REPORTING_CREATIVE_VIEW="reporting_creative_view",e.REPORTING_ERROR="reporting_error",e.SERVICE_REGISTRATION_ERROR="service_registration_error",e.SPEED_CHANGED="speed_changed",e.STATE_CHANGED="state_changed",e.STOPPED_ON_BACKGROUND="stopped_on_background",e.SUBTITLE_LANGUAGES_LOADED="subtitle_languages_loaded",e.TRACK_ENDED="track_ended",e.UNRECOVERABLE_FAILURE="unrecoverable_failure",e.VIDEO_ELEMENT_APPENDED="video_element_appended",e.VIDEO_ELEMENT_REMOVED="video_element_removed",e.VOLUME_CHANGED="volume_changed",e.MEDIA_PLAYBACK_MODE_CHANGED="media_playback_mode_changed",e.PLAYER_VISIBILITY_CHANGED="visibility_changed",e.VIDEO_VISIBILITY_CHANGED="video_visibility_changed",e.VIDEO_SURFACE_CHANGED="video_surface_changed"}(s||(t.b=s={}))},92591:(e,t,s)=>{"use strict";s.d(t,{KZ:()=>a,T:()=>i,pV:()=>n});const n="BROWSE_GRID_DATA_REQUEST",i="BROWSE_GRID_DATA_REQUEST_SUCCESS",a="BROWSE_GRID_DATA_REQUEST_ERROR"},92665:(e,t,s)=>{"use strict";s.d(t,{s:()=>a});var n=s(62411),i=s(61228);const a=()=>(0,n.d4)((e=>(0,i.Eo)(e.session)))},92751:(e,t,s)=>{"use strict";function n(e){return"Episode"===(null==e?void 0:e.__typename)}function i(e){return"Chapter"===(null==e?void 0:e.__typename)}function a(e){return"Chapter"===(null==e?void 0:e.__typename)||"Episode"===(null==e?void 0:e.__typename)}function o(e){return!!e&&["Podcast","Audiobook"].includes(e.__typename)}function r(e){return!!e&&"Audiobook"===(null==e?void 0:e.__typename)}function l(e){return!!e&&"Podcast"===(null==e?void 0:e.__typename)}s.d(t,{Gr:()=>i,O1:()=>l,Wm:()=>o,YM:()=>r,gB:()=>a,oS:()=>n})},94011:(e,t,s)=>{"use strict";s.d(t,{H:()=>a,O:()=>i});var n=s(40389);const i=e=>({type:n.Q.SHOW_CONTEXT_MENU,data:e}),a=()=>({type:n.Q.DISMISS_CONTEXT_MENU})},94184:(e,t,s)=>{"use strict";s.d(t,{o:()=>n});s(73385),s(82324),s(54303);const n=(e,t)=>{const s=t?new URLSearchParams(t.search):void 0;return"1"===(null==s?void 0:s.get(e))}},94338:(e,t,s)=>{"use strict";s.d(t,{c:()=>r});var n=s(66324),i=s(9807),a=s(48397),o=s(86070);const r=e=>{const t=(0,i.s9)();return(0,o.jsx)("div",{className:a.A.loadingState,...e,children:(0,o.jsx)(n.U,{"data-testid":"loading-indicator",size:"medium",ariaValueText:t.get("mwp.header.momentarily"),"aria-label":t.get("mwp.header.momentarily")})})}},94758:e=>{e.exports={af:"af-ZA",am:"am-ET",ar:"ar",az:"az-AZ",bg:"bg-BG",bn:"bn-IN",bho:"bp",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR",es:"es-ES","es-419":"es-LA",et:"et-EE",fa:"fa-IR",fr:"fr-FR",fi:"fi-FI",fil:"fp-PH","fr-CA":"fr-CA",gu:"gu-IN",hu:"hu-HU",he:"he-IL",hi:"hi-IN",hr:"hr-HR",id:"id-ID",is:"is-IS",it:"it-IT",ja:"ja-JP",kn:"kn-IN",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ml:"ml-IN",mr:"mr-IN",ms:"ms-MY",nb:"nb-NO",ne:"ne-NP",nl:"nl-NL",or:"or-IN","pa-IN":"pa-IN","pa-PK":"pa-PK",pl:"pl-PL","pt-PT":"pt-PT","pt-BR":"pt-BR",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",sr:"sr-RS",sv:"sv-SE",sw:"sw",ta:"ta-IN",te:"te-IN",th:"th-TH",tr:"tr-TR",uk:"uk-UA",ur:"ur",vi:"vi-VN","zh-CN":"zh-CN","zh-TW":"zh-TW",zu:"zu-ZA","ar-EG":"ar-EG","ar-MA":"ar-MA","ar-SA":"ar-SA",eu:"eu-ES",bs:"bs-BA",ca:"ca-ES","zh-HK":"zh-HK","en-GB":"en-GB",gl:"gl-ES",mk:"mk-MK","es-AR":"es-AR","es-MX":"es-MX"}},95089:(e,t,s)=>{"use strict";s.d(t,{y:()=>b});var n=s(24484),i=s(30758);var a=s(86070);const o=e=>{let{toggleContextMenu:t,children:s}=e;return(0,a.jsx)(a.Fragment,{children:i.cloneElement(s,{onClick:e=>{var n,i;null===(n=(i=s.props).onClick)||void 0===n||n.call(i,e),t(e)}})})},r=e=>{let{openContextMenu:t,children:s}=e;const o=(0,n.Oj)();return(0,a.jsx)(a.Fragment,{children:i.cloneElement(s,{onFocus:e=>{var n,i;document.documentElement.classList.contains("no-focus-outline")||(null===(n=(i=s.props).onFocus)||void 0===n||n.call(i,e),t(e))},onBlur:e=>{var t,n;null===(t=(n=s.props).onBlur)||void 0===t||t.call(n,e),o({type:"close"})},onMouseEnter:e=>{var n,i;null===(n=(i=s.props).onMouseEnter)||void 0===n||n.call(i,e),t(e)},onMouseLeave:e=>{var t,n;null===(t=(n=s.props).onMouseLeave)||void 0===t||t.call(n,e),o({type:"close"})}})})},l=e=>{let{openContextMenu:t,children:s}=e;const o=(0,n.Oj)(),{isTouching:r}=(0,n.fd)(),l=(0,i.useRef)();return(0,a.jsx)(a.Fragment,{children:i.cloneElement(s,{onContextMenu:e=>{var n,i;null===(n=(i=s.props).onContextMenu)||void 0===n||n.call(i,e),r||t(e),e.stopPropagation()},onTouchStart:e=>{var t,n;l.current=Date.now(),null===(t=(n=s.props).onTouchStart)||void 0===t||t.call(n,e),o({type:"touch",value:!0})},onTouchEnd:e=>{var n,i,a;null===(n=(i=s.props).onTouchEnd)||void 0===n||n.call(i,e),(a=l.current)&&Date.now()-500>a&&(o({type:"touch",value:!1}),t(e)),document.body.hasAttribute("data-dragging-type")&&document.body.removeAttribute("data-dragging-type")}})})},d=(0,i.forwardRef)((function(e,t){let{isOpen:s,handleContextMenu:n,trigger:d,children:c}=e;return function(e){return"function"==typeof e}(c)?(0,a.jsx)(a.Fragment,{children:c(s,n,t)}):"click"===d?(0,a.jsx)(o,{toggleContextMenu:n,children:c}):"right-click"===d?(0,a.jsx)(l,{openContextMenu:n,children:c}):"hover-or-focus"===d?(0,a.jsx)(r,{openContextMenu:n,children:c}):(0,a.jsx)(a.Fragment,{children:(0,i.cloneElement)(c,{ref:t})})}));var c=s(3956);var u=s(75660);const p=e=>{let{menu:t,onClickOutside:s,children:n,trigger:o,offset:r,placement:l,isOpen:d,preventScrollingWhileOpen:p,triggerRef:m,position:h,getReferenceClientRect:_,onShow:y,onHide:b,appendTo:g}=e;const f=(0,i.useRef)(null),v=(0,i.useRef)(null);((e,t)=>{(0,i.useEffect)((()=>{const s=e=>{t.current&&!t.current.contains(e.target)&&e.preventDefault()};if(e){const e={passive:!1};window.addEventListener("mousewheel",s,e),window.addEventListener("touchmove",s,e)}return()=>{window.removeEventListener("mousewheel",s),window.removeEventListener("touchmove",s)}}),[e,t])})(d&&p,f);const{updateAfterFirstLayout:E,cancel:w}=((e,t)=>{const s=(0,i.useRef)(0),n=(0,i.useCallback)((()=>{cancelAnimationFrame(s.current)}),[]),a=(0,i.useCallback)((()=>{var n,i;e.current&&0!==(null===(n=e.current)||void 0===n?void 0:n.getBoundingClientRect().width)?(null===(i=t.current)||void 0===i||null===(i=i.popperInstance)||void 0===i||i.update(),cancelAnimationFrame(s.current)):s.current=requestAnimationFrame(a)}),[e,t]);return(0,i.useEffect)((()=>()=>{cancelAnimationFrame(s.current)}),[a]),{updateAfterFirstLayout:a,cancel:n}})(f,v),S=(0,i.useCallback)((e=>{w(),e.reference.removeAttribute("data-context-menu-open"),b()}),[w,b]);(0,i.useEffect)((()=>{const e=v.current;if(!e||!e.reference||"click"===o)return()=>{};const t=e.reference,s=S.bind(void 0,e);return t.addEventListener("click",s),()=>{t.removeEventListener("click",s)}}),[f,v,S,o]);let R=null;return _?R=_:"right-click"!==o&&m||(R=()=>({width:0,height:0,top:(null==h?void 0:h.y)??0,bottom:(null==h?void 0:h.y)??0,left:(null==h?void 0:h.x)??0,right:(null==h?void 0:h.x)??0,x:0,y:0,toJSON:()=>{}})),(0,a.jsxs)(a.Fragment,{children:[n,d&&(0,a.jsx)(c.Ay,{onCreate:e=>{v.current=e},onShow:e=>{E(),e.reference.setAttribute("data-context-menu-open","true"),null==y||y(e)},onHide:S,visible:d,render:e=>(0,a.jsx)(u.p,{value:"contextmenu",children:(0,a.jsx)("div",{ref:f,id:"context-menu","data-placement":e["data-placement"],"data-testid":"context-menu",children:d?t:null})}),arrow:!0,popperOptions:{modifiers:[{name:"preventOverflow",options:{rootBoundary:"viewport",altAxis:!0,padding:10,tether:!1}},{name:"arrow",options:{padding:10}}]},placement:l,onClickOutside:(e,t)=>{null==s||s(e,t)},interactive:!0,offset:r,...g?{appendTo:g}:{},reference:m,getReferenceClientRect:R,aria:{expanded:"hover-or-focus"!==o&&"auto"}})]})};function m(e){if(!e)return{x:0,y:0};if(function(e){return"touchend"===e.type||"touchstart"===e.type}(e)&&e.changedTouches[0])return{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};if(function(e){if("clientX"in e&&"clientY"in e)return 0!==e.clientX&&0!==e.clientY;return!1}(e))return{x:e.clientX,y:e.clientY};const t=e.target.getBoundingClientRect();return{x:t.x+t.width/2,y:t.y+t.height}}var h=s(22122);const _=e=>{let{children:t,menu:s,action:o="toggle",trigger:r="click",renderInline:l=!1,offset:c=[0,8],placement:u="bottom-start",preventScrollingWhileOpen:_=!0,onShow:y,onHide:b,onClickOutside:g,snapshotReferenceElementPositionWhileOpen:f=!1,autoUpdate:v=!0}=e;const E=(0,n.Oj)(),w=(0,n.fd)(),S=(e=>{let{action:t,menu:s}=e;const a=(0,n.Oj)();return(0,i.useCallback)(((e,n)=>{e.persist(),e.preventDefault(),a({type:t,event:e,triggerElement:e.currentTarget,menu:n||s})}),[s,a,t])})({action:o,menu:s}),R=(0,h.ZY)();(0,i.useEffect)((()=>{v&&E({type:"update",menu:s})}),[v,E,s]);const T=(0,i.useCallback)((()=>{E({type:"close"})}),[E]),A=(0,i.useMemo)((()=>w.triggerElement&&f?w.triggerElement.getBoundingClientRect():null),[w.isOpen]);return(0,a.jsx)(p,{onClickOutside:(e,t)=>{g?g(T,e,t):T()},placement:u,trigger:r,offset:c,preventScrollingWhileOpen:_,triggerRef:w.triggerElement??void 0,appendTo:!R||l?void 0:()=>R.body,isOpen:w.isOpen,position:m(w.event),menu:w.menu,onShow:y,onHide:function(){T();for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];null==b||b(...t)},getReferenceClientRect:A?()=>A:null,children:(0,a.jsx)(d,{isOpen:w.isOpen,handleContextMenu:S,trigger:r,children:t})})},y=e=>(0,a.jsx)(n.SF,{children:(0,a.jsx)(_,{...e})}),b=e=>{let{children:t,content:s,...n}=e;return(0,a.jsx)(y,{renderInline:!0,preventScrollingWhileOpen:!1,placement:"top-start",menu:s,...n,children:t})}},95387:(e,t,s)=>{"use strict";s.d(t,{Cx:()=>n});s(90135);let n=function(e){return e.Audio="AUDIO",e.Unknown="UNKNOWN",e.Video="VIDEO",e}({})},97492:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});s(7130);async function n(e,t,s,n,i){try{const a=await e(t,s,n,i);return null!=a&&a.errors?(navigator.webdriver,Promise.reject(null==a?void 0:a.errors)):a}catch(a){return a instanceof Error?Promise.reject([{message:a.message}]):Promise.reject(null)}}},97526:(e,t,s)=>{"use strict";s.d(t,{CU:()=>l,Dc:()=>i,E6:()=>_,EA:()=>c,Fb:()=>v,Mz:()=>d,NI:()=>h,OP:()=>g,Qu:()=>n,SD:()=>y,Tn:()=>a,V4:()=>m,XU:()=>p,aV:()=>b,b7:()=>r,dL:()=>w,gn:()=>o,qw:()=>u,r2:()=>f,se:()=>E});const n="BUFFERING_START",i="BUFFERING_END",a="PLAYER_ERROR",o="HARMONY_ERROR",r="STATE_CHANGED",l="TOGGLE_PLAY",d="PREV_TRACK",c="SMART_PREVIOUS_TRACK",u="NEXT_TRACK",p="TOGGLE_SHUFFLE",m="CYCLE_REPEAT_MODE",h="SEEK",_="PLAY_URI",y="TRACK_END",b="HEARD_AUDIO",g="INITIATED_PLAYBACK",f="SEEK_FORWARD",v="SEEK_BACKWARD",E="HAS_SKIPPED_THIS_SESSION";let w=function(e){return e.playUri="play_uri",e.skip="skip",e.seek="seek",e.toggle="toggle",e.progress="progress",e.none="none",e}({})},98116:(e,t,s)=>{"use strict";s.d(t,{l:()=>n});class n{constructor(e,t,s,n){this.name=e,this.operation=t,this.sha256Hash=s,this.value=n}}},98607:(e,t,s)=>{"use strict";s.d(t,{V:()=>i});var n=s(62411);const i=()=>(0,n.d4)((e=>e.session.isAnonymous))},98849:(e,t,s)=>{"use strict";s.d(t,{$R:()=>r,Hp:()=>d,eg:()=>l});var n=s(71770),i=s(86492),a=s(24117),o=s(95387);function r(e){var t,s,i,a,o,r,l,d;const c=(0,n.h)(e,"standard"),u=(0,n.h)(e,"large"),p=(0,n.h)(e,"small"),m=(0,n.h)(e,"xlarge");return{image_url:null==c?void 0:c.url,image_height:null==c||null===(t=c.height)||void 0===t?void 0:t.toString(),image_width:null==c||null===(s=c.width)||void 0===s?void 0:s.toString(),image_url_large:null==u?void 0:u.url,image_height_large:null==u||null===(i=u.height)||void 0===i?void 0:i.toString(),image_width_large:null==u||null===(a=u.width)||void 0===a?void 0:a.toString(),image_url_small:null==p?void 0:p.url,image_height_small:null==p||null===(o=p.height)||void 0===o?void 0:o.toString(),image_width_small:null==p||null===(r=p.width)||void 0===r?void 0:r.toString(),image_url_xlarge:null==m?void 0:m.url,image_height_xlarge:null==m||null===(l=m.height)||void 0===l?void 0:l.toString(),image_width_xlarge:null==m||null===(d=m.width)||void 0===d?void 0:d.toString()}}function l(e,t){var s;let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const l=(0,a.X)((null===(s=e.coverArt)||void 0===s?void 0:s.sources)||[]),d=(0,i.QH)(e,t),c=(0,i.gf)(t)||d,u=e.mediaTypes&&e.mediaTypes.includes(o.Cx.Video)?"video":"audio";return{uri:e.uri,title:e.name,subtitle:t.name,type:"episode",album_uri:t.uri,album_title:t.name,artist_uri:t.uri,artist_name:t.name,...r(l),media_type:n?u:"audio",isTrailer:d,anonymousPlaybackAllowed:c}}function d(e){var t,s;return{uri:e.uri,title:e.name,subtitle:e.album.name,type:e.type,album_uri:e.album.uri,album_title:e.album.name,artist_uri:(null===(t=e.artists[0])||void 0===t?void 0:t.uri)??"",artist_name:(null===(s=e.artists[0])||void 0===s?void 0:s.name)??"",media_type:"audio",externalResolvedUrl:e.preview_url,anonymousPlaybackAllowed:Boolean(e.preview_url),isPreview:!0,...r(e.images??e.album.images??[])}}},98985:(e,t,s)=>{"use strict";s.d(t,{s:()=>o});var n=s(40157),i=s.n(n),a=s(86070);const o=e=>(0,a.jsx)(i(),{...e})},99410:(e,t,s)=>{"use strict";s.d(t,{Qf:()=>a,Uw:()=>i,au:()=>o});var n=s(98849);function i(e){var t,s,i;if("Podcast"===e.podcastV2.data.__typename)return{uri:e.uri,title:e.name,subtitle:e.podcastV2.data.name,type:"track",artist_uri:e.podcastV2.data.uri,artist_name:e.podcastV2.data.name,media_type:"audio",externalResolvedUrl:null===(t=e.previewPlayback)||void 0===t||null===(t=t.audioPreview)||void 0===t?void 0:t.cdnUrl,anonymousPlaybackAllowed:Boolean(null===(s=e.previewPlayback)||void 0===s||null===(s=s.audioPreview)||void 0===s?void 0:s.cdnUrl),isPreview:!0,album_uri:e.podcastV2.data.uri,album_title:e.podcastV2.data.name,...(0,n.$R)((null===(i=e.coverArt)||void 0===i?void 0:i.sources)??[])}}function a(e){var t,s,i,a,o,r,l,d,c,u,p,m,h,_,y,b;return"artists"in e?{uri:e.uri,title:e.name,subtitle:(null===(t=e.artists.items[0])||void 0===t?void 0:t.profile.name)??"",type:"track",artist_uri:(null===(s=e.artists.items[0])||void 0===s?void 0:s.uri)??"",artist_name:(null===(i=e.artists.items[0])||void 0===i?void 0:i.profile.name)??"",media_type:"audio",externalResolvedUrl:null===(a=e.previews)||void 0===a||null===(a=a.audioPreviews.items[0])||void 0===a?void 0:a.url,anonymousPlaybackAllowed:Boolean(null===(o=e.previews)||void 0===o||null===(o=o.audioPreviews.items[0])||void 0===o?void 0:o.url),isPreview:!0,album_uri:null===(r=e.albumOfTrack)||void 0===r?void 0:r.uri,album_title:null===(l=e.albumOfTrack)||void 0===l?void 0:l.name,...(0,n.$R)((null===(d=e.albumOfTrack)||void 0===d||null===(d=d.coverArt)||void 0===d?void 0:d.sources)||[])}:{uri:e.uri,title:e.name,subtitle:(null===(c=e.firstArtist.items[0])||void 0===c?void 0:c.profile.name)??"",type:"track",artist_uri:(null===(u=e.firstArtist.items[0])||void 0===u?void 0:u.uri)??"",artist_name:(null===(p=e.firstArtist.items[0])||void 0===p?void 0:p.profile.name)??"",media_type:"audio",externalResolvedUrl:null===(m=e.previews)||void 0===m||null===(m=m.audioPreviews.items[0])||void 0===m?void 0:m.url,anonymousPlaybackAllowed:Boolean(null===(h=e.previews)||void 0===h||null===(h=h.audioPreviews.items[0])||void 0===h?void 0:h.url),isPreview:!0,album_uri:null===(_=e.albumOfTrack)||void 0===_?void 0:_.uri,album_title:null===(y=e.albumOfTrack)||void 0===y?void 0:y.name,...(0,n.$R)((null===(b=e.albumOfTrack)||void 0===b||null===(b=b.coverArt)||void 0===b?void 0:b.sources)||[])}}function o(e){var t,s,i,a,o,r;const l=e.tracksV2.items[0];if(!l||!("track"in l))return;const d=l.track;return{uri:d.uri,title:d.name,subtitle:(null===(t=d.artists.items[0])||void 0===t?void 0:t.profile.name)??"",type:"track",album_uri:e.uri,album_title:e.name,artist_uri:(null===(s=d.artists.items[0])||void 0===s?void 0:s.uri)??"",artist_name:(null===(i=d.artists.items[0])||void 0===i?void 0:i.profile.name)??"",...(0,n.$R)((null===(a=e.coverArt)||void 0===a?void 0:a.sources)||[]),media_type:"audio",externalResolvedUrl:null===(o=d.previews)||void 0===o||null===(o=o.audioPreviews.items[0])||void 0===o?void 0:o.url,anonymousPlaybackAllowed:Boolean(null===(r=d.previews)||void 0===r||null===(r=r.audioPreviews.items[0])||void 0===r?void 0:r.url),isPreview:!0}}}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var s=o[e]={id:e,loaded:!1,exports:{}};return a[e].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.m=a,e=[],r.O=(t,s,n,i)=>{if(!s){var a=1/0;for(c=0;c<e.length;c++){for(var[s,n,i]=e[c],o=!0,l=0;l<s.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](s[l])))?s.splice(l--,1):(o=!1,i<a&&(a=i));if(o){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,n,i]},r.F={},r.E=e=>{Object.keys(r.F).map((t=>{r.F[t](e)}))},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var i=Object.create(null);r.r(i);var a={};t=t||[null,s({}),s([]),s(s)];for(var o=2&n&&e;"object"==typeof o&&!~t.indexOf(o);o=s(o))Object.getOwnPropertyNames(o).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,r.d(i,a),i},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,s)=>(r.f[s](e,t),t)),[])),r.u=e=>(({85:"mwp-artist-page",229:"mwp-home-page",310:"mwp-download-page",459:"mwp-discography-page",571:"mwp-search-results",597:"mwp-section-page",920:"mwp-browse-page",987:"mwp-user-profile",992:"mwp-search-landing"}[e]||e)+"."+{85:"24d71626",229:"75bac879",310:"65e57bd6",459:"26fc9f07",571:"14ca1181",597:"f35ae1ed",760:"258035c6",920:"187fcefe",987:"b286c3ba",992:"0f22e4a1"}[e]+".js"),r.miniCssF=e=>({85:"mwp-artist-page",229:"mwp-home-page",310:"mwp-download-page",459:"mwp-discography-page",571:"mwp-search-results",597:"mwp-section-page",920:"mwp-browse-page",987:"mwp-user-profile",992:"mwp-search-landing"}[e]+"."+{85:"24d71626",229:"75bac879",310:"65e57bd6",459:"26fc9f07",571:"14ca1181",597:"f35ae1ed",920:"187fcefe",987:"b286c3ba",992:"0f22e4a1"}[e]+".css"),r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},i="client-web:",r.l=(e,t,s,a)=>{if(n[e])n[e].push(t);else{var o,l;if(void 0!==s)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==i+s){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",i+s),o.src=e),n[e]=[t];var p=(t,s)=>{o.onerror=o.onload=null,clearTimeout(m);var i=n[e];if(delete n[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(s))),t)return t(s)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),l&&document.head.appendChild(o)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="https://open.spotifycdn.com/cdn/build/mobile-web-player/",(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,s)=>{var n=r.miniCssF(e),i=r.p+n;if(((e,t)=>{for(var s=document.getElementsByTagName("link"),n=0;n<s.length;n++){var i=(o=s[n]).getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var a=document.getElementsByTagName("style");for(n=0;n<a.length;n++){var o;if((i=(o=a[n]).getAttribute("data-href"))===e||i===t)return o}})(n,i))return t();((e,t,s,n,i)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",r.nc&&(a.nonce=r.nc),a.onerror=a.onload=s=>{if(a.onerror=a.onload=null,"load"===s.type)n();else{var o=s&&s.type,r=s&&s.target&&s.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+o+": "+r+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=r,a.parentNode&&a.parentNode.removeChild(a),i(l)}},a.href=t,s?s.parentNode.insertBefore(a,s.nextSibling):document.head.appendChild(a)})(e,i,null,t,s)})),t={626:0};r.f.miniCss=(s,n)=>{t[s]?n.push(t[s]):0!==t[s]&&{85:1,229:1,310:1,459:1,571:1,597:1,920:1,987:1,992:1}[s]&&n.push(t[s]=e(s).then((()=>{t[s]=0}),(e=>{throw delete t[s],e})))},r.F.miniCss=e=>{if(!(r.o(t,e)&&void 0!==t[e]||/^(112|760)$/.test(e))){t[e]=null;var s=document.createElement("link");r.nc&&s.setAttribute("nonce",r.nc),s.rel="prefetch",s.as="style",s.href=r.p+r.miniCssF(e),document.head.appendChild(s)}}}})(),(()=>{var e={626:0};r.f.j=(t,s)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var i=new Promise(((s,i)=>n=e[t]=[s,i]));s.push(n[2]=i);var a=r.p+r.u(t),o=new Error;r.l(a,(s=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,n[1](o)}}),"chunk-"+t,t)}},r.F.j=t=>{if(!r.o(e,t)||void 0===e[t]){e[t]=null;var s=document.createElement("link");s.charset="utf-8",r.nc&&s.setAttribute("nonce",r.nc),s.rel="prefetch",s.as="script",s.href=r.p+r.u(t),document.head.appendChild(s)}},r.O.j=t=>0===e[t];var t=(t,s)=>{var n,i,[a,o,l]=s,d=0;if(a.some((t=>0!==e[t]))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(l)var c=l(r)}for(t&&t(s);d<a.length;d++)i=a[d],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},s=("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),r.nc=void 0,r.O(0,[626],(()=>{[992,112,571,310].map(r.E)}),5);var l=r.O(void 0,[112],(()=>r(44460)));l=r.O(l)})();
//# sourceMappingURL=mobile-web-player.774b62b3.js.map